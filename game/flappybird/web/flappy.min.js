!function(e){"use strict";var n,t={},$estr=function(){return js_Boot.__string_rec(this,"")},i=i||{};function $extend(e,n){var t=Object.create(e);for(var i in n)t[i]=n[i];return n.toString!==Object.prototype.toString&&(t.toString=n.toString),t}var ceramic_Lazy=function(){};t["ceramic.Lazy"]=ceramic_Lazy,ceramic_Lazy.__name__="ceramic.Lazy",ceramic_Lazy.__isInterface__=!0;var tracker_Events=function(){};t["tracker.Events"]=tracker_Events,tracker_Events.__name__="tracker.Events",tracker_Events.__isInterface__=!0;var ceramic_Entity=function(){this._components=null,this.autoruns=null,this._lifecycleState=0,this.id=null,this._data=null};t["ceramic.Entity"]=ceramic_Entity,ceramic_Entity.__name__="ceramic.Entity",ceramic_Entity.__interfaces__=[ceramic_Lazy,tracker_Events],ceramic_Entity.prototype={_data:null,get_hasData:function(){return null!=this._data},get_data:function(){return null==this._data&&(this._data={}),this._data},set_data:function(e){return this._data=e},id:null,_lifecycleState:null,get_destroyed:function(){return this._lifecycleState<0},get_disposed:function(){return 1==this._lifecycleState},__cbOnDispose:null,__cbOnceDispose:null,__cbOnOwnerUnbindDispose:null,__cbOnceOwnerUnbindDispose:null,emitDispose:function(e){var n=0;if(null!=this.__cbOnDispose&&(n+=this.__cbOnDispose.length),null!=this.__cbOnceDispose&&(n+=this.__cbOnceDispose.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDispose)for(var s=0,r=this.__cbOnDispose.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnDispose[a],++l):--n}if(null!=this.__cbOnceDispose){var c=null,h=null;for(s=0,r=this.__cbOnceDispose.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceDispose[a],this.__cbOnceDispose[a]=null;var u=this.__cbOnceOwnerUnbindDispose[a];this.__cbOnceOwnerUnbindDispose[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindDispose[a]),h.push(this.__cbOnceDispose[a])}this.__cbOnceOwnerUnbindDispose=c,this.__cbOnceDispose=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onDispose:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event dispose because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDispose(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDispose&&(this.__cbOnOwnerUnbindDispose=[]),this.__cbOnOwnerUnbindDispose.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDispose&&(this.__cbOnOwnerUnbindDispose=[]),this.__cbOnOwnerUnbindDispose.push(null);null==this.__cbOnDispose&&(this.__cbOnDispose=[]),this.__cbOnDispose.push(n)},onceDispose:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event dispose because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDispose(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDispose&&(this.__cbOnceOwnerUnbindDispose=[]),this.__cbOnceOwnerUnbindDispose.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDispose&&(this.__cbOnceOwnerUnbindDispose=[]),this.__cbOnceOwnerUnbindDispose.push(null);null==this.__cbOnceDispose&&(this.__cbOnceDispose=[]),this.__cbOnceDispose.push(n)},offDispose:function(e){if(null!=e){var n;null!=this.__cbOnDispose&&-1!=(n=this.__cbOnDispose.indexOf(e))&&(this.__cbOnDispose.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDispose[n])&&s(),this.__cbOnOwnerUnbindDispose.splice(n,1)),null!=this.__cbOnceDispose&&-1!=(n=this.__cbOnceDispose.indexOf(e))&&(this.__cbOnceDispose.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDispose[n])&&s(),this.__cbOnceOwnerUnbindDispose.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDispose){for(var t=0,i=this.__cbOnOwnerUnbindDispose.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDispose[l])&&s()}this.__cbOnOwnerUnbindDispose=null}if(null!=this.__cbOnceOwnerUnbindDispose){for(t=0,i=this.__cbOnceOwnerUnbindDispose.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindDispose[l])&&s()}this.__cbOnceOwnerUnbindDispose=null}this.__cbOnDispose=null,this.__cbOnceDispose=null}},listensDispose:function(){return null!=this.__cbOnDispose&&this.__cbOnDispose.length>0||null!=this.__cbOnceDispose&&this.__cbOnceDispose.length>0},__cbOnDestroy:null,__cbOnceDestroy:null,__cbOnOwnerUnbindDestroy:null,__cbOnceOwnerUnbindDestroy:null,emitDestroy:function(e){var n=0;if(null!=this.__cbOnDestroy&&(n+=this.__cbOnDestroy.length),null!=this.__cbOnceDestroy&&(n+=this.__cbOnceDestroy.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDestroy)for(var s=0,r=this.__cbOnDestroy.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnDestroy[a],++l):--n}if(null!=this.__cbOnceDestroy){var c=null,h=null;for(s=0,r=this.__cbOnceDestroy.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceDestroy[a],this.__cbOnceDestroy[a]=null;var u=this.__cbOnceOwnerUnbindDestroy[a];this.__cbOnceOwnerUnbindDestroy[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindDestroy[a]),h.push(this.__cbOnceDestroy[a])}this.__cbOnceOwnerUnbindDestroy=c,this.__cbOnceDestroy=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onDestroy:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event destroy because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDestroy(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDestroy&&(this.__cbOnOwnerUnbindDestroy=[]),this.__cbOnOwnerUnbindDestroy.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDestroy&&(this.__cbOnOwnerUnbindDestroy=[]),this.__cbOnOwnerUnbindDestroy.push(null);null==this.__cbOnDestroy&&(this.__cbOnDestroy=[]),this.__cbOnDestroy.push(n)},onceDestroy:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event destroy because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDestroy(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDestroy&&(this.__cbOnceOwnerUnbindDestroy=[]),this.__cbOnceOwnerUnbindDestroy.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDestroy&&(this.__cbOnceOwnerUnbindDestroy=[]),this.__cbOnceOwnerUnbindDestroy.push(null);null==this.__cbOnceDestroy&&(this.__cbOnceDestroy=[]),this.__cbOnceDestroy.push(n)},offDestroy:function(e){if(null!=e){var n;null!=this.__cbOnDestroy&&-1!=(n=this.__cbOnDestroy.indexOf(e))&&(this.__cbOnDestroy.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDestroy[n])&&s(),this.__cbOnOwnerUnbindDestroy.splice(n,1)),null!=this.__cbOnceDestroy&&-1!=(n=this.__cbOnceDestroy.indexOf(e))&&(this.__cbOnceDestroy.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDestroy[n])&&s(),this.__cbOnceOwnerUnbindDestroy.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDestroy){for(var t=0,i=this.__cbOnOwnerUnbindDestroy.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDestroy[l])&&s()}this.__cbOnOwnerUnbindDestroy=null}if(null!=this.__cbOnceOwnerUnbindDestroy){for(t=0,i=this.__cbOnceOwnerUnbindDestroy.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindDestroy[l])&&s()}this.__cbOnceOwnerUnbindDestroy=null}this.__cbOnDestroy=null,this.__cbOnceDestroy=null}},listensDestroy:function(){return null!=this.__cbOnDestroy&&this.__cbOnDestroy.length>0||null!=this.__cbOnceDestroy&&this.__cbOnceDestroy.length>0},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-3,null!=this.autoruns)for(var e=0,n=this.autoruns.length;e<n;){var t=e++,i=this.autoruns[t];null!=i&&(this.autoruns[t]=null,i.destroy())}if(this.emitDestroy(this),null!=this._components){for(var l=null,s=this._components.h,r=Object.keys(s),a=r.length,c=0;c<a;){var h=r[c++];null==l?l=[h]:l.push(h)}if(null!=l)for(e=0;e<l.length;){h=l[e];++e,this.removeComponent(h)}}this.unbindEvents()}},dispose:function(){0==this._lifecycleState&&(this._lifecycleState=1,ceramic_App.app.disposedEntities.push(this)),this.emitDispose(this)},unbindEvents:function(){this.offDispose(),this.offDestroy()},autoruns:null,autorun:function(e,n){if(this._lifecycleState<0)return null;var t=new tracker_Autorun(e,n);if(e=null,n=null,null==this.autoruns)this.autoruns=[t];else{for(var i=!1,l=0,s=this.autoruns.length;l<s;){var r=l++;if(null==this.autoruns[r]){this.autoruns[r]=t,i=!0;break}}i||this.autoruns.push(t)}return t.onDestroy(this,$bind(this,this.checkAutoruns)),t},checkAutoruns:function(e){for(var n=0,t=this.autoruns.length;n<t;){var i=n++,l=this.autoruns[i];null!=l&&l._lifecycleState<0&&(this.autoruns[i]=null)}},tween:function(e,n,t,i,l){return ceramic_Tween.start(this,e,n,t,i,l)},className:function(){var e=js_Boot.getClass(this).__name__,n=e.lastIndexOf(".");return-1!=n&&(e=HxOverrides.substr(e,n+1,null)),e},toString:function(){var e=this.className();return null!=this.id?e+"("+this.id+")":""+e},clearComponents:function(){if(null!=this._components){for(var e=null,n=this._components.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s=t[l++];null==e?e=[s]:e.push(s)}if(null!=e)for(var r=0;r<e.length;){s=e[r];++r,this.removeComponent(s)}}},get_components:function(){return this._components},set_components:function(e){if(this._components==e)return e;if(null!=this._components){l=this._components.h;for(var n=(s=Object.keys(l)).length,t=0;t<n;){var i=s[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||this.removeComponent(i)}}if(null!=e){var l,s;for(l=e.h,n=(s=Object.keys(l)).length,t=0;t<n;){i=s[t++];var r=e.h[i];if(null!=this._components){var a=this._components.h[i];null!=a?a!=r&&(this.removeComponent(i),this.component(i,r)):this.component(i,r)}else this.component(i,r)}}return this._components=e,e},_components:null,component:function(e,n){var t=this;if(null==e&&null==n)throw haxe_Exception.thrown("Invalid component() call: either `name` or `component` should be provided at least.");if(null==e){var i=js_Boot.getClass(n);if(e=i.__name__,null!=this._components&&Object.prototype.hasOwnProperty.call(this._components.h,e)){var l=e,s=1;for(e=l+"#"+s;Object.prototype.hasOwnProperty.call(this._components.h,e);)++s,e=l+"#"+s}}if(null!=n){if(null==this._components)this._components=new haxe_ds_StringMap;else{var r=this._components.h[e];if(null!=r)r.destroy()}return this._components.h[e]=n,n.setEntity(this),n.onceDestroy(this,(function(i){if((n.getEntity()==t&&n.setEntity(null),t._lifecycleState>=0)&&t._components.h[e]==n){var l=t._components;Object.prototype.hasOwnProperty.call(l.h,e)&&delete l.h[e]}})),n.bindAsComponent(),n}return null==this._components?null:this._components.h[e]},hasComponent:function(e){return null!=this.component(e)},removeComponent:function(e){var n=this._components.h[e];if(null!=n){var t=this._components;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e],n.destroy()}},__class__:ceramic_Entity,__properties__:{set_components:"set_components",get_components:"get_components",get_disposed:"get_disposed",get_destroyed:"get_destroyed",set_data:"set_data",get_data:"get_data",get_hasData:"get_hasData"}};var arcade_Collidable=function(){};t["arcade.Collidable"]=arcade_Collidable,arcade_Collidable.__name__="arcade.Collidable",arcade_Collidable.__isInterface__=!0;var ceramic_DecomposedTransform=function(){this.skewY=0,this.skewX=0,this.scaleY=1,this.scaleX=1,this.rotation=0,this.y=0,this.x=0,this.pivotY=0,this.pivotX=0};t["ceramic.DecomposedTransform"]=ceramic_DecomposedTransform,ceramic_DecomposedTransform.__name__="ceramic.DecomposedTransform",ceramic_DecomposedTransform.prototype={pivotX:null,pivotY:null,x:null,y:null,rotation:null,scaleX:null,scaleY:null,skewX:null,skewY:null,toString:function(){return"(pos="+this.x+","+this.y+" pivot="+this.pivotX+","+this.pivotY+" rotation="+this.rotation+" scale="+(this.scaleX==this.scaleY?""+this.scaleX:this.scaleX+","+this.scaleY)+" skew="+this.skewX+","+this.skewY+")"},__class__:ceramic_DecomposedTransform};var ceramic_Transform=function(e,n,t,i,l,s){null==s&&(s=0),null==l&&(l=0),null==i&&(i=1),null==t&&(t=0),null==n&&(n=0),null==e&&(e=1),this.a=e,this.b=n,this.c=t,this.d=i,this.tx=l,this.ty=s,this._aPrev=e,this._bPrev=n,this._cPrev=t,this._dPrev=i,this._txPrev=l,this._tyPrev=s,this.changed=!1,this.changedDirty=!1};t["ceramic.Transform"]=ceramic_Transform,ceramic_Transform.__name__="ceramic.Transform",ceramic_Transform.__interfaces__=[tracker_Events],ceramic_Transform.prototype={__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(){var e=0;if(null!=this.__cbOnChange&&(e+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(e+=this.__cbOnceChange.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnChange)for(var l=0,s=this.__cbOnChange.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnChange[r],++i):--e}if(null!=this.__cbOnceChange){var a=null,c=null;for(l=0,s=this.__cbOnceChange.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceChange[r],this.__cbOnceChange[r]=null;var h=this.__cbOnceOwnerUnbindChange[r];this.__cbOnceOwnerUnbindChange[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindChange[r]),c.push(this.__cbOnceChange[r])}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},_aPrev:null,_bPrev:null,_cPrev:null,_dPrev:null,_txPrev:null,_tyPrev:null,changedDirty:null,a:null,b:null,c:null,d:null,tx:null,ty:null,changed:null,computeChanged:function(){this.changedDirty&&(this.changed=this.tx!=this._txPrev||this.ty!=this._tyPrev||this.a!=this._aPrev||this.b!=this._bPrev||this.c!=this._cPrev||this.d!=this._dPrev,this.changedDirty=!1)},didEmitChange:function(){this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},cleanChangedState:function(){this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},clone:function(){return new ceramic_Transform(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(e){var n=this.a*e.a+this.b*e.c;this.b=this.a*e.b+this.b*e.d,this.a=n;var t=this.c*e.a+this.d*e.c;this.d=this.c*e.b+this.d*e.d,this.c=t;var i=this.tx*e.a+this.ty*e.c+e.tx;this.ty=this.tx*e.b+this.ty*e.d+e.ty,this.tx=i,this.changedDirty=!0},decompose:function(e){return null==e&&(e=new ceramic_DecomposedTransform),e.pivotX=0,e.pivotY=0,e.skewX=-Math.atan2(-this.c,this.d),e.skewY=Math.atan2(this.b,this.a),Math.abs(e.skewX+e.skewY)<1e-5&&(e.rotation=e.skewY,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skewX=0,e.skewY=0),e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d),e.x=this.tx,e.y=this.ty,e},setFromDecomposed:function(e){var n=e.x,t=e.y,i=e.scaleX,l=e.scaleY,s=e.rotation,r=e.skewX,a=e.skewY,c=e.pivotX,h=e.pivotY;if(null==h&&(h=0),null==c&&(c=0),null==a&&(a=0),null==r&&(r=0),null==s&&(s=0),null==l&&(l=1),null==i&&(i=1),null==t&&(t=0),null==n&&(n=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-c,this.ty+=-h,this.changedDirty=!0,0!=r&&(this.c=r*Math.PI/180),0!=a&&(this.b=a*Math.PI/180),0!=s){var u=s*Math.PI/180,o=Math.cos(u),_=Math.sin(u),d=this.a*o-this.b*_;this.b=this.a*_+this.b*o,this.a=d;var b=this.c*o-this.d*_;this.d=this.c*_+this.d*o,this.c=b;var f=this.tx*o-this.ty*_;this.ty=this.tx*_+this.ty*o,this.tx=f,this.changedDirty=!0}this.tx+=c,this.ty+=h,this.changedDirty=!0,1==i&&1==l||(this.a*=i,this.b*=l,this.c*=i,this.d*=l,this.tx*=i,this.ty*=l,this.changedDirty=!0),this.tx+=n-c*i,this.ty+=t-h*l,this.changedDirty=!0},setFromValues:function(e,n,t,i,l,s,r,a,c){if(null==c&&(c=0),null==a&&(a=0),null==r&&(r=0),null==s&&(s=0),null==l&&(l=0),null==i&&(i=1),null==t&&(t=1),null==n&&(n=0),null==e&&(e=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-a,this.ty+=-c,this.changedDirty=!0,0!=s&&(this.c=s*Math.PI/180),0!=r&&(this.b=r*Math.PI/180),0!=l){var h=l*Math.PI/180,u=Math.cos(h),o=Math.sin(h),_=this.a*u-this.b*o;this.b=this.a*o+this.b*u,this.a=_;var d=this.c*u-this.d*o;this.d=this.c*o+this.d*u,this.c=d;var b=this.tx*u-this.ty*o;this.ty=this.tx*o+this.ty*u,this.tx=b,this.changedDirty=!0}this.tx+=a,this.ty+=c,this.changedDirty=!0,1==t&&1==i||(this.a*=t,this.b*=i,this.c*=t,this.d*=i,this.tx*=t,this.ty*=i,this.changedDirty=!0),this.tx+=e-a*t,this.ty+=n-c*i,this.changedDirty=!0},setFromInterpolated:function(e,n,t){if(0==t)this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this.changedDirty=!0;else if(1==t)this.a=n.a,this.b=n.b,this.c=n.c,this.d=n.d,this.tx=n.tx,this.ty=n.ty,this.changedDirty=!0;else{var i;null==(i=ceramic_Transform._decomposed1)&&(i=new ceramic_DecomposedTransform),i.pivotX=0,i.pivotY=0,i.skewX=-Math.atan2(-e.c,e.d),i.skewY=Math.atan2(e.b,e.a),Math.abs(i.skewX+i.skewY)<1e-5&&(i.rotation=i.skewY,e.a<0&&e.d>=0&&(i.rotation+=i.rotation<=0?Math.PI:-Math.PI),i.skewX=0,i.skewY=0),i.scaleX=Math.sqrt(e.a*e.a+e.b*e.b),i.scaleY=Math.sqrt(e.c*e.c+e.d*e.d),i.x=e.tx,i.y=e.ty,null==(i=ceramic_Transform._decomposed2)&&(i=new ceramic_DecomposedTransform),i.pivotX=0,i.pivotY=0,i.skewX=-Math.atan2(-n.c,n.d),i.skewY=Math.atan2(n.b,n.a),Math.abs(i.skewX+i.skewY)<1e-5&&(i.rotation=i.skewY,n.a<0&&n.d>=0&&(i.rotation+=i.rotation<=0?Math.PI:-Math.PI),i.skewX=0,i.skewY=0),i.scaleX=Math.sqrt(n.a*n.a+n.b*n.b),i.scaleY=Math.sqrt(n.c*n.c+n.d*n.d),i.x=n.tx,i.y=n.ty,ceramic_Transform._decomposed1.pivotX+=(ceramic_Transform._decomposed2.pivotX-ceramic_Transform._decomposed1.pivotX)*t,ceramic_Transform._decomposed1.pivotY+=(ceramic_Transform._decomposed2.pivotY-ceramic_Transform._decomposed1.pivotY)*t,ceramic_Transform._decomposed1.rotation+=(ceramic_Transform._decomposed2.rotation-ceramic_Transform._decomposed1.rotation)*t,ceramic_Transform._decomposed1.scaleX+=(ceramic_Transform._decomposed2.scaleX-ceramic_Transform._decomposed1.scaleX)*t,ceramic_Transform._decomposed1.scaleY+=(ceramic_Transform._decomposed2.scaleY-ceramic_Transform._decomposed1.scaleY)*t,ceramic_Transform._decomposed1.skewX+=(ceramic_Transform._decomposed2.skewX-ceramic_Transform._decomposed1.skewX)*t,ceramic_Transform._decomposed1.skewY+=(ceramic_Transform._decomposed2.skewY-ceramic_Transform._decomposed1.skewY)*t,ceramic_Transform._decomposed1.x+=(ceramic_Transform._decomposed2.x-ceramic_Transform._decomposed1.x)*t,ceramic_Transform._decomposed1.y+=(ceramic_Transform._decomposed2.y-ceramic_Transform._decomposed1.y)*t;var l=ceramic_Transform._decomposed1,s=l.x,r=l.y,a=l.scaleX,c=l.scaleY,h=l.rotation,u=l.skewX,o=l.skewY,_=l.pivotX,d=l.pivotY;if(null==d&&(d=0),null==_&&(_=0),null==o&&(o=0),null==u&&(u=0),null==h&&(h=0),null==c&&(c=1),null==a&&(a=1),null==r&&(r=0),null==s&&(s=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-_,this.ty+=-d,this.changedDirty=!0,0!=u&&(this.c=u*Math.PI/180),0!=o&&(this.b=o*Math.PI/180),0!=h){var b=h*Math.PI/180,f=Math.cos(b),O=Math.sin(b),p=this.a*f-this.b*O;this.b=this.a*O+this.b*f,this.a=p;var g=this.c*f-this.d*O;this.d=this.c*O+this.d*f,this.c=g;var m=this.tx*f-this.ty*O;this.ty=this.tx*O+this.ty*f,this.tx=m,this.changedDirty=!0}this.tx+=_,this.ty+=d,this.changedDirty=!0,1==a&&1==c||(this.a*=a,this.b*=c,this.c*=a,this.d*=c,this.tx*=a,this.ty*=c,this.changedDirty=!0),this.tx+=s-_*a,this.ty+=r-d*c,this.changedDirty=!0}},deltaTransformX:function(e,n){return e*this.a+n*this.c},deltaTransformY:function(e,n){return e*this.b+n*this.d},equals:function(e){return null!=e&&this.tx==e.tx&&this.ty==e.ty&&this.a==e.a&&this.b==e.b&&this.c==e.c&&this.d==e.d},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0},invert:function(){var e=this.a*this.d-this.b*this.c;if(0==e)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{e=1/e;var n=this.d*e;this.d=this.a*e,this.a=n,this.b*=-e,this.c*=-e;var t=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=t}this.changedDirty=!0},rotate:function(e){var n=Math.cos(e),t=Math.sin(e),i=this.a*n-this.b*t;this.b=this.a*t+this.b*n,this.a=i;var l=this.c*n-this.d*t;this.d=this.c*t+this.d*n,this.c=l;var s=this.tx*n-this.ty*t;this.ty=this.tx*t+this.ty*n,this.tx=s,this.changedDirty=!0},scale:function(e,n){this.a*=e,this.b*=n,this.c*=e,this.d*=n,this.tx*=e,this.ty*=n,this.changedDirty=!0},translate:function(e,n){this.tx+=e,this.ty+=n,this.changedDirty=!0},skew:function(e,n){var t=ceramic_Transform._tmp;t.a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0;var i=Math.cos(n),l=Math.sin(n),s=-Math.sin(e),r=Math.cos(e);ceramic_Transform._tmp.a=1*i+-0*l,ceramic_Transform._tmp.b=0*i+1*l,ceramic_Transform._tmp.c=1*s+-0*r,ceramic_Transform._tmp.d=0*s+1*r;var a=ceramic_Transform._tmp,c=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d,this.a=c;var h=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d,this.c=h;var u=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty,this.tx=u,this.changedDirty=!0},setRotation:function(e,n){null==n&&(n=1),this.a=Math.cos(e)*n,this.c=Math.sin(e)*n,this.b=-this.c,this.d=this.a,this.changedDirty=!0},setTo:function(e,n,t,i,l,s){this.a=e,this.b=n,this.c=t,this.d=i,this.tx=l,this.ty=s,this.changedDirty=!0},setToTransform:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this.changedDirty=!0},toString:function(){var e=ceramic_Transform._decomposed1;return null==e&&(e=new ceramic_DecomposedTransform),e.pivotX=0,e.pivotY=0,e.skewX=-Math.atan2(-this.c,this.d),e.skewY=Math.atan2(this.b,this.a),Math.abs(e.skewX+e.skewY)<1e-5&&(e.rotation=e.skewY,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skewX=0,e.skewY=0),e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d),e.x=this.tx,e.y=this.ty,"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+" "+Std.string(ceramic_Transform._decomposed1)+")"},transformX:function(e,n){return e*this.a+n*this.c+this.tx},transformY:function(e,n){return e*this.b+n*this.d+this.ty},unbindEvents:function(){this.offChange()},__class__:ceramic_Transform};var ceramic_Pool=function(){this.availableItems=[]};t["ceramic.Pool"]=ceramic_Pool,ceramic_Pool.__name__="ceramic.Pool",ceramic_Pool.prototype={availableItems:null,get:function(){return this.availableItems.length>0?this.availableItems.pop():null},recycle:function(e){this.availableItems.push(e)},clear:function(){this.availableItems.length>0&&(this.availableItems=[])},__class__:ceramic_Pool};var ceramic_Point=function(e,n,t){null==t&&(t=0),null==n&&(n=0),null==e&&(e=0),this.z=0,this.y=0,this.x=0,this.x=e,this.y=n,this.z=t};t["ceramic.Point"]=ceramic_Point,ceramic_Point.__name__="ceramic.Point",ceramic_Point.get=function(e,n,t){null==t&&(t=0),null==n&&(n=0),null==e&&(e=0);var i=ceramic_Point.pool,l=i.availableItems.length>0?i.availableItems.pop():null;return null==l?l=new ceramic_Point(e,n,t):(l.x=e,l.y=n,l.z=t),l},ceramic_Point.prototype={x:null,y:null,z:null,toString:function(){return"Point("+this.x+", "+this.y+", "+this.z+")"},recycle:function(){this.x=0,this.y=0,this.z=0,ceramic_Point.pool.recycle(this)},__class__:ceramic_Point};var ceramic_Visual=function(){this.parent=null,this.children=null,this.computedClip=null,this.computedTouchable=!0,this.computedRenderTarget=null,this.computedDepth=0,this.computedAlpha=1,this.computedVisible=!0,this.matTY=0,this.matTX=0,this.matD=1,this.matC=0,this.matB=0,this.matA=1;this.flags=0,this.shader=null,this.transform=null,this.alpha=1,this.rotation=0,this.roundTranslation=-1,this._height=0,this._width=0,this.anchorY=0,this.anchorX=0,this.skewY=0,this.skewX=0,this.scaleY=1,this.scaleX=1,this.y=0,this.x=0,this.depthRange=1,this.depth=0,this.touchable=!0,this.visible=!0,this.blending=0,this.renderTarget=null,this.clipDirty=!0,this.touchableDirty=!0,this.visibilityDirty=!0,this.renderTargetDirty=!0,this.matrixDirty=!0,this.contentDirty=!0,this.translatesOnlyDirty=!1,this.translatesOnly=!0,this.inheritAlpha=!1,this.clip=null,this._numPointerOver=0,this._numPointerDown=0,this.multiTouch=!1,this.asMesh=null,this.asQuad=null,this.arcade=null,ceramic_Entity.call(this),ceramic_App.app.pendingVisuals.push(this)};t["ceramic.Visual"]=ceramic_Visual,ceramic_Visual.__name__="ceramic.Visual",ceramic_Visual.__interfaces__=[arcade_Collidable],ceramic_Visual.computeChildrenDepth=function(e){ceramic_Visual._computeChildrenDepth0(e)},ceramic_Visual._computeChildrenDepth0=function(e){var n=e.children;if(null!=n){for(var t=0,i=n.length;t<i;){(s=n[t++]).computedDepth=1e3*s.depth,ceramic_Visual._computeChildrenDepth0(s)}var l=e.depthRange;if(-1!=l){ceramic_Visual._minDepth=9999999999,ceramic_Visual._maxDepth=-9999999999;for(t=0,i=n.length;t<i;){var s=n[t++];ceramic_Visual._computeMinMaxDepths0(s)}for(t=0,i=n.length;t<i;){s=n[t++];ceramic_Visual._multiplyDepths0(s,e.computedDepth+Math.min(.01,1e3*l),Math.max(0,1e3*l-.01))}}}},ceramic_Visual._computeChildrenDepth1=function(e){var n=e.children;if(null!=n){for(var t=0,i=n.length;t<i;){(s=n[t++]).computedDepth=1e3*s.depth,ceramic_Visual._computeChildrenDepth0(s)}var l=e.depthRange;if(-1!=l){ceramic_Visual._minDepth=9999999999,ceramic_Visual._maxDepth=-9999999999;for(t=0,i=n.length;t<i;){var s=n[t++];ceramic_Visual._computeMinMaxDepths0(s)}for(t=0,i=n.length;t<i;){s=n[t++];ceramic_Visual._multiplyDepths0(s,e.computedDepth+Math.min(.01,1e3*l),Math.max(0,1e3*l-.01))}}}},ceramic_Visual._computeChildrenDepthApplyDepthRange=function(e,n){var t=e.depthRange;if(-1!=t){ceramic_Visual._minDepth=9999999999,ceramic_Visual._maxDepth=-9999999999;for(var i=0,l=n.length;i<l;){var s=n[i++];ceramic_Visual._computeMinMaxDepths0(s)}for(i=0,l=n.length;i<l;){s=n[i++];ceramic_Visual._multiplyDepths0(s,e.computedDepth+Math.min(.01,1e3*t),Math.max(0,1e3*t-.01))}}},ceramic_Visual.computeMinMaxDepths=function(e){ceramic_Visual._computeMinMaxDepths0(e)},ceramic_Visual._computeMinMaxDepths0=function(e){var n=e.computedDepth;ceramic_Visual._minDepth>n&&(ceramic_Visual._minDepth=n),ceramic_Visual._maxDepth<n+1&&(ceramic_Visual._maxDepth=n+1);var t=e.children;if(null!=t)for(var i=0,l=t.length;i<l;){var s=t[i++];ceramic_Visual._computeMinMaxDepths0(s)}},ceramic_Visual._computeMinMaxDepths1=function(e){var n=e.computedDepth;ceramic_Visual._minDepth>n&&(ceramic_Visual._minDepth=n),ceramic_Visual._maxDepth<n+1&&(ceramic_Visual._maxDepth=n+1);var t=e.children;if(null!=t)for(var i=0,l=t.length;i<l;){var s=t[i++];ceramic_Visual._computeMinMaxDepths0(s)}},ceramic_Visual.multiplyDepths=function(e,n,t){ceramic_Visual._multiplyDepths0(e,n,t)},ceramic_Visual._multiplyDepths0=function(e,n,t){e.computedDepth=ceramic_Visual._maxDepth==ceramic_Visual._minDepth?n+.5*t:n+(e.computedDepth-ceramic_Visual._minDepth)/(ceramic_Visual._maxDepth-ceramic_Visual._minDepth)*t;var i=e.children;if(null!=i)for(var l=0,s=i.length;l<s;){var r=i[l++];ceramic_Visual._multiplyDepths0(r,n,t)}},ceramic_Visual._multiplyDepths1=function(e,n,t){e.computedDepth=ceramic_Visual._maxDepth==ceramic_Visual._minDepth?n+.5*t:n+(e.computedDepth-ceramic_Visual._minDepth)/(ceramic_Visual._maxDepth-ceramic_Visual._minDepth)*t;var i=e.children;if(null!=i)for(var l=0,s=i.length;l<s;){var r=i[l++];ceramic_Visual._multiplyDepths0(r,n,t)}},ceramic_Visual.__super__=ceramic_Entity,ceramic_Visual.prototype=$extend(ceramic_Entity.prototype,{__cbOnPointerDown:null,__cbOncePointerDown:null,__cbOnOwnerUnbindPointerDown:null,__cbOnceOwnerUnbindPointerDown:null,emitPointerDown:function(e){var n=0;if(null!=this.__cbOnPointerDown&&(n+=this.__cbOnPointerDown.length),null!=this.__cbOncePointerDown&&(n+=this.__cbOncePointerDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerDown)for(var s=0,r=this.__cbOnPointerDown.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnPointerDown[a],++l):--n}if(null!=this.__cbOncePointerDown){var c=null,h=null;for(s=0,r=this.__cbOncePointerDown.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOncePointerDown[a],this.__cbOncePointerDown[a]=null;var u=this.__cbOnceOwnerUnbindPointerDown[a];this.__cbOnceOwnerUnbindPointerDown[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindPointerDown[a]),h.push(this.__cbOncePointerDown[a])}this.__cbOnceOwnerUnbindPointerDown=c,this.__cbOncePointerDown=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onPointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(null);null==this.__cbOnPointerDown&&(this.__cbOnPointerDown=[]),this.__cbOnPointerDown.push(n)},oncePointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(null);null==this.__cbOncePointerDown&&(this.__cbOncePointerDown=[]),this.__cbOncePointerDown.push(n)},offPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnPointerDown&&-1!=(n=this.__cbOnPointerDown.indexOf(e))&&(this.__cbOnPointerDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerDown[n])&&s(),this.__cbOnOwnerUnbindPointerDown.splice(n,1)),null!=this.__cbOncePointerDown&&-1!=(n=this.__cbOncePointerDown.indexOf(e))&&(this.__cbOncePointerDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerDown[n])&&s(),this.__cbOnceOwnerUnbindPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindPointerDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerDown[l])&&s()}this.__cbOnOwnerUnbindPointerDown=null}if(null!=this.__cbOnceOwnerUnbindPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindPointerDown.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerDown[l])&&s()}this.__cbOnceOwnerUnbindPointerDown=null}this.__cbOnPointerDown=null,this.__cbOncePointerDown=null}},listensPointerDown:function(){return null!=this.__cbOnPointerDown&&this.__cbOnPointerDown.length>0||null!=this.__cbOncePointerDown&&this.__cbOncePointerDown.length>0},__cbOnPointerUp:null,__cbOncePointerUp:null,__cbOnOwnerUnbindPointerUp:null,__cbOnceOwnerUnbindPointerUp:null,emitPointerUp:function(e){var n=0;if(null!=this.__cbOnPointerUp&&(n+=this.__cbOnPointerUp.length),null!=this.__cbOncePointerUp&&(n+=this.__cbOncePointerUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerUp)for(var s=0,r=this.__cbOnPointerUp.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnPointerUp[a],++l):--n}if(null!=this.__cbOncePointerUp){var c=null,h=null;for(s=0,r=this.__cbOncePointerUp.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOncePointerUp[a],this.__cbOncePointerUp[a]=null;var u=this.__cbOnceOwnerUnbindPointerUp[a];this.__cbOnceOwnerUnbindPointerUp[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindPointerUp[a]),h.push(this.__cbOncePointerUp[a])}this.__cbOnceOwnerUnbindPointerUp=c,this.__cbOncePointerUp=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onPointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(null);null==this.__cbOnPointerUp&&(this.__cbOnPointerUp=[]),this.__cbOnPointerUp.push(n)},oncePointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(null);null==this.__cbOncePointerUp&&(this.__cbOncePointerUp=[]),this.__cbOncePointerUp.push(n)},offPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnPointerUp&&-1!=(n=this.__cbOnPointerUp.indexOf(e))&&(this.__cbOnPointerUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerUp[n])&&s(),this.__cbOnOwnerUnbindPointerUp.splice(n,1)),null!=this.__cbOncePointerUp&&-1!=(n=this.__cbOncePointerUp.indexOf(e))&&(this.__cbOncePointerUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerUp[n])&&s(),this.__cbOnceOwnerUnbindPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindPointerUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerUp[l])&&s()}this.__cbOnOwnerUnbindPointerUp=null}if(null!=this.__cbOnceOwnerUnbindPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindPointerUp.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerUp[l])&&s()}this.__cbOnceOwnerUnbindPointerUp=null}this.__cbOnPointerUp=null,this.__cbOncePointerUp=null}},listensPointerUp:function(){return null!=this.__cbOnPointerUp&&this.__cbOnPointerUp.length>0||null!=this.__cbOncePointerUp&&this.__cbOncePointerUp.length>0},__cbOnPointerOver:null,__cbOncePointerOver:null,__cbOnOwnerUnbindPointerOver:null,__cbOnceOwnerUnbindPointerOver:null,emitPointerOver:function(e){var n=0;if(null!=this.__cbOnPointerOver&&(n+=this.__cbOnPointerOver.length),null!=this.__cbOncePointerOver&&(n+=this.__cbOncePointerOver.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerOver)for(var s=0,r=this.__cbOnPointerOver.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnPointerOver[a],++l):--n}if(null!=this.__cbOncePointerOver){var c=null,h=null;for(s=0,r=this.__cbOncePointerOver.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOncePointerOver[a],this.__cbOncePointerOver[a]=null;var u=this.__cbOnceOwnerUnbindPointerOver[a];this.__cbOnceOwnerUnbindPointerOver[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindPointerOver[a]),h.push(this.__cbOncePointerOver[a])}this.__cbOnceOwnerUnbindPointerOver=c,this.__cbOncePointerOver=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onPointerOver:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerOver because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerOver(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerOver&&(this.__cbOnOwnerUnbindPointerOver=[]),this.__cbOnOwnerUnbindPointerOver.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerOver&&(this.__cbOnOwnerUnbindPointerOver=[]),this.__cbOnOwnerUnbindPointerOver.push(null);null==this.__cbOnPointerOver&&(this.__cbOnPointerOver=[]),this.__cbOnPointerOver.push(n)},oncePointerOver:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerOver because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerOver(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerOver&&(this.__cbOnceOwnerUnbindPointerOver=[]),this.__cbOnceOwnerUnbindPointerOver.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerOver&&(this.__cbOnceOwnerUnbindPointerOver=[]),this.__cbOnceOwnerUnbindPointerOver.push(null);null==this.__cbOncePointerOver&&(this.__cbOncePointerOver=[]),this.__cbOncePointerOver.push(n)},offPointerOver:function(e){if(null!=e){var n;null!=this.__cbOnPointerOver&&-1!=(n=this.__cbOnPointerOver.indexOf(e))&&(this.__cbOnPointerOver.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerOver[n])&&s(),this.__cbOnOwnerUnbindPointerOver.splice(n,1)),null!=this.__cbOncePointerOver&&-1!=(n=this.__cbOncePointerOver.indexOf(e))&&(this.__cbOncePointerOver.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerOver[n])&&s(),this.__cbOnceOwnerUnbindPointerOver.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerOver){for(var t=0,i=this.__cbOnOwnerUnbindPointerOver.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerOver[l])&&s()}this.__cbOnOwnerUnbindPointerOver=null}if(null!=this.__cbOnceOwnerUnbindPointerOver){for(t=0,i=this.__cbOnceOwnerUnbindPointerOver.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerOver[l])&&s()}this.__cbOnceOwnerUnbindPointerOver=null}this.__cbOnPointerOver=null,this.__cbOncePointerOver=null}},listensPointerOver:function(){return null!=this.__cbOnPointerOver&&this.__cbOnPointerOver.length>0||null!=this.__cbOncePointerOver&&this.__cbOncePointerOver.length>0},__cbOnPointerOut:null,__cbOncePointerOut:null,__cbOnOwnerUnbindPointerOut:null,__cbOnceOwnerUnbindPointerOut:null,emitPointerOut:function(e){var n=0;if(null!=this.__cbOnPointerOut&&(n+=this.__cbOnPointerOut.length),null!=this.__cbOncePointerOut&&(n+=this.__cbOncePointerOut.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerOut)for(var s=0,r=this.__cbOnPointerOut.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnPointerOut[a],++l):--n}if(null!=this.__cbOncePointerOut){var c=null,h=null;for(s=0,r=this.__cbOncePointerOut.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOncePointerOut[a],this.__cbOncePointerOut[a]=null;var u=this.__cbOnceOwnerUnbindPointerOut[a];this.__cbOnceOwnerUnbindPointerOut[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindPointerOut[a]),h.push(this.__cbOncePointerOut[a])}this.__cbOnceOwnerUnbindPointerOut=c,this.__cbOncePointerOut=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onPointerOut:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerOut because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerOut(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerOut&&(this.__cbOnOwnerUnbindPointerOut=[]),this.__cbOnOwnerUnbindPointerOut.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerOut&&(this.__cbOnOwnerUnbindPointerOut=[]),this.__cbOnOwnerUnbindPointerOut.push(null);null==this.__cbOnPointerOut&&(this.__cbOnPointerOut=[]),this.__cbOnPointerOut.push(n)},oncePointerOut:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerOut because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerOut(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerOut&&(this.__cbOnceOwnerUnbindPointerOut=[]),this.__cbOnceOwnerUnbindPointerOut.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerOut&&(this.__cbOnceOwnerUnbindPointerOut=[]),this.__cbOnceOwnerUnbindPointerOut.push(null);null==this.__cbOncePointerOut&&(this.__cbOncePointerOut=[]),this.__cbOncePointerOut.push(n)},offPointerOut:function(e){if(null!=e){var n;null!=this.__cbOnPointerOut&&-1!=(n=this.__cbOnPointerOut.indexOf(e))&&(this.__cbOnPointerOut.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerOut[n])&&s(),this.__cbOnOwnerUnbindPointerOut.splice(n,1)),null!=this.__cbOncePointerOut&&-1!=(n=this.__cbOncePointerOut.indexOf(e))&&(this.__cbOncePointerOut.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerOut[n])&&s(),this.__cbOnceOwnerUnbindPointerOut.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerOut){for(var t=0,i=this.__cbOnOwnerUnbindPointerOut.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerOut[l])&&s()}this.__cbOnOwnerUnbindPointerOut=null}if(null!=this.__cbOnceOwnerUnbindPointerOut){for(t=0,i=this.__cbOnceOwnerUnbindPointerOut.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerOut[l])&&s()}this.__cbOnceOwnerUnbindPointerOut=null}this.__cbOnPointerOut=null,this.__cbOncePointerOut=null}},listensPointerOut:function(){return null!=this.__cbOnPointerOut&&this.__cbOnPointerOut.length>0||null!=this.__cbOncePointerOut&&this.__cbOncePointerOut.length>0},__cbOnFocus:null,__cbOnceFocus:null,__cbOnOwnerUnbindFocus:null,__cbOnceOwnerUnbindFocus:null,emitFocus:function(){var e=0;if(null!=this.__cbOnFocus&&(e+=this.__cbOnFocus.length),null!=this.__cbOnceFocus&&(e+=this.__cbOnceFocus.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFocus)for(var l=0,s=this.__cbOnFocus.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFocus[r],++i):--e}if(null!=this.__cbOnceFocus){var a=null,c=null;for(l=0,s=this.__cbOnceFocus.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceFocus[r],this.__cbOnceFocus[r]=null;var h=this.__cbOnceOwnerUnbindFocus[r];this.__cbOnceOwnerUnbindFocus[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindFocus[r]),c.push(this.__cbOnceFocus[r])}this.__cbOnceOwnerUnbindFocus=a,this.__cbOnceFocus=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onFocus:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focus because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocus(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(null);null==this.__cbOnFocus&&(this.__cbOnFocus=[]),this.__cbOnFocus.push(n)},onceFocus:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focus because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocus(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(null);null==this.__cbOnceFocus&&(this.__cbOnceFocus=[]),this.__cbOnceFocus.push(n)},offFocus:function(e){if(null!=e){var n;null!=this.__cbOnFocus&&-1!=(n=this.__cbOnFocus.indexOf(e))&&(this.__cbOnFocus.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocus[n])&&s(),this.__cbOnOwnerUnbindFocus.splice(n,1)),null!=this.__cbOnceFocus&&-1!=(n=this.__cbOnceFocus.indexOf(e))&&(this.__cbOnceFocus.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocus[n])&&s(),this.__cbOnceOwnerUnbindFocus.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocus){for(var t=0,i=this.__cbOnOwnerUnbindFocus.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocus[l])&&s()}this.__cbOnOwnerUnbindFocus=null}if(null!=this.__cbOnceOwnerUnbindFocus){for(t=0,i=this.__cbOnceOwnerUnbindFocus.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFocus[l])&&s()}this.__cbOnceOwnerUnbindFocus=null}this.__cbOnFocus=null,this.__cbOnceFocus=null}},listensFocus:function(){return null!=this.__cbOnFocus&&this.__cbOnFocus.length>0||null!=this.__cbOnceFocus&&this.__cbOnceFocus.length>0},__cbOnBlur:null,__cbOnceBlur:null,__cbOnOwnerUnbindBlur:null,__cbOnceOwnerUnbindBlur:null,emitBlur:function(){var e=0;if(null!=this.__cbOnBlur&&(e+=this.__cbOnBlur.length),null!=this.__cbOnceBlur&&(e+=this.__cbOnceBlur.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBlur)for(var l=0,s=this.__cbOnBlur.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBlur[r],++i):--e}if(null!=this.__cbOnceBlur){var a=null,c=null;for(l=0,s=this.__cbOnceBlur.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceBlur[r],this.__cbOnceBlur[r]=null;var h=this.__cbOnceOwnerUnbindBlur[r];this.__cbOnceOwnerUnbindBlur[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindBlur[r]),c.push(this.__cbOnceBlur[r])}this.__cbOnceOwnerUnbindBlur=a,this.__cbOnceBlur=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onBlur:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event blur because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBlur(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(null);null==this.__cbOnBlur&&(this.__cbOnBlur=[]),this.__cbOnBlur.push(n)},onceBlur:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event blur because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBlur(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(null);null==this.__cbOnceBlur&&(this.__cbOnceBlur=[]),this.__cbOnceBlur.push(n)},offBlur:function(e){if(null!=e){var n;null!=this.__cbOnBlur&&-1!=(n=this.__cbOnBlur.indexOf(e))&&(this.__cbOnBlur.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBlur[n])&&s(),this.__cbOnOwnerUnbindBlur.splice(n,1)),null!=this.__cbOnceBlur&&-1!=(n=this.__cbOnceBlur.indexOf(e))&&(this.__cbOnceBlur.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBlur[n])&&s(),this.__cbOnceOwnerUnbindBlur.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBlur){for(var t=0,i=this.__cbOnOwnerUnbindBlur.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBlur[l])&&s()}this.__cbOnOwnerUnbindBlur=null}if(null!=this.__cbOnceOwnerUnbindBlur){for(t=0,i=this.__cbOnceOwnerUnbindBlur.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindBlur[l])&&s()}this.__cbOnceOwnerUnbindBlur=null}this.__cbOnBlur=null,this.__cbOnceBlur=null}},listensBlur:function(){return null!=this.__cbOnBlur&&this.__cbOnBlur.length>0||null!=this.__cbOnceBlur&&this.__cbOnceBlur.length>0},arcade:null,set_arcade:function(e){return this.arcade==e||(null!=this.arcade&&this.arcade.visual==this&&(this.arcade.visual=null),this.arcade=e,null!=e&&(e.visual=this)),e},initArcadePhysics:function(e){null!=this.arcade&&(this.arcade.destroy(),this.set_arcade(null));var n=this.get_width()*this.scaleX,t=this.get_height()*this.scaleY;return this.set_arcade(new ceramic_VisualArcadePhysics),this.arcade.initBody(this.x-n*this.anchorX,this.y-t*this.anchorY,n,t,this.rotation),null==e&&(e=ceramic_App.app.arcade.world),this.arcade.world=e,this.arcade},get_body:function(){return null!=this.arcade?this.arcade.body:null},get_allowRotation:function(){return null==this.arcade||null==this.arcade.body||this.arcade.body.allowRotation},set_allowRotation:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.allowRotation=e),e},get_immovable:function(){return null!=this.arcade&&null!=this.arcade.body&&this.arcade.body.immovable},set_immovable:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.immovable=e),e},get_forceX:function(){return null!=this.arcade&&null!=this.arcade.body&&this.arcade.body.forceX},set_forceX:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.forceX=e),e},get_velocityX:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.velocityX:0},set_velocityX:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.velocityX=e),e},get_velocityY:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.velocityY:0},set_velocityY:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.velocityY=e),e},velocity:function(e,n){null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.velocityX=e,this.arcade.body.velocityY=n)},get_maxVelocityX:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.maxVelocityX:1e4},set_maxVelocityX:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.maxVelocityX=e),e},get_maxVelocityY:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.maxVelocityY:1e4},set_maxVelocityY:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.maxVelocityY=e),e},maxVelocity:function(e,n){null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.maxVelocityX=e,this.arcade.body.maxVelocityY=n)},get_accelerationX:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.accelerationX:0},set_accelerationX:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.accelerationX=e),e},get_accelerationY:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.accelerationY:0},set_accelerationY:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.accelerationY=e),e},acceleration:function(e,n){null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.accelerationX=e,this.arcade.body.accelerationY=n)},get_allowDrag:function(){return null==this.arcade||null==this.arcade.body||this.arcade.body.allowDrag},set_allowDrag:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.allowDrag=e),e},get_dragX:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.dragX:0},set_dragX:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.dragX=e),e},get_dragY:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.dragY:0},set_dragY:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.dragY=e),e},drag:function(e,n){null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.dragX=e,this.arcade.body.dragY=n)},get_bounceX:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.bounceX:0},set_bounceX:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.bounceX=e),e},get_bounceY:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.bounceY:0},set_bounceY:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.bounceY=e),e},bounce:function(e,n){null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.bounceX=e,this.arcade.body.bounceY=n)},get_useWorldBounce:function(){return null!=this.arcade&&null!=this.arcade.body&&this.arcade.body.useWorldBounce},set_useWorldBounce:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.useWorldBounce=e),e},get_worldBounceX:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.worldBounceX:0},set_worldBounceX:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.worldBounceX=e),e},get_worldBounceY:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.worldBounceY:0},set_worldBounceY:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.worldBounceY=e),e},worldBounce:function(e,n){null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.worldBounceX=e,this.arcade.body.worldBounceY=n)},get_maxDeltaX:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.maxDeltaX:0},set_maxDeltaX:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.maxDeltaX=e),e},get_maxDeltaY:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.maxDeltaY:0},set_maxDeltaY:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.maxDeltaY=e),e},maxDelta:function(e,n){null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.maxDeltaX=e,this.arcade.body.maxDeltaY=n)},get_allowGravity:function(){return null!=this.arcade&&null!=this.arcade.body&&this.arcade.body.allowGravity},set_allowGravity:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.allowGravity=e),e},get_gravityX:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.gravityX:0},set_gravityX:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.gravityX=e),e},get_gravityY:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.gravityY:0},set_gravityY:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.gravityY=e),e},gravity:function(e,n){null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.gravityX=e,this.arcade.body.gravityY=n)},get_frictionX:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.frictionX:1},set_frictionX:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.frictionX=e),e},get_frictionY:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.frictionY:0},set_frictionY:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.frictionY=e),e},friction:function(e,n){null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.frictionX=e,this.arcade.body.frictionY=n)},get_angularVelocity:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.angularVelocity:0},set_angularVelocity:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.angularVelocity=e),e},get_maxAngularVelocity:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.maxAngularVelocity:1e3},set_maxAngularVelocity:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.maxAngularVelocity=e),e},get_angularAcceleration:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.angularAcceleration:0},set_angularAcceleration:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.angularAcceleration=e),e},get_angularDrag:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.angularDrag:0},set_angularDrag:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.angularDrag=e),e},get_mass:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.mass:1},set_mass:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.mass=e),e},get_speed:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.speed:0},get_moves:function(){return null!=this.arcade&&null!=this.arcade.body&&this.arcade.body.moves},set_moves:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.moves=e),e},get_overlapX:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.overlapX:1},get_overlapY:function(){return null!=this.arcade&&null!=this.arcade.body?this.arcade.body.overlapY:0},get_embedded:function(){return null!=this.arcade&&null!=this.arcade.body&&this.arcade.body.embedded},get_collideWorldBounds:function(){return null!=this.arcade&&null!=this.arcade.body&&this.arcade.body.collideWorldBounds},set_collideWorldBounds:function(e){return null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.collideWorldBounds=e),e},onCollide:function(e,n){null==this.arcade&&this.initArcadePhysics(),this.arcade.onCollide(e,n)},onceCollide:function(e,n){null==this.arcade&&this.initArcadePhysics(),this.arcade.onceCollide(e,n)},offCollide:function(e){null!=this.arcade&&this.arcade.offCollide(e)},listensCollide:function(){if(null!=this.arcade){var e=this.arcade;return null!=e.__cbOnCollide&&e.__cbOnCollide.length>0||null!=e.__cbOnceCollide&&e.__cbOnceCollide.length>0}return!1},onCollideBody:function(e,n){null==this.arcade&&this.initArcadePhysics(),this.arcade.onCollideBody(e,n)},onceCollideBody:function(e,n){null==this.arcade&&this.initArcadePhysics(),this.arcade.onceCollideBody(e,n)},offCollideBody:function(e){null!=this.arcade&&this.arcade.offCollideBody(e)},listensCollideBody:function(){if(null!=this.arcade){var e=this.arcade;return null!=e.__cbOnCollideBody&&e.__cbOnCollideBody.length>0||null!=e.__cbOnceCollideBody&&e.__cbOnceCollideBody.length>0}return!1},onOverlap:function(e,n){null==this.arcade&&this.initArcadePhysics(),this.arcade.onOverlap(e,n)},onceOverlap:function(e,n){null==this.arcade&&this.initArcadePhysics(),this.arcade.onceOverlap(e,n)},offOverlap:function(e){null!=this.arcade&&this.arcade.offOverlap(e)},listensOverlap:function(){if(null!=this.arcade){var e=this.arcade;return null!=e.__cbOnOverlap&&e.__cbOnOverlap.length>0||null!=e.__cbOnceOverlap&&e.__cbOnceOverlap.length>0}return!1},onOverlapBody:function(e,n){null==this.arcade&&this.initArcadePhysics(),this.arcade.onOverlapBody(e,n)},onceOverlapBody:function(e,n){null==this.arcade&&this.initArcadePhysics(),this.arcade.onceOverlapBody(e,n)},offOverlapBody:function(e){null!=this.arcade&&this.arcade.offOverlapBody(e)},listensOverlapBody:function(){if(null!=this.arcade){var e=this.arcade;return null!=e.__cbOnOverlapBody&&e.__cbOnOverlapBody.length>0||null!=e.__cbOnceOverlapBody&&e.__cbOnceOverlapBody.length>0}return!1},onWorldBounds:function(e,n){null==this.arcade&&this.initArcadePhysics(),this.arcade.onWorldBounds(e,n)},onceWorldBounds:function(e,n){null==this.arcade&&this.initArcadePhysics(),this.arcade.onceWorldBounds(e,n)},offWorldBounds:function(e){null!=this.arcade&&this.arcade.offWorldBounds(e)},listensWorldBounds:function(){if(null!=this.arcade){var e=this.arcade;return null!=e.__cbOnWorldBounds&&e.__cbOnWorldBounds.length>0||null!=e.__cbOnceWorldBounds&&e.__cbOnceWorldBounds.length>0}return!1},asQuad:null,asMesh:null,multiTouch:null,isPointerDown:null,_numPointerDown:null,get_isPointerDown:function(){return this._numPointerDown>0},isPointerOver:null,_numPointerOver:null,get_isPointerOver:function(){return this._numPointerOver>0},clip:null,set_clip:function(e){if(this.clip==e)return e;if(this.clip=e,this.clipDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.clipDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_clipDirty(!0)}}return e},inheritAlpha:null,set_inheritAlpha:function(e){if(this.inheritAlpha==e)return e;if(this.inheritAlpha=e,this.visibilityDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.visibilityDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_visibilityDirty(!0)}}return e},stop:function(){if(null!=this.arcade){var e=this.arcade.body;e.velocityX=0,e.velocityY=0,e.accelerationX=0,e.accelerationY=0,e.speed=0,e.angularVelocity=0,e.angularAcceleration=0}},translatesOnly:null,translatesOnlyDirty:null,contentDirty:null,set_contentDirty:function(e){return this.contentDirty=e,e&&(ceramic_App.app.visualsContentDirty=!0),e},matrixDirty:null,set_matrixDirty:function(e){if(this.matrixDirty=e,e&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_matrixDirty(!0)}return e},renderTargetDirty:null,set_renderTargetDirty:function(e){if(this.renderTargetDirty=e,e){if(this.clipDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;if((a=this.children[i]).clipDirty=!0,null!=a.children)for(var l=0,s=a.children.length;l<s;){var r=l++;a.children[r].set_clipDirty(!0)}}if(null!=this.children)for(n=0,t=this.children.length;n<t;){var a;i=n++;(a=this.children[i]).set_renderTargetDirty(!0)}}return e},visibilityDirty:null,set_visibilityDirty:function(e){if(this.visibilityDirty=e,e&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_visibilityDirty(!0)}return e},touchableDirty:null,set_touchableDirty:function(e){if(this.touchableDirty=e,e&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_touchableDirty(!0)}return e},clipDirty:null,set_clipDirty:function(e){if(this.clipDirty=e,e&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_clipDirty(!0)}return e},renderTarget:null,set_renderTarget:function(e){if(this.renderTarget==e)return e;if(this.renderTarget=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;if((a=this.children[i]).matrixDirty=!0,null!=a.children)for(var l=0,s=a.children.length;l<s;){var r=l++;(c=a.children[r]).set_matrixDirty(!0)}}if(this.renderTargetDirty=!0,this.clipDirty=!0,null!=this.children)for(n=0,t=this.children.length;n<t;){i=n++;if((a=this.children[i]).clipDirty=!0,null!=a.children)for(l=0,s=a.children.length;l<s;){r=l++;(c=a.children[r]).set_clipDirty(!0)}}if(null!=this.children)for(n=0,t=this.children.length;n<t;){var a;i=n++;if((a=this.children[i]).renderTargetDirty=!0,a.clipDirty=!0,null!=a.children)for(l=0,s=a.children.length;l<s;){var c;r=l++;if((c=a.children[r]).clipDirty=!0,null!=c.children)for(var h=0,u=c.children.length;h<u;){var o=h++,_=c.children[o];if(_.clipDirty=!0,null!=_.children)for(var d=0,b=_.children.length;d<b;){var f=d++;_.children[f].set_clipDirty(!0)}}}if(null!=a.children)for(var O=0,p=a.children.length;O<p;){var g=O++;a.children[g].set_renderTargetDirty(!0)}}return e},blending:null,set_blending:function(e){return this.blending=e},visible:null,set_visible:function(e){if(this.visible==e)return e;if(this.visible=e,this.visibilityDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.visibilityDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_visibilityDirty(!0)}}return e},touchable:null,set_touchable:function(e){if(this.touchable==e)return e;if(this.touchable=e,this.touchableDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.touchableDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_touchableDirty(!0)}}return e},depth:null,set_depth:function(e){return this.depth==e||(this.depth=e,ceramic_App.app.hierarchyDirty=!0),e},depthRange:null,set_depthRange:function(e){return this.depthRange==e||(this.depthRange=e,ceramic_App.app.hierarchyDirty=!0),e},x:null,set_x:function(e){if(this.x==e)return e;if(this.x=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}return e},y:null,set_y:function(e){if(this.y==e)return e;if(this.y=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}return e},scaleX:null,set_scaleX:function(e){if(this.scaleX==e)return e;if(this.scaleX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},scaleY:null,set_scaleY:function(e){if(this.scaleY==e)return e;if(this.scaleY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},skewX:null,set_skewX:function(e){if(this.skewX==e)return e;if(this.skewX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},skewY:null,set_skewY:function(e){if(this.skewY==e)return e;if(this.skewY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},anchorX:null,set_anchorX:function(e){if(this.anchorX==e)return e;if(this.anchorX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}return e},anchorY:null,set_anchorY:function(e){if(this.anchorY==e)return e;if(this.anchorY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}return e},_width:null,get_width:function(){return this._width},set_width:function(e){if(this._width==e)return e;if(this._width=e,0!=this.anchorX&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}return e},_height:null,get_height:function(){return this._height},set_height:function(e){if(this._height==e)return e;if(this._height=e,0!=this.anchorY&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}return e},roundTranslation:null,set_roundTranslation:function(e){if(this.roundTranslation==e)return e;if(this.roundTranslation=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}return e},rotation:null,set_rotation:function(e){if(this.rotation==e)return e;if(this.rotation=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},alpha:null,set_alpha:function(e){if(this.alpha==e)return e;if(this.alpha=e,this.visibilityDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.visibilityDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_visibilityDirty(!0)}}return e},get_translateX:function(){return null!=this.transform?this.transform.tx:0},set_translateX:function(e){return 0==e?null!=this.transform&&0!=this.transform.tx&&(this.transform.tx=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new ceramic_Transform),this.transform.tx!=e&&(this.transform.tx=e,this.transform.changedDirty=!0)),e},get_translateY:function(){return null!=this.transform?this.transform.ty:0},set_translateY:function(e){return 0==e?null!=this.transform&&0!=this.transform.ty&&(this.transform.ty=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new ceramic_Transform),this.transform.ty!=e&&(this.transform.ty=e,this.transform.changedDirty=!0)),e},transform:null,set_transform:function(e){if(this.transform==e)return e;if(null!=this.transform&&this.transform.offChange($bind(this,this.transformDidChange)),this.transform=e,null!=this.transform&&this.transform.onChange(this,$bind(this,this.transformDidChange)),this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}return e},shader:null,set_shader:function(e){return this.shader=e},flag:function(e,n){var t=e+16;if(null!=n)return this.flags=n?this.flags|1<<t:this.flags&~(1<<t),n;var i=1<<t;return(this.flags&i)==i},internalFlag:function(e,n){if(null!=n)return this.flags=n?this.flags|1<<e:this.flags&~(1<<e),n;var t=1<<e;return(this.flags&t)==t},flags:null,get_active:function(){return 1!=(1&this.flags)},set_active:function(e){if(e==(1!=(1&this.flags)))return e;var n;(this.flags=e?-2&this.flags:1|this.flags,e)?(this.set_visible(2==(2&this.flags)),this.set_touchable(4==(4&this.flags)),null!=(n=null!=this.arcade?this.arcade.body:null)&&(n.enable=64==(64&this.flags))):(this.flags=this.visible?2|this.flags:-3&this.flags,this.flags=this.touchable?4|this.flags:-5&this.flags,this.set_visible(!1),this.set_touchable(!1),null!=(n=null!=this.arcade?this.arcade.body:null)?this.flags=n.enable?64|this.flags:-65&this.flags:this.flags&=-65);return e},matA:null,matB:null,matC:null,matD:null,matTX:null,matTY:null,computedVisible:null,computedAlpha:null,computedDepth:null,computedRenderTarget:null,computedTouchable:null,computedClip:null,children:null,parent:null,size:function(e,n){this.set_width(e),this.set_height(n)},anchor:function(e,n){this.set_anchorX(e),this.set_anchorY(n)},pos:function(e,n){this.set_x(e),this.set_y(n)},scale:function(e,n){null==n&&(n=-1),this.set_scaleX(e),this.set_scaleY(-1!=n?n:e)},skew:function(e,n){this.set_skewX(e),this.set_skewY(n)},translate:function(e,n){0==e?null!=this.transform&&0!=this.transform.tx&&(this.transform.tx=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new ceramic_Transform),this.transform.tx!=e&&(this.transform.tx=e,this.transform.changedDirty=!0)),0==n?null!=this.transform&&0!=this.transform.ty&&(this.transform.ty=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new ceramic_Transform),this.transform.ty!=n&&(this.transform.ty=n,this.transform.changedDirty=!0))},anchorKeepPosition:function(e,n){if(this.anchorX!=e||this.anchorY!=n){this.visualToScreen(0,0,ceramic_Visual._point,!1),null!=this.parent&&this.parent.screenToVisual(ceramic_Visual._point.x,ceramic_Visual._point.y,ceramic_Visual._point,!1);var t=ceramic_Visual._point.x,i=ceramic_Visual._point.y;this.set_anchorX(e),this.set_anchorY(n),this.visualToScreen(0,0,ceramic_Visual._point,!1),null!=this.parent&&this.parent.screenToVisual(ceramic_Visual._point.x,ceramic_Visual._point.y,ceramic_Visual._point,!1),this.set_x(this.x+(t-ceramic_Visual._point.x)),this.set_y(this.y+(i-ceramic_Visual._point.y))}},childWithId:function(e,n){if(null==n&&(n=!0),null!=this.children){for(var t=0,i=this.children.length;t<i;){var l=t++;if((s=this.children[l]).id==e)return s}if(n)for(t=0,i=this.children.length;t<i;){l=t++;var s,r=(s=this.children[l]).childWithId(e,!0);if(null!=r)return r}}return null},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),ceramic_App.app.screen.get_focusedVisual()==this&&ceramic_App.app.screen.set_focusedVisual(null),ceramic_App.app.destroyedVisuals.push(this),null!=this.parent&&this.parent.remove(this),null!=this.transform&&this.set_transform(null),null!=this.arcade&&(this.arcade.destroy(),this.set_arcade(null)),this.clear(),this.visibilityDirty=!1,this.computedVisible=!1)},clear:function(){if(null!=this.children&&this.children.length>0){for(var e=this.children.length,n=ceramic_ArrayPool.pool(e),t=n.get(),i=0,l=e;i<l;){var s=i++;t.vector[s]=this.children[s]}for(i=0,l=e;i<l;){s=i++;t.vector[s].destroy()}this.children=null,n.release(t)}},transformDidChange:function(){if(this.matrixDirty=!0,null!=this.children)for(var e=0,n=this.children.length;e<n;){var t=e++,i=this.children[t];if(i.matrixDirty=!0,null!=i.children)for(var l=0,s=i.children.length;l<s;){var r=l++;i.children[r].set_matrixDirty(!0)}}},computeMatrix:function(){null!=this.parent&&this.parent.matrixDirty&&this.parent.computeMatrix(),(t=ceramic_Visual._matrix).a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0,this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1);var e=this.get_width(),n=this.get_height();if(this.translatesOnly)ceramic_Visual._matrix.tx+=this.x-this.anchorX*e,ceramic_Visual._matrix.ty+=this.y-this.anchorY*n;else{if((t=ceramic_Visual._matrix).tx+=-this.anchorX*e,t.ty+=-this.anchorY*n,t.changedDirty=!0,1!=this.scaleX||1!=this.scaleY){var t=ceramic_Visual._matrix,i=this.scaleX,l=this.scaleY;t.a*=i,t.b*=l,t.c*=i,t.d*=l,t.tx*=i,t.ty*=l,t.changedDirty=!0}if(0!=this.skewX||0!=this.skewY){var t=ceramic_Visual._matrix,s=.017453292519943295*this.skewX,r=.017453292519943295*this.skewY,a=ceramic_Transform._tmp;a.a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0;var c=Math.cos(r),h=Math.sin(r),u=-Math.sin(s),o=Math.cos(s);ceramic_Transform._tmp.a=1*c+-0*h,ceramic_Transform._tmp.b=0*c+1*h,ceramic_Transform._tmp.c=1*u+-0*o,ceramic_Transform._tmp.d=0*u+1*o;var _=ceramic_Transform._tmp,d=t.a*_.a+t.b*_.c;t.b=t.a*_.b+t.b*_.d,t.a=d;var b=t.c*_.a+t.d*_.c;t.d=t.c*_.b+t.d*_.d,t.c=b;var f=t.tx*_.a+t.ty*_.c+_.tx;t.ty=t.tx*_.b+t.ty*_.d+_.ty,t.tx=f,t.changedDirty=!0}if(0!=this.rotation){t=ceramic_Visual._matrix;var O=.017453292519943295*this.rotation,p=Math.cos(O),g=Math.sin(O);d=t.a*p-t.b*g;t.b=t.a*g+t.b*p,t.a=d;b=t.c*p-t.d*g;t.d=t.c*g+t.d*p,t.c=b;f=t.tx*p-t.ty*g;t.ty=t.tx*g+t.ty*p,t.tx=f,t.changedDirty=!0}(t=ceramic_Visual._matrix).tx+=this.x,t.ty+=this.y,t.changedDirty=!0}if(null!=this.transform){d=ceramic_Visual._matrix.a*this.transform.a+ceramic_Visual._matrix.b*this.transform.c;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.transform.b+ceramic_Visual._matrix.b*this.transform.d,ceramic_Visual._matrix.a=d;b=ceramic_Visual._matrix.c*this.transform.a+ceramic_Visual._matrix.d*this.transform.c;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.transform.b+ceramic_Visual._matrix.d*this.transform.d,ceramic_Visual._matrix.c=b;f=ceramic_Visual._matrix.tx*this.transform.a+ceramic_Visual._matrix.ty*this.transform.c+this.transform.tx;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.transform.b+ceramic_Visual._matrix.ty*this.transform.d+this.transform.ty,ceramic_Visual._matrix.tx=f}if(null!=this.parent&&null==this.renderTarget)if(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD)ceramic_Visual._matrix.tx+=this.parent.matTX,ceramic_Visual._matrix.ty+=this.parent.matTY;else if(this.translatesOnly&&null==this.transform){ceramic_Visual._matrix.a=this.parent.matA,ceramic_Visual._matrix.b=this.parent.matB,ceramic_Visual._matrix.c=this.parent.matC,ceramic_Visual._matrix.d=this.parent.matD;f=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=f}else{d=ceramic_Visual._matrix.a*this.parent.matA+ceramic_Visual._matrix.b*this.parent.matC;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.parent.matB+ceramic_Visual._matrix.b*this.parent.matD,ceramic_Visual._matrix.a=d;b=ceramic_Visual._matrix.c*this.parent.matA+ceramic_Visual._matrix.d*this.parent.matC;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.parent.matB+ceramic_Visual._matrix.d*this.parent.matD,ceramic_Visual._matrix.c=b;f=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=f}this.matA=ceramic_Visual._matrix.a,this.matB=ceramic_Visual._matrix.b,this.matC=ceramic_Visual._matrix.c,this.matD=ceramic_Visual._matrix.d,this.matTX=ceramic_Visual._matrix.tx,this.matTY=ceramic_Visual._matrix.ty,this.roundTranslation>0&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},computeTranslatesOnly:function(){this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1},doComputeMatrix:function(){this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1);var e=this.get_width(),n=this.get_height();if(this.translatesOnly)ceramic_Visual._matrix.tx+=this.x-this.anchorX*e,ceramic_Visual._matrix.ty+=this.y-this.anchorY*n;else{if((t=ceramic_Visual._matrix).tx+=-this.anchorX*e,t.ty+=-this.anchorY*n,t.changedDirty=!0,1!=this.scaleX||1!=this.scaleY){var t=ceramic_Visual._matrix,i=this.scaleX,l=this.scaleY;t.a*=i,t.b*=l,t.c*=i,t.d*=l,t.tx*=i,t.ty*=l,t.changedDirty=!0}if(0!=this.skewX||0!=this.skewY){var t=ceramic_Visual._matrix,s=.017453292519943295*this.skewX,r=.017453292519943295*this.skewY,a=ceramic_Transform._tmp;a.a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0;var c=Math.cos(r),h=Math.sin(r),u=-Math.sin(s),o=Math.cos(s);ceramic_Transform._tmp.a=1*c+-0*h,ceramic_Transform._tmp.b=0*c+1*h,ceramic_Transform._tmp.c=1*u+-0*o,ceramic_Transform._tmp.d=0*u+1*o;var _=ceramic_Transform._tmp,d=t.a*_.a+t.b*_.c;t.b=t.a*_.b+t.b*_.d,t.a=d;var b=t.c*_.a+t.d*_.c;t.d=t.c*_.b+t.d*_.d,t.c=b;var f=t.tx*_.a+t.ty*_.c+_.tx;t.ty=t.tx*_.b+t.ty*_.d+_.ty,t.tx=f,t.changedDirty=!0}if(0!=this.rotation){t=ceramic_Visual._matrix;var O=.017453292519943295*this.rotation,p=Math.cos(O),g=Math.sin(O);d=t.a*p-t.b*g;t.b=t.a*g+t.b*p,t.a=d;b=t.c*p-t.d*g;t.d=t.c*g+t.d*p,t.c=b;f=t.tx*p-t.ty*g;t.ty=t.tx*g+t.ty*p,t.tx=f,t.changedDirty=!0}(t=ceramic_Visual._matrix).tx+=this.x,t.ty+=this.y,t.changedDirty=!0}if(null!=this.transform){d=ceramic_Visual._matrix.a*this.transform.a+ceramic_Visual._matrix.b*this.transform.c;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.transform.b+ceramic_Visual._matrix.b*this.transform.d,ceramic_Visual._matrix.a=d;b=ceramic_Visual._matrix.c*this.transform.a+ceramic_Visual._matrix.d*this.transform.c;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.transform.b+ceramic_Visual._matrix.d*this.transform.d,ceramic_Visual._matrix.c=b;f=ceramic_Visual._matrix.tx*this.transform.a+ceramic_Visual._matrix.ty*this.transform.c+this.transform.tx;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.transform.b+ceramic_Visual._matrix.ty*this.transform.d+this.transform.ty,ceramic_Visual._matrix.tx=f}if(null!=this.parent&&null==this.renderTarget)if(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD)ceramic_Visual._matrix.tx+=this.parent.matTX,ceramic_Visual._matrix.ty+=this.parent.matTY;else if(this.translatesOnly&&null==this.transform){ceramic_Visual._matrix.a=this.parent.matA,ceramic_Visual._matrix.b=this.parent.matB,ceramic_Visual._matrix.c=this.parent.matC,ceramic_Visual._matrix.d=this.parent.matD;f=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=f}else{d=ceramic_Visual._matrix.a*this.parent.matA+ceramic_Visual._matrix.b*this.parent.matC;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.parent.matB+ceramic_Visual._matrix.b*this.parent.matD,ceramic_Visual._matrix.a=d;b=ceramic_Visual._matrix.c*this.parent.matA+ceramic_Visual._matrix.d*this.parent.matC;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.parent.matB+ceramic_Visual._matrix.d*this.parent.matD,ceramic_Visual._matrix.c=b;f=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=f}this.matA=ceramic_Visual._matrix.a,this.matB=ceramic_Visual._matrix.b,this.matC=ceramic_Visual._matrix.c,this.matD=ceramic_Visual._matrix.d,this.matTX=ceramic_Visual._matrix.tx,this.matTY=ceramic_Visual._matrix.ty,this.roundTranslation>0&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},_hits:function(e,n,t){if(!t){if(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget){var i=this.parent;if(null!=i)for(;;){if(null!=i.asQuad&&i instanceof ceramic_Filter){var l=i;if(l.get_renderTexture()==this.computedRenderTarget&&(null==ceramic_Screen.matchedHitVisual||l.hitVisual==ceramic_Screen.matchedHitVisual))return l.visualInContentHits(this,e,n)}if(null==(i=i.parent))break}return!1}if(null!=ceramic_Screen.matchedHitVisual&&ceramic_Screen.matchedHitVisual!=this)return!1}this.matrixDirty&&this.computeMatrix(),(s=ceramic_Visual._matrix).a=this.matA,s.b=this.matB,s.c=this.matC,s.d=this.matD,s.tx=this.matTX,s.ty=this.matTY,s.changedDirty=!0;var s,r=(s=ceramic_Visual._matrix).a*s.d-s.b*s.c;if(0==r)s.a=s.b=s.c=s.d=0,s.tx=-s.tx,s.ty=-s.ty;else{r=1/r;var a=s.d*r;s.d=s.a*r,s.a=a,s.b*=-r,s.c*=-r;var c=-s.a*s.tx-s.c*s.ty;s.ty=-s.b*s.tx-s.d*s.ty,s.tx=c}return s.changedDirty=!0,this.hitTest(e,n,ceramic_Visual._matrix)},hitTest:function(e,n,t){var i=e*t.a+n*t.c+t.tx,l=e*t.b+n*t.d+t.ty;return i>=0&&i<this.get_width()&&l>=0&&l<this.get_height()},get_isHitVisual:function(){return 8==(8&this.flags)},set_isHitVisual:function(e){return this.flags=e?8|this.flags:-9&this.flags,e},interceptPointerDown:function(e,n,t,i,l){return!1},interceptPointerOver:function(e,n,t){return!1},screenToVisual:function(e,n,t,i){if(null==i&&(i=!0),this.matrixDirty&&this.computeMatrix(),i&&(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget)){var l=this.parent;if(null!=l)for(;;){if(null!=l.asQuad&&l instanceof ceramic_Filter){var s=l;if(s.get_renderTexture()==this.computedRenderTarget){s.screenToVisual(e,n,t),(b=ceramic_Visual._matrix).a=this.matA,b.b=this.matB,b.c=this.matC,b.d=this.matD,b.tx=this.matTX,b.ty=this.matTY,b.changedDirty=!0;var r=ceramic_Visual._matrix;if(0==(d=r.a*r.d-r.b*r.c))r.a=r.b=r.c=r.d=0,r.tx=-r.tx,r.ty=-r.ty;else{d=1/d;var a=r.d*d;r.d=r.a*d,r.a=a,r.b*=-d,r.c*=-d;var c=-r.a*r.tx-r.c*r.ty;r.ty=-r.b*r.tx-r.d*r.ty,r.tx=c}r.changedDirty=!0;var h=t.x,u=t.y,o=ceramic_Visual._matrix;t.x=h*o.a+u*o.c+o.tx;var _=ceramic_Visual._matrix;return void(t.y=h*_.b+u*_.d+_.ty)}}if(null==(l=l.parent))break}}var d;if((b=ceramic_Visual._matrix).a=this.matA,b.b=this.matB,b.c=this.matC,b.d=this.matD,b.tx=this.matTX,b.ty=this.matTY,b.changedDirty=!0,0==(d=(b=ceramic_Visual._matrix).a*b.d-b.b*b.c))b.a=b.b=b.c=b.d=0,b.tx=-b.tx,b.ty=-b.ty;else{d=1/d;a=b.d*d;b.d=b.a*d,b.a=a,b.b*=-d,b.c*=-d;c=-b.a*b.tx-b.c*b.ty;b.ty=-b.b*b.tx-b.d*b.ty,b.tx=c}b.changedDirty=!0;var b=ceramic_Visual._matrix;t.x=e*b.a+n*b.c+b.tx;b=ceramic_Visual._matrix;t.y=e*b.b+n*b.d+b.ty},visualToScreen:function(e,n,t,i){if(null==i&&(i=!0),this.matrixDirty&&this.computeMatrix(),i&&(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget)){var l=this.parent;if(null!=l)for(;;){if(null!=l.asQuad&&l instanceof ceramic_Filter){var s=l;if(s.get_renderTexture()==this.computedRenderTarget){(c=ceramic_Visual._matrix).a=this.matA,c.b=this.matB,c.c=this.matC,c.d=this.matD,c.tx=this.matTX,c.ty=this.matTY,c.changedDirty=!0;var r=ceramic_Visual._matrix;t.x=e*r.a+n*r.c+r.tx;var a=ceramic_Visual._matrix;return t.y=e*a.b+n*a.d+a.ty,void s.visualToScreen(t.x,t.y,t)}}if(null==(l=l.parent))break}}(c=ceramic_Visual._matrix).a=this.matA,c.b=this.matB,c.c=this.matC,c.d=this.matD,c.tx=this.matTX,c.ty=this.matTY,c.changedDirty=!0;var c=ceramic_Visual._matrix;t.x=e*c.a+n*c.c+c.tx;c=ceramic_Visual._matrix;t.y=e*c.b+n*c.d+c.ty},visualToTransform:function(e){this.matrixDirty&&this.computeMatrix(),e.a=this.matA,e.b=this.matB,e.c=this.matC,e.d=this.matD,e.tx=this.matTX,e.ty=this.matTY,e.changedDirty=!0},computeVisibility:function(){this._lifecycleState<0?this.computedVisible=!1:(null!=this.parent&&this.parent.visibilityDirty&&this.parent.computeVisibility(),this.computedVisible=this.visible,this.computedAlpha=this.alpha,this.computedVisible&&(null!=this.parent&&(this.parent.computedVisible||!this.parent.inheritAlpha&&this.parent.visible&&(null==this.parent.parent||this.parent.parent.computedVisible)||(this.computedVisible=!1),this.inheritAlpha&&(this.computedAlpha*=this.parent.computedAlpha)),0==this.computedAlpha&&4!=this.blending&&(this.computedVisible=!1))),this.visibilityDirty=!1},computeClip:function(){this.renderTargetDirty&&this.computeRenderTarget(),null!=this.parent&&this.parent.clipDirty&&this.parent.computeClip(),this.computedClip=this.clip,null==this.computedClip&&null!=this.parent&&null!=this.parent.computedClip&&this.computedRenderTarget==this.parent.computedRenderTarget&&(this.computedClip=this.parent.computedClip),this.clipDirty=!1},computeTouchable:function(){null!=this.parent&&this.parent.touchableDirty&&this.parent.computeTouchable(),this.computedTouchable=this.touchable,this.computedTouchable&&null!=this.parent&&(this.parent.computedTouchable||(this.computedTouchable=!1)),this.touchableDirty=!1},computeRenderTarget:function(){null!=this.parent&&this.parent.renderTargetDirty&&this.parent.computeRenderTarget();this.computedRenderTarget;this.computedRenderTarget=this.renderTarget,null==this.computedRenderTarget&&null!=this.parent&&null!=this.parent.computedRenderTarget&&(this.computedRenderTarget=this.parent.computedRenderTarget),this.renderTargetDirty=!1},computeContent:function(){this.contentDirty=!1},autoChildrenDepth:function(e,n){null==n&&(n=1),null==e&&(e=1);var t=e;if(null!=this.children)for(var i=0,l=this.children.length;i<l;){var s=i++;this.children[s].set_depth(t),t+=n}},sortChildrenByDepth:function(){if(null!=this.children&&this.children.length>0){var e=this.children;ceramic_SortVisualsByDepth.rec(e,0,e.length)}},normalizeChildrenDepth:function(e,n){null==n&&(n=1),null==e&&(e=1),null!=this.children&&this.children.length>0&&(this.sortChildrenByDepth(),this.autoChildrenDepth())},hasIndirectParent:function(e){for(var n=this.parent;null!=n;){if(n==e)return!0;n=n.parent}return!1},firstParentWithClass:function(e){for(var n=this.parent;null!=n;){if(js_Boot.__instanceof(n,e))return n;n=n.parent}return null},add:function(e){if(e==this)throw haxe_Exception.thrown("A visual cannot add itself as child!");if(e.parent!=this){if(ceramic_App.app.hierarchyDirty=!0,null!=e.parent&&e.parent.remove(e),e.parent=this,e.visibilityDirty=!0,null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++;if((p=e.children[i]).visibilityDirty=!0,null!=p.children)for(var l=0,s=p.children.length;l<s;){var r=l++;(g=p.children[r]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((p=e.children[i]).matrixDirty=!0,null!=p.children)for(l=0,s=p.children.length;l<s;){r=l++;(g=p.children[r]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((p=e.children[i]).clipDirty=!0,null!=p.children)for(l=0,s=p.children.length;l<s;){r=l++;(g=p.children[r]).set_clipDirty(!0)}}if(null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((p=e.children[i]).renderTargetDirty=!0,p.clipDirty=!0,null!=p.children)for(l=0,s=p.children.length;l<s;){r=l++;if((g=p.children[r]).clipDirty=!0,null!=g.children)for(var a=0,c=g.children.length;a<c;){var h=a++,u=g.children[h];if(u.clipDirty=!0,null!=u.children)for(var o=0,_=u.children.length;o<_;){var d=o++;u.children[d].set_clipDirty(!0)}}}if(null!=p.children)for(var b=0,f=p.children.length;b<f;){var O=b++;p.children[O].set_renderTargetDirty(!0)}}if(null==this.children&&(this.children=[]),this.children.push(e),this.clipDirty=!0,null!=this.children)for(n=0,t=this.children.length;n<t;){var p;i=n++;if((p=this.children[i]).clipDirty=!0,null!=p.children)for(l=0,s=p.children.length;l<s;){var g;r=l++;(g=p.children[r]).set_clipDirty(!0)}}}},remove:function(e){if(ceramic_App.app.hierarchyDirty=!0,null!=this.children){if(-1!=this.children.indexOf(e)?this.children.splice(this.children.indexOf(e),1):ceramic_App.app.logger.warning("Cannot remove visual "+Std.string(e)+", index is -1",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Visual.hx",lineNumber:2842,className:"ceramic.Visual",methodName:"remove"}),e.parent=null,e.visibilityDirty=!0,null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++;if((p=e.children[i]).visibilityDirty=!0,null!=p.children)for(var l=0,s=p.children.length;l<s;){var r=l++;(g=p.children[r]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((p=e.children[i]).matrixDirty=!0,null!=p.children)for(l=0,s=p.children.length;l<s;){r=l++;(g=p.children[r]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((p=e.children[i]).clipDirty=!0,null!=p.children)for(l=0,s=p.children.length;l<s;){r=l++;(g=p.children[r]).set_clipDirty(!0)}}if(null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((p=e.children[i]).renderTargetDirty=!0,p.clipDirty=!0,null!=p.children)for(l=0,s=p.children.length;l<s;){r=l++;if((g=p.children[r]).clipDirty=!0,null!=g.children)for(var a=0,c=g.children.length;a<c;){var h=a++,u=g.children[h];if(u.clipDirty=!0,null!=u.children)for(var o=0,_=u.children.length;o<_;){var d=o++;u.children[d].set_clipDirty(!0)}}}if(null!=p.children)for(var b=0,f=p.children.length;b<f;){var O=b++;p.children[O].set_renderTargetDirty(!0)}}if(e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){var p;i=n++;if((p=e.children[i]).clipDirty=!0,null!=p.children)for(l=0,s=p.children.length;l<s;){var g;r=l++;(g=p.children[r]).set_clipDirty(!0)}}}},contains:function(e,n){null==n&&(n=!1);for(var t=e.parent;null!=t;){if(t==this)return!0;if(t=t.parent,!n)break}return!1},computeBounds:function(){if(null==this.children)this._width=0,this._height=0;else{for(var e=999999999,n=999999999,t=-999999999.9,i=-999999999.9,l=new ceramic_Point,s=0,r=this.children.length;s<r;){var a=s++;if((p=this.children[a]).visible)if(null!=p.asMesh)for(var c=p.asMesh.vertices,h=0,u=c.length,o=0,_=0;h<u;)o=c[h],_=c[h+1],p.visualToScreen(o,_,l,!1),l.x>t&&(t=l.x),l.y>i&&(i=l.y),l.x<e&&(e=l.x),l.y<n&&(n=l.y),h+=2;else p.visualToScreen(0,0,l,!1),l.x>t&&(t=l.x),l.y>i&&(i=l.y),l.x<e&&(e=l.x),l.y<n&&(n=l.y),p.visualToScreen(p.get_width(),0,l,!1),l.x>t&&(t=l.x),l.y>i&&(i=l.y),l.x<e&&(e=l.x),l.y<n&&(n=l.y),p.visualToScreen(0,p.get_height(),l,!1),l.x>t&&(t=l.x),l.y>i&&(i=l.y),l.x<e&&(e=l.x),l.y<n&&(n=l.y),p.visualToScreen(p.get_width(),p.get_height(),l,!1),l.x>t&&(t=l.x),l.y>i&&(i=l.y),l.x<e&&(e=l.x),l.y<n&&(n=l.y)}this.visualToScreen(0,0,l,!1);var d=l.x,b=l.y;if(this.screenToVisual(e,n,l,!1),e=l.x,n=l.y,this.screenToVisual(t,i,l,!1),(t=l.x)<e){var f=e;e=t,t=f}if((i=l.y)<n){var O=n;n=i,i=O}if(this._width=t-e,this._height=i-n,this.set_anchorX(0!=this._width?-e/this._width:0),this.set_anchorY(0!=this._height?-n/this._height:0),this.screenToVisual(d,b,l,!1),this.set_x(l.x-this._width*this.anchorX),this.set_y(l.y-this._height*this.anchorY),this.matrixDirty=!0,null!=this.children)for(s=0,r=this.children.length;s<r;){var p;a=s++;if((p=this.children[a]).matrixDirty=!0,null!=p.children)for(var g=0,m=p.children.length;g<m;){h=g++;p.children[h].set_matrixDirty(!0)}}}},bindToNativeScreenSize:function(){ceramic_App.app.screen.reverseMatrix.onChange(this,$bind(this,this._bindToNativeScreenSizeCallback)),this._bindToNativeScreenSizeCallback()},_bindToNativeScreenSizeCallback:function(){null==this.transform&&this.set_transform(new ceramic_Transform),(e=this.transform).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0;var e=this.transform,n=clay_Clay.app.screenDensity,t=clay_Clay.app.screenDensity;e.a*=n,e.b*=t,e.c*=n,e.d*=t,e.tx*=n,e.ty*=t,e.changedDirty=!0;e=this.transform;var i=ceramic_App.app.screen.reverseMatrix,l=e.a*i.a+e.b*i.c;e.b=e.a*i.b+e.b*i.d,e.a=l;var s=e.c*i.a+e.d*i.c;e.d=e.c*i.b+e.d*i.d,e.c=s;var r=e.tx*i.a+e.ty*i.c+i.tx;e.ty=e.tx*i.b+e.ty*i.d+i.ty,e.tx=r,e.changedDirty=!0,this.transform.tx=this.transform.tx,this.transform.ty=this.transform.ty,this.transform.changedDirty=!0;var a=clay_Clay.app.screenHeight;this.set_width(clay_Clay.app.screenWidth),this.set_height(a)},bindToScreenSize:function(){ceramic_App.app.screen.onResize(this,$bind(this,this._bindToScreenSizeCallback)),this._bindToScreenSizeCallback()},_bindToScreenSizeCallback:function(){var e=ceramic_App.app.screen.height;this.set_width(ceramic_App.app.screen.width),this.set_height(e)},bindToTargetSize:function(){ceramic_App.app.screen.onResize(this,$bind(this,this._bindToTargetSizeCallback)),this._bindToTargetSizeCallback()},_bindToTargetSizeCallback:function(){var e=ceramic_App.app.screen.height;this.set_width(ceramic_App.app.screen.width),this.set_height(e)},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offPointerDown(),this.offPointerUp(),this.offPointerOver(),this.offPointerOut(),this.offFocus(),this.offBlur()},__class__:ceramic_Visual,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_isHitVisual:"set_isHitVisual",get_isHitVisual:"get_isHitVisual",set_active:"set_active",get_active:"get_active",set_shader:"set_shader",set_transform:"set_transform",set_translateY:"set_translateY",get_translateY:"get_translateY",set_translateX:"set_translateX",get_translateX:"get_translateX",set_alpha:"set_alpha",set_rotation:"set_rotation",set_roundTranslation:"set_roundTranslation",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_anchorY:"set_anchorY",set_anchorX:"set_anchorX",set_skewY:"set_skewY",set_skewX:"set_skewX",set_scaleY:"set_scaleY",set_scaleX:"set_scaleX",set_y:"set_y",set_x:"set_x",set_depthRange:"set_depthRange",set_depth:"set_depth",set_touchable:"set_touchable",set_visible:"set_visible",set_blending:"set_blending",set_renderTarget:"set_renderTarget",set_clipDirty:"set_clipDirty",set_touchableDirty:"set_touchableDirty",set_visibilityDirty:"set_visibilityDirty",set_renderTargetDirty:"set_renderTargetDirty",set_matrixDirty:"set_matrixDirty",set_contentDirty:"set_contentDirty",set_inheritAlpha:"set_inheritAlpha",set_clip:"set_clip",get_isPointerOver:"get_isPointerOver",get_isPointerDown:"get_isPointerDown",get_collideWorldBounds:"get_collideWorldBounds",get_embedded:"get_embedded",get_overlapY:"get_overlapY",get_overlapX:"get_overlapX",set_moves:"set_moves",get_moves:"get_moves",get_speed:"get_speed",set_mass:"set_mass",get_mass:"get_mass",set_angularDrag:"set_angularDrag",get_angularDrag:"get_angularDrag",set_angularAcceleration:"set_angularAcceleration",get_angularAcceleration:"get_angularAcceleration",set_maxAngularVelocity:"set_maxAngularVelocity",get_maxAngularVelocity:"get_maxAngularVelocity",set_angularVelocity:"set_angularVelocity",get_angularVelocity:"get_angularVelocity",set_frictionY:"set_frictionY",get_frictionY:"get_frictionY",set_frictionX:"set_frictionX",get_frictionX:"get_frictionX",set_gravityY:"set_gravityY",get_gravityY:"get_gravityY",set_gravityX:"set_gravityX",get_gravityX:"get_gravityX",set_allowGravity:"set_allowGravity",get_allowGravity:"get_allowGravity",set_maxDeltaY:"set_maxDeltaY",get_maxDeltaY:"get_maxDeltaY",set_maxDeltaX:"set_maxDeltaX",get_maxDeltaX:"get_maxDeltaX",set_worldBounceY:"set_worldBounceY",get_worldBounceY:"get_worldBounceY",set_worldBounceX:"set_worldBounceX",get_worldBounceX:"get_worldBounceX",set_useWorldBounce:"set_useWorldBounce",get_useWorldBounce:"get_useWorldBounce",set_bounceY:"set_bounceY",get_bounceY:"get_bounceY",set_bounceX:"set_bounceX",get_bounceX:"get_bounceX",set_dragY:"set_dragY",get_dragY:"get_dragY",set_dragX:"set_dragX",get_dragX:"get_dragX",set_allowDrag:"set_allowDrag",get_allowDrag:"get_allowDrag",set_accelerationY:"set_accelerationY",get_accelerationY:"get_accelerationY",set_accelerationX:"set_accelerationX",get_accelerationX:"get_accelerationX",set_maxVelocityY:"set_maxVelocityY",get_maxVelocityY:"get_maxVelocityY",set_maxVelocityX:"set_maxVelocityX",get_maxVelocityX:"get_maxVelocityX",set_velocityY:"set_velocityY",get_velocityY:"get_velocityY",set_velocityX:"set_velocityX",get_velocityX:"get_velocityX",set_forceX:"set_forceX",get_forceX:"get_forceX",set_immovable:"set_immovable",get_immovable:"get_immovable",set_allowRotation:"set_allowRotation",get_allowRotation:"get_allowRotation",get_body:"get_body",set_arcade:"set_arcade"})});var ceramic_Quad=function(){this.frameHeight=-1,this.frameWidth=-1,this.frameY=-1,this.frameX=-1,this._texture=null,this.tile=null,this.color=16777215,ceramic_Visual.call(this),this.asQuad=this};t["ceramic.Quad"]=ceramic_Quad,ceramic_Quad.__name__="ceramic.Quad",ceramic_Quad.__super__=ceramic_Visual,ceramic_Quad.prototype=$extend(ceramic_Visual.prototype,{color:null,get_transparent:function(){return 16==(16&this.flags)},set_transparent:function(e){return this.flags=e?16|this.flags:-17&this.flags,e},tile:null,set_tile:function(e){if(this.tile==e)return e;if(this.tile=e,null==e){var n=null;this._texture!=n&&this._set_texture(n)}else{if(this._texture!=e.texture){n=e.texture;this._texture!=n&&this._set_texture(n)}this.frameX=e.frameX+e.edgeInset,this.frameY=e.frameY+e.edgeInset;var t=e.frameWidth-2*e.edgeInset;this.frameWidth!=t&&(this.frameWidth=t,-1!=t&&this.set_width(t));var i=e.frameHeight-2*e.edgeInset;this.frameHeight!=i&&(this.frameHeight=i,-1!=i&&this.set_height(i)),this.set_width(e.frameWidth),this.set_height(e.frameHeight);var l=e.rotateFrame;this.flags=l?32|this.flags:-33&this.flags}return e},get_texture:function(){return this._texture},set_texture:function(e){return this._texture!=e&&this._set_texture(e),e},_texture:null,_set_texture:function(e){if(null!=this._texture&&(this._texture.offDestroy($bind(this,this.textureDestroyed)),null!=this._texture.asset&&this._texture.asset.release()),this._texture=e,null==e)this.frameX=-1,this.frameY=-1,-1!=this.frameWidth&&(this.frameWidth=-1),-1!=this.frameHeight&&(this.frameHeight=-1);else if(null!=this.tile){this.frameX=this.tile.frameX,this.frameY=this.tile.frameY;var n=this.tile.frameWidth;this.frameWidth!=n&&(this.frameWidth=n,-1!=n&&this.set_width(n));var t=this.tile.frameHeight;this.frameHeight!=t&&(this.frameHeight=t,-1!=t&&this.set_height(t)),e.onDestroy(this,$bind(this,this.textureDestroyed)),null!=e.asset&&e.asset.retain()}else{this.frameX=0,this.frameY=0;n=e.width;this.frameWidth!=n&&(this.frameWidth=n,-1!=n&&this.set_width(n));t=e.height;this.frameHeight!=t&&(this.frameHeight=t,-1!=t&&this.set_height(t)),e.onDestroy(this,$bind(this,this.textureDestroyed)),null!=e.asset&&e.asset.retain()}},frameX:null,frameY:null,frameWidth:null,set_frameWidth:function(e){return this.frameWidth==e||(this.frameWidth=e,-1!=e&&this.set_width(e)),e},frameHeight:null,set_frameHeight:function(e){return this.frameHeight==e||(this.frameHeight=e,-1!=e&&this.set_height(e)),e},get_rotateFrame:function(){return 32==(32&this.flags)},set_rotateFrame:function(e){return this.flags=e?32|this.flags:-33&this.flags,e},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2;null!=this._texture&&this._set_texture(null),this._lifecycleState=-1,ceramic_Visual.prototype.destroy.call(this)}},frame:function(e,n,t,i){this.frameX=e,this.frameY=n,this.frameWidth!=t&&(this.frameWidth=t,-1!=t&&this.set_width(t)),this.frameHeight!=i&&(this.frameHeight=i,-1!=i&&this.set_height(i))},isRegular:function(){this.matrixDirty&&this.computeMatrix();var e=this.get_width(),n=this.get_height();return this.matC*n==0&&this.matB*e==0&&this.matC*n==0&&this.matB*e==0},computeMatrix:function(){null!=this.parent&&this.parent.matrixDirty&&this.parent.computeMatrix(),(t=ceramic_Quad._matrix).a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0,this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1);var e=this.get_width(),n=this.get_height();if(this.translatesOnly)ceramic_Visual._matrix.tx+=this.x-this.anchorX*e,ceramic_Visual._matrix.ty+=this.y-this.anchorY*n;else{if((t=ceramic_Visual._matrix).tx+=-this.anchorX*e,t.ty+=-this.anchorY*n,t.changedDirty=!0,1!=this.scaleX||1!=this.scaleY){var t=ceramic_Visual._matrix,i=this.scaleX,l=this.scaleY;t.a*=i,t.b*=l,t.c*=i,t.d*=l,t.tx*=i,t.ty*=l,t.changedDirty=!0}if(0!=this.skewX||0!=this.skewY){var t=ceramic_Visual._matrix,s=.017453292519943295*this.skewX,r=.017453292519943295*this.skewY,a=ceramic_Transform._tmp;a.a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0;var c=Math.cos(r),h=Math.sin(r),u=-Math.sin(s),o=Math.cos(s);ceramic_Transform._tmp.a=1*c+-0*h,ceramic_Transform._tmp.b=0*c+1*h,ceramic_Transform._tmp.c=1*u+-0*o,ceramic_Transform._tmp.d=0*u+1*o;var _=ceramic_Transform._tmp,d=t.a*_.a+t.b*_.c;t.b=t.a*_.b+t.b*_.d,t.a=d;var b=t.c*_.a+t.d*_.c;t.d=t.c*_.b+t.d*_.d,t.c=b;var f=t.tx*_.a+t.ty*_.c+_.tx;t.ty=t.tx*_.b+t.ty*_.d+_.ty,t.tx=f,t.changedDirty=!0}if(0!=this.rotation){t=ceramic_Visual._matrix;var O=.017453292519943295*this.rotation,p=Math.cos(O),g=Math.sin(O);d=t.a*p-t.b*g;t.b=t.a*g+t.b*p,t.a=d;b=t.c*p-t.d*g;t.d=t.c*g+t.d*p,t.c=b;f=t.tx*p-t.ty*g;t.ty=t.tx*g+t.ty*p,t.tx=f,t.changedDirty=!0}(t=ceramic_Visual._matrix).tx+=this.x,t.ty+=this.y,t.changedDirty=!0}if(null!=this.transform){d=ceramic_Visual._matrix.a*this.transform.a+ceramic_Visual._matrix.b*this.transform.c;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.transform.b+ceramic_Visual._matrix.b*this.transform.d,ceramic_Visual._matrix.a=d;b=ceramic_Visual._matrix.c*this.transform.a+ceramic_Visual._matrix.d*this.transform.c;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.transform.b+ceramic_Visual._matrix.d*this.transform.d,ceramic_Visual._matrix.c=b;f=ceramic_Visual._matrix.tx*this.transform.a+ceramic_Visual._matrix.ty*this.transform.c+this.transform.tx;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.transform.b+ceramic_Visual._matrix.ty*this.transform.d+this.transform.ty,ceramic_Visual._matrix.tx=f}if(null!=this.parent&&null==this.renderTarget)if(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD)ceramic_Visual._matrix.tx+=this.parent.matTX,ceramic_Visual._matrix.ty+=this.parent.matTY;else if(this.translatesOnly&&null==this.transform){ceramic_Visual._matrix.a=this.parent.matA,ceramic_Visual._matrix.b=this.parent.matB,ceramic_Visual._matrix.c=this.parent.matC,ceramic_Visual._matrix.d=this.parent.matD;f=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=f}else{d=ceramic_Visual._matrix.a*this.parent.matA+ceramic_Visual._matrix.b*this.parent.matC;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.parent.matB+ceramic_Visual._matrix.b*this.parent.matD,ceramic_Visual._matrix.a=d;b=ceramic_Visual._matrix.c*this.parent.matA+ceramic_Visual._matrix.d*this.parent.matC;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.parent.matB+ceramic_Visual._matrix.d*this.parent.matD,ceramic_Visual._matrix.c=b;f=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=f}this.matA=ceramic_Visual._matrix.a,this.matB=ceramic_Visual._matrix.b,this.matC=ceramic_Visual._matrix.c,this.matD=ceramic_Visual._matrix.d,this.matTX=ceramic_Visual._matrix.tx,this.matTY=ceramic_Visual._matrix.ty,this.roundTranslation>0&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},textureDestroyed:function(e){null!=this._texture&&this._set_texture(null),this.set_tile(null)},__class__:ceramic_Quad,__properties__:$extend(ceramic_Visual.prototype.__properties__,{set_rotateFrame:"set_rotateFrame",get_rotateFrame:"get_rotateFrame",set_frameHeight:"set_frameHeight",set_frameWidth:"set_frameWidth",set_texture:"set_texture",get_texture:"get_texture",set_tile:"set_tile",set_transparent:"set_transparent",get_transparent:"get_transparent"})});var ceramic_Layer=function(){this.sizeDirty=!1,ceramic_Quad.call(this),this.flags|=16};t["ceramic.Layer"]=ceramic_Layer,ceramic_Layer.__name__="ceramic.Layer",ceramic_Layer.__super__=ceramic_Quad,ceramic_Layer.prototype=$extend(ceramic_Quad.prototype,{__cbOnResize:null,__cbOnceResize:null,__cbOnOwnerUnbindResize:null,__cbOnceOwnerUnbindResize:null,emitResize:function(e,n){this.willEmitResize(e,n);var t=0;if(null!=this.__cbOnResize&&(t+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(t+=this.__cbOnceResize.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnResize)for(var r=0,a=this.__cbOnResize.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnResize[c],++s):--t}if(null!=this.__cbOnceResize){var h=null,u=null;for(r=0,a=this.__cbOnceResize.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceResize[c],this.__cbOnceResize[c]=null;var o=this.__cbOnceOwnerUnbindResize[c];this.__cbOnceOwnerUnbindResize[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindResize[c]),u.push(this.__cbOnceResize[c])}this.__cbOnceOwnerUnbindResize=h,this.__cbOnceResize=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}this.didEmitResize(e,n)},onResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(n)},onceResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(n)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindResize[n])&&s(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindResize[n])&&s(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindResize[l])&&s()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindResize[l])&&s()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&this.__cbOnResize.length>0||null!=this.__cbOnceResize&&this.__cbOnceResize.length>0},sizeDirty:null,emitResizeIfNeeded:function(){this._lifecycleState<0||!this.sizeDirty||(this.sizeDirty=!1,this.emitResize(this.get_width(),this.get_height()))},willEmitResize:function(e,n){},didEmitResize:function(e,n){},set_width:function(e){return this._width==e||(ceramic_Quad.prototype.set_width.call(this,e),this.sizeDirty||(this.sizeDirty=!0,ceramic_App.app._onceImmediate($bind(this,this.emitResizeIfNeeded)))),e},set_height:function(e){return this._height==e||(ceramic_Quad.prototype.set_height.call(this,e),this.sizeDirty||(this.sizeDirty=!0,ceramic_App.app._onceImmediate($bind(this,this.emitResizeIfNeeded)))),e},unbindEvents:function(){ceramic_Quad.prototype.unbindEvents.call(this),this.offResize()},__class__:ceramic_Layer});var tracker_Observable=function(){};t["tracker.Observable"]=tracker_Observable,tracker_Observable.__name__="tracker.Observable",tracker_Observable.__isInterface__=!0;var ceramic_Scene=function(){this.paused=!1,this.autoUpdateWhenInactive=!1,this.autoUpdate=!0,this.isRootScene=!1,this.unobservedStatus=0,this.statusAutoruns=null,this._assets=null,this.observedDirty=!1,ceramic_Layer.call(this),this.flags|=16,ceramic_SceneSystem.get_shared().all.push(this)};t["ceramic.Scene"]=ceramic_Scene,ceramic_Scene.__name__="ceramic.Scene",ceramic_Scene.__interfaces__=[tracker_Observable],ceramic_Scene.__super__=ceramic_Layer,ceramic_Scene.prototype=$extend(ceramic_Layer.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,a=this.__cbOnObservedDirty.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[c],++s):--t}if(null!=this.__cbOnceObservedDirty){var h=null,u=null;for(r=0,a=this.__cbOnceObservedDirty.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceObservedDirty[c],this.__cbOnceObservedDirty[c]=null;var o=this.__cbOnceOwnerUnbindObservedDirty[c];this.__cbOnceOwnerUnbindObservedDirty[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindObservedDirty[c]),u.push(this.__cbOnceObservedDirty[c])}this.__cbOnceOwnerUnbindObservedDirty=h,this.__cbOnceObservedDirty=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},observedDirty:null,_assets:null,statusAutoruns:null,get_status:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.statusAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.statusAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedStatus},set_status:function(e){var n=this.unobservedStatus;if(this.unobservedStatus=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n);var t=this.statusAutoruns;if(null!=t){this.statusAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateStatus:function(){var e=this.unobservedStatus;this.emitStatusChange(e,e);var n=this.statusAutoruns;if(null!=n){this.statusAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedStatus:null,__cbOnStatusChange:null,__cbOnceStatusChange:null,__cbOnOwnerUnbindStatusChange:null,__cbOnceOwnerUnbindStatusChange:null,emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnStatusChange)for(var r=0,a=this.__cbOnStatusChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnStatusChange[c],++s):--t}if(null!=this.__cbOnceStatusChange){var h=null,u=null;for(r=0,a=this.__cbOnceStatusChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceStatusChange[c],this.__cbOnceStatusChange[c]=null;var o=this.__cbOnceOwnerUnbindStatusChange[c];this.__cbOnceOwnerUnbindStatusChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindStatusChange[c]),u.push(this.__cbOnceStatusChange[c])}this.__cbOnceOwnerUnbindStatusChange=h,this.__cbOnceStatusChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onStatusChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event statusChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStatusChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(n)},onceStatusChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event statusChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStatusChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(n)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStatusChange[n])&&s(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStatusChange[n])&&s(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStatusChange[l])&&s()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindStatusChange[l])&&s()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&this.__cbOnStatusChange.length>0||null!=this.__cbOnceStatusChange&&this.__cbOnceStatusChange.length>0},get_assets:function(){return null==this._assets&&this._lifecycleState>=0&&(this._assets=new ceramic_Assets),this._assets},set_assets:function(e){return this._assets=e},isRootScene:null,autoUpdate:null,autoUpdateWhenInactive:null,paused:null,_boot:function(){if(0==this.get_status())this.set_status(1),this.preload(),this.set_status(2),null!=this._assets&&this._assets.hasAnythingToLoad()?(this._assets.onceComplete(this,$bind(this,this._handleAssetsComplete)),this._assets.load(!1,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:76,className:"ceramic.Scene",methodName:"_boot"})):this.load($bind(this,this.internalCreate));else{var e=ceramic_App.app.logger,n=this.get_status();e.warning("Scene already booted! (status: "+(null==n?"null":g.toString(n))+")",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:65,className:"ceramic.Scene",methodName:"_boot"})}},internalCreate:function(){this.set_status(3),this.create(),this.fadeIn($bind(this,this._fadeInDone))},_fadeInDone:function(){},_handleAssetsComplete:function(e){e?this.load($bind(this,this.internalCreate)):ceramic_App.app.logger.error("Failed to load all scene assets!",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:106,className:"ceramic.Scene",methodName:"_handleAssetsComplete"})},willEmitResize:function(e,n){this.resize(e,n)},preload:function(){},load:function(e){this._lifecycleState>=0&&e()},create:function(){},ready:function(){},update:function(e){},resize:function(e,n){},_fadeIn:function(e){e()},_fadeOut:function(e){e()},fadeIn:function(e){var n=this;this.set_status(4),this._fadeIn((function(){n.set_status(5),n._lifecycleState>=0&&(n.ready(),e())}))},fadeOut:function(e){var n=this;this.set_status(6),this._fadeOut((function(){n.set_status(7),n._lifecycleState>=0&&e()}))},isReady:function(){switch(this.get_status()){case 0:case 1:case 2:case 3:case 4:return!1;case 5:return!0;case 6:case 7:return!1}},scheduleOnceReady:function(e,n){var t=this;if(this._lifecycleState<0)return ceramic_App.app.logger.warning("Cannot schedule callback on destroyed scene",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:256,className:"ceramic.Scene",methodName:"scheduleOnceReady"}),!1;switch(this.get_status()){case 0:case 1:case 2:case 3:case 4:return this.onceStatusChange(e,(function(i,l){t.scheduleOnceReady(e,n)})),!0;case 5:return n(),!0;case 6:case 7:var i=ceramic_App.app.logger,l=this.get_status();return i.warning("Cannot schedule callback on scene with status: "+(null==l?"null":g.toString(l)),{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:273,className:"ceramic.Scene",methodName:"scheduleOnceReady"}),!1}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,HxOverrides.remove(ceramic_SceneSystem.get_shared().all,this),null!=this._assets&&(this._assets.destroy(),this._assets=null),this._lifecycleState=-1,ceramic_Layer.prototype.destroy.call(this))},unbindEvents:function(){ceramic_Layer.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange()},__class__:ceramic_Scene,__properties__:$extend(ceramic_Layer.prototype.__properties__,{set_assets:"set_assets",get_assets:"get_assets",set_status:"set_status",get_status:"get_status"})});var DeathScreen=function(e){ceramic_Scene.call(this)};t.DeathScreen=DeathScreen,DeathScreen.__name__="DeathScreen",DeathScreen.__super__=ceramic_Scene,DeathScreen.prototype=$extend(ceramic_Scene.prototype,{score:null,preload:function(){this.get_assets().add(assets_Images.BACKGROUND_COLOR_FOREST),this.get_assets().add(assets_Fonts.KA_1)},create:function(){var e=new ceramic_Quad,n=this.get_assets().texture(assets_Images.BACKGROUND_COLOR_FOREST);e._texture!=n&&e._set_texture(n),e.set_width(this.get_width()),e.set_height(this.get_height()),e.set_depth(-100),this.add(e);var t=new ceramic_Text;t.set_font(this.get_assets().font(assets_Fonts.KA_1)),t.set_content("Game Over"),t.set_anchorX(.5),t.set_anchorY(.5),t.set_pointSize(50);var i=this.get_width()/2,l=this.get_height()/2;t.set_x(i),t.set_y(l),t.set_color(0),this.add(t);var s=new ceramic_Text;s.set_font(this.get_assets().font(assets_Fonts.KA_1)),s.set_content("Score: "+MainScene.score),s.set_anchorX(.5),s.set_anchorY(.5),s.set_pointSize(30);i=this.get_width()/2,l=.7*this.get_height();s.set_x(i),s.set_y(l),s.set_color(0),this.add(s);var r=new ceramic_Text;r.set_content("Press Enter to go back to the Main Menu."),r.set_anchorX(.5),r.set_anchorY(.5);i=this.get_width()/2,l=.9*this.get_height();r.set_x(i),r.set_y(l),this.add(r),ceramic_App.app.input.onKeyDown(this,(function(e){40==e.scanCode&&ceramic_App.app.get_scenes().set_main(new StartScreen)}))},__class__:DeathScreen});var EReg=function(e,n){this.r=new RegExp(e,n.split("u").join(""))};t.EReg=EReg,EReg.__name__="EReg",EReg.prototype={r:null,match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&e>=0&&e<this.r.m.length)return this.r.m[e];throw haxe_Exception.thrown("EReg::matched")},__class__:EReg};var HxOverrides=function(){};t.HxOverrides=HxOverrides,HxOverrides.__name__="HxOverrides",HxOverrides.strDate=function(e){switch(e.length){case 8:var n=e.split(":"),t=new Date;return t.setTime(0),t.setUTCHours(n[0]),t.setUTCMinutes(n[1]),t.setUTCSeconds(n[2]),t;case 10:n=e.split("-");return new Date(n[0],n[1]-1,n[2],0,0,0);case 19:var i=(n=e.split(" "))[0].split("-"),l=n[1].split(":");return new Date(i[0],i[1]-1,i[2],l[0],l[1],l[2]);default:throw haxe_Exception.thrown("Invalid date format : "+e)}},HxOverrides.cca=function(e,n){var t=e.charCodeAt(n);if(t==t)return t},HxOverrides.substr=function(e,n,t){if(null==t)t=e.length;else if(t<0){if(0!=n)return"";t=e.length+t}return e.substr(n,t)},HxOverrides.remove=function(e,n){var t=e.indexOf(n);return-1!=t&&(e.splice(t,1),!0)},HxOverrides.now=function(){return Date.now()};var IntIterator=function(e,n){this.min=e,this.max=n};t.IntIterator=IntIterator,IntIterator.__name__="IntIterator",IntIterator.prototype={min:null,max:null,hasNext:function(){return this.min<this.max},next:function(){return this.min++},__class__:IntIterator};var Main=function(){};t.Main=Main,Main.__name__="Main",Main.main=function(){Main.events=new backend_ClayEvents(Main.ready),new clay_Clay(Main.configure,Main.events)},Main.configure=function(n){if(n.window.backgroundSleep=.016666666666666666,n.render.webgl.version=2,e.navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)try{var t=require("electron").remote.require("./app.js");t.isCeramicRunner&&(backend_ElectronRunner.electronRunner=t)}catch(e){}if(null!=backend_ElectronRunner.electronRunner){document.getElementsByTagName("html")[0].className+=" in-electron-runner",ceramic_Logger._hasElectronRunner=!0;var i=console.log;console.log=function(e){backend_ElectronRunner.electronRunner.consoleLog(e),i(e)},window.addEventListener("error",(function(e){var n=e.error;if(n instanceof haxe_ValueException)n.get_stack();for(var t=(""+n.stack).split("\n"),i=t.length-1,l=-1!=navigator.platform.indexOf("Win");i>=0;){var s=t[i];s=StringTools.ltrim(s),s=StringTools.replace(s,"http://localhost:"+Std.string(backend_ElectronRunner.electronRunner.serverPort)+"/file:"+(l?"/":""),""),s=StringTools.replace(s,"http://localhost:"+Std.string(backend_ElectronRunner.electronRunner.serverPort)+"/",Std.string(backend_ElectronRunner.electronRunner.appFiles)+"/"),backend_ElectronRunner.electronRunner.consoleLog("[error] "+s),--i}}))}Main.project=new Project(ceramic_App.init()),Main.app=ceramic_App.app,null==backend_ElectronRunner.electronRunner&&Main.app.settings.get_fullscreen()&&Main.app.settings.set_fullscreen(!1),n.render.antialiasing=Main.app.settings.antialiasing,Main.app.settings.get_windowWidth()>0?n.window.width=Main.app.settings.get_windowWidth():Main.app.settings.get_targetWidth()>0&&(n.window.width=Main.app.settings.get_targetWidth()),Main.app.settings.get_windowHeight()>0?n.window.height=Main.app.settings.get_windowHeight():Main.app.settings.get_targetHeight()>0&&(n.window.height=Main.app.settings.get_targetHeight()),n.window.fullscreen=Main.app.settings.get_fullscreen(),n.window.resizable=Main.app.settings.resizable,n.window.title=Main.app.settings.get_title(),n.render.stencil=2,n.render.depth=16,Main.configureOrientation(),null!=Main.app.settings.backend.webParent?n.runtime.windowParent=Main.app.settings.backend.webParent:n.runtime.windowParent=window.document.getElementById("ceramic-app"),n.runtime.mouseUseBrowserWindowEvents=!0,Main.app.settings.backend.allowDefaultKeys&&(n.runtime.preventDefaultKeys=[]),Main.containerElId=null!=Main.app.settings.backend.webParent?Main.app.settings.backend.webParent.id:"ceramic-app",Main.containerWidth=0,Main.containerHeight=0,Main.containerPixelRatio=0,window.document.body.classList.add("ceramic-invisible"),window.requestAnimationFrame(Main._updateContainerSizeIfNeeded),null!=backend_ElectronRunner.electronRunner&&(null!=backend_ElectronRunner.electronRunner.ceramicSettings&&backend_ElectronRunner.electronRunner.ceramicSettings({trace:function(e){},title:Main.app.settings.get_title(),fullscreen:Main.app.settings.get_fullscreen(),resizable:Main.app.settings.resizable,targetWidth:Main.app.settings.get_windowWidth()>0?Main.app.settings.get_windowWidth():Main.app.settings.get_targetWidth(),targetHeight:Main.app.settings.get_windowHeight()>0?Main.app.settings.get_windowHeight():Main.app.settings.get_targetHeight()}),null!=backend_ElectronRunner.electronRunner.listenFullscreen&&backend_ElectronRunner.electronRunner.listenFullscreen((function(e){ceramic_App.app.settings.set_fullscreen(!0)}),(function(e){ceramic_App.app.settings.set_fullscreen(!1)})))},Main._updateContainerSizeIfNeeded=function(e){null==e&&(e=.016);var n=window.document.getElementById(Main.containerElId),t=window.document.getElementById("app");if(null!=n&&null!=t){var i=n.offsetWidth,l=n.offsetHeight,s=window.performance.now()/1e3;if(-1!=Main.lastResizeTime&&(i!=Main.lastNewWidth||l!=Main.lastNewHeight))return-1==Main.lastNewWidth&&-1==Main.lastNewHeight||window.document.body.classList.add("ceramic-invisible"),Main.lastResizeTime=s,Main.lastNewWidth=i,Main.lastNewHeight=l,void window.requestAnimationFrame(Main._updateContainerSizeIfNeeded);if(-1!=Main.lastResizeTime&&s-Main.lastResizeTime<.1)return void window.requestAnimationFrame(Main._updateContainerSizeIfNeeded);if(i!=Main.containerWidth||l!=Main.containerHeight||window.devicePixelRatio!=Main.containerPixelRatio){Main.containerWidth=i,Main.containerHeight=l,Main.containerPixelRatio=window.devicePixelRatio,t.style.width=Main.containerWidth+"px",t.style.height=Main.containerHeight+"px",t.width=Math.round(Main.containerWidth*window.devicePixelRatio),t.height=Math.round(Main.containerHeight*window.devicePixelRatio),Main.resizing++,-1!=Main.lastResizeTime&&window.document.body.classList.add("ceramic-invisible");var r;r=function(){0==Main.resizing&&Main.readyToDisplay&&window.document.body.classList.remove("ceramic-invisible")},window.setTimeout((function(){Main.resizing--,r()}),100),Main.lastResizeTime=s}}window.requestAnimationFrame(Main._updateContainerSizeIfNeeded)},Main._appLoaderCheckDisplayReady=function(e){Main._displayReady?e():Main._pendingDisplayReadyDone=e},Main.ready=function(){Main.app.backend.io.initKeyValueIfNeeded(),Main._displayReady=!1,Main.app.loaders.push(Main._appLoaderCheckDisplayReady);clay_opengl_web_GL.gl.getExtension("OES_standard_derivatives");null!=backend_ElectronRunner.electronRunner&&backend_ElectronRunner.electronRunner.ceramicReady();var e=null;e=window.setInterval((function(){var n=null!=Main.app.settings.backend.webParent?Main.app.settings.backend.webParent.id:"ceramic-app",t=window.document.getElementById(n);if(window.document.getElementById("app").offsetWidth==t.offsetWidth&&(Main.readyToDisplay=!0,window.clearInterval(e)),Main.readyToDisplay&&(0==Main.resizing&&window.document.body.classList.remove("ceramic-invisible"),Main._displayReady=!0,null!=Main._pendingDisplayReadyDone)){var i=Main._pendingDisplayReadyDone;Main._pendingDisplayReadyDone=null,i(),i=null}}),500)},Main.configureOrientation=function(){};var MainScene=function(){this.isDead=!1,this.pipeWaitSpawn=3,this.pipeSpeed=80,this.pipePos=l.DOWN,this.interval=3,ceramic_Scene.call(this)};t.MainScene=MainScene,MainScene.__name__="MainScene",MainScene.__super__=ceramic_Scene,MainScene.prototype=$extend(ceramic_Scene.prototype,{plr:null,pipes:null,interval:null,pipePos:null,pipeSpeed:null,pipeWaitSpawn:null,isDead:null,preload:function(){this.get_assets().add(assets_Images.PLAYERSHEET),this.get_assets().add(assets_Images.BACKGROUND_COLOR_FOREST),this.get_assets().add(assets_Images.PIPE_HEAD),this.get_assets().add(assets_Images.PIPE_TAIL)},create:function(){var e=this,n=new ceramic_Quad,t=this.get_assets().texture(assets_Images.BACKGROUND_COLOR_FOREST);n._texture!=t&&n._set_texture(t),n.set_width(this.get_width()),n.set_height(this.get_height()),n.set_depth(-100),this.add(n),this.pipes=[],this.plr=new Player;var i=this.plr,l=this.get_width()/4,s=this.get_height()/2;i.set_x(l),i.set_y(s),null==(i=this.plr).arcade&&i.initArcadePhysics(),null!=i.arcade.body&&(i.arcade.body.gravityY=600),this.add(this.plr),ceramic_App.app.input.onKeyDown(this,$bind(this,this.onDown)),ceramic_App.app.input.onKeyUp(this,$bind(this,this.onUp)),ceramic_App.app.arcade.onUpdate(this,(function(n){for(var t=0,i=e.pipes;t<i.length;){var l=i[t];++t,ceramic_App.app.arcade.world.collide(e.plr,l,(function(n,t){e.isDead=!0,haxe_Log.trace("yo",{fileName:"/home/sharpcdf/Documents/Projects/flappy/src/MainScene.hx",lineNumber:49,className:"MainScene",methodName:"create"})}))}}))},update:function(e){if(this.isDead&&(ceramic_App.app.arcade.world.isPaused=!0,ceramic_App.app.get_scenes().set_main(new DeathScreen(MainScene.score))),(this.plr.y<=0||this.plr.y>=this.get_height())&&(this.isDead=!0),1==this.plr.smach.get_state()&&this.plr.rotation>-30)(n=this.plr).set_rotation(n.rotation-50*e);else if(0==this.plr.smach.get_state()&&this.plr.rotation<30){var n;(n=this.plr).set_rotation(n.rotation+60*e)}for(var t=0,i=this.pipes;t<i.length;){var s=i[t];++t,s.x-s.get_width()/2<=0?(HxOverrides.remove(this.pipes,s),s.destroy(),MainScene.score+=1):s.set_x(s.x-this.pipeSpeed*e)}if(this.interval+=e,this.interval>=this.pipeWaitSpawn){this.interval-=this.pipeWaitSpawn;var r=new Pipe(this.get_assets().texture(assets_Images.PIPE_HEAD),this.get_assets().texture(assets_Images.PIPE_TAIL),this.pipePos),a=this.get_width()+r.get_width()/2,c=this.pipePos==l.UP?0:this.get_height();r.set_x(a),r.set_y(c),this.add(r),this.pipes.push(r),this.pipePos=this.pipePos==l.DOWN?l.UP:l.DOWN,this.pipeSpeed+=3,this.pipeWaitSpawn>1.3&&(this.pipeWaitSpawn-=.1)}},onDown:function(e){var n;44==e.scanCode&&(0==this.plr.smach.get_state()&&(this.plr.set_animation("flying"),null==(n=this.plr).arcade&&n.initArcadePhysics(),null!=n.arcade.body&&(n.arcade.body.gravityY=0),null==(n=this.plr).arcade&&n.initArcadePhysics(),null!=n.arcade.body&&(n.arcade.body.accelerationY=-500),this.plr.smach.set_state(1)))},onUp:function(e){var n;44==e.scanCode&&(1==this.plr.smach.get_state()&&(this.plr.set_animation("falling"),null==(n=this.plr).arcade&&n.initArcadePhysics(),null!=n.arcade.body&&(n.arcade.body.gravityY=600),null==(n=this.plr).arcade&&n.initArcadePhysics(),null!=n.arcade.body&&(n.arcade.body.accelerationY=0),this.plr.smach.set_state(0)))},__class__:MainScene}),Math.__name__="Math";var l=i.Pos={__ename__:"Pos",__constructs__:null,UP:{_hx_name:"UP",_hx_index:0,__enum__:"Pos",toString:$estr},DOWN:{_hx_name:"DOWN",_hx_index:1,__enum__:"Pos",toString:$estr}};l.__constructs__=[l.UP,l.DOWN];var Pipe=function(e,n,t){this.scene=ceramic_App.app.get_scenes().main,ceramic_Visual.call(this);var i=Std.random(this.scene.get_height()/n.height-10);i+=5,ceramic_App.app.logger.debug(i,{fileName:"/home/sharpcdf/Documents/Projects/flappy/src/Pipe.hx",lineNumber:17,className:"Pipe",methodName:"new"}),this.head=new ceramic_Quad,(s=this.head)._texture!=e&&s._set_texture(e);var s=this.head,r=e.height;s.set_width(e.width),s.set_height(r),(s=this.head).set_scaleX(1.5),s.set_scaleY(1.5),(s=this.head).set_anchorX(.5),s.set_anchorY(1),this.tail=new ceramic_Quad,(s=this.tail)._texture!=n&&s._set_texture(n);s=this.tail,r=n.height;s.set_width(n.width),s.set_height(r);var a=i;null==a&&(a=-1),(s=this.tail).set_scaleX(1.5),s.set_scaleY(-1!=a?a:1.5),(s=this.tail).set_anchorX(.5),s.set_anchorY(1);var c=this.tail.get_height()*i;this.set_anchorX(.5),this.set_anchorY(1);var h=this.head.get_width();r=c+this.head.get_height();this.set_width(h),this.set_height(r);s=this.head;var u=this.get_width()/2,o=this.get_height()-c;s.set_x(u),s.set_y(o);s=this.tail,u=this.get_width()/2,o=this.get_height();(s.set_x(u),s.set_y(o),t==l.UP)&&(this.set_anchorX(.5),this.set_anchorY(0),this.head.set_rotation(180),this.tail.set_rotation(180),(s=this.tail).set_x(this.get_width()/2),s.set_y(0),(s=this.head).set_x(this.get_width()/2),s.set_y(c));this.add(this.head),this.add(this.tail),this.initArcadePhysics(),null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.immovable=!0),null==this.arcade&&this.initArcadePhysics(),null!=this.arcade.body&&(this.arcade.body.allowGravity=!1),ceramic_App.app.logger.debug("width: "+this.get_width()+", height: "+this.get_height(),{fileName:"/home/sharpcdf/Documents/Projects/flappy/src/Pipe.hx",lineNumber:55,className:"Pipe",methodName:"new"}),ceramic_App.app.logger.debug("head.width: "+this.head.get_width()+", head.height: "+this.head.get_height()+"\ntail.width: "+this.tail.get_width()+", tail.height: "+this.tail.get_height(),{fileName:"/home/sharpcdf/Documents/Projects/flappy/src/Pipe.hx",lineNumber:56,className:"Pipe",methodName:"new"}),ceramic_App.app.logger.debug("tailtex w & h: "+n.width+", "+n.height+"\nheadtex w & h: "+e.width+", "+e.height+"\n\n\n",{fileName:"/home/sharpcdf/Documents/Projects/flappy/src/Pipe.hx",lineNumber:57,className:"Pipe",methodName:"new"}),ceramic_App.app.logger.debug("collision body x & y: "+(null!=this.arcade?this.arcade.body:null).x+", "+(null!=this.arcade?this.arcade.body:null).y+"\ncollision body width & height: "+(null!=this.arcade?this.arcade.body:null).width+", "+(null!=this.arcade?this.arcade.body:null).height,{fileName:"/home/sharpcdf/Documents/Projects/flappy/src/Pipe.hx",lineNumber:58,className:"Pipe",methodName:"new"})};t.Pipe=Pipe,Pipe.__name__="Pipe",Pipe.__super__=ceramic_Visual,Pipe.prototype=$extend(ceramic_Visual.prototype,{head:null,tail:null,scene:null,__class__:Pipe});var ceramic_SpriteBase=function(){this.currentAnimationFrame=null,this.currentAnimation=null,this.currentAnimationDirty=!1,this.time=0,this.loop=!0,this.paused=!1,this.autoUpdate=!0,this.sheet=null,this.animation=null,ceramic_Visual.call(this),this.quad=new ceramic_Quad,this.add(this.quad),ceramic_SpriteSystem.get_shared().sprites.push(this)};t["ceramic.SpriteBase"]=ceramic_SpriteBase,ceramic_SpriteBase.__name__="ceramic.SpriteBase",ceramic_SpriteBase.__super__=ceramic_Visual,ceramic_SpriteBase.prototype=$extend(ceramic_Visual.prototype,{get_region:function(){return null!=this.quad.tile?this.quad.tile:null},animationName:null,animation:null,set_animation:function(e){return this.animation==e||(this.animation=e,this.animationName=null==e?null:Std.string(e),this.time=0,this.currentAnimationDirty=!0),e},sheet:null,set_sheet:function(e){return this.sheet==e||(this.sheet=e,this.time=0,this.currentAnimationDirty=!0),e},set_width:function(e){return this._width==e||(ceramic_Visual.prototype.set_width.call(this,e),this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_height:function(e){return this._height==e||(ceramic_Visual.prototype.set_height.call(this,e),this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},autoUpdate:null,paused:null,loop:null,quad:null,time:null,currentAnimationDirty:null,currentAnimation:null,currentAnimationFrame:null,update:function(e){if(this.currentAnimationDirty){if(null!=this.sheet&&null!=this.animationName){var n=this.sheet.get_animations(),t=null;if(null!=n)for(var i=0,l=n.length;i<l;){var s=n[i++];if(s.get_name()==this.animationName){t=s;break}}null==t&&ceramic_App.app.logger.warning("Failed to find sprite animation: "+Std.string(this.animation),{fileName:"/home/sharpcdf/ceramic/plugins/sprite/runtime/src/ceramic/SpriteBase.hx",lineNumber:120,className:"ceramic.SpriteBase",methodName:"update"}),this.currentAnimation=t,this.currentAnimationFrame=null}else this.currentAnimation=null,this.currentAnimationFrame=null;this.currentAnimationDirty=!1}var r=null;if(null!=this.currentAnimation){var a=this.currentAnimation.get_frames();if(1==a.length)r=a[0];else{var c=0;for(i=0,l=a.length;i<l;){if((c+=(h=a[i++]).get_duration())>this.time){r=h;break}}if(null==r)if(this.loop){this.time%=c;for(i=0,l=a.length;i<l;){var h;if((c+=(h=a[i++]).get_duration())>this.time){r=h;break}}}else if(a.length>0){r=a[a.length-1]}}}this.currentAnimationFrame!=r&&(this.currentAnimationFrame=r,this.set_region(r.get_region())),this.time+=e},set_region:function(e){return this.quad.tile!=e&&(this.quad.set_tile(e),this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,null!=e&&null==this.currentAnimation&&(this.set_width(e.originalWidth*e.frameWidth/e.width),this.set_height(e.originalHeight*e.frameHeight/e.height),this.computeContent())),e},computeContent:function(){var e=null!=this.quad.tile?this.quad.tile:null;if(null!=e){this.quad.set_active(!0),this.quad.set_tile(e);var n=this.get_width()*this.quad.anchorX,t=this.get_height()*this.quad.anchorY,i=this.quad,l=t+e.offsetY*e.frameHeight/e.height;i.set_x(n+e.offsetX*e.frameWidth/e.width),i.set_y(l)}else{this.quad.set_active(!1);null!=(i=this.quad)._texture&&i._set_texture(null)}this.contentDirty=!1},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,HxOverrides.remove(ceramic_SpriteSystem.get_shared().sprites,this),this._lifecycleState=-1,ceramic_Visual.prototype.destroy.call(this))},__class__:ceramic_SpriteBase,__properties__:$extend(ceramic_Visual.prototype.__properties__,{set_sheet:"set_sheet",set_animation:"set_animation",set_region:"set_region",get_region:"get_region"})});var Player=function(){this.scene=ceramic_App.app.get_scenes().main,ceramic_SpriteBase.call(this),this.set_smach(new ceramic_StateMachine_$State_$Player),this.initArcadePhysics(),this.set_sheet(new ceramic_SpriteSheet),this.sheet.set_texture(this.scene.get_assets().texture(assets_Images.PLAYERSHEET)),(e=this.sheet).set_gridWidth(64),e.set_gridHeight(64),this.sheet._addGridAnimation("falling",[0],0),this.sheet._addGridAnimation("flying",[1],0),this.set_width(31),this.set_height(34),this.set_anchorX(.5),this.set_anchorY(.5),(e=this.quad).set_anchorX(.5),e.set_anchorY(.5);var e=this.quad,n=this.get_width()/2,t=this.get_height()/2;e.set_x(n),e.set_y(t),this.set_animation("falling"),this.smach.set_state(0),ceramic_App.app.logger.debug("width, height: "+this.get_width()+", "+this.get_height(),{fileName:"/home/sharpcdf/Documents/Projects/flappy/src/Player.hx",lineNumber:41,className:"Player",methodName:"new"}),ceramic_App.app.logger.debug("quad.width, quad.height: "+this.quad.get_width()+", "+this.quad.get_height(),{fileName:"/home/sharpcdf/Documents/Projects/flappy/src/Player.hx",lineNumber:42,className:"Player",methodName:"new"})};t.Player=Player,Player.__name__="Player",Player.__super__=ceramic_SpriteBase,Player.prototype=$extend(ceramic_SpriteBase.prototype,{scene:null,smach:null,set_smach:function(e){return this.smach==e?this.smach:(null!=this.smach&&this.smach.destroy(),this.smach=e,null!=this.smach?(this.component("smach",this.smach),this.smach):(this.removeComponent("smach"),null))},__class__:Player,__properties__:$extend(ceramic_SpriteBase.prototype.__properties__,{set_smach:"set_smach"})});var Project=function(e){ceramic_Entity.call(this),e.settings.antialiasing=0,e.settings.set_background(0),e.settings.set_targetWidth(640),e.settings.set_targetHeight(480),e.settings.set_scaling(m.FIT),e.settings.resizable=!0,ceramic_App.app.onceReady(this,$bind(this,this.ready))};t.Project=Project,Project.__name__="Project",Project.__super__=ceramic_Entity,Project.prototype=$extend(ceramic_Entity.prototype,{ready:function(){ceramic_App.app.get_scenes().set_main(new StartScreen)},__class__:Project});var Reflect=function(){};t.Reflect=Reflect,Reflect.__name__="Reflect",Reflect.field=function(e,n){try{return e[n]}catch(e){return null}},Reflect.getProperty=function(e,n){var t;return null==e?null:!!e.__properties__&&(t=e.__properties__["get_"+n])?e[t]():e[n]},Reflect.setProperty=function(e,n,t){var i;!!e.__properties__&&(i=e.__properties__["set_"+n])?e[i](t):e[n]=t},Reflect.fields=function(e){var n=[];if(null!=e){var t=Object.prototype.hasOwnProperty;for(var i in e)"__id__"!=i&&"hx__closures__"!=i&&t.call(e,i)&&n.push(i)}return n},Reflect.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},Reflect.deleteField=function(e,n){return!!Object.prototype.hasOwnProperty.call(e,n)&&(delete e[n],!0)};var StartScreen=function(){ceramic_Scene.call(this)};t.StartScreen=StartScreen,StartScreen.__name__="StartScreen",StartScreen.__super__=ceramic_Scene,StartScreen.prototype=$extend(ceramic_Scene.prototype,{preload:function(){this.get_assets().add(assets_Fonts.KA_1),this.get_assets().add(assets_Images.BACKGROUND_COLOR_FOREST),this.get_assets().add(assets_Images.CURSOR)},create:function(){var e=new ceramic_Quad,n=this.get_assets().texture(assets_Images.BACKGROUND_COLOR_FOREST);e._texture!=n&&e._set_texture(n),e.set_width(this.get_width()),e.set_height(this.get_height()),e.set_depth(-100),this.add(e);var t=new ceramic_Text;t.set_font(this.get_assets().font(assets_Fonts.KA_1)),t.set_content("Flapus-Birdus"),t.set_anchorX(0),t.set_anchorY(.5);var i=.3*this.get_height();t.set_x(30),t.set_y(i),t.set_pointSize(35),t.set_color(0),this.add(t);var l=new ceramic_Quad;n=this.get_assets().texture(assets_Images.CURSOR);l._texture!=n&&l._set_texture(n),l.set_anchorX(0),l.set_anchorY(.5);i=.5*this.get_height();l.set_x(30),l.set_y(i),l.set_scaleX(.5),l.set_scaleY(.5),this.add(l);var s=new ceramic_Text;s.set_font(this.get_assets().font(assets_Fonts.KA_1)),s.set_content("Start!"),s.set_anchorX(0),s.set_anchorY(.5);var r=30+.6*l._texture.width;i=.5*this.get_height();s.set_x(r),s.set_y(i),s.set_pointSize(20),s.set_color(0),this.add(s),ceramic_App.app.input.onKeyDown(this,(function(e){40==e.scanCode&&ceramic_App.app.get_scenes().set_main(new MainScene)}))},__class__:StartScreen});var Std=function(){};t.Std=Std,Std.__name__="Std",Std.string=function(e){return js_Boot.__string_rec(e,"")},Std.parseInt=function(e){if(null!=e)for(var n=0,t=e.length;n<t;){var i=n++,l=e.charCodeAt(i);if(l<=8||l>=14&&32!=l&&45!=l){var s=e.charCodeAt(i+1),r=parseInt(e,120==s||88==s?16:10);return isNaN(r)?null:r}}return null},Std.random=function(e){return e<=0?0:Math.floor(Math.random()*e)};var StringBuf=function(){this.b=""};t.StringBuf=StringBuf,StringBuf.__name__="StringBuf",StringBuf.prototype={b:null,__class__:StringBuf};var StringTools=function(){};t.StringTools=StringTools,StringTools.__name__="StringTools",StringTools.htmlEscape=function(e,n){for(var t="",i=0,l=e;i<l.length;){var s=i++,r=(e=l).charCodeAt(s);r>=55296&&r<=56319&&(r=r-55232<<10|1023&e.charCodeAt(s+1));r>=65536&&++i;var a=r;switch(a){case 34:t+=n?"&quot;":String.fromCodePoint(a);break;case 38:t+="&amp;";break;case 39:t+=n?"&#039;":String.fromCodePoint(a);break;case 60:t+="&lt;";break;case 62:t+="&gt;";break;default:t+=String.fromCodePoint(a)}}return t},StringTools.startsWith=function(e,n){return e.length>=n.length&&0==e.lastIndexOf(n,0)},StringTools.endsWith=function(e,n){var t=n.length,i=e.length;return i>=t&&e.indexOf(n,i-t)==i-t},StringTools.isSpace=function(e,n){var t=HxOverrides.cca(e,n);return t>8&&t<14||32==t},StringTools.ltrim=function(e){for(var n=e.length,t=0;t<n&&StringTools.isSpace(e,t);)++t;return t>0?HxOverrides.substr(e,t,n-t):e},StringTools.rtrim=function(e){for(var n=e.length,t=0;t<n&&StringTools.isSpace(e,n-t-1);)++t;return t>0?HxOverrides.substr(e,0,n-t):e},StringTools.trim=function(e){return StringTools.ltrim(StringTools.rtrim(e))},StringTools.replace=function(e,n,t){return e.split(n).join(t)},StringTools.hex=function(e,n){for(var t="";t="0123456789ABCDEF".charAt(15&e)+t,(e>>>=4)>0;);if(null!=n)for(;t.length<n;)t="0"+t;return t};var s=i.ValueType={__ename__:"ValueType",__constructs__:null,TNull:{_hx_name:"TNull",_hx_index:0,__enum__:"ValueType",toString:$estr},TInt:{_hx_name:"TInt",_hx_index:1,__enum__:"ValueType",toString:$estr},TFloat:{_hx_name:"TFloat",_hx_index:2,__enum__:"ValueType",toString:$estr},TBool:{_hx_name:"TBool",_hx_index:3,__enum__:"ValueType",toString:$estr},TObject:{_hx_name:"TObject",_hx_index:4,__enum__:"ValueType",toString:$estr},TFunction:{_hx_name:"TFunction",_hx_index:5,__enum__:"ValueType",toString:$estr},TClass:(n=function(e){return{_hx_index:6,c:e,__enum__:"ValueType",toString:$estr}},n._hx_name="TClass",n.__params__=["c"],n),TEnum:(n=function(e){return{_hx_index:7,e:e,__enum__:"ValueType",toString:$estr}},n._hx_name="TEnum",n.__params__=["e"],n),TUnknown:{_hx_name:"TUnknown",_hx_index:8,__enum__:"ValueType",toString:$estr}};s.__constructs__=[s.TNull,s.TInt,s.TFloat,s.TBool,s.TObject,s.TFunction,s.TClass,s.TEnum,s.TUnknown];var Type=function(){};t.Type=Type,Type.__name__="Type",Type.createInstance=function(e,n){return new(Function.prototype.bind.apply(e,[null].concat(n)))},Type.createEnum=function(e,n,t){var i=Reflect.field(e,n);if(null==i)throw haxe_Exception.thrown("No such constructor "+n);if(Reflect.isFunction(i)){if(null==t)throw haxe_Exception.thrown("Constructor "+n+" need parameters");return i.apply(e,t)}if(null!=t&&0!=t.length)throw haxe_Exception.thrown("Constructor "+n+" does not need parameters");return i},Type.getInstanceFields=function(e){var n=[];for(var t in e.prototype)n.push(t);return HxOverrides.remove(n,"__class__"),HxOverrides.remove(n,"__properties__"),n},Type.typeof=function(e){switch(typeof e){case"boolean":return s.TBool;case"function":return e.__name__||e.__ename__?s.TObject:s.TFunction;case"number":return Math.ceil(e)==e%2147483648?s.TInt:s.TFloat;case"object":if(null==e)return s.TNull;var n=e.__enum__;if(null!=n)return s.TEnum(i[n]);var t=js_Boot.getClass(e);return null!=t?s.TClass(t):s.TObject;case"string":return s.TClass(String);case"undefined":return s.TNull;default:return s.TUnknown}},Type.enumParameters=function(e){var n=i[e.__enum__].__constructs__[e._hx_index].__params__;if(null!=n){for(var t=[],l=0;l<n.length;){var s=n[l];++l,t.push(e[s])}return t}return[]};var r={toString:function(e){switch(e){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}}},Xml=function(e){this.nodeType=e,this.children=[],this.attributeMap=new haxe_ds_StringMap};t.Xml=Xml,Xml.__name__="Xml",Xml.parse=function(e){return haxe_xml_Parser.parse(e)},Xml.createElement=function(e){var n=new Xml(Xml.Element);if(n.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeName=e,n},Xml.createPCData=function(e){var n=new Xml(Xml.PCData);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createCData=function(e){var n=new Xml(Xml.CData);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createComment=function(e){var n=new Xml(Xml.Comment);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createDocType=function(e){var n=new Xml(Xml.DocType);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createProcessingInstruction=function(e){var n=new Xml(Xml.ProcessingInstruction);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createDocument=function(){return new Xml(Xml.Document)},Xml.prototype={nodeType:null,nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,get:function(e){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));return this.attributeMap.h[e]},set:function(e,n){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));this.attributeMap.h[e]=n},exists:function(e){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,e)},attributes:function(){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));return new haxe_ds__$StringMap_StringMapKeyIterator(this.attributeMap.h)},elements:function(){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));for(var e=[],n=0,t=this.children;n<t.length;){var i=t[n];++n,i.nodeType==Xml.Element&&e.push(i)}return new haxe_iterators_ArrayIterator(e)},elementsNamed:function(e){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));for(var n=[],t=0,i=this.children;t<i.length;){var l,s=i[t];if(++t,s.nodeType==Xml.Element){if(s.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":r.toString(s.nodeType)));l=s.nodeName==e}else l=!1;l&&n.push(s)}return new haxe_iterators_ArrayIterator(n)},firstElement:function(){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));for(var e=0,n=this.children;e<n.length;){var t=n[e];if(++e,t.nodeType==Xml.Element)return t}return null},addChild:function(e){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));null!=e.parent&&e.parent.removeChild(e),this.children.push(e),e.parent=this},removeChild:function(e){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));return!!HxOverrides.remove(this.children,e)&&(e.parent=null,!0)},toString:function(){return haxe_xml_Printer.print(this)},__class__:Xml};var arcade_Body=function(e,n,t,i,l){null==l&&(l=0),this._dy=0,this._dx=0,this._sy=1,this._sx=1,this._reset=!0,this.movementCallback=null,this.onMoveComplete=null,this.moveEnd=null,this.moveTarget=null,this.moveDuration=0,this.moveDistance=0,this.moveTimer=0,this.stopVelocityOnCollide=!0,this.isMoving=!1,this.skipQuadTree=!1,this.dirty=!1,this.blockedRight=!1,this.blockedLeft=!1,this.blockedDown=!1,this.blockedUp=!1,this.blockedNone=!0,this.wasTouchingRight=!1,this.wasTouchingLeft=!1,this.wasTouchingDown=!1,this.wasTouchingUp=!1,this.wasTouchingNone=!0,this.touchingRight=!1,this.touchingLeft=!1,this.touchingDown=!1,this.touchingUp=!1,this.touchingNone=!0,this.checkCollisionRight=!0,this.checkCollisionLeft=!0,this.checkCollisionDown=!0,this.checkCollisionUp=!0,this.checkCollisionNone=!1,this.collideWorldBounds=!1,this.embedded=!1,this.overlapR=0,this.overlapY=0,this.overlapX=0,this.customSeparateY=!1,this.customSeparateX=!1,this.moves=!0,this.immovable=!1,this.facing=0,this.speed=0,this.angle=0,this.mass=1,this.maxAngularVelocity=1e3,this.angularDrag=0,this.angularAcceleration=0,this.angularVelocity=0,this.frictionY=0,this.frictionX=1,this.maxVelocityY=1e4,this.maxVelocityX=1e4,this.onOverlap=null,this.onCollide=null,this.onWorldBounds=null,this.worldBounceY=0,this.worldBounceX=0,this.useWorldBounce=!1,this.bounceY=0,this.bounceX=0,this.gravityY=0,this.gravityX=0,this.allowGravity=!0,this.dragY=0,this.dragX=0,this.allowDrag=!0,this.accelerationY=0,this.accelerationX=0,this.maxDeltaY=0,this.maxDeltaX=0,this.newVelocityY=0,this.newVelocityX=0,this.velocityY=0,this.velocityX=0,this.centerY=0,this.centerX=0,this.halfHeight=0,this.halfWidth=0,this.height=0,this.width=0,this.preRotation=0,this.rotation=0,this.allowRotation=!0,this.prevY=0,this.prevX=0,this.y=0,this.x=0,this.radius=0,this.isCircle=!1,this.forceX=!1,this.enable=!0,this.group=null,this.groups=null,this.index=-1,this.data=null,this.x=e,this.y=n,this.prevX=e,this.prevY=n,this.rotation=l,this.preRotation=l,this.width=t,this.height=i,this.halfWidth=Math.floor(.5*this.width),this.halfHeight=Math.floor(.5*this.height),this.centerX=this.x+this.halfWidth,this.centerY=this.y+this.halfHeight};t["arcade.Body"]=arcade_Body,arcade_Body.__name__="arcade.Body",arcade_Body.__interfaces__=[arcade_Collidable],arcade_Body.circleContains=function(e,n,t){return e.radius>0&&n>=e.x&&n<=e.x+e.width&&t>=e.y&&t<=e.y+e.height&&(e.x-n)*(e.x-n)+(e.y-t)*(e.y-t)<=e.radius*e.radius},arcade_Body.rectangleContains=function(e,n,t){return!(e.width<=0||e.height<=0)&&(n>=e.x&&n<e.x+e.width&&t>=e.y&&t<e.y+e.height)},arcade_Body.degToRad=function(e){return.017453292519943295*e},arcade_Body.radToDeg=function(e){return 57.29577951308232*e},arcade_Body.prototype={data:null,index:null,groups:null,group:null,set_group:function(e){return this.group==e||(null!=this.group&&this.group.remove(this),this.group=e,null!=this.group&&this.group.add(this)),e},enable:null,forceX:null,isCircle:null,radius:null,x:null,y:null,prevX:null,prevY:null,allowRotation:null,rotation:null,preRotation:null,width:null,height:null,halfWidth:null,halfHeight:null,centerX:null,centerY:null,velocityX:null,velocityY:null,newVelocityX:null,newVelocityY:null,maxDeltaX:null,maxDeltaY:null,accelerationX:null,accelerationY:null,allowDrag:null,dragX:null,dragY:null,allowGravity:null,gravityX:null,gravityY:null,bounceX:null,bounceY:null,useWorldBounce:null,worldBounceX:null,worldBounceY:null,onWorldBounds:null,emitWorldBounds:function(e,n,t,i,l){null!=this.onWorldBounds&&this.onWorldBounds(e,n,t,i,l)},onCollide:null,emitCollide:function(e,n){null!=this.onCollide&&this.onCollide(e,n)},onOverlap:null,emitOverlap:function(e,n){null!=this.onOverlap&&this.onOverlap(e,n)},maxVelocityX:null,maxVelocityY:null,frictionX:null,frictionY:null,angularVelocity:null,angularAcceleration:null,angularDrag:null,maxAngularVelocity:null,mass:null,angle:null,speed:null,facing:null,immovable:null,moves:null,customSeparateX:null,customSeparateY:null,overlapX:null,overlapY:null,overlapR:null,embedded:null,collideWorldBounds:null,checkCollisionNone:null,checkCollisionUp:null,checkCollisionDown:null,checkCollisionLeft:null,checkCollisionRight:null,touchingNone:null,touchingUp:null,touchingDown:null,touchingLeft:null,touchingRight:null,wasTouchingNone:null,wasTouchingUp:null,wasTouchingDown:null,wasTouchingLeft:null,wasTouchingRight:null,blockedNone:null,blockedUp:null,blockedDown:null,blockedLeft:null,blockedRight:null,dirty:null,skipQuadTree:null,isMoving:null,stopVelocityOnCollide:null,moveTimer:null,moveDistance:null,moveDuration:null,moveTarget:null,moveEnd:null,onMoveComplete:null,emitMoveComplete:function(e,n){null!=this.onMoveComplete&&this.onMoveComplete(e,n)},movementCallback:null,_reset:null,_sx:null,_sy:null,_dx:null,_dy:null,updateHalfSize:function(){this.halfWidth=Math.floor(.5*this.width),this.halfHeight=Math.floor(.5*this.height)},updateCenter:function(){this.centerX=this.x+this.halfWidth,this.centerY=this.y+this.halfHeight},updateSize:function(e,n){this.width==e&&this.height==n||(this.width=e,this.height=n,this.halfWidth=Math.floor(.5*this.width),this.halfHeight=Math.floor(.5*this.height),this._reset=!0)},preUpdate:function(e,n,t,i,l,s){if(null==s&&(s=0),this.enable){if(this.dirty=!0,this.wasTouchingNone=this.touchingNone,this.wasTouchingUp=this.touchingUp,this.wasTouchingDown=this.touchingDown,this.wasTouchingLeft=this.touchingLeft,this.wasTouchingRight=this.touchingRight,this.touchingNone=!0,this.touchingUp=!1,this.touchingDown=!1,this.touchingLeft=!1,this.touchingRight=!1,this.blockedNone=!0,this.blockedUp=!1,this.blockedDown=!1,this.blockedLeft=!1,this.blockedRight=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1,this.width==i&&this.height==l||(this.width=i,this.height=l,this.halfWidth=Math.floor(.5*this.width),this.halfHeight=Math.floor(.5*this.height),this._reset=!0),this.x=n,this.y=t,this.centerX=this.x+this.halfWidth,this.centerY=this.y+this.halfHeight,this.rotation=s,this.preRotation=this.rotation,this._reset&&(this.prevX=this.x,this.prevY=this.y),this.moves){if(this.allowRotation){var r=this.angularVelocity,a=this.angularAcceleration,c=this.angularDrag;null==(u=this.maxAngularVelocity)&&(u=1e4),0!=a&&(r+=a*e.elapsed),0!=c&&this.allowDrag&&(r-(c*=e.elapsed)>0?r-=c:r+c<0?r+=c:r=0),r>u?r=u:r<-u&&(r=-u);var h=r-this.angularVelocity;this.angularVelocity+=h,this.rotation+=this.angularVelocity*e.elapsed}r=this.velocityX,a=this.accelerationX,c=this.dragX;null==(u=this.maxVelocityX)&&(u=1e4),this.allowGravity&&(r+=(e.gravityX+this.gravityX)*e.elapsed),0!=a&&(r+=a*e.elapsed),0!=c&&this.allowDrag&&(r-(c*=e.elapsed)>0?r-=c:r+c<0?r+=c:r=0),r>u?r=u:r<-u&&(r=-u),this.velocityX=r;var u;r=this.velocityY,a=this.accelerationY,c=this.dragY;if(null==(u=this.maxVelocityY)&&(u=1e4),this.allowGravity&&(r+=(e.gravityY+this.gravityY)*e.elapsed),0!=a&&(r+=a*e.elapsed),0!=c&&this.allowDrag&&(r-(c*=e.elapsed)>0?r-=c:r+c<0?r+=c:r=0),r>u?r=u:r<-u&&(r=-u),this.velocityY=r,this.newVelocityX=this.velocityX*e.elapsed,this.newVelocityY=this.velocityY*e.elapsed,this.x+=this.newVelocityX,this.y+=this.newVelocityY,this.centerX=this.x+this.halfWidth,this.centerY=this.y+this.halfHeight,this.x==this.prevX&&this.y==this.prevY||(this.angle=Math.atan2(this.velocityY,this.velocityX)),this.speed=Math.sqrt(this.velocityX*this.velocityX+this.velocityY*this.velocityY),this.collideWorldBounds){this.x,this.y;var o=e.boundsX,_=e.boundsY,d=o+e.boundsWidth,b=_+e.boundsHeight,f=e.checkCollisionUp,O=e.checkCollisionDown,p=e.checkCollisionRight,g=e.checkCollisionLeft,m=this.useWorldBounce?-this.worldBounceX:-this.bounceX,v=this.useWorldBounce?-this.worldBounceY:-this.bounceY;this.x<o&&g?(this.x=o,this.velocityX*=m,this.blockedLeft=!0,this.blockedNone=!1):this.x+this.width>d&&p&&(this.x=d-this.width,this.velocityX*=m,this.blockedRight=!0,this.blockedNone=!1),this.y<_&&f?(this.y=_,this.velocityY*=v,this.blockedUp=!0,this.blockedNone=!1):this.y+this.height>b&&O&&(this.y=b-this.height,this.velocityY*=v,this.blockedDown=!0,this.blockedNone=!1),this.blockedNone||null!=this.onWorldBounds&&this.onWorldBounds(this,this.blockedUp,this.blockedDown,this.blockedLeft,this.blockedRight)}}this._dx=this.x-this.prevX,this._dy=this.y-this.prevY,this._reset=!1}},updateMovement:function(e){var n=0,t=0!=this.overlapX||0!=this.overlapY;if(this.moveDuration>0)this.moveTimer+=e.elapsedMS,n=this.moveTimer/this.moveDuration;else{this.moveTarget.x2=this.x,this.moveTarget.y2=this.y;var i=this.moveTarget;n=Math.sqrt((i.x2-i.x1)*(i.x2-i.x1)+(i.y2-i.y1)*(i.y2-i.y1))/this.moveDistance}var l=!1;null!=this.movementCallback&&(l=this.movementCallback(this,this.velocityX,this.velocityY,n));var s=!0;return(t||n>=1||l)&&(this.isMoving&&(this.isMoving=!1,(n>=1||this.stopVelocityOnCollide&&t)&&(this.velocityX=0,this.velocityY=0),null!=this.onMoveComplete&&this.onMoveComplete(this,0!=this.overlapX||0!=this.overlapY)),s=!1),s},stopMovement:function(e){this.isMoving&&(this.isMoving=!1,e&&(this.velocityX=0,this.velocityY=0),null!=this.onMoveComplete&&this.onMoveComplete(this,0!=this.overlapX||0!=this.overlapY))},postUpdate:function(e){if(this.enable&&this.dirty){if(this.isMoving){var n=0,t=0!=this.overlapX||0!=this.overlapY;if(this.moveDuration>0)this.moveTimer+=e.elapsedMS,n=this.moveTimer/this.moveDuration;else{this.moveTarget.x2=this.x,this.moveTarget.y2=this.y;var i=this.moveTarget;n=Math.sqrt((i.x2-i.x1)*(i.x2-i.x1)+(i.y2-i.y1)*(i.y2-i.y1))/this.moveDistance}var l=!1;null!=this.movementCallback&&(l=this.movementCallback(this,this.velocityX,this.velocityY,n));(t||n>=1||l)&&(this.isMoving&&(this.isMoving=!1,(n>=1||this.stopVelocityOnCollide&&t)&&(this.velocityX=0,this.velocityY=0),null!=this.onMoveComplete&&this.onMoveComplete(this,0!=this.overlapX||0!=this.overlapY)),!1)}this.dirty=!1,this.x-this.prevX<0?this.facing=1:this.x-this.prevX>0&&(this.facing=2),this.y-this.prevY<0?this.facing=3:this.y-this.prevY>0&&(this.facing=4),this.moves&&(this._dx=this.x-this.prevX,this._dy=this.y-this.prevY,0!=this.maxDeltaX&&0!=this._dx&&(this._dx<0&&this._dx<-this.maxDeltaX?this._dx=-this.maxDeltaX:this._dx>0&&this._dx>this.maxDeltaX&&(this._dx=this.maxDeltaX)),0!=this.maxDeltaY&&0!=this._dy&&(this._dy<0&&this._dy<-this.maxDeltaY?this._dy=-this.maxDeltaY:this._dy>0&&this._dy>this.maxDeltaY&&(this._dy=this.maxDeltaY)),this._reset=!0),this.centerX=this.x+this.halfWidth,this.centerY=this.y+this.halfHeight,this.prevX=this.x,this.prevY=this.y}},get_dx:function(){return this._dx},get_dy:function(){return this._dy},checkWorldBounds:function(e){this.x,this.y;var n=e.boundsX,t=e.boundsY,i=n+e.boundsWidth,l=t+e.boundsHeight,s=e.checkCollisionUp,r=e.checkCollisionDown,a=e.checkCollisionRight,c=e.checkCollisionLeft,h=this.useWorldBounce?-this.worldBounceX:-this.bounceX,u=this.useWorldBounce?-this.worldBounceY:-this.bounceY;return this.x<n&&c?(this.x=n,this.velocityX*=h,this.blockedLeft=!0,this.blockedNone=!1):this.x+this.width>i&&a&&(this.x=i-this.width,this.velocityX*=h,this.blockedRight=!0,this.blockedNone=!1),this.y<t&&s?(this.y=t,this.velocityY*=u,this.blockedUp=!0,this.blockedNone=!1):this.y+this.height>l&&r&&(this.y=l-this.height,this.velocityY*=u,this.blockedDown=!0,this.blockedNone=!1),!this.blockedNone},moveFrom:function(e,n,t){if(null==t&&(t=-999999999),null==n&&(n=-999999999),-999999999==n&&(n=this.speed),0==n)return!1;var i;if(-999999999==t?t=57.29577951308232*(i=this.angle):i=.017453292519943295*t,this.moveTimer=0,this.moveDuration=1e3*e,0==t||180==t)this.velocityX=Math.cos(i)*n,this.velocityY=0;else if(90==t||270==t)this.velocityX=0,this.velocityY=Math.sin(i)*n;else{var l=i,s=n;null==s&&(s=1),this.velocityX=Math.cos(l)*s,this.velocityY=Math.sin(l)*s}return this.isMoving=!0,!0},moveTo:function(e,n,t){null==t&&(t=-999999999);var i,l=n/e;if(0==l)return!1;-999999999==t?t=57.29577951308232*(i=this.angle):i=.017453292519943295*t,n=Math.abs(n),this.moveDuration=0,this.moveDistance=0|n,null==this.moveTarget&&(this.moveTarget=new arcade_Line(0,0,0,0),this.moveEnd=new arcade_Point(0,0));var s=this.moveTarget,r=this.x,a=this.y;if(s.x1=r,s.y1=a,s.x2=r+Math.cos(i)*n,s.y2=a+Math.sin(i)*n,this.moveEnd.x=this.moveTarget.x2,this.moveEnd.y=this.moveTarget.y2,this.moveTarget.x1=this.x,this.moveTarget.y1=this.y,this.moveTarget.x2=this.x,this.moveTarget.y2=this.y,0==t||180==t)this.velocityX=Math.cos(i)*l,this.velocityY=0;else if(90==t||270==t)this.velocityX=0,this.velocityY=Math.sin(i)*l;else{var c=i,h=l;null==h&&(h=1),this.velocityX=Math.cos(c)*h,this.velocityY=Math.sin(c)*h}return this.isMoving=!0,!0},setCircle:function(e){e>0?(this.isCircle=!0,this.radius=e,this.width=2*e,this.height=2*e,this.halfWidth=Math.floor(.5*this.width),this.halfHeight=Math.floor(.5*this.height),this.centerX=this.x+this.halfWidth,this.centerY=this.y+this.halfHeight):this.isCircle=!1},reset:function(e,n,t,i,l){null==l&&(l=0),this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this.x=e,this.y=n,this.prevX=this.x,this.prevY=this.y,this.rotation=l,this.preRotation=this.rotation,this.width==t&&this.height==i||(this.width=t,this.height=i,this.halfWidth=Math.floor(.5*this.width),this.halfHeight=Math.floor(.5*this.height),this._reset=!0),this.centerX=this.x+this.halfWidth,this.centerY=this.y+this.halfHeight},stop:function(){this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.speed=0,this.angularVelocity=0,this.angularAcceleration=0},hitTest:function(e,n){return this.isCircle?this.radius>0&&e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height&&(this.x-e)*(this.x-e)+(this.y-n)*(this.y-n)<=this.radius*this.radius:!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height)},isOnFloor:function(){return this.blockedDown},isOnCeiling:function(){return this.blockedUp},isOnWall:function(){return!!this.blockedLeft||this.blockedRight},deltaAbsX:function(){return this.x-this.prevX>0?this.x-this.prevX:-(this.x-this.prevX)},deltaAbsY:function(){return this.y-this.prevY>0?this.y-this.prevY:-(this.y-this.prevY)},deltaX:function(){return this.x-this.prevX},deltaY:function(){return this.y-this.prevY},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){if(null!=this.groups){for(var e=0,n=[].concat(this.groups);e<n.length;){var t=n[e];++e,t.remove(this)}this.groups=null}this.data=null},setVelocityToPolar:function(e,n,t){null==t&&(t=!1),null==n&&(n=1),t&&(e*=.017453292519943295),this.velocityX=Math.cos(e)*n,this.velocityY=Math.sin(e)*n},setAccelerationToPolar:function(e,n,t){null==t&&(t=!1),null==n&&(n=1),t&&(e*=.017453292519943295),this.accelerationX=Math.cos(e)*n,this.accelerationY=Math.sin(e)*n},get_left:function(){return this.x},get_top:function(){return this.y},get_right:function(){return this.x+this.width},get_bottom:function(){return this.y+this.height},toString:function(){return"Body("+this.x+","+this.y+","+(this.x+this.width)+","+(this.y+this.height)+")"},__class__:arcade_Body,__properties__:{get_bottom:"get_bottom",get_right:"get_right",get_top:"get_top",get_left:"get_left",get_dy:"get_dy",get_dx:"get_dx",set_group:"set_group"}};var arcade_Extensions=function(){};t["arcade.Extensions"]=arcade_Extensions,arcade_Extensions.__name__="arcade.Extensions",arcade_Extensions.unsafeGet=function(e,n){return e[n]},arcade_Extensions.unsafeSet=function(e,n,t){e[n]=t},arcade_Extensions.setArrayLength=function(e,n){e.length!=n&&(e.length>n?e.splice(n,e.length-n):e[n-1]=null)};var arcade_Group=function(){this.sortDirection=-1,this.objects=[]};t["arcade.Group"]=arcade_Group,arcade_Group.__name__="arcade.Group",arcade_Group.prototype={objects:null,sortDirection:null,add:function(e){(-1!=this.objects.indexOf(e)?haxe_Log.trace("[warning] Cannot add body "+Std.string(e)+" to group, already inside group",{fileName:"/home/sharpcdf/ceramic/git/arcade/arcade/Group.hx",lineNumber:19,className:"arcade.Group",methodName:"add"}):this.objects.push(e),null!=e.groups)?-1==e.groups.indexOf(this)&&e.groups.push(this):e.groups=[this]},remove:function(e){var n=this.objects.indexOf(e);if(-1!=n?this.objects.splice(n,1):haxe_Log.trace("[warning] Cannot remove body "+Std.string(e)+" from group, index is -1",{fileName:"/home/sharpcdf/ceramic/git/arcade/arcade/Group.hx",lineNumber:44,className:"arcade.Group",methodName:"remove"}),null!=e.groups){var t=e.groups.indexOf(this);-1!=t&&e.groups.splice(t,1)}},sortLeftRight:function(){var e=this.objects;arcade_SortBodiesLeftRight.rec(e,0,e.length)},sortRightLeft:function(){var e=this.objects;arcade_SortBodiesRightLeft.rec(e,0,e.length)},sortTopBottom:function(){var e=this.objects;arcade_SortBodiesTopBottom.rec(e,0,e.length)},sortBottomTop:function(){var e=this.objects;arcade_SortBodiesBottomTop.rec(e,0,e.length)},__class__:arcade_Group};var arcade_Line=function(e,n,t,i){this.y2=0,this.x2=0,this.y1=0,this.x1=0,this.x1=e,this.y1=n,this.x2=t,this.y2=i};t["arcade.Line"]=arcade_Line,arcade_Line.__name__="arcade.Line",arcade_Line.prototype={x1:null,y1:null,x2:null,y2:null,length:function(){return Math.sqrt((this.x2-this.x1)*(this.x2-this.x1)+(this.y2-this.y1)*(this.y2-this.y1))},fromAngle:function(e,n,t,i){this.x1=e,this.y1=n,this.x2=e+Math.cos(t)*i,this.y2=n+Math.sin(t)*i},__class__:arcade_Line};var arcade_Point=function(e,n){this.y=0,this.x=0,this.x=e,this.y=n};t["arcade.Point"]=arcade_Point,arcade_Point.__name__="arcade.Point",arcade_Point.degToRad=function(e){return.017453292519943295*e},arcade_Point.prototype={x:null,y:null,setToPolar:function(e,n,t){null==t&&(t=!1),null==n&&(n=1),t&&(e*=.017453292519943295),this.x=Math.cos(e)*n,this.y=Math.sin(e)*n},__class__:arcade_Point};var arcade_QuadTree=function(e,n,t,i,l,s,r,a){null==a&&(a=0),null==r&&(r=4),null==s&&(s=10),this._pool=null,this._empty=[],this.nodes=[],this.objects=[],this.boundsBottom=0,this.boundsRight=0,this.boundsSubHeight=0,this.boundsSubWidth=0,this.boundsHeight=0,this.boundsWidth=0,this.boundsY=0,this.boundsX=0,this.level=0,this.maxLevels=4,this.maxObjects=10,this.busy=!1,this._pool=null!=e?e:new arcade_QuadTreePool,this.reset(n,t,i,l,s,r,a)};t["arcade.QuadTree"]=arcade_QuadTree,arcade_QuadTree.__name__="arcade.QuadTree",arcade_QuadTree.prototype={busy:null,maxObjects:null,maxLevels:null,level:null,boundsX:null,boundsY:null,boundsWidth:null,boundsHeight:null,boundsSubWidth:null,boundsSubHeight:null,boundsRight:null,boundsBottom:null,objects:null,nodes:null,_empty:null,_pool:null,recycle:function(){this.clear(),this._pool.recycle(this)},reset:function(e,n,t,i,l,s,r){null==r&&(r=0),null==s&&(s=4),null==l&&(l=10),this.maxObjects=l,this.maxLevels=s,this.boundsX=Math.round(e),this.boundsY=Math.round(n),this.boundsWidth=t,this.boundsHeight=i,this.boundsSubWidth=Math.floor(t/2),this.boundsSubHeight=Math.floor(i/2),this.boundsRight=Math.round(e)+Math.floor(t/2),this.boundsBottom=Math.round(n)+Math.floor(i/2);for(var a=0,c=this.nodes.length;a<c;){var h=a++;this.nodes[h].recycle()}this.objects.splice(0,this.objects.length),this.nodes.splice(0,this.nodes.length)},_populate:function(e){for(var n=0,t=e.length;n<t;){var i=n++;this.insert(e[i])}},split:function(){this.nodes[0]=this._pool.create(this.boundsRight,this.boundsY,this.boundsSubWidth,this.boundsSubHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[1]=this._pool.create(this.boundsX,this.boundsY,this.boundsSubWidth,this.boundsSubHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[2]=this._pool.create(this.boundsX,this.boundsBottom,this.boundsSubWidth,this.boundsSubHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[3]=this._pool.create(this.boundsRight,this.boundsBottom,this.boundsSubWidth,this.boundsSubHeight,this.maxObjects,this.maxLevels,this.level+1)},insert:function(e){var n=0,t=-1;if(this.nodes.length>0&&-1!=(t=this.getIndex(e.x,e.y,e.x+e.width,e.y+e.height)))this.nodes[t].insert(e);else if(this.objects.push(e),this.objects.length>this.maxObjects&&this.level<this.maxLevels)for(null==this.nodes[0]&&this.split();n<this.objects.length;){var i=this.objects[n];-1!=(t=this.getIndex(i.x,i.y,i.x+i.width,i.y+i.height))?(this.objects.splice(n,1),this.nodes[t].insert(i)):++n}},getIndex:function(e,n,t,i){var l=-1;return t<this.boundsX||i<this.boundsY||e>this.boundsX+this.boundsWidth||n>this.boundsY+this.boundsHeight||(e<this.boundsRight&&t<this.boundsRight?n<this.boundsBottom&&i<this.boundsBottom?l=1:n>this.boundsBottom&&(l=2):e>this.boundsRight&&(n<this.boundsBottom&&i<this.boundsBottom?l=0:n>this.boundsBottom&&(l=3))),l},retrieve:function(e,n,t,i){var l=this.objects,s=this.getIndex(e,n,t,i);if(this.nodes.length>0)if(-1!=s)for(var r=0,a=(h=this.nodes[s].retrieve(e,n,t,i)).length;r<a;){var c=r++;l.push(h[c])}else{for(r=0,a=(h=this.nodes[0].retrieve(e,n,t,i)).length;r<a;){c=r++;l.push(h[c])}for(r=0,a=(h=this.nodes[1].retrieve(e,n,t,i)).length;r<a;){c=r++;l.push(h[c])}for(r=0,a=(h=this.nodes[2].retrieve(e,n,t,i)).length;r<a;){c=r++;l.push(h[c])}var h;for(r=0,a=(h=this.nodes[3].retrieve(e,n,t,i)).length;r<a;){c=r++;l.push(h[c])}}return l},clear:function(){for(var e=0,n=this.nodes.length;e<n;){var t=e++;this.nodes[t].recycle()}this.objects.splice(0,this.objects.length),this.nodes.splice(0,this.nodes.length)},__class__:arcade_QuadTree};var arcade_QuadTreePool=function(){this._nextPoolIndex=0,this._pool=[]};t["arcade.QuadTreePool"]=arcade_QuadTreePool,arcade_QuadTreePool.__name__="arcade.QuadTreePool",arcade_QuadTreePool.prototype={_pool:null,_nextPoolIndex:null,clearPool:function(){this._pool=[],this._nextPoolIndex=0},create:function(e,n,t,i,l,s,r){if(null==r&&(r=0),null==s&&(s=4),null==l&&(l=10),this._nextPoolIndex==this._pool.length){var a=new arcade_QuadTree(this,e,n,t,i,l,s,r);return this._pool.push(a),this._nextPoolIndex++,a}a=this._pool[this._nextPoolIndex];return this._nextPoolIndex++,a.reset(e,n,t,i,l,s,r),a},recycleAll:function(){this._nextPoolIndex=0},recycle:function(e){var n=this._pool.indexOf(e);if(-1==n)this._pool.push(e);else if(n<this._nextPoolIndex){for(;n<this._nextPoolIndex;)this._pool[n]=this._pool[n+1],++n;this._nextPoolIndex--,this._pool[this._nextPoolIndex]=e}},__class__:arcade_QuadTreePool};var arcade_SortBodiesLeftRight=function(){};t["arcade.SortBodiesLeftRight"]=arcade_SortBodiesLeftRight,arcade_SortBodiesLeftRight.__name__="arcade.SortBodiesLeftRight",arcade_SortBodiesLeftRight.cmp=function(e,n){return e.x-n.x>=0?1:-1},arcade_SortBodiesLeftRight.sort=function(e){arcade_SortBodiesLeftRight.rec(e,0,e.length)},arcade_SortBodiesLeftRight.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var l=n+1,s=t;l<s;)for(var r=l++;r>n&&(e[r].x-e[r-1].x>=0?1:-1)<0;){var a=r-1,c=e[a];e[a]=e[r],e[r]=c,--r}}else arcade_SortBodiesLeftRight.rec(e,n,i),arcade_SortBodiesLeftRight.rec(e,i,t),arcade_SortBodiesLeftRight.doMerge(e,n,i,t,i-n,t-i)},arcade_SortBodiesLeftRight.doMerge=function(e,n,t,i,l,s){var r,a,c,h;if(0!=l&&0!=s)if(l+s!=2){if(l>s){r=n+(c=l>>1);for(var u=i-(o=t);u>0;)(e[d=o+(_=u>>1)].x-e[r].x>=0?1:-1)<0?(o=d+1,u=u-_-1):u=_;h=(a=o)-t}else{a=t+(h=s>>1);var o,_,d;for(u=t-(o=n);u>0;)d=o+(_=u>>1),(e[a].x-e[d].x>=0?1:-1)<0?u=_:(o=d+1,u=u-_-1);c=(r=o)-n}var b;if(r!=t&&t!=a){for(var f=a-r,O=t-r;0!=O;){var p=f%O;f=O,O=p}for(b=f;0!=b--;){for(var g=e[r+b],m=t-r,v=r+b,y=r+b+m;y!=r+b;)e[v]=e[y],v=y,a-y>m?y+=m:y=r+(m-(a-y));e[v]=g}}var w=r+h;arcade_SortBodiesLeftRight.doMerge(e,n,r,w,c,h),arcade_SortBodiesLeftRight.doMerge(e,w,a,i,l-c,s-h)}else if((e[t].x-e[n].x>=0?1:-1)<0){var U=e[t];e[t]=e[n],e[n]=U}},arcade_SortBodiesLeftRight.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,s=t-n;0!=s;){var r=l%s;l=s,s=r}for(s=l;0!=s--;){for(var a=e[n+s],c=t-n,h=n+s,u=n+s+c;u!=n+s;)e[h]=e[u],h=u,i-u>c?u+=c:u=n+(c-(i-u));e[h]=a}}},arcade_SortBodiesLeftRight.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},arcade_SortBodiesLeftRight.upper=function(e,n,t,i){for(var l,s,r=t-n;r>0;)s=n+(l=r>>1),(e[i].x-e[s].x>=0?1:-1)<0?r=l:(n=s+1,r=r-l-1);return n},arcade_SortBodiesLeftRight.lower=function(e,n,t,i){for(var l,s,r=t-n;r>0;)(e[s=n+(l=r>>1)].x-e[i].x>=0?1:-1)<0?(n=s+1,r=r-l-1):r=l;return n},arcade_SortBodiesLeftRight.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},arcade_SortBodiesLeftRight.compare=function(e,n,t){return e[n].x-e[t].x>=0?1:-1};var arcade_SortBodiesRightLeft=function(){};t["arcade.SortBodiesRightLeft"]=arcade_SortBodiesRightLeft,arcade_SortBodiesRightLeft.__name__="arcade.SortBodiesRightLeft",arcade_SortBodiesRightLeft.cmp=function(e,n){return n.x-e.x>=0?1:-1},arcade_SortBodiesRightLeft.sort=function(e){arcade_SortBodiesRightLeft.rec(e,0,e.length)},arcade_SortBodiesRightLeft.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var l=n+1,s=t;l<s;)for(var r=l++;r>n&&(e[r-1].x-e[r].x>=0?1:-1)<0;){var a=r-1,c=e[a];e[a]=e[r],e[r]=c,--r}}else arcade_SortBodiesRightLeft.rec(e,n,i),arcade_SortBodiesRightLeft.rec(e,i,t),arcade_SortBodiesRightLeft.doMerge(e,n,i,t,i-n,t-i)},arcade_SortBodiesRightLeft.doMerge=function(e,n,t,i,l,s){var r,a,c,h;if(0!=l&&0!=s)if(l+s!=2){if(l>s){r=n+(c=l>>1);for(var u=i-(o=t);u>0;)d=o+(_=u>>1),(e[r].x-e[d].x>=0?1:-1)<0?(o=d+1,u=u-_-1):u=_;h=(a=o)-t}else{a=t+(h=s>>1);var o,_,d;for(u=t-(o=n);u>0;)(e[d=o+(_=u>>1)].x-e[a].x>=0?1:-1)<0?u=_:(o=d+1,u=u-_-1);c=(r=o)-n}var b;if(r!=t&&t!=a){for(var f=a-r,O=t-r;0!=O;){var p=f%O;f=O,O=p}for(b=f;0!=b--;){for(var g=e[r+b],m=t-r,v=r+b,y=r+b+m;y!=r+b;)e[v]=e[y],v=y,a-y>m?y+=m:y=r+(m-(a-y));e[v]=g}}var w=r+h;arcade_SortBodiesRightLeft.doMerge(e,n,r,w,c,h),arcade_SortBodiesRightLeft.doMerge(e,w,a,i,l-c,s-h)}else if((e[n].x-e[t].x>=0?1:-1)<0){var U=e[t];e[t]=e[n],e[n]=U}},arcade_SortBodiesRightLeft.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,s=t-n;0!=s;){var r=l%s;l=s,s=r}for(s=l;0!=s--;){for(var a=e[n+s],c=t-n,h=n+s,u=n+s+c;u!=n+s;)e[h]=e[u],h=u,i-u>c?u+=c:u=n+(c-(i-u));e[h]=a}}},arcade_SortBodiesRightLeft.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},arcade_SortBodiesRightLeft.upper=function(e,n,t,i){for(var l,s,r=t-n;r>0;)(e[s=n+(l=r>>1)].x-e[i].x>=0?1:-1)<0?r=l:(n=s+1,r=r-l-1);return n},arcade_SortBodiesRightLeft.lower=function(e,n,t,i){for(var l,s,r=t-n;r>0;)s=n+(l=r>>1),(e[i].x-e[s].x>=0?1:-1)<0?(n=s+1,r=r-l-1):r=l;return n},arcade_SortBodiesRightLeft.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},arcade_SortBodiesRightLeft.compare=function(e,n,t){return e[t].x-e[n].x>=0?1:-1};var arcade_SortBodiesTopBottom=function(){};t["arcade.SortBodiesTopBottom"]=arcade_SortBodiesTopBottom,arcade_SortBodiesTopBottom.__name__="arcade.SortBodiesTopBottom",arcade_SortBodiesTopBottom.cmp=function(e,n){return e.y-n.y>=0?1:-1},arcade_SortBodiesTopBottom.sort=function(e){arcade_SortBodiesTopBottom.rec(e,0,e.length)},arcade_SortBodiesTopBottom.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var l=n+1,s=t;l<s;)for(var r=l++;r>n&&(e[r].y-e[r-1].y>=0?1:-1)<0;){var a=r-1,c=e[a];e[a]=e[r],e[r]=c,--r}}else arcade_SortBodiesTopBottom.rec(e,n,i),arcade_SortBodiesTopBottom.rec(e,i,t),arcade_SortBodiesTopBottom.doMerge(e,n,i,t,i-n,t-i)},arcade_SortBodiesTopBottom.doMerge=function(e,n,t,i,l,s){var r,a,c,h;if(0!=l&&0!=s)if(l+s!=2){if(l>s){r=n+(c=l>>1);for(var u=i-(o=t);u>0;)(e[d=o+(_=u>>1)].y-e[r].y>=0?1:-1)<0?(o=d+1,u=u-_-1):u=_;h=(a=o)-t}else{a=t+(h=s>>1);var o,_,d;for(u=t-(o=n);u>0;)d=o+(_=u>>1),(e[a].y-e[d].y>=0?1:-1)<0?u=_:(o=d+1,u=u-_-1);c=(r=o)-n}var b;if(r!=t&&t!=a){for(var f=a-r,O=t-r;0!=O;){var p=f%O;f=O,O=p}for(b=f;0!=b--;){for(var g=e[r+b],m=t-r,v=r+b,y=r+b+m;y!=r+b;)e[v]=e[y],v=y,a-y>m?y+=m:y=r+(m-(a-y));e[v]=g}}var w=r+h;arcade_SortBodiesTopBottom.doMerge(e,n,r,w,c,h),arcade_SortBodiesTopBottom.doMerge(e,w,a,i,l-c,s-h)}else if((e[t].y-e[n].y>=0?1:-1)<0){var U=e[t];e[t]=e[n],e[n]=U}},arcade_SortBodiesTopBottom.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,s=t-n;0!=s;){var r=l%s;l=s,s=r}for(s=l;0!=s--;){for(var a=e[n+s],c=t-n,h=n+s,u=n+s+c;u!=n+s;)e[h]=e[u],h=u,i-u>c?u+=c:u=n+(c-(i-u));e[h]=a}}},arcade_SortBodiesTopBottom.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},arcade_SortBodiesTopBottom.upper=function(e,n,t,i){for(var l,s,r=t-n;r>0;)s=n+(l=r>>1),(e[i].y-e[s].y>=0?1:-1)<0?r=l:(n=s+1,r=r-l-1);return n},arcade_SortBodiesTopBottom.lower=function(e,n,t,i){for(var l,s,r=t-n;r>0;)(e[s=n+(l=r>>1)].y-e[i].y>=0?1:-1)<0?(n=s+1,r=r-l-1):r=l;return n},arcade_SortBodiesTopBottom.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},arcade_SortBodiesTopBottom.compare=function(e,n,t){return e[n].y-e[t].y>=0?1:-1};var arcade_SortBodiesBottomTop=function(){};t["arcade.SortBodiesBottomTop"]=arcade_SortBodiesBottomTop,arcade_SortBodiesBottomTop.__name__="arcade.SortBodiesBottomTop",arcade_SortBodiesBottomTop.cmp=function(e,n){return n.y-e.y>0?1:-1},arcade_SortBodiesBottomTop.sort=function(e){arcade_SortBodiesBottomTop.rec(e,0,e.length)},arcade_SortBodiesBottomTop.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var l=n+1,s=t;l<s;)for(var r=l++;r>n&&(e[r-1].y-e[r].y>0?1:-1)<0;){var a=r-1,c=e[a];e[a]=e[r],e[r]=c,--r}}else arcade_SortBodiesBottomTop.rec(e,n,i),arcade_SortBodiesBottomTop.rec(e,i,t),arcade_SortBodiesBottomTop.doMerge(e,n,i,t,i-n,t-i)},arcade_SortBodiesBottomTop.doMerge=function(e,n,t,i,l,s){var r,a,c,h;if(0!=l&&0!=s)if(l+s!=2){if(l>s){r=n+(c=l>>1);for(var u=i-(o=t);u>0;)d=o+(_=u>>1),(e[r].y-e[d].y>0?1:-1)<0?(o=d+1,u=u-_-1):u=_;h=(a=o)-t}else{a=t+(h=s>>1);var o,_,d;for(u=t-(o=n);u>0;)(e[d=o+(_=u>>1)].y-e[a].y>0?1:-1)<0?u=_:(o=d+1,u=u-_-1);c=(r=o)-n}var b;if(r!=t&&t!=a){for(var f=a-r,O=t-r;0!=O;){var p=f%O;f=O,O=p}for(b=f;0!=b--;){for(var g=e[r+b],m=t-r,v=r+b,y=r+b+m;y!=r+b;)e[v]=e[y],v=y,a-y>m?y+=m:y=r+(m-(a-y));e[v]=g}}var w=r+h;arcade_SortBodiesBottomTop.doMerge(e,n,r,w,c,h),arcade_SortBodiesBottomTop.doMerge(e,w,a,i,l-c,s-h)}else if((e[n].y-e[t].y>0?1:-1)<0){var U=e[t];e[t]=e[n],e[n]=U}},arcade_SortBodiesBottomTop.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,s=t-n;0!=s;){var r=l%s;l=s,s=r}for(s=l;0!=s--;){for(var a=e[n+s],c=t-n,h=n+s,u=n+s+c;u!=n+s;)e[h]=e[u],h=u,i-u>c?u+=c:u=n+(c-(i-u));e[h]=a}}},arcade_SortBodiesBottomTop.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},arcade_SortBodiesBottomTop.upper=function(e,n,t,i){for(var l,s,r=t-n;r>0;)(e[s=n+(l=r>>1)].y-e[i].y>0?1:-1)<0?r=l:(n=s+1,r=r-l-1);return n},arcade_SortBodiesBottomTop.lower=function(e,n,t,i){for(var l,s,r=t-n;r>0;)s=n+(l=r>>1),(e[i].y-e[s].y>0?1:-1)<0?(n=s+1,r=r-l-1):r=l;return n},arcade_SortBodiesBottomTop.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},arcade_SortBodiesBottomTop.compare=function(e,n,t){return e[t].y-e[n].y>0?1:-1};var arcade_World=function(e,n,t,i){this._total=0,this.elapsedMS=Math.round(16.666666666666668),this.elapsed=.016666666666666666,this.tileBias=16,this.maxObjectsWithoutQuadTree=10,this.quadTreePool=null,this.quadTrees=null,this.isPaused=!1,this.skipQuadTree=!1,this.sortDirection=1,this.forceX=!1,this.overlapBias=4,this.maxLevels=4,this.maxObjects=10,this.checkCollisionRight=!0,this.checkCollisionLeft=!0,this.checkCollisionDown=!0,this.checkCollisionUp=!0,this.checkCollisionNone=!1,this.boundsHeight=0,this.boundsWidth=0,this.boundsY=0,this.boundsX=0,this.gravityY=0,this.gravityX=0,this.boundsX=e,this.boundsY=n,this.boundsWidth=t,this.boundsHeight=i};t["arcade.World"]=arcade_World,arcade_World.__name__="arcade.World",arcade_World.distance=function(e,n,t,i){var l=t-e,s=i-n;return Math.sqrt(l*l+s*s)},arcade_World.clamp=function(e,n,t){return e<n?n:t<e?t:e},arcade_World.prototype={gravityX:null,gravityY:null,boundsX:null,boundsY:null,boundsWidth:null,boundsHeight:null,checkCollisionNone:null,checkCollisionUp:null,checkCollisionDown:null,checkCollisionLeft:null,checkCollisionRight:null,maxObjects:null,maxLevels:null,overlapBias:null,forceX:null,sortDirection:null,skipQuadTree:null,isPaused:null,quadTrees:null,quadTreePool:null,maxObjectsWithoutQuadTree:null,tileBias:null,elapsed:null,set_elapsed:function(e){return this.elapsed=e,this.elapsedMS=Math.round(1e3*e),e},elapsedMS:null,_total:null,getQuadTree:function(){null==this.quadTrees&&(this.quadTrees=[],this.quadTreePool=new arcade_QuadTreePool);for(var e=null,n=0,t=this.quadTrees.length;n<t;){var i=n++,l=this.quadTrees[i];if(!l.busy){e=l;break}}return null==e?(e=new arcade_QuadTree(this.quadTreePool,this.boundsX,this.boundsY,this.boundsWidth,this.boundsHeight,this.maxObjects,this.maxLevels),this.quadTrees.push(e)):(e.clear(),e.reset(this.boundsX,this.boundsY,this.boundsWidth,this.boundsHeight,this.maxObjects,this.maxLevels)),e.busy=!0,e},releaseQuadTree:function(e){e.busy=!1},setBounds:function(e,n,t,i){this.boundsX=e,this.boundsY=n,this.boundsWidth=t,this.boundsHeight=i},enableBody:function(e){},updateMotion:function(e){if(e.allowRotation){var n=e.angularVelocity,t=e.angularAcceleration,i=e.angularDrag;null==(s=e.maxAngularVelocity)&&(s=1e4),0!=t&&(n+=t*this.elapsed),0!=i&&e.allowDrag&&(n-(i*=this.elapsed)>0?n-=i:n+i<0?n+=i:n=0),n>s?n=s:n<-s&&(n=-s);var l=n-e.angularVelocity;e.angularVelocity+=l,e.rotation+=e.angularVelocity*this.elapsed}n=e.velocityX,t=e.accelerationX,i=e.dragX;null==(s=e.maxVelocityX)&&(s=1e4),e.allowGravity&&(n+=(this.gravityX+e.gravityX)*this.elapsed),0!=t&&(n+=t*this.elapsed),0!=i&&e.allowDrag&&(n-(i*=this.elapsed)>0?n-=i:n+i<0?n+=i:n=0),n>s?n=s:n<-s&&(n=-s),e.velocityX=n;var s;n=e.velocityY,t=e.accelerationY,i=e.dragY;null==(s=e.maxVelocityY)&&(s=1e4),e.allowGravity&&(n+=(this.gravityY+e.gravityY)*this.elapsed),0!=t&&(n+=t*this.elapsed),0!=i&&e.allowDrag&&(n-(i*=this.elapsed)>0?n-=i:n+i<0?n+=i:n=0),n>s?n=s:n<-s&&(n=-s),e.velocityY=n},computeVelocity:function(e,n,t,i,l,s){return null==s&&(s=1e4),1==e&&n.allowGravity?t+=(this.gravityX+n.gravityX)*this.elapsed:2==e&&n.allowGravity&&(t+=(this.gravityY+n.gravityY)*this.elapsed),0!=i&&(t+=i*this.elapsed),0!=l&&n.allowDrag&&(t-(l*=this.elapsed)>0?t-=l:t+l<0?t+=l:t=0),t>s?t=s:t<-s&&(t=-s),t},getCollidableType:function(e){var n=o.__class__;switch(n){case arcade_Body:return arcade_Body;case arcade_Group:return arcade_Group;default:return e instanceof arcade_Body?arcade_Body:e instanceof arcade_Group?arcade_Group:n}},overlap:function(e,n,t,i){if(null==n)return this.getCollidableType(e)==arcade_Group&&this.overlapGroupVsItself(e,t,i);switch(this.getCollidableType(e)){case arcade_Body:switch(this.getCollidableType(n)){case arcade_Body:return this.overlapBodyVsBody(e,n,t,i);case arcade_Group:return this.overlapBodyVsGroup(e,n,t,i)}break;case arcade_Group:switch(this.getCollidableType(n)){case arcade_Body:return this.overlapBodyVsGroup(n,e,t,i);case arcade_Group:return this.overlapGroupVsGroup(e,n,t,i)}}return!1},overlapBodyVsBody:function(e,n,t,i){return this._total=0,this.separate(e,n,i,!0)&&(null!=t&&t(e,n),this._total++),this._total>0},overlapGroupVsGroup:function(e,n,t,i){0==e.sortDirection||-1==e.sortDirection&&0==this.sortDirection||this.sort(e),0==n.sortDirection||-1==n.sortDirection&&0==this.sortDirection||this.sort(n),this._total=0;for(var l=e.objects,s=n.objects,r=0,a=l.length;r<a;)for(var c=l[r++],h=0,u=s.length;h<u;){var o=s[h++];c!=o&&this.separate(c,o,i,!0)&&(null!=t&&t(c,o),this._total++)}return this._total>0},overlapGroupVsItself:function(e,n,t){0==e.sortDirection||-1==e.sortDirection&&0==this.sortDirection||this.sort(e),this._total=0;for(var i=e.objects,l=0,s=i.length;l<s;)for(var r=i[l++],a=0,c=i.length;a<c;){var h=i[a++];r!=h&&this.separate(r,h,t,!0)&&(null!=n&&n(r,h),this._total++)}return this._total>0},overlapBodyVsGroup:function(e,n,t,i){0==n.sortDirection||-1==n.sortDirection&&0==this.sortDirection||this.sort(n),this._total=0;var l=n.objects,s=null;!this.skipQuadTree&&l.length>this.maxObjectsWithoutQuadTree&&((s=this.getQuadTree())._populate(l),l=s.retrieve(e.x,e.y,e.x+e.width,e.y+e.height));for(var r=0,a=l.length;r<a;){var c=l[r++];e!=c&&this.separate(e,c,i,!0)&&(null!=t&&t(e,c),this._total++)}return null!=s&&(s.busy=!1),this._total>0},collide:function(e,n,t,i){if(null==n)return this.getCollidableType(e)==arcade_Group&&this.collideGroupVsItself(e,t,i);switch(this.getCollidableType(e)){case arcade_Body:switch(this.getCollidableType(n)){case arcade_Body:return this.collideBodyVsBody(e,n,t,i);case arcade_Group:return this.collideBodyVsGroup(e,n,t,i)}break;case arcade_Group:switch(this.getCollidableType(n)){case arcade_Body:return this.collideBodyVsGroup(n,e,t,i);case arcade_Group:return this.collideGroupVsGroup(e,n,t,i)}}return!1},collideBodyVsBody:function(e,n,t,i){return this._total=0,this.separate(e,n,i,!1)&&(null!=t&&t(e,n),this._total++),this._total>0},collideGroupVsGroup:function(e,n,t,i){0==e.sortDirection||-1==e.sortDirection&&0==this.sortDirection||this.sort(e),0==n.sortDirection||-1==n.sortDirection&&0==this.sortDirection||this.sort(n),this._total=0;for(var l=e.objects,s=n.objects,r=0,a=l.length;r<a;)for(var c=l[r++],h=0,u=s.length;h<u;){var o=s[h++];c!=o&&this.separate(c,o,i,!1)&&(null!=t&&t(c,o),this._total++)}return this._total>0},collideGroupVsItself:function(e,n,t){0==e.sortDirection||-1==e.sortDirection&&0==this.sortDirection||this.sort(e),this._total=0;for(var i=e.objects,l=0,s=i.length;l<s;)for(var r=i[l++],a=0,c=i.length;a<c;){var h=i[a++];r!=h&&this.separate(r,h,t,!1)&&(null!=n&&n(r,h),this._total++)}return this._total>0},collideBodyVsGroup:function(e,n,t,i){0==n.sortDirection||-1==n.sortDirection&&0==this.sortDirection||this.sort(n),this._total=0;var l=n.objects,s=null;!this.skipQuadTree&&l.length>this.maxObjectsWithoutQuadTree&&((s=this.getQuadTree())._populate(l),l=s.retrieve(e.x,e.y,e.x+e.width,e.y+e.height));for(var r=0,a=l.length;r<a;){var c=l[r++];e!=c&&this.separate(e,c,i,!1)&&(null!=t&&t(e,c),this._total++)}return null!=s&&(s.busy=!1),this._total>0},sort:function(e,n){null==n&&(n=-1),-1!=e.sortDirection?n=e.sortDirection:-1==n&&(n=this.sortDirection),1==n?e.sortLeftRight():2==n?e.sortRightLeft():3==n?e.sortTopBottom():4==n&&e.sortBottomTop()},separate:function(e,n,t,i){if(!e.enable||!n.enable||e.checkCollisionNone||n.checkCollisionNone||!this.intersects(e,n))return!1;if(null!=t&&0==t(e,n))return!1;if(e.isCircle&&n.isCircle)return this.separateCircle(e,n,i);if(e.isCircle!=n.isCircle){var l=e.isCircle?n:e,s=e.isCircle?e:n,r=l.x,a=l.y,c=l.x+l.width,h=l.y+l.height,u=s.centerX,o=s.centerY;if((o<a||o>h)&&(u<r||u>c))return this.separateCircle(e,n,i)}var _=!1,d=!1;this.forceX||e.forceX||n.forceX||Math.abs(this.gravityY+e.gravityY)<Math.abs(this.gravityX+e.gravityX)?(_=this.separateX(e,n,i),this.intersects(e,n)&&(d=this.separateY(e,n,i))):(d=this.separateY(e,n,i),this.intersects(e,n)&&(_=this.separateX(e,n,i)));var b=_||d;return b&&(i?(null!=e.onOverlap&&e.onOverlap(e,n),null!=n.onOverlap&&n.onOverlap(n,e)):(null!=e.onCollide&&e.onCollide(e,n),null!=n.onCollide&&n.onCollide(n,e))),b},intersects:function(e,n){if(e==n)return!1;if(e.isCircle){if(n.isCircle){var t=n.centerX-e.centerX,i=n.centerY-e.centerY;return Math.sqrt(t*t+i*i)<=e.halfWidth+n.halfWidth}return this.circleBodyIntersects(e,n)}return n.isCircle?this.circleBodyIntersects(n,e):!(e.x+e.width<=n.x)&&(!(e.y+e.height<=n.y)&&(!(e.x>=n.x+n.width)&&!(e.y>=n.y+n.height)))},circleBodyIntersects:function(e,n){var t=e.centerX,i=n.x,l=n.x+n.width,s=t<i?i:l<t?l:t,r=(t=e.centerY,i=n.y,l=n.y+n.height,t<i?i:l<t?l:t);return(e.centerX-s)*(e.centerX-s)+(e.centerY-r)*(e.centerY-r)<=e.halfWidth*e.halfWidth},separateCircle:function(e,n,t){this.getOverlapX(e,n),this.getOverlapY(e,n);var i=n.centerX-e.centerX,l=n.centerY-e.centerY,s=Math.atan2(l,i),r=0;if(e.isCircle!=n.isCircle){var a=n.isCircle?e.x:n.x,c=n.isCircle?e.y:n.y,h=n.isCircle?e.x+e.width:n.x+n.width,u=n.isCircle?e.y+e.height:n.y+n.height,o=e.isCircle?e.centerX:n.centerX,_=e.isCircle?e.centerY:n.centerY,d=e.isCircle?e.halfWidth:n.halfWidth;if(_<c){if(o<a){i=a-o,l=c-_;r=Math.sqrt(i*i+l*l)-d}else if(o>h){i=h-o,l=c-_;r=Math.sqrt(i*i+l*l)-d}}else if(_>u)if(o<a){i=a-o,l=u-_;r=Math.sqrt(i*i+l*l)-d}else if(o>h){i=h-o,l=u-_;r=Math.sqrt(i*i+l*l)-d}r*=-1}else{i=n.centerX-e.centerX,l=n.centerY-e.centerY;r=e.halfWidth+n.halfWidth-Math.sqrt(i*i+l*l)}if(t||0==r||e.immovable&&n.immovable||e.customSeparateX||n.customSeparateX)return 0!=r&&(null!=e.onOverlap&&e.onOverlap(e,n),null!=n.onOverlap&&n.onOverlap(n,e)),0!=r;var b=e.velocityX*Math.cos(s)+e.velocityY*Math.sin(s),f=-e.velocityX*Math.sin(s)+e.velocityY*Math.cos(s),O=n.velocityX*Math.cos(s)+n.velocityY*Math.sin(s),p=-n.velocityX*Math.sin(s)+n.velocityY*Math.cos(s),g=((e.mass-n.mass)*b+2*n.mass*O)/(e.mass+n.mass),m=(2*e.mass*b+(n.mass-e.mass)*O)/(e.mass+n.mass);return e.immovable||(e.velocityX=(g*Math.cos(s)-f*Math.sin(s))*e.bounceX,e.velocityY=(f*Math.cos(s)+g*Math.sin(s))*e.bounceY),n.immovable||(n.velocityX=(m*Math.cos(s)-p*Math.sin(s))*n.bounceX,n.velocityY=(p*Math.cos(s)+m*Math.sin(s))*n.bounceY),Math.abs(s)<1.5707963267948966?e.velocityX>0&&!e.immovable&&n.velocityX>e.velocityX?e.velocityX*=-1:n.velocityX<0&&!n.immovable&&e.velocityX<n.velocityX?n.velocityX*=-1:e.velocityY>0&&!e.immovable&&n.velocityY>e.velocityY?e.velocityY*=-1:n.velocityY<0&&!n.immovable&&e.velocityY<n.velocityY&&(n.velocityY*=-1):Math.abs(s)>1.5707963267948966&&(e.velocityX<0&&!e.immovable&&n.velocityX<e.velocityX?e.velocityX*=-1:n.velocityX>0&&!n.immovable&&e.velocityX>n.velocityX?n.velocityX*=-1:e.velocityY<0&&!e.immovable&&n.velocityY<e.velocityY?e.velocityY*=-1:n.velocityY>0&&!n.immovable&&e.velocityX>n.velocityY&&(n.velocityY*=-1)),e.immovable||(e.x+=e.velocityX*this.elapsed-r*Math.cos(s),e.y+=e.velocityY*this.elapsed-r*Math.sin(s)),n.immovable||(n.x+=n.velocityX*this.elapsed+r*Math.cos(s),n.y+=n.velocityY*this.elapsed+r*Math.sin(s)),null!=e.onCollide&&e.onCollide(e,n),null!=n.onCollide&&n.onCollide(n,e),!0},getOverlapX:function(e,n,t){null==t&&(t=!1);var i=0,l=(e.x-e.prevX>0?e.x-e.prevX:-(e.x-e.prevX))+(n.x-n.prevX>0?n.x-n.prevX:-(n.x-n.prevX))+this.overlapBias;return e.x-e.prevX==0&&n.x-n.prevX==0?(e.embedded=!0,n.embedded=!0):e.x-e.prevX>n.x-n.prevX?(i=e.x+e.width-n.x)>l&&!t||0==e.checkCollisionRight||0==n.checkCollisionLeft?i=0:(e.touchingNone=!1,e.touchingRight=!0,n.touchingNone=!1,n.touchingLeft=!0,t||(e.immovable&&(n.blockedLeft=!0,n.blockedNone=!1),n.immovable&&(e.blockedRight=!0,e.blockedNone=!1))):e.x-e.prevX<n.x-n.prevX&&(-(i=e.x-n.width-n.x)>l&&!t||0==e.checkCollisionLeft||0==n.checkCollisionRight?i=0:(e.touchingNone=!1,e.touchingLeft=!0,n.touchingNone=!1,n.touchingRight=!0,t||(e.immovable&&(n.blockedRight=!0,n.blockedNone=!1),n.immovable&&(e.blockedLeft=!0,e.blockedNone=!1)))),e.overlapX=i,n.overlapX=i,i},getOverlapY:function(e,n,t){null==t&&(t=!1);var i=0,l=(e.y-e.prevY>0?e.y-e.prevY:-(e.y-e.prevY))+(n.y-n.prevY>0?n.y-n.prevY:-(n.y-n.prevY))+this.overlapBias;return e.y-e.prevY==0&&n.y-n.prevY==0?(e.embedded=!0,n.embedded=!0):e.y-e.prevY>n.y-n.prevY?(i=e.y+e.height-n.y)>l&&!t||0==e.checkCollisionDown||0==n.checkCollisionUp?i=0:(e.touchingNone=!1,e.touchingDown=!0,n.touchingNone=!1,n.touchingUp=!0,t||(e.immovable&&(n.blockedUp=!0,n.blockedNone=!1),n.immovable&&(e.blockedDown=!0,e.blockedNone=!1))):e.y-e.prevY<n.y-n.prevY&&(-(i=e.y-(n.y+n.height))>l&&!t||0==e.checkCollisionUp||0==n.checkCollisionDown?i=0:(e.touchingNone=!1,e.touchingUp=!0,n.touchingNone=!1,n.touchingDown=!0,t||(e.immovable&&(n.blockedDown=!0,n.blockedNone=!1),n.immovable&&(e.blockedUp=!0,e.blockedNone=!1)))),e.overlapY=i,n.overlapY=i,i},separateX:function(e,n,t){var i=this.getOverlapX(e,n,t);if(t||0==i||e.immovable&&n.immovable||e.customSeparateX||n.customSeparateX)return 0!=i||!!e.embedded&&n.embedded;var l=e.velocityX,s=n.velocityX;if(e.immovable||n.immovable)e.immovable?(n.x+=i,n.velocityX=l-s*n.bounceX,e.moves&&(n.y+=(e.y-e.prevY)*e.frictionY)):(e.x-=i,e.velocityX=s-l*e.bounceX,n.moves&&(e.y+=(n.y-n.prevY)*n.frictionY));else{i*=.5,e.x-=i,n.x+=i;var r=Math.sqrt(s*s*n.mass/e.mass)*(s>0?1:-1),a=Math.sqrt(l*l*e.mass/n.mass)*(l>0?1:-1),c=.5*(r+a);r-=c,a-=c,e.velocityX=c+r*e.bounceX,n.velocityX=c+a*n.bounceX}return!0},separateY:function(e,n,t){var i=this.getOverlapY(e,n,t);if(t||0==i||e.immovable&&n.immovable||e.customSeparateY||n.customSeparateY)return 0!=i||!!e.embedded&&n.embedded;var l=e.velocityY,s=n.velocityY;if(e.immovable||n.immovable)e.immovable?(n.y+=i,n.velocityY=l-s*n.bounceY,e.moves&&(n.x+=(e.x-e.prevX)*e.frictionX)):(e.y-=i,e.velocityY=s-l*e.bounceY,n.moves&&(e.x+=(n.x-n.prevX)*n.frictionX));else{i*=.5,e.y-=i,n.y+=i;var r=Math.sqrt(s*s*n.mass/e.mass)*(s>0?1:-1),a=Math.sqrt(l*l*e.mass/n.mass)*(l>0?1:-1),c=.5*(r+a);r-=c,a-=c,e.velocityY=c+r*e.bounceY,n.velocityY=c+a*n.bounceY}return!0},getObjectsAtLocation:function(e,n,t,i,l,s){var r=this.getQuadTree();if(r._populate(t.objects),null==s)s=[];else if(0!=s.length){if(s.length>0)s.splice(0,s.length);else s[-1]=null}for(var a=r.retrieve(e,n,1,1),c=0,h=a.length;c<h;){var u,o=a[c++];if(o.isCircle)if(o.radius>0&&e>=o.x&&e<=o.x+o.width&&n>=o.y&&n<=o.y+o.height)u=(o.x-e)*(o.x-e)+(o.y-n)*(o.y-n)<=o.radius*o.radius;else u=!1;else u=!(o.width<=0||o.height<=0)&&(e>=o.x&&e<o.x+o.width&&n>=o.y&&n<o.y+o.height);u&&(null!=i&&i(l,o),s.push(o))}return r.busy=!1,s},moveToDestination:function(e,n,t,i){null==i&&(i=0),null==t&&(t=60);var l=Math.atan2(n.y-e.y,n.x-e.x);i>0&&(t=this.distanceBetween(e,n)/(i/1e3));var s=l,r=t;return null==r&&(r=1),e.velocityX=Math.cos(s)*r,e.velocityY=Math.sin(s)*r,l},moveToXY:function(e,n,t,i,l){null==l&&(l=0),null==i&&(i=60);var s=Math.atan2(t-e.y,n-e.x);if(l>0){var r=e.x-n,a=e.y-t;i=Math.sqrt(r*r+a*a)/(l/1e3)}var c=s,h=i;return null==h&&(h=1),e.velocityX=Math.cos(c)*h,e.velocityY=Math.sin(c)*h,s},velocityFromAngle:function(e,n,t){null==n&&(n=60),null==t&&(t=new arcade_Point(0,0));var i=e,l=n,s=!0;return null==s&&(s=!1),null==l&&(l=1),s&&(i*=.017453292519943295),t.x=Math.cos(i)*l,t.y=Math.sin(i)*l,t},velocityFromRotation:function(e,n,t){null==n&&(n=60),null==t&&(t=new arcade_Point(0,0));var i=e,l=n;return null==l&&(l=1),t.x=Math.cos(i)*l,t.y=Math.sin(i)*l,t},accelerationFromRotation:function(e,n,t){null==n&&(n=60),null==t&&(t=new arcade_Point(0,0));var i=e,l=n;return null==l&&(l=1),t.x=Math.cos(i)*l,t.y=Math.sin(i)*l,t},accelerateToDestination:function(e,n,t,i,l){null==l&&(l=1e3),null==i&&(i=1e3),null==t&&(t=60);var s=Math.atan2(n.y-e.y,n.x-e.x),r=s,a=t;return null==a&&(a=1),e.accelerationX=Math.cos(r)*a,e.accelerationY=Math.sin(r)*a,e.maxVelocityX=i,e.maxVelocityY=l,s},accelerateToXY:function(e,n,t,i,l,s){null==s&&(s=1e3),null==l&&(l=1e3),null==i&&(i=60);var r=Math.atan2(t-e.y,n-e.x),a=r,c=i;return null==c&&(c=1),e.accelerationX=Math.cos(a)*c,e.accelerationY=Math.sin(a)*c,e.maxVelocityX=l,e.maxVelocityY=s,r},distanceBetween:function(e,n,t){var i,l;return null==t&&(t=!1),t?(i=e.centerX-n.centerX,l=e.centerY-n.centerY):(i=e.x-n.x,l=e.y-n.y),Math.sqrt(i*i+l*l)},distanceToXY:function(e,n,t){var i=e.x-n,l=e.y-t;return Math.sqrt(i*i+l*l)},closest:function(e,n,t,i){null==i&&(i=!1),null==t&&(t=!1);for(var l=999999999,s=null,r=0,a=n.length;r<a;){var c=n[r++],h=this.distanceBetween(e,c,i);h<l&&(s=c,l=h)}return s},farthest:function(e,n,t){null==t&&(t=!1);for(var i=-1,l=null,s=0,r=n.length;s<r;){var a=n[s++],c=this.distanceBetween(e,a,t);c>i&&(l=a,i=c)}return l},angleBetween:function(e,n){return Math.atan2(n.y-e.y,n.x-e.x)},angleBetweenCenters:function(e,n){var t=n.centerX-e.centerX,i=n.centerY-e.centerY;return Math.atan2(i,t)},angleToXY:function(e,n,t){return Math.atan2(t-e.y,n-e.x)},toString:function(){return"World("+this.boundsX+","+this.boundsY+","+this.boundsWidth+","+this.boundsHeight+")"},__class__:arcade_World,__properties__:{set_elapsed:"set_elapsed"}};var ceramic_Assets=function(){this.hotReload=!1,this.parent=null,this.delayBetweenXAssets=-1,this.scheduleMethod=1,this.loadMethod=2,this.defaultImageOptions=null,this.runtimeAssets=null,this.immediate=new ceramic_Immediate,this.assetsByKindAndName=new haxe_ds_StringMap,this.addedAssets=[],ceramic_Entity.call(this),ceramic_Assets.instances.push(this)};t["ceramic.Assets"]=ceramic_Assets,ceramic_Assets.__name__="ceramic.Assets",ceramic_Assets.flushAllInstancesImmediate=function(){for(var e=ceramic_Assets.instances.length,n=0,t=e;n<t;){var i=n++;ceramic_Assets._instances[i]=ceramic_Assets.instances[i]}for(n=0,t=e;n<t;){i=n++;var l=ceramic_Assets._instances[i];ceramic_Assets._instances[i]=null,l._lifecycleState>=0&&l.immediate.flush()}},ceramic_Assets.decodePath=function(e){return new ceramic_AssetPathInfo(e)},ceramic_Assets.addAssetKind=function(e,n,t,i,l){var s=ceramic_Assets.customAssetKinds,r=new ceramic_CustomAssetKind(e,n,t,i,l);s.h[e]=r},ceramic_Assets.getAssetsPath=function(){return ceramic_PlatformSpecific.getAssetsPath()},ceramic_Assets.assetNameFromPath=function(e){for(var n=ceramic_Assets.allByName.h,t=Object.keys(n),i=t.length,l=0;l<i;)for(var s=t[l++],r=ceramic_Assets.allByName.h[s],a=0,c=r.length;a<c;){if(r[a++]==e)return s}return null},ceramic_Assets.realAssetPath=function(e,n){if(null!=n)return null!=n.path?ceramic_Path.join([n.path,e]):e;return e},ceramic_Assets.incrementReloadCount=function(e){null==ceramic_Assets.reloadCountByRealAssetPath&&(ceramic_Assets.reloadCountByRealAssetPath=new haxe_ds_StringMap),Object.prototype.hasOwnProperty.call(ceramic_Assets.reloadCountByRealAssetPath.h,e)?ceramic_Assets.reloadCountByRealAssetPath.h[e]+=1:ceramic_Assets.reloadCountByRealAssetPath.h[e]=1},ceramic_Assets.getReloadCount=function(e){return null!=ceramic_Assets.reloadCountByRealAssetPath&&Object.prototype.hasOwnProperty.call(ceramic_Assets.reloadCountByRealAssetPath.h,e)?ceramic_Assets.reloadCountByRealAssetPath.h[e]:0},ceramic_Assets.__super__=ceramic_Entity,ceramic_Assets.prototype=$extend(ceramic_Entity.prototype,{__cbOnComplete:null,__cbOnceComplete:null,__cbOnOwnerUnbindComplete:null,__cbOnceOwnerUnbindComplete:null,emitComplete:function(e){var n=0;if(null!=this.__cbOnComplete&&(n+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(n+=this.__cbOnceComplete.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnComplete)for(var s=0,r=this.__cbOnComplete.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnComplete[a],++l):--n}if(null!=this.__cbOnceComplete){var c=null,h=null;for(s=0,r=this.__cbOnceComplete.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceComplete[a],this.__cbOnceComplete[a]=null;var u=this.__cbOnceOwnerUnbindComplete[a];this.__cbOnceOwnerUnbindComplete[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindComplete[a]),h.push(this.__cbOnceComplete[a])}this.__cbOnceOwnerUnbindComplete=c,this.__cbOnceComplete=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(n)},onceComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(n)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(s=this.__cbOnOwnerUnbindComplete[n])&&s(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindComplete[n])&&s(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindComplete[l])&&s()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindComplete[l])&&s()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&this.__cbOnComplete.length>0||null!=this.__cbOnceComplete&&this.__cbOnceComplete.length>0},__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnUpdate[a],++l):--n}if(null!=this.__cbOnceUpdate){var c=null,h=null;for(s=0,r=this.__cbOnceUpdate.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null;var u=this.__cbOnceOwnerUnbindUpdate[a];this.__cbOnceOwnerUnbindUpdate[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindUpdate[a]),h.push(this.__cbOnceUpdate[a])}this.__cbOnceOwnerUnbindUpdate=c,this.__cbOnceUpdate=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},__cbOnProgress:null,__cbOnceProgress:null,__cbOnOwnerUnbindProgress:null,__cbOnceOwnerUnbindProgress:null,emitProgress:function(e,n,t){var i=0;if(null!=this.__cbOnProgress&&(i+=this.__cbOnProgress.length),null!=this.__cbOnceProgress&&(i+=this.__cbOnceProgress.length),i>0){var l=ceramic_ArrayPool.pool(i),s=l.get(),r=0;if(null!=this.__cbOnProgress)for(var a=0,c=this.__cbOnProgress.length;a<c;){var h=a++;!0?(s.vector[r]=this.__cbOnProgress[h],++r):--i}if(null!=this.__cbOnceProgress){var u=null,o=null;for(a=0,c=this.__cbOnceProgress.length;a<c;){h=a++;if(!0){s.vector[r]=this.__cbOnceProgress[h],this.__cbOnceProgress[h]=null;var _=this.__cbOnceOwnerUnbindProgress[h];this.__cbOnceOwnerUnbindProgress[h]=null,null!=_&&_(),++r}else--i,null==u&&(u=[],o=[],[]),u.push(this.__cbOnceOwnerUnbindProgress[h]),o.push(this.__cbOnceProgress[h])}this.__cbOnceOwnerUnbindProgress=u,this.__cbOnceProgress=o}for(a=0,c=i;a<c;){r=a++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}},onProgress:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event progress because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offProgress(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindProgress&&(this.__cbOnOwnerUnbindProgress=[]),this.__cbOnOwnerUnbindProgress.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindProgress&&(this.__cbOnOwnerUnbindProgress=[]),this.__cbOnOwnerUnbindProgress.push(null);null==this.__cbOnProgress&&(this.__cbOnProgress=[]),this.__cbOnProgress.push(n)},onceProgress:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event progress because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offProgress(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindProgress&&(this.__cbOnceOwnerUnbindProgress=[]),this.__cbOnceOwnerUnbindProgress.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindProgress&&(this.__cbOnceOwnerUnbindProgress=[]),this.__cbOnceOwnerUnbindProgress.push(null);null==this.__cbOnceProgress&&(this.__cbOnceProgress=[]),this.__cbOnceProgress.push(n)},offProgress:function(e){if(null!=e){var n;null!=this.__cbOnProgress&&-1!=(n=this.__cbOnProgress.indexOf(e))&&(this.__cbOnProgress.splice(n,1),null!=(s=this.__cbOnOwnerUnbindProgress[n])&&s(),this.__cbOnOwnerUnbindProgress.splice(n,1)),null!=this.__cbOnceProgress&&-1!=(n=this.__cbOnceProgress.indexOf(e))&&(this.__cbOnceProgress.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindProgress[n])&&s(),this.__cbOnceOwnerUnbindProgress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindProgress){for(var t=0,i=this.__cbOnOwnerUnbindProgress.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindProgress[l])&&s()}this.__cbOnOwnerUnbindProgress=null}if(null!=this.__cbOnceOwnerUnbindProgress){for(t=0,i=this.__cbOnceOwnerUnbindProgress.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindProgress[l])&&s()}this.__cbOnceOwnerUnbindProgress=null}this.__cbOnProgress=null,this.__cbOnceProgress=null}},listensProgress:function(){return null!=this.__cbOnProgress&&this.__cbOnProgress.length>0||null!=this.__cbOnceProgress&&this.__cbOnceProgress.length>0},__cbOnAssetFilesChange:null,__cbOnceAssetFilesChange:null,__cbOnOwnerUnbindAssetFilesChange:null,__cbOnceOwnerUnbindAssetFilesChange:null,emitAssetFilesChange:function(e,n){var t=0;if(null!=this.__cbOnAssetFilesChange&&(t+=this.__cbOnAssetFilesChange.length),null!=this.__cbOnceAssetFilesChange&&(t+=this.__cbOnceAssetFilesChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnAssetFilesChange)for(var r=0,a=this.__cbOnAssetFilesChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnAssetFilesChange[c],++s):--t}if(null!=this.__cbOnceAssetFilesChange){var h=null,u=null;for(r=0,a=this.__cbOnceAssetFilesChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceAssetFilesChange[c],this.__cbOnceAssetFilesChange[c]=null;var o=this.__cbOnceOwnerUnbindAssetFilesChange[c];this.__cbOnceOwnerUnbindAssetFilesChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindAssetFilesChange[c]),u.push(this.__cbOnceAssetFilesChange[c])}this.__cbOnceOwnerUnbindAssetFilesChange=h,this.__cbOnceAssetFilesChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onAssetFilesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event assetFilesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offAssetFilesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindAssetFilesChange&&(this.__cbOnOwnerUnbindAssetFilesChange=[]),this.__cbOnOwnerUnbindAssetFilesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindAssetFilesChange&&(this.__cbOnOwnerUnbindAssetFilesChange=[]),this.__cbOnOwnerUnbindAssetFilesChange.push(null);null==this.__cbOnAssetFilesChange&&(this.__cbOnAssetFilesChange=[]),this.__cbOnAssetFilesChange.push(n)},onceAssetFilesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event assetFilesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offAssetFilesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindAssetFilesChange&&(this.__cbOnceOwnerUnbindAssetFilesChange=[]),this.__cbOnceOwnerUnbindAssetFilesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindAssetFilesChange&&(this.__cbOnceOwnerUnbindAssetFilesChange=[]),this.__cbOnceOwnerUnbindAssetFilesChange.push(null);null==this.__cbOnceAssetFilesChange&&(this.__cbOnceAssetFilesChange=[]),this.__cbOnceAssetFilesChange.push(n)},offAssetFilesChange:function(e){if(null!=e){var n;null!=this.__cbOnAssetFilesChange&&-1!=(n=this.__cbOnAssetFilesChange.indexOf(e))&&(this.__cbOnAssetFilesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAssetFilesChange[n])&&s(),this.__cbOnOwnerUnbindAssetFilesChange.splice(n,1)),null!=this.__cbOnceAssetFilesChange&&-1!=(n=this.__cbOnceAssetFilesChange.indexOf(e))&&(this.__cbOnceAssetFilesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAssetFilesChange[n])&&s(),this.__cbOnceOwnerUnbindAssetFilesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAssetFilesChange){for(var t=0,i=this.__cbOnOwnerUnbindAssetFilesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAssetFilesChange[l])&&s()}this.__cbOnOwnerUnbindAssetFilesChange=null}if(null!=this.__cbOnceOwnerUnbindAssetFilesChange){for(t=0,i=this.__cbOnceOwnerUnbindAssetFilesChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindAssetFilesChange[l])&&s()}this.__cbOnceOwnerUnbindAssetFilesChange=null}this.__cbOnAssetFilesChange=null,this.__cbOnceAssetFilesChange=null}},listensAssetFilesChange:function(){return null!=this.__cbOnAssetFilesChange&&this.__cbOnAssetFilesChange.length>0||null!=this.__cbOnceAssetFilesChange&&this.__cbOnceAssetFilesChange.length>0},addedAssets:null,assetsByKindAndName:null,immediate:null,runtimeAssets:null,defaultImageOptions:null,loadMethod:null,scheduleMethod:null,delayBetweenXAssets:null,parent:null,destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),HxOverrides.remove(ceramic_Assets.instances,this);for(var e=0,n=[].concat(this.addedAssets);e<n.length;){var t=n[e];++e,t.offDestroy($bind(this,this.assetDestroyed)),t.destroy()}this.addedAssets=null,this.assetsByKindAndName=null}},flush:function(){for(var e=0,n=[].concat(this.addedAssets);e<n.length;){var t=n[e];++e,0==t.refCount&&t.destroy()}},add:function(e,n){var t="string"==typeof e?e:Reflect.field(e,"_id"),i=t.indexOf(":");if(-1==i)throw haxe_Exception.thrown("Assets: invalid asset id: "+e);var l=HxOverrides.substr(t,0,i),s=HxOverrides.substr(t,i+1,null);switch(l){case"atlas":this.addAtlas(s,n);break;case"binary":this.addBinary(s,n);break;case"database":this.addDatabase(s,n);break;case"font":this.addFont(s,n);break;case"fragments":this.addFragments(s,n);break;case"image":this.addImage(s,n);break;case"shader":this.addShader(s,n);break;case"sound":this.addSound(s,n);break;case"text":this.addText(s,n);break;default:if(!Object.prototype.hasOwnProperty.call(ceramic_Assets.customAssetKinds.h,l))throw haxe_Exception.thrown("Assets: invalid asset kind ("+l+") for id: "+e);ceramic_Assets.customAssetKinds.h[l].add(this,s,n)}},addAll:function(n){ceramic_App.app.backend.info;var t,i=["png","jpg","jpeg"],l=["txt","json","fnt","atlas"];if(null!=backend_Info._soundExtensions)t=[].concat(backend_Info._soundExtensions);else{backend_Info._soundExtensions=[];var s=new Audio,r=null!=e.navigator?e.navigator.userAgent:"",a=backend_Info.RE_OPERA.match(r)&&parseInt(backend_Info.RE_OPERA.matched(0).split("/")[1],10)<33,c=-1!=r.indexOf("Safari")&&-1==r.indexOf("Chrome"),h=backend_Info.RE_SAFARI_VERSION.match(r),u=(c&&h&&parseInt(backend_Info.RE_SAFARI_VERSION.matched(1),10),s.canPlayType('audio/ogg; codecs="vorbis"'));null!=u&&"no"!=u&&""!=u&&backend_Info._soundExtensions.push("ogg");var o=s.canPlayType("audio/mpeg;"),_=s.canPlayType("audio/mp3;");!a&&(null!=o&&"no"!=o&&""!=o||null!=_&&"no"!=_&&""!=_)&&backend_Info._soundExtensions.push("mp3");var d=s.canPlayType("audio/x-flac;"),b=s.canPlayType("audio/flac;");(null!=d&&"no"!=d&&""!=d||null!=b&&"no"!=b&&""!=b)&&backend_Info._soundExtensions.push("flac");var f=s.canPlayType('audio/wav; codecs="1"'),O=s.canPlayType("audio/wav;");(null!=f&&"no"!=f&&""!=f||null!=O&&"no"!=O&&""!=O)&&backend_Info._soundExtensions.push("wav"),t=[].concat(backend_Info._soundExtensions)}for(var p=["frag","vert"],g=["fnt"],m=["atlas"],v=["csv"],y=["fragments"],w=[],U=[],C=E=ceramic_Assets.customAssetKinds.h,x=Object.keys(E),D=x.length,T=0;T<D;){var A=C[x[T++]];w.push(A.extensions),U.push(A.add)}var S=ceramic_Assets.allByName;null!=this.runtimeAssets&&(S=this.runtimeAssets.getLists().allByName);for(var E,M=E=S.h,F=Object.keys(E),P=F.length,R=0;R<P;){var I=F[R++],k=I,B=M[I];if(null!=n){for(var N=!1,L=0,G=B.length;L<G;){var W=L++;if(n.match(B[W])){N=!0;break}}if(!N)continue}for(var K=ceramic_Path.extension(B[0]),z=!1,V=0,Y=i.length;V<Y;){if(i[V++]==K){this.addImage(k),z=!0;break}}if(!z)for(var H=0,X=t.length;H<X;){if(t[H++]==K){this.addSound(k),z=!0;break}}if(!z)for(var $=0,j=p.length;$<j;){if(p[$++]==K){this.addShader(k),z=!0;break}}if(!z)for(var Q=0,q=g.length;Q<q;){if(g[Q++]==K){this.addFont(k),z=!0;break}}if(!z)for(var Z=0,J=m.length;Z<J;){if(m[Z++]==K){this.addAtlas(k),z=!0;break}}if(!z)for(var ee=0,ne=v.length;ee<ne;){if(v[ee++]==K){this.addDatabase(k),z=!0;break}}if(!z)for(var te=0,ie=y.length;te<ie;){if(y[te++]==K){this.addFragments(k),z=!0;break}}if(!z)for(var le=0,se=w.length;le<se;){for(var re=le++,ae=w[re],ce=0,he=ae.length;ce<he;){if(ae[ce++]==K){(0,U[re])(this,k),z=!0;break}}if(z)break}if(!z)for(var ue=0,oe=l.length;ue<oe;){if(l[ue++]==K){this.addText(k),z=!0;break}}}},addImage:function(e,n){StringTools.startsWith(e,"image:")&&(e=HxOverrides.substr(e,6,null)),this.addAsset(new ceramic_ImageAsset(e,n))},addFont:function(e,n){StringTools.startsWith(e,"font:")&&(e=HxOverrides.substr(e,5,null)),this.addAsset(new ceramic_FontAsset(e,n))},addAtlas:function(e,n){StringTools.startsWith(e,"atlas:")&&(e=HxOverrides.substr(e,6,null)),this.addAsset(new ceramic_AtlasAsset(e,n))},addText:function(e,n){StringTools.startsWith(e,"text:")&&(e=HxOverrides.substr(e,5,null)),this.addAsset(new ceramic_TextAsset(e,n))},addBinary:function(e,n){StringTools.startsWith(e,"binary:")&&(e=HxOverrides.substr(e,7,null)),this.addAsset(new ceramic_BinaryAsset(e,n))},addSound:function(e,n){StringTools.startsWith(e,"sound:")&&(e=HxOverrides.substr(e,6,null)),this.addAsset(new ceramic_SoundAsset(e,n))},addDatabase:function(e,n){StringTools.startsWith(e,"database:")&&(e=HxOverrides.substr(e,9,null)),this.addAsset(new ceramic_DatabaseAsset(e,n))},addFragments:function(e,n){StringTools.startsWith(e,"fragments:")&&(e=HxOverrides.substr(e,10,null)),this.addAsset(new ceramic_FragmentsAsset(e,n))},addShader:function(e,n){StringTools.startsWith(e,"shader:")&&(e=HxOverrides.substr(e,7,null)),this.addAsset(new ceramic_ShaderAsset(e,n))},addAsset:function(e){if(!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,e.kind)){var n=this.assetsByKindAndName,t=e.kind,i=new haxe_ds_StringMap;n.h[t]=i}var l=this.assetsByKindAndName.h[e.kind];e instanceof ceramic_ImageAsset&&(e.defaultImageOptions=this.defaultImageOptions);var s=l.h[e.name];if(null!=s){if(s==e)return ceramic_App.app.logger.warning("Cannot add asset "+Std.string(e)+" because it is already added for name: "+e.name+".",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Assets.hx",lineNumber:382,className:"ceramic.Assets",methodName:"addAsset"}),s;ceramic_App.app.logger.info("Replace "+Std.string(s)+" with "+Std.string(e),{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Assets.hx",lineNumber:379,className:"ceramic.Assets",methodName:"addAsset"}),this.removeAsset(s)}return e.onDestroy(this,$bind(this,this.assetDestroyed)),l.h[e.name]=e,null!=e.owner&&e.owner!=this&&e.owner.removeAsset(e),this.addedAssets.push(e),e.owner=this,e.set_runtimeAssets(this.runtimeAssets),e.set_hotReload(this.hotReload),s},assetDestroyed:function(e){for(var n=null,t=0,i=this.addedAssets;t<i.length;){var l=i[t];++t,l._lifecycleState<0&&(null==n&&(n=[]),n.push(l))}if(null!=n)for(t=0;t<n.length;){l=n[t];++t,this.removeAsset(l)}},imageAsset:function(e){return this.asset(e,"image")},fontAsset:function(e){return this.asset(e,"font")},atlasAsset:function(e){return this.asset(e,"atlas")},textAsset:function(e){return this.asset(e,"text")},soundAsset:function(e){return this.asset(e,"sound")},databaseAsset:function(e){return this.asset(e,"database")},fragmentsAsset:function(e){return this.asset(e,"fragments")},shaderAsset:function(e){return this.asset(e,"shader")},asset:function(e,n){var t="string"==typeof e?e:Reflect.field(e,"_id"),i=t.indexOf(":"),l=t;if(-1!=i&&(l=t.substring(i+1),n=t.substring(0,i)),null==n)return null!=this.parent?this.parent.asset(e,n):null;var s=this.assetsByKindAndName.h[n];return null==s?null!=this.parent?this.parent.asset(e,n):null:s.h[l]},removeAsset:function(e){e.offDestroy($bind(this,this.assetDestroyed));var n=this.assetsByKindAndName.h[e.kind];if(e!=n.h[e.name])throw haxe_Exception.thrown("Cannot remove asset "+Std.string(e)+" if it was not added at the first place.");HxOverrides.remove(this.addedAssets,e);var t=e.name;Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t],e.owner=null},hasAnythingToLoad:function(){for(var e=0,n=this.addedAssets.length;e<n;){var t=e++;if(this.addedAssets[t].get_status()==h.NONE)return!0}return!1},countAssetsWithStatus:function(e){for(var n=0,t=(this.addedAssets,0),i=this.addedAssets.length;t<i;){var l=t++;this.addedAssets[l].get_status()==e&&++n}return n},load:function(e,n){null==e&&(e=!0);for(var t=this,i=0,l=0,s=!0,r=[].concat(this.addedAssets),a=0;a<r.length;){var c=[r[a]];++a,c[0].get_status()==h.NONE&&(c[0].onceComplete(this,function(e){return function(r){r||(s=!1,ceramic_App.app.logger.error("Failed to load asset "+e[0].name+" ("+Std.string(e[0])+")",n)),l-=1,t.emitProgress(i-l,i,s),0==l&&t.emitComplete(s)}}(c)),l+=1,i+=1)}if(l>0)if(2==this.scheduleMethod){var u=[];for(a=0;a<r.length;){var o=r[a];++a,o.get_status()==h.NONE&&u.push(o)}this._loadNextSerial(u,0),this.immediate.flush()}else{if(this.delayBetweenXAssets>0){for(u=[],a=0;a<r.length;){o=r[a];++a,o.get_status()==h.NONE&&u.push(o)}this._loadNextParallel(u,0)}else for(a=0;a<r.length;){o=r[a];++a,o.get_status()==h.NONE&&o.load()}this.immediate.flush()}else e&&ceramic_App.app.logger.warning("There was no asset to load.",n),this.emitComplete(!0)},_loadNextSerial:function(e,n){var t=this,i=e.shift();i.get_status()==h.NONE?(i.load(),i.onceComplete(this,(function(i){t._assetCompleteSerial(i,e,n)}))):e.length>0&&this._loadNextSerial(e,n)},_assetCompleteSerial:function(e,n,t){var i=this;t+=1,n.length>0&&(this.delayBetweenXAssets>0&&t>0&&t%this.delayBetweenXAssets==0?ceramic_App.app.onceXUpdates(this,2,(function(){i._loadNextSerial(n,t)})):this._loadNextSerial(n,t))},_loadNextParallel:function(e,n){var t=this;e.length>0&&((n+=1)>1&&n%this.delayBetweenXAssets==0?ceramic_App.app.onceXUpdates(this,2,(function(){e.shift().load(),t._loadNextParallel(e,n)})):(e.shift().load(),this._loadNextParallel(e,n)))},ensure:function(e,n,t){var i=this.asset(e),l=null;null==i?(this.add(e,n),l=this.asset(e)):l=i,null!=l?l.get_status()==h.READY?t(l):l.get_status()==h.LOADING||l.get_status()==h.NONE?(l.onceComplete(null,(function(e){t(e?l:null)})),l.get_status()==h.NONE&&this.load(null,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Assets.hx",lineNumber:712,className:"ceramic.Assets",methodName:"ensure"})):t(null):t(null)},ensureImage:function(e,n,t){var i=e;StringTools.startsWith(i,"image:")||(i="image:"+i),this.ensure(i,n,(function(e){t(e instanceof ceramic_ImageAsset?e:null)}))},ensureFont:function(e,n,t){var i=e;StringTools.startsWith(i,"font:")||(i="font:"+i),this.ensure(i,n,(function(e){t(e instanceof ceramic_FontAsset?e:null)}))},ensureAtlas:function(e,n,t){var i=e;StringTools.startsWith(i,"atlas:")||(i="atlas:"+i),this.ensure(i,n,(function(e){t(e instanceof ceramic_AtlasAsset?e:null)}))},ensureText:function(e,n,t){var i=e;StringTools.startsWith(i,"text:")||(i="text:"+i),this.ensure(i,n,(function(e){t(e instanceof ceramic_TextAsset?e:null)}))},ensureSound:function(e,n,t){var i=e;StringTools.startsWith(i,"sound:")||(i="sound:"+i),this.ensure(i,n,(function(e){t(e instanceof ceramic_SoundAsset?e:null)}))},ensureDatabase:function(e,n,t){var i=e;StringTools.startsWith(i,"database:")||(i="database:"+i),this.ensure(i,n,(function(e){t(e instanceof ceramic_DatabaseAsset?e:null)}))},ensureShader:function(e,n,t){var i=e;StringTools.startsWith(i,"shader:")||(i="shader:"+i),this.ensure(i,n,(function(e){t(e instanceof ceramic_ShaderAsset?e:null)}))},texture:function(e){var n=e;if(StringTools.startsWith(n,"image:")&&(n=HxOverrides.substr(n,6,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"image"))return null!=this.parent?this.parent.texture(e):null;var t=this.assetsByKindAndName.h.image.h[n];return null==t?null!=this.parent?this.parent.texture(e):null:t.get_texture()},font:function(e){var n=e;if(StringTools.startsWith(n,"font:")&&(n=HxOverrides.substr(n,5,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"font"))return null!=this.parent?this.parent.font(e):null;var t=this.assetsByKindAndName.h.font.h[n];return null==t?null!=this.parent?this.parent.font(e):null:t.get_font()},atlas:function(e){var n=e;if(StringTools.startsWith(n,"atlas:")&&(n=HxOverrides.substr(n,6,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"atlas"))return null!=this.parent?this.parent.atlas(e):null;var t=this.assetsByKindAndName.h.atlas.h[n];return null==t?null!=this.parent?this.parent.atlas(e):null:t.get_atlas()},sound:function(e){var n=e;if(StringTools.startsWith(n,"sound:")&&(n=HxOverrides.substr(n,6,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"sound"))return null!=this.parent?this.parent.sound(e):null;var t=this.assetsByKindAndName.h.sound.h[n];return null==t?null!=this.parent?this.parent.sound(e):null:t.get_sound()},text:function(e){var n=e;if(StringTools.startsWith(n,"text:")&&(n=HxOverrides.substr(n,5,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"text"))return null!=this.parent?this.parent.text(e):null;var t=this.assetsByKindAndName.h.text.h[n];return null==t?null!=this.parent?this.parent.text(e):null:t.get_text()},bytes:function(e){var n=e;if(StringTools.startsWith(n,"binary:")&&(n=HxOverrides.substr(n,7,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"binary"))return null!=this.parent?this.parent.bytes(e):null;var t=this.assetsByKindAndName.h.binary.h[n];return null==t?null!=this.parent?this.parent.bytes(e):null:t.get_bytes()},shader:function(e){var n=e;if(StringTools.startsWith(n,"shader:")&&(n=HxOverrides.substr(n,7,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"shader"))return null!=this.parent?this.parent.shader(e):null;var t=this.assetsByKindAndName.h.shader.h[n];return null==t?null!=this.parent?this.parent.shader(e):null:t.shader},database:function(e){var n=e;if(StringTools.startsWith(n,"database:")&&(n=HxOverrides.substr(n,9,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"database"))return null!=this.parent?this.parent.database(e):null;var t=this.assetsByKindAndName.h.database.h[n];return null==t?null!=this.parent?this.parent.database(e):null:t.get_database()},fragments:function(e){var n=e;if(StringTools.startsWith(n,"fragments:")&&(n=HxOverrides.substr(n,10,null)),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"fragments"))return null!=this.parent?this.parent.fragments(e):null;var t=this.assetsByKindAndName.h.fragments.h[n];return null==t?null!=this.parent?this.parent.fragments(e):null:t.get_fragments()},iterator:function(){for(var e=[],n=s=this.assetsByKindAndName.h,t=Object.keys(s),i=t.length,l=0;l<i;)for(var s,r=s=n[t[l++]].h,a=Object.keys(s),c=a.length,h=0;h<c;){var u=r[a[h++]];e.push(u)}return new haxe_iterators_ArrayIterator(e)},hotReload:null,set_hotReload:function(e){if(this.hotReload==e)return e;this.hotReload=e;for(var n=0,t=this.addedAssets;n<t.length;){var i=t[n];++n,i.set_hotReload(e)}return e},watchDirectory:function(e,n){null==n&&(n=!0);var t=this;if(null!=this.runtimeAssets)throw haxe_Exception.thrown("There is already an instance of RuntimeAssets assigned. Cannot watch a directory, which also need its own instance");if(null==e)throw haxe_Exception.thrown("Cannot watch directory when using web target! (unless using electron runner and `ceramic_use_electron` define)");n&&this.set_hotReload(n),this.runtimeAssets=ceramic_RuntimeAssets.fromPath(e);var i=new ceramic_WatchDirectory;return i.watchDirectory(e),i.onDirectoryChange(this,(function(n,i,l){if(null==t.runtimeAssets?ceramic_App.app.logger.warning("Missing instance of RuntimeAssets when watched directory changed (path: "+e+")",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Assets.hx",lineNumber:989,className:"ceramic.Assets",methodName:"watchDirectory"}):t.runtimeAssets.reset(ceramic_Files.getFlatDirectory(e),e),null==ceramic_Assets.lastModifiedByRealAssetPath){ceramic_Assets.lastModifiedByRealAssetPath=new haxe_ds_StringMap;for(var s=o=l.h,r=(_=Object.keys(o)).length,a=0;a<r;){var c=b=_[a++],h=s[b],u=ceramic_Assets.realAssetPath(c,t.runtimeAssets);ceramic_Assets.lastModifiedByRealAssetPath.h[u]=h}}var o,_,d=new haxe_ds_StringMap;for(s=o=i.h,r=(_=Object.keys(o)).length,a=0;a<r;){var b;c=b=_[a++],h=s[b],u=ceramic_Assets.realAssetPath(c,t.runtimeAssets);d.h[u]=h,Object.prototype.hasOwnProperty.call(ceramic_Assets.lastModifiedByRealAssetPath.h,u)&&h>ceramic_Assets.lastModifiedByRealAssetPath.h[u]&&ceramic_Assets.incrementReloadCount(u)}ceramic_Assets.lastModifiedByRealAssetPath=d,t.emitAssetFilesChange(i,l)})),this.onDestroy(i,(function(e){i.destroy()})),i},inheritRuntimeAssetsFromAssets:function(e){this.runtimeAssets=e.runtimeAssets,this.defaultImageOptions=e.defaultImageOptions},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offComplete(),this.offUpdate(),this.offProgress(),this.offAssetFilesChange()},__class__:ceramic_Assets,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_hotReload:"set_hotReload"})});var assets_AllAssets=function(){};t["assets.AllAssets"]=assets_AllAssets,assets_AllAssets.__name__="assets.AllAssets",assets_AllAssets.bind=function(){ceramic_Assets.all=assets_AllAssets.all,ceramic_Assets.allDirs=assets_AllAssets.allDirs,ceramic_Assets.allDirsByName=assets_AllAssets.allDirsByName,ceramic_Assets.allByName=assets_AllAssets.allByName};var assets_Fonts=function(){};t["assets.Fonts"]=assets_Fonts,assets_Fonts.__name__="assets.Fonts";var assets_Images=function(){};t["assets.Images"]=assets_Images,assets_Images.__name__="assets.Images";var spec_Audio=function(){};t["spec.Audio"]=spec_Audio,spec_Audio.__name__="spec.Audio",spec_Audio.__isInterface__=!0,spec_Audio.prototype={load:null,supportsHotReloadPath:null,getDuration:null,resumeAudioContext:null,destroy:null,mute:null,play:null,pause:null,resume:null,stop:null,getVolume:null,setVolume:null,getPan:null,setPan:null,getPitch:null,setPitch:null,getPosition:null,setPosition:null,__class__:spec_Audio};var backend_Audio=function(){this.loadedAudioRetainCount=new haxe_ds_StringMap,this.loadedAudioResources=new haxe_ds_StringMap,this.loadingAudioCallbacks=new haxe_ds_StringMap};t["backend.Audio"]=backend_Audio,backend_Audio.__name__="backend.Audio",backend_Audio.__interfaces__=[spec_Audio],backend_Audio.prototype={load:function(e,n,t){var i=this,l=null!=n&&2==n.loadMethod,s=null!=n?n.immediate:null,done=function(e){var fn=function(){t(e),t=null};null!=s?s.push(fn):ceramic_App.app._onceImmediate(fn)},r=null!=n&&1==n.stream;if(ceramic_Path.isAbsolute(e)||StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://")||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),Object.prototype.hasOwnProperty.call(this.loadedAudioResources.h,e)){this.loadedAudioRetainCount.h[e]+=1;var a=this.loadedAudioResources.h[e];done(a)}else if(Object.prototype.hasOwnProperty.call(this.loadingAudioCallbacks.h,e))this.loadingAudioCallbacks.h[e].push((function(n){if(null!=n){var t=Object.prototype.hasOwnProperty.call(i.loadedAudioRetainCount.h,e)?i.loadedAudioRetainCount.h[e]:0;i.loadedAudioRetainCount.h[e]=t+1}done(n)}));else{var c=e,h=c.indexOf("?");-1!=h&&(c=HxOverrides.substr(c,0,h)),this.loadingAudioCallbacks.h[e]=[function(n){if(null!=n){var t=Object.prototype.hasOwnProperty.call(i.loadedAudioRetainCount.h,e)?i.loadedAudioRetainCount.h[e]:0;i.loadedAudioRetainCount.h[e]=t+1}done(n)}];var u=clay_Clay.app.assets.fullPath(c);clay_Clay.app.audio.loadData(u,r,null,!l,(function(n){if(null!=n){var t=new clay_audio_AudioSource(clay_Clay.app,n);i.loadedAudioResources.h[e]=t;var l=i.loadingAudioCallbacks.h[e],s=i.loadingAudioCallbacks;Object.prototype.hasOwnProperty.call(s.h,e)&&delete s.h[e];for(var r=0;r<l.length;){var a=l[r];++r,a(t)}}else!function(){var n=i.loadingAudioCallbacks.h[e],t=i.loadingAudioCallbacks;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e];for(var l=0;l<n.length;){var s=n[l];++l;try{s(null)}catch(e){var r=[haxe_Exception.caught(e).unwrap()];ceramic_App.app._onceImmediate(function(e){return function(){throw haxe_Exception.thrown(e[0])}}(r))}}}()})),null!=s?s.push(clay_Immediate.flush):ceramic_App.app._onceImmediate(clay_Immediate.flush)}},getDuration:function(e){return e.getDuration()},resumeAudioContext:function(e){var n=clay_Clay.app.audio;if(null!=n)try{n.context.resume().then((function(){e(!0)}),(function(){e(!1)}))}catch(e){var t=haxe_Exception.caught(e).unwrap();ceramic_App.app.logger.error("Failed to resume audio context: "+Std.string(t),{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:146,className:"backend.Audio",methodName:"resumeAudioContext"})}},supportsHotReloadPath:function(){return!0},destroy:function(e){for(var n=null,t=this.loadedAudioResources.h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var a=l[r++],c=a;i[a]==e&&(n=c)}if(null==n)ceramic_App.app.logger.error("Failed to destroy audio resource: "+Std.string(e)+" because id could not be resolved",{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:172,className:"backend.Audio",methodName:"destroy"});else if(this.loadedAudioRetainCount.h[n]>1)this.loadedAudioRetainCount.h[n]-=1;else{var h=this.loadedAudioResources;Object.prototype.hasOwnProperty.call(h.h,n)&&delete h.h[n];h=this.loadedAudioRetainCount;Object.prototype.hasOwnProperty.call(h.h,n)&&delete h.h[n],e.destroy()}},mute:function(e){return-1},play:function(e,n,t,i,l,s){if(null==s&&(s=!1),null==l&&(l=0),null==i&&(i=1),null==t&&(t=0),null==n&&(n=.5),!clay_Clay.app.audio.active)return-1;var r=e;r.data.isStream&&(l=0,i=1,t=0);var a=null;return a=s?clay_Clay.app.audio.loop(r,n,!1):clay_Clay.app.audio.play(r,n,!1),0!=t&&clay_Clay.app.audio.pan(a,t),1!=i&&clay_Clay.app.audio.pitch(a,i),0!=l&&clay_Clay.app.audio.position(a,l),a},pause:function(e){clay_Clay.app.audio.active&&null!=e&&-1!=e&&clay_Clay.app.audio.pause(e)},resume:function(e){clay_Clay.app.audio.active&&null!=e&&-1!=e&&clay_Clay.app.audio.unPause(e)},stop:function(e){clay_Clay.app.audio.active&&null!=e&&-1!=e&&null!=e&&-1!=e&&clay_Clay.app.audio.stop(e)},getVolume:function(e){return clay_Clay.app.audio.active?null==e||-1==e?0:clay_Clay.app.audio.volumeOf(e):0},setVolume:function(e,n){clay_Clay.app.audio.active&&null!=e&&-1!=e&&clay_Clay.app.audio.volume(e,n)},getPan:function(e){return clay_Clay.app.audio.active?null==e||-1==e?0:clay_Clay.app.audio.panOf(e):0},setPan:function(e,n){if(clay_Clay.app.audio.active&&null!=e&&-1!=e){var t=clay_Clay.app.audio.instanceOf(e);null!=t&&t.source.data.isStream||clay_Clay.app.audio.pan(e,n)}},getPitch:function(e){return clay_Clay.app.audio.active?null==e||-1==e?1:clay_Clay.app.audio.pitchOf(e):1},setPitch:function(e,n){if(clay_Clay.app.audio.active&&null!=e&&-1!=e){var t=clay_Clay.app.audio.instanceOf(e);null!=t&&t.source.data.isStream||clay_Clay.app.audio.pitch(e,n)}},getPosition:function(e){return clay_Clay.app.audio.active?null==e||-1==e?0:clay_Clay.app.audio.positionOf(e):0},setPosition:function(e,n){if(clay_Clay.app.audio.active&&null!=e&&-1!=e){var t=clay_Clay.app.audio.instanceOf(e);null!=t&&t.source.data.isStream||clay_Clay.app.audio.position(e,n)}},loadingAudioCallbacks:null,loadedAudioResources:null,loadedAudioRetainCount:null,__class__:backend_Audio};var spec_Backend=function(){};t["spec.Backend"]=spec_Backend,spec_Backend.__name__="spec.Backend",spec_Backend.__isInterface__=!0,spec_Backend.prototype={init:null,setTargetFps:null,io:null,info:null,audio:null,draw:null,texts:null,binaries:null,textures:null,screen:null,textInput:null,clipboard:null,__class__:spec_Backend};var backend_Backend=function(){this.mobileInBackground=!1,this.clipboard=new backend_Clipboard,this.textInput=new backend_TextInput,this.input=new backend_Input,this.screen=new backend_Screen,this.shaders=new backend_Shaders,this.textures=new backend_Textures,this.binaries=new backend_Binaries,this.texts=new backend_Texts,this.draw=new backend_Draw,this.audio=new backend_Audio,this.info=new backend_Info,this.io=new backend_IO};t["backend.Backend"]=backend_Backend,backend_Backend.__name__="backend.Backend",backend_Backend.__interfaces__=[spec_Backend,tracker_Events],backend_Backend.prototype={io:null,info:null,audio:null,draw:null,texts:null,binaries:null,textures:null,shaders:null,screen:null,input:null,textInput:null,clipboard:null,init:function(e){},setTargetFps:function(e){clay_Clay.app.config.updateRate=e>0?1/e:0},__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var l=0,s=this.__cbOnReady.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnReady[r],++i):--e}if(null!=this.__cbOnceReady){var a=null,c=null;for(l=0,s=this.__cbOnceReady.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceReady[r],this.__cbOnceReady[r]=null;var h=this.__cbOnceOwnerUnbindReady[r];this.__cbOnceOwnerUnbindReady[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindReady[r]),c.push(this.__cbOnceReady[r])}this.__cbOnceOwnerUnbindReady=a,this.__cbOnceReady=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(n)},onceReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(n)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReady[n])&&s(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReady[n])&&s(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReady[l])&&s()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindReady[l])&&s()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&this.__cbOnReady.length>0||null!=this.__cbOnceReady&&this.__cbOnceReady.length>0},__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnUpdate[a],++l):--n}if(null!=this.__cbOnceUpdate){var c=null,h=null;for(s=0,r=this.__cbOnceUpdate.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null;var u=this.__cbOnceOwnerUnbindUpdate[a];this.__cbOnceOwnerUnbindUpdate[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindUpdate[a]),h.push(this.__cbOnceUpdate[a])}this.__cbOnceOwnerUnbindUpdate=c,this.__cbOnceUpdate=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},willEmitUpdate:function(e){},didEmitUpdate:function(e){},mobileInBackground:null,unbindEvents:function(){this.offReady(),this.offUpdate()},__class__:backend_Backend};var spec_Binaries=function(){};t["spec.Binaries"]=spec_Binaries,spec_Binaries.__name__="spec.Binaries",spec_Binaries.__isInterface__=!0,spec_Binaries.prototype={load:null,supportsHotReloadPath:null,__class__:spec_Binaries};var backend_Binaries=function(){this.loadingBinaryCallbacks=new haxe_ds_StringMap};t["backend.Binaries"]=backend_Binaries,backend_Binaries.__name__="backend.Binaries",backend_Binaries.__interfaces__=[spec_Binaries],backend_Binaries.prototype={load:function(e,n,t){var i=this,l=null!=n?n.immediate:null,done=function(e){var fn=function(){t(e),t=null};null!=l?l.push(fn):ceramic_App.app._onceImmediate(fn)};if(ceramic_Path.isAbsolute(e)||StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://")||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),Object.prototype.hasOwnProperty.call(this.loadingBinaryCallbacks.h,e))this.loadingBinaryCallbacks.h[e].push((function(e){done(e)}));else{this.loadingBinaryCallbacks.h[e]=[];var s=e,r=s.indexOf("?");-1!=r&&(s=HxOverrides.substr(s,0,r));var a=clay_Clay.app.assets.fullPath(s);clay_Clay.app.io.loadData(a,!0,null,(function(n){if(null!=n){var t=new haxe_io_Bytes(new Uint8Array(n.buffer));if(null!=(l=i.loadingBinaryCallbacks.h[e])){s=i.loadingBinaryCallbacks;Object.prototype.hasOwnProperty.call(s.h,e)&&delete s.h[e],done(t);for(r=0;r<l.length;){a=l[r];++r,a(t)}}else done(t)}else{var l;if(null!=(l=i.loadingBinaryCallbacks.h[e])){var s=i.loadingBinaryCallbacks;Object.prototype.hasOwnProperty.call(s.h,e)&&delete s.h[e],done(null);for(var r=0;r<l.length;){var a=l[r];++r,a(null)}}else done(null)}})),null!=l?l.push(clay_Immediate.flush):ceramic_App.app._onceImmediate(clay_Immediate.flush)}},supportsHotReloadPath:function(){return!0},loadingBinaryCallbacks:null,__class__:backend_Binaries};var clay_Events=function(){};t["clay.Events"]=clay_Events,clay_Events.__name__="clay.Events",clay_Events.prototype={ready:function(){},tick:function(e){},freeze:function(){},unfreeze:function(){},keyDown:function(e,n,t,i,l,s){},keyUp:function(e,n,t,i,l,s){},text:function(e,n,t,i,l,s){},mouseMove:function(e,n,t,i,l,s){},mouseDown:function(e,n,t,i,l){},mouseUp:function(e,n,t,i,l){},mouseWheel:function(e,n,t,i){},touchDown:function(e,n,t,i,l,s){},touchUp:function(e,n,t,i,l,s){},touchMove:function(e,n,t,i,l,s){},gamepadAxis:function(e,n,t,i){},gamepadDown:function(e,n,t,i){},gamepadUp:function(e,n,t,i){},gamepadGyro:function(e,n,t,i,l){},gamepadDevice:function(e,n,t,i){},windowEvent:function(e,n,t,i,l){},appEvent:function(e){},audioEvent:function(e,n){},__class__:clay_Events};var backend_ClayEvents=function(e){this.gamepadGyroValues=new ceramic_IntMap,this.gamepadAxisValues=new ceramic_IntFloatMap,this.gamepadPressedValues=new ceramic_IntIntMap,this.gamepadButtonMapping=new ceramic_IntIntMap,this.gamepadAxisToButton=new ceramic_IntIntMap;var n=new ceramic_IntIntMap(16,.5,!1);this.swapXyGamepads=n;n=new ceramic_IntIntMap(16,.5,!1);this.swapAbGamepads=n;n=new ceramic_IntIntMap(16,.5,!1);this.removedGamepads=n;n=new ceramic_IntIntMap(16,.5,!1);this.activeGamepads=n,this.mouseY=0,this.mouseX=0;n=new ceramic_IntIntMap(16,.5,!1);this.mouseDownButtons=n,this.touchIndexes=new ceramic_IntIntMap,this.touches=new ceramic_IntIntMap,this.lastHeight=-1,this.lastWidth=-1,this.lastDensity=-1,this.handleReady=e,this.configureGamepadMapping()};t["backend.ClayEvents"]=backend_ClayEvents,backend_ClayEvents.__name__="backend.ClayEvents",backend_ClayEvents.__super__=clay_Events,backend_ClayEvents.prototype=$extend(clay_Events.prototype,{backend:null,lastDensity:null,lastWidth:null,lastHeight:null,touches:null,touchIndexes:null,mouseDownButtons:null,mouseX:null,mouseY:null,activeGamepads:null,removedGamepads:null,swapAbGamepads:null,swapXyGamepads:null,gamepadAxisToButton:null,gamepadButtonMapping:null,gamepadPressedValues:null,gamepadAxisValues:null,gamepadGyroValues:null,handleReady:null,configureGamepadMapping:function(){},ready:function(){this.backend=ceramic_App.app.backend,this.lastDensity=clay_Clay.app.screenDensity,this.lastWidth=clay_Clay.app.screenWidth,this.lastHeight=clay_Clay.app.screenHeight,this.handleReady(),this.backend.emitReady()},tick:function(e){this.triggerResizeIfNeeded(),this.backend.emitUpdate(e)},triggerResizeIfNeeded:function(){var e=clay_Clay.app.screenDensity,n=clay_Clay.app.screenWidth,t=clay_Clay.app.screenHeight;this.lastDensity==e&&this.lastWidth==n&&this.lastHeight==t||(this.lastDensity=e,this.lastWidth=n,this.lastHeight=t,this.backend.screen.emitResize())},appEvent:function(e){switch(e){case 0:break;case 11:ceramic_App.app.emitTerminate();break;case 12:ceramic_App.app.emitLowMemory();break;case 13:ceramic_App.app.emitBeginEnterBackground();break;case 14:ceramic_App.app.emitFinishEnterBackground();break;case 15:ceramic_App.app.emitBeginEnterForeground();break;case 16:ceramic_App.app.emitFinishEnterForeground()}},mouseDown:function(e,n,t,i,l){this.mouseDownButtons.intMap.h.hasOwnProperty(0|t)&&this.mouseUp(e,n,t,i,l),this.mouseX=e/clay_Clay.app.screenDensity,this.mouseY=n/clay_Clay.app.screenDensity,this.mouseDownButtons.set(t,1),this.backend.screen.emitMouseDown(t,this.mouseX,this.mouseY)},mouseUp:function(e,n,t,i,l){this.mouseDownButtons.intMap.h.hasOwnProperty(0|t)&&(this.mouseX=e/clay_Clay.app.screenDensity,this.mouseY=n/clay_Clay.app.screenDensity,this.mouseDownButtons.remove(t),this.backend.screen.emitMouseUp(t,this.mouseX,this.mouseY))},mouseMove:function(e,n,t,i,l,s){this.mouseX=e/clay_Clay.app.screenDensity,this.mouseY=n/clay_Clay.app.screenDensity,this.backend.screen.emitMouseMove(this.mouseX,this.mouseY)},mouseWheel:function(e,n,t,i){this.backend.screen.emitMouseWheel(e,n)},touchDown:function(e,n,t,i,l,s){for(var r=0;this.touchIndexes.intMap.h.hasOwnProperty(0|r);)++r;this.touches.set(l,r),this.touchIndexes.set(r,l),this.backend.screen.emitTouchDown(r,e*this.lastWidth,n*this.lastHeight)},touchUp:function(e,n,t,i,l,s){this.touches.intMap.h.hasOwnProperty(0|l)||this.touchDown(e,n,t,i,l,s);var r=this.touches.intMap.h[0|l],a=null!=r?r:0;this.backend.screen.emitTouchUp(a,e*this.lastWidth,n*this.lastHeight),this.touches.remove(l),this.touchIndexes.remove(a)},touchMove:function(e,n,t,i,l,s){this.touches.intMap.h.hasOwnProperty(0|l)||this.touchDown(e,n,t,i,l,s);var r=this.touches.intMap.h[0|l],a=null!=r?r:0;this.backend.screen.emitTouchMove(a,e*this.lastWidth,n*this.lastHeight)},keyDown:function(e,n,t,i,l,s){this.backend.input.emitKeyDown(new ceramic_Key(e,n)),this.backend.textInput.handleKeyDown(e,n)},keyUp:function(e,n,t,i,l,s){this.backend.input.emitKeyUp(new ceramic_Key(e,n)),this.backend.textInput.handleKeyUp(e,n)},_configureGamepad:function(e,n){if(null!=n){var t=n.toLowerCase();-1!=t.indexOf(" vendor: 057e ")||StringTools.startsWith(t,"057e-")?(this.swapAbGamepads.set(e,1),this.swapXyGamepads.set(e,1)):(this.swapAbGamepads.set(e,0),this.swapXyGamepads.set(e,0))}else this.swapAbGamepads.set(e,0),this.swapXyGamepads.set(e,0)},gamepadAxis:function(e,n,t,i){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);var l=clay_Clay.app.runtime.getGamepadName(e);this._configureGamepad(e,l),this.backend.input.emitGamepadEnable(e,l)}if(this.gamepadAxisToButton.intMap.h.hasOwnProperty(0|n)){var s=null!=(r=this.gamepadAxisToButton.intMap.h[0|n])?r:0;if(t>=.5)1!=(null!=(r=this.gamepadPressedValues.intMap.h[32*e+s|0])?r:0)&&(this.gamepadPressedValues.set(32*e+s,1),this.backend.input.emitGamepadDown(e,s));else 1==(null!=(r=this.gamepadPressedValues.intMap.h[32*e+s|0])?r:0)&&(this.gamepadPressedValues.set(32*e+s,0),this.backend.input.emitGamepadUp(e,s))}var r,a=null!=(r=this.gamepadAxisValues.intMap.h[32*e+n|0])?r:0,c=Math.round(100*t)/100;Math.abs(a-c)>.01&&(this.gamepadAxisValues.set(32*e+n,c),this.backend.input.emitGamepadAxis(e,n,c))},gamepadDown:function(e,n,t,i){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var l=0;l<32;){var s=l++;this.gamepadPressedValues.set(32*e+s,0)}var r=clay_Clay.app.runtime.getGamepadName(e);this._configureGamepad(e,r),this.backend.input.emitGamepadEnable(e,r)}this.gamepadButtonMapping.intMap.h.hasOwnProperty(0|n)&&(n=null!=(t=this.gamepadButtonMapping.intMap.h[0|n])?t:0);0!=n&&1!=n||0!=(null!=(t=this.swapAbGamepads.intMap.h[0|e])?t:0)&&(n=1==n?0:1);2!=n&&3!=n||0!=(null!=(t=this.swapXyGamepads.intMap.h[0|e])?t:0)&&(n=2==n?3:2);1!=(null!=(t=this.gamepadPressedValues.intMap.h[32*e+n|0])?t:0)&&(this.gamepadPressedValues.set(32*e+n,1),this.backend.input.emitGamepadDown(e,n))},gamepadUp:function(e,n,t,i){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var l=0;l<32;){var s=l++;this.gamepadPressedValues.set(32*e+s,0)}var r=clay_Clay.app.runtime.getGamepadName(e);this._configureGamepad(e,r),this.backend.input.emitGamepadEnable(e,r)}this.gamepadButtonMapping.intMap.h.hasOwnProperty(0|n)&&(n=null!=(t=this.gamepadButtonMapping.intMap.h[0|n])?t:0);0!=n&&1!=n||0!=(null!=(t=this.swapAbGamepads.intMap.h[0|e])?t:0)&&(n=1==n?0:1);2!=n&&3!=n||0!=(null!=(t=this.swapXyGamepads.intMap.h[0|e])?t:0)&&(n=2==n?3:2);1==(null!=(t=this.gamepadPressedValues.intMap.h[32*e+n|0])?t:0)&&(this.gamepadPressedValues.set(32*e+n,0),this.backend.input.emitGamepadUp(e,n))},gamepadGyro:function(e,n,t,i,l){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var s=0;s<32;){var r=s++;this.gamepadPressedValues.set(32*e+r,0)}var a=clay_Clay.app.runtime.getGamepadName(e);this._configureGamepad(e,a),this.backend.input.emitGamepadEnable(e,a)}var c=.23225806451612904;this.backend.input.emitGamepadGyro(e,n*c,t*c,i*c)},gamepadDevice:function(e,n,t,i){var l=this;if(2==t){if(this.activeGamepads.intMap.h.hasOwnProperty(0|e)){for(var s=0;s<32;){var r=s++,a=this.gamepadPressedValues.intMap.h[32*e+r|0];1==(null!=a?a:0)&&(this.backend.input.emitGamepadUp(e,r),this.gamepadPressedValues.set(32*e+r,0))}this.backend.input.emitGamepadDisable(e),this.activeGamepads.remove(e),this.removedGamepads.set(e,1),ceramic_App.app.onceUpdate(null,(function(n){l.removedGamepads.remove(e)}))}}else if(1==t&&!this.activeGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(s=0;s<32;){r=s++;this.gamepadPressedValues.set(32*e+r,0)}this.removedGamepads.remove(e);n=clay_Clay.app.runtime.getGamepadName(e);this._configureGamepad(e,n),this.backend.input.emitGamepadEnable(e,n)}},text:function(e,n,t,i,l,s){this.backend.textInput.inputActive&&this.backend.textInput.handleTextInput(e)},windowEvent:function(e,n,t,i,l){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:break;case 15:ceramic_App.app.settings.set_fullscreen(!0);break;case 16:ceramic_App.app.settings.set_fullscreen(!1)}},__class__:backend_ClayEvents});var spec_Clipboard=function(){};t["spec.Clipboard"]=spec_Clipboard,spec_Clipboard.__name__="spec.Clipboard",spec_Clipboard.__isInterface__=!0,spec_Clipboard.prototype={getText:null,setText:null,__class__:spec_Clipboard};var backend_Clipboard=function(){this.didBindBrowserClipboard=!1,this.didLogBrowserClipboardWriteWarning=!1,this.didLogBrowserClipboardReadWarning=!1,this.clipboardText=null};t["backend.Clipboard"]=backend_Clipboard,backend_Clipboard.__name__="backend.Clipboard",backend_Clipboard.__interfaces__=[spec_Clipboard],backend_Clipboard.prototype={clipboardText:null,didLogBrowserClipboardReadWarning:null,didLogBrowserClipboardWriteWarning:null,didBindBrowserClipboard:null,bindBrowserClipboard:function(){var e=this;this.didBindBrowserClipboard=!0,this.readBrowserClipboard(),window.addEventListener("focus",(function(){e.readBrowserClipboard()}))},readBrowserClipboard:function(){var n=this,t=e.navigator;try{t.clipboard.readText().then((function(e){n.clipboardText!=e&&(n.clipboardText=e)}))}catch(e){var i=haxe_Exception.caught(e).unwrap();this.didLogBrowserClipboardReadWarning||(this.didLogBrowserClipboardReadWarning=!0,ceramic_App.app.logger.warning("Failed to read browser clipboard: "+Std.string(i),{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/Clipboard.hx",lineNumber:68,className:"backend.Clipboard",methodName:"readBrowserClipboard"}))}},writeBrowserClipboard:function(n){var t=e.navigator;try{t.clipboard.writeText(n).then((function(){}))}catch(e){var i=haxe_Exception.caught(e).unwrap();this.didLogBrowserClipboardWriteWarning||(this.didLogBrowserClipboardWriteWarning=!0,ceramic_App.app.logger.warning("Failed to write browser clipboard: "+Std.string(i),{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/Clipboard.hx",lineNumber:87,className:"backend.Clipboard",methodName:"writeBrowserClipboard"}))}},getText:function(){return this.clipboardText},setText:function(e){this.clipboardText=e,this.didBindBrowserClipboard&&this.writeBrowserClipboard(e)},__class__:backend_Clipboard};var spec_Draw=function(){};t["spec.Draw"]=spec_Draw,spec_Draw.__name__="spec.Draw",spec_Draw.__isInterface__=!0,spec_Draw.prototype={draw:null,swap:null,initBuffers:null,beginRender:null,setRenderTarget:null,useShader:null,clear:null,enableBlending:null,disableBlending:null,setBlendFuncSeparate:null,getActiveTexture:null,setActiveTexture:null,textureBackendItemMatchesId:null,getTextureId:null,bindTexture:null,bindNoTexture:null,setRenderWireframe:null,beginDrawQuad:null,endDrawQuad:null,beginDrawMesh:null,endDrawMesh:null,beginDrawingInStencilBuffer:null,endDrawingInStencilBuffer:null,drawWithStencilTest:null,drawWithoutStencilTest:null,enableScissor:null,disableScissor:null,getNumPos:null,putPos:null,putPosAndTextureSlot:null,putIndice:null,putUVs:null,putColor:null,beginFloatAttributes:null,putFloatAttribute:null,endFloatAttributes:null,clearAndApplyBackground:null,getTextureWidth:null,getTextureHeight:null,getTextureWidthActual:null,getTextureHeightActual:null,shouldFlush:null,remainingVertices:null,remainingIndices:null,hasAnythingToFlush:null,flush:null,__class__:spec_Draw};var backend_Draw=function(){this.renderer=new ceramic_Renderer,this.renderer=new ceramic_Renderer};t["backend.Draw"]=backend_Draw,backend_Draw.__name__="backend.Draw",backend_Draw.__interfaces__=[spec_Draw],backend_Draw.prototype={renderer:null,begin:function(){},end:function(){},draw:function(e){this.renderer.render(!0,e)},swap:function(){},initBuffers:function(){backend_Draw._activeTextureSlot=0,backend_Draw._buffersIndex=-1,this.prepareNextBuffers()},prepareNextBuffers:function(){if(backend_Draw._buffersIndex++,backend_Draw._buffersIndex>64&&(backend_Draw._buffersIndex=0),backend_Draw._posListArray.length<=backend_Draw._buffersIndex){var e=new Float32Array(65536);backend_Draw._posListArray[backend_Draw._buffersIndex]=e;e=new Float32Array(43691);backend_Draw._uvListArray[backend_Draw._buffersIndex]=e;e=new Float32Array(65536);backend_Draw._colorListArray[backend_Draw._buffersIndex]=e;e=new Uint16Array(32768);backend_Draw._indiceListArray[backend_Draw._buffersIndex]=e}backend_Draw._posList=backend_Draw._posListArray[backend_Draw._buffersIndex],backend_Draw._uvList=backend_Draw._uvListArray[backend_Draw._buffersIndex],backend_Draw._colorList=backend_Draw._colorListArray[backend_Draw._buffersIndex],backend_Draw._indiceList=backend_Draw._indiceListArray[backend_Draw._buffersIndex]},beginRender:function(){clay_opengl_web_GL.gl.enableVertexAttribArray(0),clay_opengl_web_GL.gl.enableVertexAttribArray(1),clay_opengl_web_GL.gl.enableVertexAttribArray(2)},clear:function(){clay_opengl_web_GL.gl.clearColor((backend_Draw._whiteTransparentColor>>16&255)/255,(backend_Draw._whiteTransparentColor>>8&255)/255,(255&backend_Draw._whiteTransparentColor)/255,backend_Draw._whiteTransparentColor>>24&255),clay_Clay.app.config.render.depth>0?(clay_opengl_web_GL.gl.clear(16640),clay_opengl_web_GL.gl.clearDepth(1)):clay_opengl_web_GL.gl.clear(16384),null!=backend_Draw._currentRenderTarget&&(backend_Draw._didUpdateCurrentRenderTarget=!0)},clearAndApplyBackground:function(){var e=ceramic_App.app.settings.get_background();clay_opengl_web_GL.gl.clearColor((e>>16&255)/255,(e>>8&255)/255,(255&e)/255,1),clay_Clay.app.config.render.depth>0?(clay_opengl_web_GL.gl.clear(16640),clay_opengl_web_GL.gl.clearDepth(1)):clay_opengl_web_GL.gl.clear(16384),null!=backend_Draw._currentRenderTarget&&(backend_Draw._didUpdateCurrentRenderTarget=!0)},enableBlending:function(){clay_opengl_web_GL.gl.enable(3042)},disableBlending:function(){clay_opengl_web_GL.gl.disable(3042)},setActiveTexture:function(e){if(backend_Draw._activeTextureSlot=e,clay_opengl_GLGraphics._activeTextureSlot!=e){for(clay_opengl_GLGraphics._activeTextureSlot=e;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+e)}},setRenderWireframe:function(e){},getActiveTexture:function(){return backend_Draw._activeTextureSlot},setRenderTarget:function(e,n){if(null==n&&(n=!1),backend_Draw._currentRenderTarget!=e||n){if(null!=backend_Draw._currentRenderTarget&&backend_Draw._currentRenderTarget!=e&&backend_Draw._didUpdateCurrentRenderTarget){var t=backend_Draw._currentRenderTarget.backendItem;t.antialiasing>1&&clay_opengl_GLGraphics.blitRenderTargetBuffers(t.renderTarget,t.width,t.height)}if(backend_Draw._currentRenderTarget=e,backend_Draw._didUpdateCurrentRenderTarget=!0,null!=e){var i=e.backendItem.renderTarget;null!=i?(clay_opengl_GLGraphics.bindFramebuffer(i.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(i.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null));var l=0,s=0,r=((v=e.width)+l)/(C=v-l),a=(s+(y=e.height))/(x=s-y),c=((U=-1e3)+(w=1e3))/(D=U-w);(g=backend_Draw._projectionMatrix)[0]=2/C,g[4]=0,g[8]=0,g[12]=-r,g[1]=0,g[5]=2/x,g[9]=0,g[13]=-a,g[2]=0,g[6]=0,g[10]=-2/D,g[14]=-c,g[3]=0,g[7]=0,g[11]=0,g[15]=1,(h=backend_Draw._renderTargetTransform).a=1,h.b=0,h.c=0,h.d=1,h.tx=0,h.ty=0,h.changedDirty=!0;var h=backend_Draw._renderTargetTransform,u=e.density,o=e.density;h.a*=u,h.b*=o,h.c*=u,h.d*=o,h.tx*=u,h.ty*=o,h.changedDirty=!0;var _=e.density,d=e.width,b=e.height,f=-1;if(null==f&&(f=1),null!=(m=backend_Draw._renderTargetTransform)){if((h=backend_Draw._modelViewTransform).a=m.a,h.b=m.b,h.c=m.c,h.d=m.d,h.tx=m.tx,h.ty=m.ty,h.changedDirty=!0,0==(T=(h=backend_Draw._modelViewTransform).a*h.d-h.b*h.c))h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty;else{T=1/T;var O=h.d*T;h.d=h.a*T,h.a=O,h.b*=-T,h.c*=-T;var p=-h.a*h.tx-h.c*h.ty;h.ty=-h.b*h.tx-h.d*h.ty,h.tx=p}h.changedDirty=!0}else{(h=backend_Draw._modelViewTransform).a=1,h.b=0,h.c=0,h.d=1,h.tx=0,h.ty=0,h.changedDirty=!0}r=backend_Draw._modelViewTransform.tx,a=backend_Draw._modelViewTransform.ty;if((h=backend_Draw._modelViewTransform).tx+=-r,h.ty+=-a,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).a*=_,h.b*=_,h.c*=_,h.d*=_,h.tx*=_,h.ty*=_,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).tx+=r,h.ty+=a,h.changedDirty=!0,-1==f)(h=backend_Draw._modelViewTransform).tx+=.5*-d,h.ty+=.5*-b,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).a*=1,h.b*=-1,h.c*=1,h.d*=-1,h.tx*=1,h.ty*=-1,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).tx+=.5*d,h.ty+=.5*b,h.changedDirty=!0;if(0==(T=(h=backend_Draw._modelViewTransform).a*h.d-h.b*h.c))h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty;else{T=1/T;O=h.d*T;h.d=h.a*T,h.a=O,h.b*=-T,h.c*=-T;p=-h.a*h.tx-h.c*h.ty;h.ty=-h.b*h.tx-h.d*h.ty,h.tx=p}h.changedDirty=!0;var g=backend_Draw._modelViewMatrix,m=backend_Draw._modelViewTransform;g[0]=m.a,g[4]=m.c,g[8]=0,g[12]=m.tx,g[1]=m.b,g[5]=m.d,g[9]=0,g[13]=m.ty,g[2]=0,g[6]=0,g[10]=1,g[14]=0,g[3]=0,g[7]=0,g[11]=0,g[15]=1,backend_Draw._viewportDensity=e.density,backend_Draw._viewportWidth=e.width*backend_Draw._viewportDensity,backend_Draw._viewportHeight=e.height*backend_Draw._viewportDensity,clay_opengl_web_GL.gl.viewport(0,0,e.width*e.density|0,e.height*e.density|0),e.clearOnRender&&(clay_opengl_GLGraphics.clear((backend_Draw._blackTransparentColor>>16&255)/255,(backend_Draw._blackTransparentColor>>8&255)/255,(255&backend_Draw._blackTransparentColor)/255,(backend_Draw._blackTransparentColor>>24&255)/255),backend_Draw._didUpdateCurrentRenderTarget=!0)}else{null!=(e=null)?(clay_opengl_GLGraphics.bindFramebuffer(e.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(e.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null));var v,y,w,U,C,x,D;l=0,s=0,r=((v=clay_Clay.app.screenWidth)+l)/(C=v-l),a=(s+(y=clay_Clay.app.screenHeight))/(x=s-y),c=((U=-1e3)+(w=1e3))/(D=U-w);(g=backend_Draw._projectionMatrix)[0]=2/C,g[4]=0,g[8]=0,g[12]=-r,g[1]=0,g[5]=2/x,g[9]=0,g[13]=-a,g[2]=0,g[6]=0,g[10]=-2/D,g[14]=-c,g[3]=0,g[7]=0,g[11]=0,g[15]=1;_=clay_Clay.app.screenDensity,d=clay_Clay.app.screenWidth,b=clay_Clay.app.screenHeight;if(null!=(m=ceramic_App.app.screen.matrix)){if((h=backend_Draw._modelViewTransform).a=m.a,h.b=m.b,h.c=m.c,h.d=m.d,h.tx=m.tx,h.ty=m.ty,h.changedDirty=!0,0==(T=(h=backend_Draw._modelViewTransform).a*h.d-h.b*h.c))h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty;else{T=1/T;O=h.d*T;h.d=h.a*T,h.a=O,h.b*=-T,h.c*=-T;p=-h.a*h.tx-h.c*h.ty;h.ty=-h.b*h.tx-h.d*h.ty,h.tx=p}h.changedDirty=!0}else{(h=backend_Draw._modelViewTransform).a=1,h.b=0,h.c=0,h.d=1,h.tx=0,h.ty=0,h.changedDirty=!0}var T;r=backend_Draw._modelViewTransform.tx,a=backend_Draw._modelViewTransform.ty;if((h=backend_Draw._modelViewTransform).tx+=-r,h.ty+=-a,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).a*=_,h.b*=_,h.c*=_,h.d*=_,h.tx*=_,h.ty*=_,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).tx+=r,h.ty+=a,h.changedDirty=!0,0==(T=(h=backend_Draw._modelViewTransform).a*h.d-h.b*h.c))h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty;else{T=1/T;O=h.d*T;h.d=h.a*T,h.a=O,h.b*=-T,h.c*=-T;p=-h.a*h.tx-h.c*h.ty;h.ty=-h.b*h.tx-h.d*h.ty,h.tx=p}h.changedDirty=!0;g=backend_Draw._modelViewMatrix,m=backend_Draw._modelViewTransform;g[0]=m.a,g[4]=m.c,g[8]=0,g[12]=m.tx,g[1]=m.b,g[5]=m.d,g[9]=0,g[13]=m.ty,g[2]=0,g[6]=0,g[10]=1,g[14]=0,g[3]=0,g[7]=0,g[11]=0,g[15]=1,backend_Draw._viewportDensity=clay_Clay.app.screenDensity,backend_Draw._viewportWidth=clay_Clay.app.screenWidth*backend_Draw._viewportDensity,backend_Draw._viewportHeight=clay_Clay.app.screenHeight*backend_Draw._viewportDensity,clay_opengl_web_GL.gl.viewport(0,0,0|backend_Draw._viewportWidth,0|backend_Draw._viewportHeight)}}},useShader:function(e){backend_Draw._activeShader=e,e.uniforms.setMatrix4("projectionMatrix",backend_Draw._projectionMatrix),e.uniforms.setMatrix4("modelViewMatrix",backend_Draw._modelViewMatrix);var n=ceramic_App.app.backend.shaders,t=0,i=backend_Draw._activeShader.customAttributes;if(null!=i)for(var l=0,s=i.length;l<s;){t+=i[l++].size}backend_Draw._floatAttributesSize=t,backend_Draw._batchMultiTexture=n.canBatchWithMultipleTextures(backend_Draw._activeShader),backend_Draw._vertexSize=3+backend_Draw._floatAttributesSize+(backend_Draw._batchMultiTexture?1:0),backend_Draw._posSize=backend_Draw._vertexSize,backend_Draw._vertexSize<4&&(backend_Draw._vertexSize=4),backend_Draw._maxVerts=0|Math.floor(65536/backend_Draw._vertexSize),e.activate(),0==backend_Draw._numPos&&(backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0)},resetIndexes:function(){backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0},setBlendFuncSeparate:function(e,n,t,i){clay_opengl_web_GL.gl.blendFuncSeparate(e,n,t,i)},beginDrawQuad:function(e){},endDrawQuad:function(){},beginDrawMesh:function(e){},endDrawMesh:function(){},enableScissor:function(e,n,t,i){clay_opengl_web_GL.gl.enable(3089);var l,s=backend_Draw._viewportDensity,r=(e*(l=backend_Draw._modelViewTransform).a+n*l.c+l.tx)*s,a=(e*(l=backend_Draw._modelViewTransform).b+n*l.d+l.ty)*s,c=((e+t)*(l=backend_Draw._modelViewTransform).a+(n+i)*l.c+l.tx)*s,h=((e+t)*(l=backend_Draw._modelViewTransform).b+(n+i)*l.d+l.ty)*s;null!=backend_Draw._currentRenderTarget?clay_opengl_web_GL.gl.scissor(Math.round(r),Math.round(backend_Draw._viewportHeight-a),Math.round(c-r),Math.round(a-h)):clay_opengl_web_GL.gl.scissor(Math.round(r),Math.round(backend_Draw._viewportHeight-h),Math.round(c-r),Math.round(h-a))},disableScissor:function(){clay_opengl_web_GL.gl.disable(3089)},drawWithStencilTest:function(){clay_opengl_web_GL.gl.stencilFunc(514,1,255),clay_opengl_web_GL.gl.stencilMask(0),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.enable(2960)},drawWithoutStencilTest:function(){clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.disable(2960)},beginDrawingInStencilBuffer:function(){backend_Draw._drawingInStencilBuffer=!0,clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.clearStencil(255),clay_opengl_web_GL.gl.clear(1024),clay_opengl_web_GL.gl.enable(2960),clay_opengl_web_GL.gl.stencilOp(7680,7680,7681),clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!1,!1,!1,!1)},endDrawingInStencilBuffer:function(){backend_Draw._drawingInStencilBuffer=!1},bindTexture:function(e){var n=e.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=n&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=n,clay_opengl_web_GL.gl.bindTexture(3553,n))},bindNoTexture:function(){var e=ceramic_App.app.defaultWhiteTexture.backendItem.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=e&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=e,clay_opengl_web_GL.gl.bindTexture(3553,e))},textureBackendItemMatchesId:function(e,n){return e.textureId==n},getTextureId:function(e){return e.textureId},getTextureWidth:function(e){return e.width},getTextureHeight:function(e){return e.height},getTextureWidthActual:function(e){return e.widthActual},getTextureHeightActual:function(e){return e.heightActual},updateProjectionMatrix:function(e,n){var t=e-0,i=0-n,l=(e+0)/t,s=(0+n)/i,r=backend_Draw._projectionMatrix;r[0]=2/t,r[4]=0,r[8]=0,r[12]=-l,r[1]=0,r[5]=2/i,r[9]=0,r[13]=-s,r[2]=0,r[6]=0,r[10]=.001,r[14]=0,r[3]=0,r[7]=0,r[11]=0,r[15]=1},updateViewMatrix:function(e,n,t,i,l){if(null==l&&(l=1),null!=i){if((a=backend_Draw._modelViewTransform).a=i.a,a.b=i.b,a.c=i.c,a.d=i.d,a.tx=i.tx,a.ty=i.ty,a.changedDirty=!0,0==(c=(a=backend_Draw._modelViewTransform).a*a.d-a.b*a.c))a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{c=1/c;var s=a.d*c;a.d=a.a*c,a.a=s,a.b*=-c,a.c*=-c;var r=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=r}a.changedDirty=!0}else{(a=backend_Draw._modelViewTransform).a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0}var a,c,h=backend_Draw._modelViewTransform.tx,u=backend_Draw._modelViewTransform.ty;((a=backend_Draw._modelViewTransform).tx+=-h,a.ty+=-u,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).a*=e,a.b*=e,a.c*=e,a.d*=e,a.tx*=e,a.ty*=e,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).tx+=h,a.ty+=u,a.changedDirty=!0,-1==l)&&((a=backend_Draw._modelViewTransform).tx+=.5*-n,a.ty+=.5*-t,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).a*=1,a.b*=-1,a.c*=1,a.d*=-1,a.tx*=1,a.ty*=-1,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).tx+=.5*n,a.ty+=.5*t,a.changedDirty=!0);if(0==(c=(a=backend_Draw._modelViewTransform).a*a.d-a.b*a.c))a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{c=1/c;s=a.d*c;a.d=a.a*c,a.a=s,a.b*=-c,a.c*=-c;r=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=r}a.changedDirty=!0;var o=backend_Draw._modelViewMatrix;i=backend_Draw._modelViewTransform;o[0]=i.a,o[4]=i.c,o[8]=0,o[12]=i.tx,o[1]=i.b,o[5]=i.d,o[9]=0,o[13]=i.ty,o[2]=0,o[6]=0,o[10]=1,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1},matrixIdentity:function(e){e[0]=1,e[4]=0,e[8]=0,e[12]=0,e[1]=0,e[5]=1,e[9]=0,e[13]=0,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},setMatrixToTransform:function(e,n){e[0]=n.a,e[4]=n.c,e[8]=0,e[12]=n.tx,e[1]=n.b,e[5]=n.d,e[9]=0,e[13]=n.ty,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},getNumPos:function(){return backend_Draw._numPos},putPos:function(e,n,t){backend_Draw._posList[backend_Draw._posIndex]=e,backend_Draw._posList[backend_Draw._posIndex+1]=n,backend_Draw._posList[backend_Draw._posIndex+2]=t,backend_Draw._posIndex+=3,backend_Draw._numPos++},putPosAndTextureSlot:function(e,n,t,i){backend_Draw._posList[backend_Draw._posIndex]=e,backend_Draw._posList[backend_Draw._posIndex+1]=n,backend_Draw._posList[backend_Draw._posIndex+2]=t,backend_Draw._posList[backend_Draw._posIndex+3]=i,backend_Draw._posIndex+=4,backend_Draw._numPos++},beginFloatAttributes:function(){},putFloatAttribute:function(e,n){backend_Draw._posList[backend_Draw._posIndex+e]=n},endFloatAttributes:function(){backend_Draw._posIndex+=backend_Draw._floatAttributesSize},putIndice:function(e){backend_Draw._indiceList[backend_Draw._numIndices]=e,backend_Draw._numIndices++},putUVs:function(e,n){backend_Draw._uvList[backend_Draw._uvIndex]=e,backend_Draw._uvList[backend_Draw._uvIndex+1]=n,backend_Draw._uvIndex+=2,backend_Draw._numUVs++},putColor:function(e,n,t,i){backend_Draw._colorList[backend_Draw._colorIndex]=e,backend_Draw._colorList[backend_Draw._colorIndex+1]=n,backend_Draw._colorList[backend_Draw._colorIndex+2]=t,backend_Draw._colorList[backend_Draw._colorIndex+3]=i,backend_Draw._colorIndex+=4,backend_Draw._numColors++},hasAnythingToFlush:function(){return backend_Draw._numPos>0},shouldFlush:function(e,n,t){return!(backend_Draw._numPos+e<=backend_Draw._maxVerts)||backend_Draw._numIndices+n>16384},remainingVertices:function(){return backend_Draw._maxVerts-backend_Draw._numPos},remainingIndices:function(){return 16384-backend_Draw._numIndices},flush:function(){var e=backend_Draw._batchMultiTexture,n=new Float32Array(backend_Draw._posList.buffer,0,4*backend_Draw._posIndex/4|0),t=new Float32Array(backend_Draw._uvList.buffer,0,4*backend_Draw._uvIndex/4|0),i=new Float32Array(backend_Draw._colorList.buffer,0,4*backend_Draw._colorIndex/4|0),l=new Uint16Array(backend_Draw._indiceList.buffer,0,2*backend_Draw._numIndices/2|0),s=clay_opengl_web_GL.gl.createBuffer(),r=clay_opengl_web_GL.gl.createBuffer(),a=clay_opengl_web_GL.gl.createBuffer(),c=clay_opengl_web_GL.gl.createBuffer();clay_opengl_web_GL.gl.enableVertexAttribArray(0),clay_opengl_web_GL.gl.enableVertexAttribArray(1),clay_opengl_web_GL.gl.enableVertexAttribArray(2),clay_opengl_web_GL.gl.bindBuffer(34962,s),clay_opengl_web_GL.gl.vertexAttribPointer(0,3,5126,!1,4*backend_Draw._posSize,0),clay_opengl_web_GL.gl.bufferData(34962,n,35040),clay_opengl_web_GL.gl.bindBuffer(34962,a),clay_opengl_web_GL.gl.vertexAttribPointer(1,2,5126,!1,0,0),clay_opengl_web_GL.gl.bufferData(34962,t,35040),clay_opengl_web_GL.gl.bindBuffer(34962,r),clay_opengl_web_GL.gl.vertexAttribPointer(2,4,5126,!1,0,0),clay_opengl_web_GL.gl.bufferData(34962,i,35040);var h=3,u=3,o=0;if(e){var _=clay_opengl_web_GL.gl.createBuffer();backend_Draw._customGLBuffers[o++]=_,clay_opengl_web_GL.gl.enableVertexAttribArray(u),clay_opengl_web_GL.gl.bindBuffer(34962,_),clay_opengl_web_GL.gl.vertexAttribPointer(u,1,5126,!1,4*backend_Draw._posSize,4*h),clay_opengl_web_GL.gl.bufferData(34962,n,35040),++u,++h}if(null!=backend_Draw._activeShader&&null!=backend_Draw._activeShader.customAttributes){var d=backend_Draw._activeShader.customAttributes,b=o,f=b+d.length;o+=d.length;for(var O=b,p=f;O<p;){var g=d[(m=O++)-b];_=clay_opengl_web_GL.gl.createBuffer();backend_Draw._customGLBuffers[m]=_,clay_opengl_web_GL.gl.enableVertexAttribArray(u),clay_opengl_web_GL.gl.bindBuffer(34962,_),clay_opengl_web_GL.gl.vertexAttribPointer(u,g.size,5126,!1,4*backend_Draw._posSize,4*h),clay_opengl_web_GL.gl.bufferData(34962,n,35040),++u,h+=g.size}}if(clay_opengl_web_GL.gl.bindBuffer(34963,c),clay_opengl_web_GL.gl.bufferData(34963,l,35040),clay_opengl_web_GL.gl.drawElements(4,backend_Draw._numIndices,5123,0),clay_opengl_web_GL.gl.deleteBuffer(s),clay_opengl_web_GL.gl.deleteBuffer(r),clay_opengl_web_GL.gl.deleteBuffer(a),o>0)for(u=3,O=0,p=o;O<p;){var m=O++;_=backend_Draw._customGLBuffers[m];clay_opengl_web_GL.gl.deleteBuffer(_),clay_opengl_web_GL.gl.disableVertexAttribArray(u),++u}clay_opengl_web_GL.gl.bindBuffer(34963,null),clay_opengl_web_GL.gl.deleteBuffer(c),null!=backend_Draw._currentRenderTarget&&(backend_Draw._didUpdateCurrentRenderTarget=!0),n=null,t=null,i=null,l=null,backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0,this.prepareNextBuffers()},__class__:backend_Draw};var backend_ElectronRunner=function(){};t["backend.ElectronRunner"]=backend_ElectronRunner,backend_ElectronRunner.__name__="backend.ElectronRunner";var spec_IO=function(){};t["spec.IO"]=spec_IO,spec_IO.__name__="spec.IO",spec_IO.__isInterface__=!0,spec_IO.prototype={saveString:null,appendString:null,readString:null,__class__:spec_IO};var backend_IO=function(){};t["backend.IO"]=backend_IO,backend_IO.__name__="backend.IO",backend_IO.__interfaces__=[spec_IO],backend_IO.prototype={initKeyValueIfNeeded:function(){},saveString:function(e,n){try{var t=window.localStorage;if(null==t)return ceramic_App.app.logger.error("Cannot save string: localStorage not supported on this browser",{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:200,className:"backend.IO",methodName:"saveString"}),!1;t.setItem(e,ceramic_HashedString.encode(n))}catch(n){var i=haxe_Exception.caught(n).unwrap();return ceramic_App.app.logger.error("Failed to save string (key="+e+"): "+Std.string(i),{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:207,className:"backend.IO",methodName:"saveString"}),!1}return!0},appendString:function(e,n){try{var t=window.localStorage;if(null==t)return ceramic_App.app.logger.error("Cannot append string: localStorage not supported on this browser",{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:220,className:"backend.IO",methodName:"appendString"}),!1;var i=t.getItem(e);null==i?t.setItem(e,ceramic_HashedString.encode(n)):t.setItem(e,i+ceramic_HashedString.encode(n))}catch(n){var l=haxe_Exception.caught(n).unwrap();return ceramic_App.app.logger.error("Failed to append string (key="+e+"): "+Std.string(l),{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:233,className:"backend.IO",methodName:"appendString"}),!1}return!0},readString:function(e){try{var n=window.localStorage;if(null==n)return ceramic_App.app.logger.error("Cannot read string: localStorage not supported on this browser",{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:246,className:"backend.IO",methodName:"readString"}),null;var t=n.getItem(e);return null!=t?ceramic_HashedString.decode(t):null}catch(n){var i=haxe_Exception.caught(n).unwrap();return ceramic_App.app.logger.error("Failed to read string (key="+e+"): "+Std.string(i),{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:254,className:"backend.IO",methodName:"readString"}),null}},__class__:backend_IO};var spec_Info=function(){};t["spec.Info"]=spec_Info,spec_Info.__name__="spec.Info",spec_Info.__isInterface__=!0,spec_Info.prototype={storageDirectory:null,imageExtensions:null,textExtensions:null,soundExtensions:null,shaderExtensions:null,__class__:spec_Info};var backend_Info=function(){};t["backend.Info"]=backend_Info,backend_Info.__name__="backend.Info",backend_Info.__interfaces__=[spec_Info],backend_Info.prototype={storageDirectory:function(){return null},imageExtensions:function(){return["png","jpg","jpeg"]},textExtensions:function(){return["txt","json","fnt","atlas"]},soundExtensions:function(){if(null!=backend_Info._soundExtensions)return[].concat(backend_Info._soundExtensions);backend_Info._soundExtensions=[];var n=new Audio,t=null!=e.navigator?e.navigator.userAgent:"",i=backend_Info.RE_OPERA.match(t)&&parseInt(backend_Info.RE_OPERA.matched(0).split("/")[1],10)<33,l=-1!=t.indexOf("Safari")&&-1==t.indexOf("Chrome"),s=backend_Info.RE_SAFARI_VERSION.match(t),r=(l&&s&&parseInt(backend_Info.RE_SAFARI_VERSION.matched(1),10),n.canPlayType('audio/ogg; codecs="vorbis"'));null!=r&&"no"!=r&&""!=r&&backend_Info._soundExtensions.push("ogg");var a=n.canPlayType("audio/mpeg;"),c=n.canPlayType("audio/mp3;");!i&&(null!=a&&"no"!=a&&""!=a||null!=c&&"no"!=c&&""!=c)&&backend_Info._soundExtensions.push("mp3");var h=n.canPlayType("audio/x-flac;"),u=n.canPlayType("audio/flac;");(null!=h&&"no"!=h&&""!=h||null!=u&&"no"!=u&&""!=u)&&backend_Info._soundExtensions.push("flac");var o=n.canPlayType('audio/wav; codecs="1"'),_=n.canPlayType("audio/wav;");return(null!=o&&"no"!=o&&""!=o||null!=_&&"no"!=_&&""!=_)&&backend_Info._soundExtensions.push("wav"),[].concat(backend_Info._soundExtensions)},shaderExtensions:function(){return["frag","vert"]},__class__:backend_Info};var spec_Input=function(){};t["spec.Input"]=spec_Input,spec_Input.__name__="spec.Input",spec_Input.__isInterface__=!0;var backend_Input=function(){};t["backend.Input"]=backend_Input,backend_Input.__name__="backend.Input",backend_Input.__interfaces__=[spec_Input,tracker_Events],backend_Input.prototype={__cbOnKeyDown:null,__cbOnceKeyDown:null,__cbOnOwnerUnbindKeyDown:null,__cbOnceOwnerUnbindKeyDown:null,emitKeyDown:function(e){var n=0;if(null!=this.__cbOnKeyDown&&(n+=this.__cbOnKeyDown.length),null!=this.__cbOnceKeyDown&&(n+=this.__cbOnceKeyDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyDown)for(var s=0,r=this.__cbOnKeyDown.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnKeyDown[a],++l):--n}if(null!=this.__cbOnceKeyDown){var c=null,h=null;for(s=0,r=this.__cbOnceKeyDown.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceKeyDown[a],this.__cbOnceKeyDown[a]=null;var u=this.__cbOnceOwnerUnbindKeyDown[a];this.__cbOnceOwnerUnbindKeyDown[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindKeyDown[a]),h.push(this.__cbOnceKeyDown[a])}this.__cbOnceOwnerUnbindKeyDown=c,this.__cbOnceKeyDown=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onKeyDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(null);null==this.__cbOnKeyDown&&(this.__cbOnKeyDown=[]),this.__cbOnKeyDown.push(n)},onceKeyDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(null);null==this.__cbOnceKeyDown&&(this.__cbOnceKeyDown=[]),this.__cbOnceKeyDown.push(n)},offKeyDown:function(e){if(null!=e){var n;null!=this.__cbOnKeyDown&&-1!=(n=this.__cbOnKeyDown.indexOf(e))&&(this.__cbOnKeyDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindKeyDown[n])&&s(),this.__cbOnOwnerUnbindKeyDown.splice(n,1)),null!=this.__cbOnceKeyDown&&-1!=(n=this.__cbOnceKeyDown.indexOf(e))&&(this.__cbOnceKeyDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindKeyDown[n])&&s(),this.__cbOnceOwnerUnbindKeyDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyDown){for(var t=0,i=this.__cbOnOwnerUnbindKeyDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindKeyDown[l])&&s()}this.__cbOnOwnerUnbindKeyDown=null}if(null!=this.__cbOnceOwnerUnbindKeyDown){for(t=0,i=this.__cbOnceOwnerUnbindKeyDown.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindKeyDown[l])&&s()}this.__cbOnceOwnerUnbindKeyDown=null}this.__cbOnKeyDown=null,this.__cbOnceKeyDown=null}},listensKeyDown:function(){return null!=this.__cbOnKeyDown&&this.__cbOnKeyDown.length>0||null!=this.__cbOnceKeyDown&&this.__cbOnceKeyDown.length>0},__cbOnKeyUp:null,__cbOnceKeyUp:null,__cbOnOwnerUnbindKeyUp:null,__cbOnceOwnerUnbindKeyUp:null,emitKeyUp:function(e){var n=0;if(null!=this.__cbOnKeyUp&&(n+=this.__cbOnKeyUp.length),null!=this.__cbOnceKeyUp&&(n+=this.__cbOnceKeyUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyUp)for(var s=0,r=this.__cbOnKeyUp.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnKeyUp[a],++l):--n}if(null!=this.__cbOnceKeyUp){var c=null,h=null;for(s=0,r=this.__cbOnceKeyUp.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceKeyUp[a],this.__cbOnceKeyUp[a]=null;var u=this.__cbOnceOwnerUnbindKeyUp[a];this.__cbOnceOwnerUnbindKeyUp[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindKeyUp[a]),h.push(this.__cbOnceKeyUp[a])}this.__cbOnceOwnerUnbindKeyUp=c,this.__cbOnceKeyUp=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onKeyUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(null);null==this.__cbOnKeyUp&&(this.__cbOnKeyUp=[]),this.__cbOnKeyUp.push(n)},onceKeyUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(null);null==this.__cbOnceKeyUp&&(this.__cbOnceKeyUp=[]),this.__cbOnceKeyUp.push(n)},offKeyUp:function(e){if(null!=e){var n;null!=this.__cbOnKeyUp&&-1!=(n=this.__cbOnKeyUp.indexOf(e))&&(this.__cbOnKeyUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindKeyUp[n])&&s(),this.__cbOnOwnerUnbindKeyUp.splice(n,1)),null!=this.__cbOnceKeyUp&&-1!=(n=this.__cbOnceKeyUp.indexOf(e))&&(this.__cbOnceKeyUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindKeyUp[n])&&s(),this.__cbOnceOwnerUnbindKeyUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyUp){for(var t=0,i=this.__cbOnOwnerUnbindKeyUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindKeyUp[l])&&s()}this.__cbOnOwnerUnbindKeyUp=null}if(null!=this.__cbOnceOwnerUnbindKeyUp){for(t=0,i=this.__cbOnceOwnerUnbindKeyUp.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindKeyUp[l])&&s()}this.__cbOnceOwnerUnbindKeyUp=null}this.__cbOnKeyUp=null,this.__cbOnceKeyUp=null}},listensKeyUp:function(){return null!=this.__cbOnKeyUp&&this.__cbOnKeyUp.length>0||null!=this.__cbOnceKeyUp&&this.__cbOnceKeyUp.length>0},__cbOnGamepadAxis:null,__cbOnceGamepadAxis:null,__cbOnOwnerUnbindGamepadAxis:null,__cbOnceOwnerUnbindGamepadAxis:null,emitGamepadAxis:function(e,n,t){var i=0;if(null!=this.__cbOnGamepadAxis&&(i+=this.__cbOnGamepadAxis.length),null!=this.__cbOnceGamepadAxis&&(i+=this.__cbOnceGamepadAxis.length),i>0){var l=ceramic_ArrayPool.pool(i),s=l.get(),r=0;if(null!=this.__cbOnGamepadAxis)for(var a=0,c=this.__cbOnGamepadAxis.length;a<c;){var h=a++;!0?(s.vector[r]=this.__cbOnGamepadAxis[h],++r):--i}if(null!=this.__cbOnceGamepadAxis){var u=null,o=null;for(a=0,c=this.__cbOnceGamepadAxis.length;a<c;){h=a++;if(!0){s.vector[r]=this.__cbOnceGamepadAxis[h],this.__cbOnceGamepadAxis[h]=null;var _=this.__cbOnceOwnerUnbindGamepadAxis[h];this.__cbOnceOwnerUnbindGamepadAxis[h]=null,null!=_&&_(),++r}else--i,null==u&&(u=[],o=[],[]),u.push(this.__cbOnceOwnerUnbindGamepadAxis[h]),o.push(this.__cbOnceGamepadAxis[h])}this.__cbOnceOwnerUnbindGamepadAxis=u,this.__cbOnceGamepadAxis=o}for(a=0,c=i;a<c;){r=a++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}},onGamepadAxis:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadAxis(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(null);null==this.__cbOnGamepadAxis&&(this.__cbOnGamepadAxis=[]),this.__cbOnGamepadAxis.push(n)},onceGamepadAxis:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadAxis(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(null);null==this.__cbOnceGamepadAxis&&(this.__cbOnceGamepadAxis=[]),this.__cbOnceGamepadAxis.push(n)},offGamepadAxis:function(e){if(null!=e){var n;null!=this.__cbOnGamepadAxis&&-1!=(n=this.__cbOnGamepadAxis.indexOf(e))&&(this.__cbOnGamepadAxis.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadAxis[n])&&s(),this.__cbOnOwnerUnbindGamepadAxis.splice(n,1)),null!=this.__cbOnceGamepadAxis&&-1!=(n=this.__cbOnceGamepadAxis.indexOf(e))&&(this.__cbOnceGamepadAxis.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadAxis[n])&&s(),this.__cbOnceOwnerUnbindGamepadAxis.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadAxis){for(var t=0,i=this.__cbOnOwnerUnbindGamepadAxis.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadAxis[l])&&s()}this.__cbOnOwnerUnbindGamepadAxis=null}if(null!=this.__cbOnceOwnerUnbindGamepadAxis){for(t=0,i=this.__cbOnceOwnerUnbindGamepadAxis.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadAxis[l])&&s()}this.__cbOnceOwnerUnbindGamepadAxis=null}this.__cbOnGamepadAxis=null,this.__cbOnceGamepadAxis=null}},listensGamepadAxis:function(){return null!=this.__cbOnGamepadAxis&&this.__cbOnGamepadAxis.length>0||null!=this.__cbOnceGamepadAxis&&this.__cbOnceGamepadAxis.length>0},__cbOnGamepadDown:null,__cbOnceGamepadDown:null,__cbOnOwnerUnbindGamepadDown:null,__cbOnceOwnerUnbindGamepadDown:null,emitGamepadDown:function(e,n){var t=0;if(null!=this.__cbOnGamepadDown&&(t+=this.__cbOnGamepadDown.length),null!=this.__cbOnceGamepadDown&&(t+=this.__cbOnceGamepadDown.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadDown)for(var r=0,a=this.__cbOnGamepadDown.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnGamepadDown[c],++s):--t}if(null!=this.__cbOnceGamepadDown){var h=null,u=null;for(r=0,a=this.__cbOnceGamepadDown.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceGamepadDown[c],this.__cbOnceGamepadDown[c]=null;var o=this.__cbOnceOwnerUnbindGamepadDown[c];this.__cbOnceOwnerUnbindGamepadDown[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindGamepadDown[c]),u.push(this.__cbOnceGamepadDown[c])}this.__cbOnceOwnerUnbindGamepadDown=h,this.__cbOnceGamepadDown=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onGamepadDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(null);null==this.__cbOnGamepadDown&&(this.__cbOnGamepadDown=[]),this.__cbOnGamepadDown.push(n)},onceGamepadDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(null);null==this.__cbOnceGamepadDown&&(this.__cbOnceGamepadDown=[]),this.__cbOnceGamepadDown.push(n)},offGamepadDown:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDown&&-1!=(n=this.__cbOnGamepadDown.indexOf(e))&&(this.__cbOnGamepadDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadDown[n])&&s(),this.__cbOnOwnerUnbindGamepadDown.splice(n,1)),null!=this.__cbOnceGamepadDown&&-1!=(n=this.__cbOnceGamepadDown.indexOf(e))&&(this.__cbOnceGamepadDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadDown[n])&&s(),this.__cbOnceOwnerUnbindGamepadDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDown){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadDown[l])&&s()}this.__cbOnOwnerUnbindGamepadDown=null}if(null!=this.__cbOnceOwnerUnbindGamepadDown){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDown.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadDown[l])&&s()}this.__cbOnceOwnerUnbindGamepadDown=null}this.__cbOnGamepadDown=null,this.__cbOnceGamepadDown=null}},listensGamepadDown:function(){return null!=this.__cbOnGamepadDown&&this.__cbOnGamepadDown.length>0||null!=this.__cbOnceGamepadDown&&this.__cbOnceGamepadDown.length>0},__cbOnGamepadUp:null,__cbOnceGamepadUp:null,__cbOnOwnerUnbindGamepadUp:null,__cbOnceOwnerUnbindGamepadUp:null,emitGamepadUp:function(e,n){var t=0;if(null!=this.__cbOnGamepadUp&&(t+=this.__cbOnGamepadUp.length),null!=this.__cbOnceGamepadUp&&(t+=this.__cbOnceGamepadUp.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadUp)for(var r=0,a=this.__cbOnGamepadUp.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnGamepadUp[c],++s):--t}if(null!=this.__cbOnceGamepadUp){var h=null,u=null;for(r=0,a=this.__cbOnceGamepadUp.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceGamepadUp[c],this.__cbOnceGamepadUp[c]=null;var o=this.__cbOnceOwnerUnbindGamepadUp[c];this.__cbOnceOwnerUnbindGamepadUp[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindGamepadUp[c]),u.push(this.__cbOnceGamepadUp[c])}this.__cbOnceOwnerUnbindGamepadUp=h,this.__cbOnceGamepadUp=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onGamepadUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(null);null==this.__cbOnGamepadUp&&(this.__cbOnGamepadUp=[]),this.__cbOnGamepadUp.push(n)},onceGamepadUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(null);null==this.__cbOnceGamepadUp&&(this.__cbOnceGamepadUp=[]),this.__cbOnceGamepadUp.push(n)},offGamepadUp:function(e){if(null!=e){var n;null!=this.__cbOnGamepadUp&&-1!=(n=this.__cbOnGamepadUp.indexOf(e))&&(this.__cbOnGamepadUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadUp[n])&&s(),this.__cbOnOwnerUnbindGamepadUp.splice(n,1)),null!=this.__cbOnceGamepadUp&&-1!=(n=this.__cbOnceGamepadUp.indexOf(e))&&(this.__cbOnceGamepadUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadUp[n])&&s(),this.__cbOnceOwnerUnbindGamepadUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadUp){for(var t=0,i=this.__cbOnOwnerUnbindGamepadUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadUp[l])&&s()}this.__cbOnOwnerUnbindGamepadUp=null}if(null!=this.__cbOnceOwnerUnbindGamepadUp){for(t=0,i=this.__cbOnceOwnerUnbindGamepadUp.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadUp[l])&&s()}this.__cbOnceOwnerUnbindGamepadUp=null}this.__cbOnGamepadUp=null,this.__cbOnceGamepadUp=null}},listensGamepadUp:function(){return null!=this.__cbOnGamepadUp&&this.__cbOnGamepadUp.length>0||null!=this.__cbOnceGamepadUp&&this.__cbOnceGamepadUp.length>0},__cbOnGamepadGyro:null,__cbOnceGamepadGyro:null,__cbOnOwnerUnbindGamepadGyro:null,__cbOnceOwnerUnbindGamepadGyro:null,emitGamepadGyro:function(e,n,t,i){var l=0;if(null!=this.__cbOnGamepadGyro&&(l+=this.__cbOnGamepadGyro.length),null!=this.__cbOnceGamepadGyro&&(l+=this.__cbOnceGamepadGyro.length),l>0){var s=ceramic_ArrayPool.pool(l),r=s.get(),a=0;if(null!=this.__cbOnGamepadGyro)for(var c=0,h=this.__cbOnGamepadGyro.length;c<h;){var u=c++;!0?(r.vector[a]=this.__cbOnGamepadGyro[u],++a):--l}if(null!=this.__cbOnceGamepadGyro){var o=null,_=null;for(c=0,h=this.__cbOnceGamepadGyro.length;c<h;){u=c++;if(!0){r.vector[a]=this.__cbOnceGamepadGyro[u],this.__cbOnceGamepadGyro[u]=null;var d=this.__cbOnceOwnerUnbindGamepadGyro[u];this.__cbOnceOwnerUnbindGamepadGyro[u]=null,null!=d&&d(),++a}else--l,null==o&&(o=[],_=[],[]),o.push(this.__cbOnceOwnerUnbindGamepadGyro[u]),_.push(this.__cbOnceGamepadGyro[u])}this.__cbOnceOwnerUnbindGamepadGyro=o,this.__cbOnceGamepadGyro=_}for(c=0,h=l;c<h;){a=c++;(0,r.vector[a])(e,n,t,i)}s.release(r),r=null}},onGamepadGyro:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadGyro(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(null);null==this.__cbOnGamepadGyro&&(this.__cbOnGamepadGyro=[]),this.__cbOnGamepadGyro.push(n)},onceGamepadGyro:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadGyro(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(null);null==this.__cbOnceGamepadGyro&&(this.__cbOnceGamepadGyro=[]),this.__cbOnceGamepadGyro.push(n)},offGamepadGyro:function(e){if(null!=e){var n;null!=this.__cbOnGamepadGyro&&-1!=(n=this.__cbOnGamepadGyro.indexOf(e))&&(this.__cbOnGamepadGyro.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadGyro[n])&&s(),this.__cbOnOwnerUnbindGamepadGyro.splice(n,1)),null!=this.__cbOnceGamepadGyro&&-1!=(n=this.__cbOnceGamepadGyro.indexOf(e))&&(this.__cbOnceGamepadGyro.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadGyro[n])&&s(),this.__cbOnceOwnerUnbindGamepadGyro.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadGyro){for(var t=0,i=this.__cbOnOwnerUnbindGamepadGyro.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadGyro[l])&&s()}this.__cbOnOwnerUnbindGamepadGyro=null}if(null!=this.__cbOnceOwnerUnbindGamepadGyro){for(t=0,i=this.__cbOnceOwnerUnbindGamepadGyro.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadGyro[l])&&s()}this.__cbOnceOwnerUnbindGamepadGyro=null}this.__cbOnGamepadGyro=null,this.__cbOnceGamepadGyro=null}},listensGamepadGyro:function(){return null!=this.__cbOnGamepadGyro&&this.__cbOnGamepadGyro.length>0||null!=this.__cbOnceGamepadGyro&&this.__cbOnceGamepadGyro.length>0},__cbOnGamepadEnable:null,__cbOnceGamepadEnable:null,__cbOnOwnerUnbindGamepadEnable:null,__cbOnceOwnerUnbindGamepadEnable:null,emitGamepadEnable:function(e,n){var t=0;if(null!=this.__cbOnGamepadEnable&&(t+=this.__cbOnGamepadEnable.length),null!=this.__cbOnceGamepadEnable&&(t+=this.__cbOnceGamepadEnable.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadEnable)for(var r=0,a=this.__cbOnGamepadEnable.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnGamepadEnable[c],++s):--t}if(null!=this.__cbOnceGamepadEnable){var h=null,u=null;for(r=0,a=this.__cbOnceGamepadEnable.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceGamepadEnable[c],this.__cbOnceGamepadEnable[c]=null;var o=this.__cbOnceOwnerUnbindGamepadEnable[c];this.__cbOnceOwnerUnbindGamepadEnable[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindGamepadEnable[c]),u.push(this.__cbOnceGamepadEnable[c])}this.__cbOnceOwnerUnbindGamepadEnable=h,this.__cbOnceGamepadEnable=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onGamepadEnable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadEnable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(null);null==this.__cbOnGamepadEnable&&(this.__cbOnGamepadEnable=[]),this.__cbOnGamepadEnable.push(n)},onceGamepadEnable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadEnable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(null);null==this.__cbOnceGamepadEnable&&(this.__cbOnceGamepadEnable=[]),this.__cbOnceGamepadEnable.push(n)},offGamepadEnable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadEnable&&-1!=(n=this.__cbOnGamepadEnable.indexOf(e))&&(this.__cbOnGamepadEnable.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadEnable[n])&&s(),this.__cbOnOwnerUnbindGamepadEnable.splice(n,1)),null!=this.__cbOnceGamepadEnable&&-1!=(n=this.__cbOnceGamepadEnable.indexOf(e))&&(this.__cbOnceGamepadEnable.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadEnable[n])&&s(),this.__cbOnceOwnerUnbindGamepadEnable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadEnable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadEnable.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadEnable[l])&&s()}this.__cbOnOwnerUnbindGamepadEnable=null}if(null!=this.__cbOnceOwnerUnbindGamepadEnable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadEnable.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadEnable[l])&&s()}this.__cbOnceOwnerUnbindGamepadEnable=null}this.__cbOnGamepadEnable=null,this.__cbOnceGamepadEnable=null}},listensGamepadEnable:function(){return null!=this.__cbOnGamepadEnable&&this.__cbOnGamepadEnable.length>0||null!=this.__cbOnceGamepadEnable&&this.__cbOnceGamepadEnable.length>0},__cbOnGamepadDisable:null,__cbOnceGamepadDisable:null,__cbOnOwnerUnbindGamepadDisable:null,__cbOnceOwnerUnbindGamepadDisable:null,emitGamepadDisable:function(e){var n=0;if(null!=this.__cbOnGamepadDisable&&(n+=this.__cbOnGamepadDisable.length),null!=this.__cbOnceGamepadDisable&&(n+=this.__cbOnceGamepadDisable.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnGamepadDisable)for(var s=0,r=this.__cbOnGamepadDisable.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnGamepadDisable[a],++l):--n}if(null!=this.__cbOnceGamepadDisable){var c=null,h=null;for(s=0,r=this.__cbOnceGamepadDisable.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceGamepadDisable[a],this.__cbOnceGamepadDisable[a]=null;var u=this.__cbOnceOwnerUnbindGamepadDisable[a];this.__cbOnceOwnerUnbindGamepadDisable[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindGamepadDisable[a]),h.push(this.__cbOnceGamepadDisable[a])}this.__cbOnceOwnerUnbindGamepadDisable=c,this.__cbOnceGamepadDisable=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onGamepadDisable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDisable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(null);null==this.__cbOnGamepadDisable&&(this.__cbOnGamepadDisable=[]),this.__cbOnGamepadDisable.push(n)},onceGamepadDisable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDisable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(null);null==this.__cbOnceGamepadDisable&&(this.__cbOnceGamepadDisable=[]),this.__cbOnceGamepadDisable.push(n)},offGamepadDisable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDisable&&-1!=(n=this.__cbOnGamepadDisable.indexOf(e))&&(this.__cbOnGamepadDisable.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadDisable[n])&&s(),this.__cbOnOwnerUnbindGamepadDisable.splice(n,1)),null!=this.__cbOnceGamepadDisable&&-1!=(n=this.__cbOnceGamepadDisable.indexOf(e))&&(this.__cbOnceGamepadDisable.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadDisable[n])&&s(),this.__cbOnceOwnerUnbindGamepadDisable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDisable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDisable.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadDisable[l])&&s()}this.__cbOnOwnerUnbindGamepadDisable=null}if(null!=this.__cbOnceOwnerUnbindGamepadDisable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDisable.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadDisable[l])&&s()}this.__cbOnceOwnerUnbindGamepadDisable=null}this.__cbOnGamepadDisable=null,this.__cbOnceGamepadDisable=null}},listensGamepadDisable:function(){return null!=this.__cbOnGamepadDisable&&this.__cbOnGamepadDisable.length>0||null!=this.__cbOnceGamepadDisable&&this.__cbOnceGamepadDisable.length>0},startGamepadRumble:function(e,n,t,i){clay_Clay.app.runtime.startGamepadRumble(e,n,t,i)},stopGamepadRumble:function(e){clay_Clay.app.runtime.stopGamepadRumble(e)},unbindEvents:function(){this.offKeyDown(),this.offKeyUp(),this.offGamepadAxis(),this.offGamepadDown(),this.offGamepadUp(),this.offGamepadGyro(),this.offGamepadEnable(),this.offGamepadDisable()},__class__:backend_Input};var spec_Screen=function(){};t["spec.Screen"]=spec_Screen,spec_Screen.__name__="spec.Screen",spec_Screen.__isInterface__=!0,spec_Screen.prototype={getWidth:null,getHeight:null,getDensity:null,setBackground:null,setWindowTitle:null,setWindowFullscreen:null,screenshotToTexture:null,screenshotToPng:null,screenshotToPixels:null,__class__:spec_Screen};var backend_Screen=function(){this.nextScreenshotIndex=0,this.didTryResumeAudioContext=!1};t["backend.Screen"]=backend_Screen,backend_Screen.__name__="backend.Screen",backend_Screen.__interfaces__=[spec_Screen,tracker_Events],backend_Screen.prototype={__cbOnResize:null,__cbOnceResize:null,__cbOnOwnerUnbindResize:null,__cbOnceOwnerUnbindResize:null,emitResize:function(){var e=0;if(null!=this.__cbOnResize&&(e+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(e+=this.__cbOnceResize.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnResize)for(var l=0,s=this.__cbOnResize.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnResize[r],++i):--e}if(null!=this.__cbOnceResize){var a=null,c=null;for(l=0,s=this.__cbOnceResize.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceResize[r],this.__cbOnceResize[r]=null;var h=this.__cbOnceOwnerUnbindResize[r];this.__cbOnceOwnerUnbindResize[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindResize[r]),c.push(this.__cbOnceResize[r])}this.__cbOnceOwnerUnbindResize=a,this.__cbOnceResize=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(n)},onceResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(n)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindResize[n])&&s(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindResize[n])&&s(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindResize[l])&&s()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindResize[l])&&s()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&this.__cbOnResize.length>0||null!=this.__cbOnceResize&&this.__cbOnceResize.length>0},__cbOnMouseDown:null,__cbOnceMouseDown:null,__cbOnOwnerUnbindMouseDown:null,__cbOnceOwnerUnbindMouseDown:null,emitMouseDown:function(e,n,t){this.tryResumeAudioContextIfNeeded();var i=0;if(null!=this.__cbOnMouseDown&&(i+=this.__cbOnMouseDown.length),null!=this.__cbOnceMouseDown&&(i+=this.__cbOnceMouseDown.length),i>0){var l=ceramic_ArrayPool.pool(i),s=l.get(),r=0;if(null!=this.__cbOnMouseDown)for(var a=0,c=this.__cbOnMouseDown.length;a<c;){var h=a++;!0?(s.vector[r]=this.__cbOnMouseDown[h],++r):--i}if(null!=this.__cbOnceMouseDown){var u=null,o=null;for(a=0,c=this.__cbOnceMouseDown.length;a<c;){h=a++;if(!0){s.vector[r]=this.__cbOnceMouseDown[h],this.__cbOnceMouseDown[h]=null;var _=this.__cbOnceOwnerUnbindMouseDown[h];this.__cbOnceOwnerUnbindMouseDown[h]=null,null!=_&&_(),++r}else--i,null==u&&(u=[],o=[],[]),u.push(this.__cbOnceOwnerUnbindMouseDown[h]),o.push(this.__cbOnceMouseDown[h])}this.__cbOnceOwnerUnbindMouseDown=u,this.__cbOnceMouseDown=o}for(a=0,c=i;a<c;){r=a++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}},onMouseDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(null);null==this.__cbOnMouseDown&&(this.__cbOnMouseDown=[]),this.__cbOnMouseDown.push(n)},onceMouseDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(null);null==this.__cbOnceMouseDown&&(this.__cbOnceMouseDown=[]),this.__cbOnceMouseDown.push(n)},offMouseDown:function(e){if(null!=e){var n;null!=this.__cbOnMouseDown&&-1!=(n=this.__cbOnMouseDown.indexOf(e))&&(this.__cbOnMouseDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseDown[n])&&s(),this.__cbOnOwnerUnbindMouseDown.splice(n,1)),null!=this.__cbOnceMouseDown&&-1!=(n=this.__cbOnceMouseDown.indexOf(e))&&(this.__cbOnceMouseDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseDown[n])&&s(),this.__cbOnceOwnerUnbindMouseDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseDown){for(var t=0,i=this.__cbOnOwnerUnbindMouseDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseDown[l])&&s()}this.__cbOnOwnerUnbindMouseDown=null}if(null!=this.__cbOnceOwnerUnbindMouseDown){for(t=0,i=this.__cbOnceOwnerUnbindMouseDown.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseDown[l])&&s()}this.__cbOnceOwnerUnbindMouseDown=null}this.__cbOnMouseDown=null,this.__cbOnceMouseDown=null}},listensMouseDown:function(){return null!=this.__cbOnMouseDown&&this.__cbOnMouseDown.length>0||null!=this.__cbOnceMouseDown&&this.__cbOnceMouseDown.length>0},__cbOnMouseUp:null,__cbOnceMouseUp:null,__cbOnOwnerUnbindMouseUp:null,__cbOnceOwnerUnbindMouseUp:null,emitMouseUp:function(e,n,t){var i=0;if(null!=this.__cbOnMouseUp&&(i+=this.__cbOnMouseUp.length),null!=this.__cbOnceMouseUp&&(i+=this.__cbOnceMouseUp.length),i>0){var l=ceramic_ArrayPool.pool(i),s=l.get(),r=0;if(null!=this.__cbOnMouseUp)for(var a=0,c=this.__cbOnMouseUp.length;a<c;){var h=a++;!0?(s.vector[r]=this.__cbOnMouseUp[h],++r):--i}if(null!=this.__cbOnceMouseUp){var u=null,o=null;for(a=0,c=this.__cbOnceMouseUp.length;a<c;){h=a++;if(!0){s.vector[r]=this.__cbOnceMouseUp[h],this.__cbOnceMouseUp[h]=null;var _=this.__cbOnceOwnerUnbindMouseUp[h];this.__cbOnceOwnerUnbindMouseUp[h]=null,null!=_&&_(),++r}else--i,null==u&&(u=[],o=[],[]),u.push(this.__cbOnceOwnerUnbindMouseUp[h]),o.push(this.__cbOnceMouseUp[h])}this.__cbOnceOwnerUnbindMouseUp=u,this.__cbOnceMouseUp=o}for(a=0,c=i;a<c;){r=a++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}},onMouseUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(null);null==this.__cbOnMouseUp&&(this.__cbOnMouseUp=[]),this.__cbOnMouseUp.push(n)},onceMouseUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(null);null==this.__cbOnceMouseUp&&(this.__cbOnceMouseUp=[]),this.__cbOnceMouseUp.push(n)},offMouseUp:function(e){if(null!=e){var n;null!=this.__cbOnMouseUp&&-1!=(n=this.__cbOnMouseUp.indexOf(e))&&(this.__cbOnMouseUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseUp[n])&&s(),this.__cbOnOwnerUnbindMouseUp.splice(n,1)),null!=this.__cbOnceMouseUp&&-1!=(n=this.__cbOnceMouseUp.indexOf(e))&&(this.__cbOnceMouseUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseUp[n])&&s(),this.__cbOnceOwnerUnbindMouseUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseUp){for(var t=0,i=this.__cbOnOwnerUnbindMouseUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseUp[l])&&s()}this.__cbOnOwnerUnbindMouseUp=null}if(null!=this.__cbOnceOwnerUnbindMouseUp){for(t=0,i=this.__cbOnceOwnerUnbindMouseUp.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseUp[l])&&s()}this.__cbOnceOwnerUnbindMouseUp=null}this.__cbOnMouseUp=null,this.__cbOnceMouseUp=null}},listensMouseUp:function(){return null!=this.__cbOnMouseUp&&this.__cbOnMouseUp.length>0||null!=this.__cbOnceMouseUp&&this.__cbOnceMouseUp.length>0},__cbOnMouseWheel:null,__cbOnceMouseWheel:null,__cbOnOwnerUnbindMouseWheel:null,__cbOnceOwnerUnbindMouseWheel:null,emitMouseWheel:function(e,n){var t=0;if(null!=this.__cbOnMouseWheel&&(t+=this.__cbOnMouseWheel.length),null!=this.__cbOnceMouseWheel&&(t+=this.__cbOnceMouseWheel.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMouseWheel)for(var r=0,a=this.__cbOnMouseWheel.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnMouseWheel[c],++s):--t}if(null!=this.__cbOnceMouseWheel){var h=null,u=null;for(r=0,a=this.__cbOnceMouseWheel.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceMouseWheel[c],this.__cbOnceMouseWheel[c]=null;var o=this.__cbOnceOwnerUnbindMouseWheel[c];this.__cbOnceOwnerUnbindMouseWheel[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindMouseWheel[c]),u.push(this.__cbOnceMouseWheel[c])}this.__cbOnceOwnerUnbindMouseWheel=h,this.__cbOnceMouseWheel=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onMouseWheel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseWheel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseWheel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(null);null==this.__cbOnMouseWheel&&(this.__cbOnMouseWheel=[]),this.__cbOnMouseWheel.push(n)},onceMouseWheel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseWheel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseWheel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(null);null==this.__cbOnceMouseWheel&&(this.__cbOnceMouseWheel=[]),this.__cbOnceMouseWheel.push(n)},offMouseWheel:function(e){if(null!=e){var n;null!=this.__cbOnMouseWheel&&-1!=(n=this.__cbOnMouseWheel.indexOf(e))&&(this.__cbOnMouseWheel.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseWheel[n])&&s(),this.__cbOnOwnerUnbindMouseWheel.splice(n,1)),null!=this.__cbOnceMouseWheel&&-1!=(n=this.__cbOnceMouseWheel.indexOf(e))&&(this.__cbOnceMouseWheel.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseWheel[n])&&s(),this.__cbOnceOwnerUnbindMouseWheel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseWheel){for(var t=0,i=this.__cbOnOwnerUnbindMouseWheel.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseWheel[l])&&s()}this.__cbOnOwnerUnbindMouseWheel=null}if(null!=this.__cbOnceOwnerUnbindMouseWheel){for(t=0,i=this.__cbOnceOwnerUnbindMouseWheel.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseWheel[l])&&s()}this.__cbOnceOwnerUnbindMouseWheel=null}this.__cbOnMouseWheel=null,this.__cbOnceMouseWheel=null}},listensMouseWheel:function(){return null!=this.__cbOnMouseWheel&&this.__cbOnMouseWheel.length>0||null!=this.__cbOnceMouseWheel&&this.__cbOnceMouseWheel.length>0},__cbOnMouseMove:null,__cbOnceMouseMove:null,__cbOnOwnerUnbindMouseMove:null,__cbOnceOwnerUnbindMouseMove:null,emitMouseMove:function(e,n){var t=0;if(null!=this.__cbOnMouseMove&&(t+=this.__cbOnMouseMove.length),null!=this.__cbOnceMouseMove&&(t+=this.__cbOnceMouseMove.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMouseMove)for(var r=0,a=this.__cbOnMouseMove.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnMouseMove[c],++s):--t}if(null!=this.__cbOnceMouseMove){var h=null,u=null;for(r=0,a=this.__cbOnceMouseMove.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceMouseMove[c],this.__cbOnceMouseMove[c]=null;var o=this.__cbOnceOwnerUnbindMouseMove[c];this.__cbOnceOwnerUnbindMouseMove[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindMouseMove[c]),u.push(this.__cbOnceMouseMove[c])}this.__cbOnceOwnerUnbindMouseMove=h,this.__cbOnceMouseMove=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onMouseMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(null);null==this.__cbOnMouseMove&&(this.__cbOnMouseMove=[]),this.__cbOnMouseMove.push(n)},onceMouseMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(null);null==this.__cbOnceMouseMove&&(this.__cbOnceMouseMove=[]),this.__cbOnceMouseMove.push(n)},offMouseMove:function(e){if(null!=e){var n;null!=this.__cbOnMouseMove&&-1!=(n=this.__cbOnMouseMove.indexOf(e))&&(this.__cbOnMouseMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseMove[n])&&s(),this.__cbOnOwnerUnbindMouseMove.splice(n,1)),null!=this.__cbOnceMouseMove&&-1!=(n=this.__cbOnceMouseMove.indexOf(e))&&(this.__cbOnceMouseMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseMove[n])&&s(),this.__cbOnceOwnerUnbindMouseMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseMove){for(var t=0,i=this.__cbOnOwnerUnbindMouseMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseMove[l])&&s()}this.__cbOnOwnerUnbindMouseMove=null}if(null!=this.__cbOnceOwnerUnbindMouseMove){for(t=0,i=this.__cbOnceOwnerUnbindMouseMove.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseMove[l])&&s()}this.__cbOnceOwnerUnbindMouseMove=null}this.__cbOnMouseMove=null,this.__cbOnceMouseMove=null}},listensMouseMove:function(){return null!=this.__cbOnMouseMove&&this.__cbOnMouseMove.length>0||null!=this.__cbOnceMouseMove&&this.__cbOnceMouseMove.length>0},__cbOnTouchDown:null,__cbOnceTouchDown:null,__cbOnOwnerUnbindTouchDown:null,__cbOnceOwnerUnbindTouchDown:null,emitTouchDown:function(e,n,t){this.tryResumeAudioContextIfNeeded();var i=0;if(null!=this.__cbOnTouchDown&&(i+=this.__cbOnTouchDown.length),null!=this.__cbOnceTouchDown&&(i+=this.__cbOnceTouchDown.length),i>0){var l=ceramic_ArrayPool.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchDown)for(var a=0,c=this.__cbOnTouchDown.length;a<c;){var h=a++;!0?(s.vector[r]=this.__cbOnTouchDown[h],++r):--i}if(null!=this.__cbOnceTouchDown){var u=null,o=null;for(a=0,c=this.__cbOnceTouchDown.length;a<c;){h=a++;if(!0){s.vector[r]=this.__cbOnceTouchDown[h],this.__cbOnceTouchDown[h]=null;var _=this.__cbOnceOwnerUnbindTouchDown[h];this.__cbOnceOwnerUnbindTouchDown[h]=null,null!=_&&_(),++r}else--i,null==u&&(u=[],o=[],[]),u.push(this.__cbOnceOwnerUnbindTouchDown[h]),o.push(this.__cbOnceTouchDown[h])}this.__cbOnceOwnerUnbindTouchDown=u,this.__cbOnceTouchDown=o}for(a=0,c=i;a<c;){r=a++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}},onTouchDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(null);null==this.__cbOnTouchDown&&(this.__cbOnTouchDown=[]),this.__cbOnTouchDown.push(n)},onceTouchDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(null);null==this.__cbOnceTouchDown&&(this.__cbOnceTouchDown=[]),this.__cbOnceTouchDown.push(n)},offTouchDown:function(e){if(null!=e){var n;null!=this.__cbOnTouchDown&&-1!=(n=this.__cbOnTouchDown.indexOf(e))&&(this.__cbOnTouchDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchDown[n])&&s(),this.__cbOnOwnerUnbindTouchDown.splice(n,1)),null!=this.__cbOnceTouchDown&&-1!=(n=this.__cbOnceTouchDown.indexOf(e))&&(this.__cbOnceTouchDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchDown[n])&&s(),this.__cbOnceOwnerUnbindTouchDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchDown){for(var t=0,i=this.__cbOnOwnerUnbindTouchDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchDown[l])&&s()}this.__cbOnOwnerUnbindTouchDown=null}if(null!=this.__cbOnceOwnerUnbindTouchDown){for(t=0,i=this.__cbOnceOwnerUnbindTouchDown.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchDown[l])&&s()}this.__cbOnceOwnerUnbindTouchDown=null}this.__cbOnTouchDown=null,this.__cbOnceTouchDown=null}},listensTouchDown:function(){return null!=this.__cbOnTouchDown&&this.__cbOnTouchDown.length>0||null!=this.__cbOnceTouchDown&&this.__cbOnceTouchDown.length>0},__cbOnTouchUp:null,__cbOnceTouchUp:null,__cbOnOwnerUnbindTouchUp:null,__cbOnceOwnerUnbindTouchUp:null,emitTouchUp:function(e,n,t){var i=0;if(null!=this.__cbOnTouchUp&&(i+=this.__cbOnTouchUp.length),null!=this.__cbOnceTouchUp&&(i+=this.__cbOnceTouchUp.length),i>0){var l=ceramic_ArrayPool.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchUp)for(var a=0,c=this.__cbOnTouchUp.length;a<c;){var h=a++;!0?(s.vector[r]=this.__cbOnTouchUp[h],++r):--i}if(null!=this.__cbOnceTouchUp){var u=null,o=null;for(a=0,c=this.__cbOnceTouchUp.length;a<c;){h=a++;if(!0){s.vector[r]=this.__cbOnceTouchUp[h],this.__cbOnceTouchUp[h]=null;var _=this.__cbOnceOwnerUnbindTouchUp[h];this.__cbOnceOwnerUnbindTouchUp[h]=null,null!=_&&_(),++r}else--i,null==u&&(u=[],o=[],[]),u.push(this.__cbOnceOwnerUnbindTouchUp[h]),o.push(this.__cbOnceTouchUp[h])}this.__cbOnceOwnerUnbindTouchUp=u,this.__cbOnceTouchUp=o}for(a=0,c=i;a<c;){r=a++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}},onTouchUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(null);null==this.__cbOnTouchUp&&(this.__cbOnTouchUp=[]),this.__cbOnTouchUp.push(n)},onceTouchUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(null);null==this.__cbOnceTouchUp&&(this.__cbOnceTouchUp=[]),this.__cbOnceTouchUp.push(n)},offTouchUp:function(e){if(null!=e){var n;null!=this.__cbOnTouchUp&&-1!=(n=this.__cbOnTouchUp.indexOf(e))&&(this.__cbOnTouchUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchUp[n])&&s(),this.__cbOnOwnerUnbindTouchUp.splice(n,1)),null!=this.__cbOnceTouchUp&&-1!=(n=this.__cbOnceTouchUp.indexOf(e))&&(this.__cbOnceTouchUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchUp[n])&&s(),this.__cbOnceOwnerUnbindTouchUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchUp){for(var t=0,i=this.__cbOnOwnerUnbindTouchUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchUp[l])&&s()}this.__cbOnOwnerUnbindTouchUp=null}if(null!=this.__cbOnceOwnerUnbindTouchUp){for(t=0,i=this.__cbOnceOwnerUnbindTouchUp.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchUp[l])&&s()}this.__cbOnceOwnerUnbindTouchUp=null}this.__cbOnTouchUp=null,this.__cbOnceTouchUp=null}},listensTouchUp:function(){return null!=this.__cbOnTouchUp&&this.__cbOnTouchUp.length>0||null!=this.__cbOnceTouchUp&&this.__cbOnceTouchUp.length>0},__cbOnTouchMove:null,__cbOnceTouchMove:null,__cbOnOwnerUnbindTouchMove:null,__cbOnceOwnerUnbindTouchMove:null,emitTouchMove:function(e,n,t){var i=0;if(null!=this.__cbOnTouchMove&&(i+=this.__cbOnTouchMove.length),null!=this.__cbOnceTouchMove&&(i+=this.__cbOnceTouchMove.length),i>0){var l=ceramic_ArrayPool.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchMove)for(var a=0,c=this.__cbOnTouchMove.length;a<c;){var h=a++;!0?(s.vector[r]=this.__cbOnTouchMove[h],++r):--i}if(null!=this.__cbOnceTouchMove){var u=null,o=null;for(a=0,c=this.__cbOnceTouchMove.length;a<c;){h=a++;if(!0){s.vector[r]=this.__cbOnceTouchMove[h],this.__cbOnceTouchMove[h]=null;var _=this.__cbOnceOwnerUnbindTouchMove[h];this.__cbOnceOwnerUnbindTouchMove[h]=null,null!=_&&_(),++r}else--i,null==u&&(u=[],o=[],[]),u.push(this.__cbOnceOwnerUnbindTouchMove[h]),o.push(this.__cbOnceTouchMove[h])}this.__cbOnceOwnerUnbindTouchMove=u,this.__cbOnceTouchMove=o}for(a=0,c=i;a<c;){r=a++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}},onTouchMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(null);null==this.__cbOnTouchMove&&(this.__cbOnTouchMove=[]),this.__cbOnTouchMove.push(n)},onceTouchMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(null);null==this.__cbOnceTouchMove&&(this.__cbOnceTouchMove=[]),this.__cbOnceTouchMove.push(n)},offTouchMove:function(e){if(null!=e){var n;null!=this.__cbOnTouchMove&&-1!=(n=this.__cbOnTouchMove.indexOf(e))&&(this.__cbOnTouchMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchMove[n])&&s(),this.__cbOnOwnerUnbindTouchMove.splice(n,1)),null!=this.__cbOnceTouchMove&&-1!=(n=this.__cbOnceTouchMove.indexOf(e))&&(this.__cbOnceTouchMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchMove[n])&&s(),this.__cbOnceOwnerUnbindTouchMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchMove){for(var t=0,i=this.__cbOnOwnerUnbindTouchMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchMove[l])&&s()}this.__cbOnOwnerUnbindTouchMove=null}if(null!=this.__cbOnceOwnerUnbindTouchMove){for(t=0,i=this.__cbOnceOwnerUnbindTouchMove.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchMove[l])&&s()}this.__cbOnceOwnerUnbindTouchMove=null}this.__cbOnTouchMove=null,this.__cbOnceTouchMove=null}},listensTouchMove:function(){return null!=this.__cbOnTouchMove&&this.__cbOnTouchMove.length>0||null!=this.__cbOnceTouchMove&&this.__cbOnceTouchMove.length>0},didTryResumeAudioContext:null,willEmitMouseDown:function(e,n,t){this.tryResumeAudioContextIfNeeded()},willEmitTouchDown:function(e,n,t){this.tryResumeAudioContextIfNeeded()},tryResumeAudioContextIfNeeded:function(){this.didTryResumeAudioContext||(this.didTryResumeAudioContext=!0,ceramic_App.app.backend.audio.resumeAudioContext((function(e){e?ceramic_App.app.logger.success("Did resume audio context",{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/Screen.hx",lineNumber:51,className:"backend.Screen",methodName:"tryResumeAudioContextIfNeeded"}):ceramic_App.app.logger.error("Failed to resume audio context",{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/Screen.hx",lineNumber:54,className:"backend.Screen",methodName:"tryResumeAudioContextIfNeeded"})})))},getWidth:function(){return clay_Clay.app.screenWidth},getHeight:function(){return clay_Clay.app.screenHeight},getDensity:function(){return clay_Clay.app.screenDensity},setBackground:function(e){},setWindowTitle:function(e){clay_Clay.app.runtime.setWindowTitle(e)},setWindowFullscreen:function(e){null==backend_ElectronRunner.electronRunner||null==backend_ElectronRunner.electronRunner.setFullscreen?clay_Clay.app.runtime.setWindowFullscreen(e)||ceramic_App.app.settings.set_fullscreen(!e):backend_ElectronRunner.electronRunner.setFullscreen(e)},nextScreenshotIndex:null,screenshotToTexture:function(e){var n=this;clay_Clay.app.runtime.window.toBlob((function(t){t.arrayBuffer().then((function(t){var i=new Uint8Array(t,0,t.byteLength);clay_Clay.app.assets.imageFromBytes(i,"png",4,!0,(function(t){if(null!=t){var i="screenshot:"+n.nextScreenshotIndex++,l=clay_graphics_Texture.fromImage(t);l.id=i,l.init(),e(l)}else e(null)}))}))}),"image/png")},screenshotToPng:function(e,n){clay_Clay.app.runtime.window.toBlob((function(t){t.arrayBuffer().then((function(t){var i=new haxe_io_Bytes(new Uint8Array(new Uint8Array(t,0,t.byteLength).buffer));null!=e?(ceramic_Files.saveBytes(e,i),n()):n(i)}))}),"image/png")},screenshotToPixels:function(e){clay_Clay.app.runtime.window.toBlob((function(n){n.arrayBuffer().then((function(n){var t=new Uint8Array(n,0,n.byteLength);clay_Clay.app.assets.imageFromBytes(t,"png",4,!1,(function(n){null!=n?e(n.pixels,n.width,n.height):e(null,0,0)}))}))}),"image/png")},unbindEvents:function(){this.offResize(),this.offMouseDown(),this.offMouseUp(),this.offMouseWheel(),this.offMouseMove(),this.offTouchDown(),this.offTouchUp(),this.offTouchMove()},__class__:backend_Screen};var clay_Resource=function(){this.id=null};t["clay.Resource"]=clay_Resource,clay_Resource.__name__="clay.Resource",clay_Resource.prototype={id:null,__class__:clay_Resource};var clay_graphics_Shader=function(){this.gpuShader=null,this.uniforms=null,this.textures=null,this.attributes=null,this.fragSource=null,this.vertSource=null,clay_Resource.call(this)};t["clay.graphics.Shader"]=clay_graphics_Shader,clay_graphics_Shader.__name__="clay.graphics.Shader",clay_graphics_Shader.__super__=clay_Resource,clay_graphics_Shader.prototype=$extend(clay_Resource.prototype,{vertSource:null,fragSource:null,attributes:null,textures:null,uniforms:null,gpuShader:null,init:function(){if(this.gpuShader=clay_opengl_GLGraphics.createShader(this.vertSource,this.fragSource,this.attributes,this.textures),null==this.gpuShader)throw haxe_Exception.thrown("Failed to create shader (id="+this.id+")");this.uniforms=new clay_graphics_Uniforms(this.gpuShader)},activate:function(){var e=this.gpuShader;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),null!=this.uniforms&&this.uniforms.apply()},destroy:function(){clay_opengl_GLGraphics.deleteShader(this.gpuShader)},__class__:clay_graphics_Shader});var backend_ShaderImpl=function(){this.isBatchingMultiTexture=!1,this.customAttributes=null,clay_graphics_Shader.call(this)};t["backend.ShaderImpl"]=backend_ShaderImpl,backend_ShaderImpl.__name__="backend.ShaderImpl",backend_ShaderImpl.__super__=clay_graphics_Shader,backend_ShaderImpl.prototype=$extend(clay_graphics_Shader.prototype,{customAttributes:null,isBatchingMultiTexture:null,clone:function(){var e=new backend_ShaderImpl;return e.vertSource=this.vertSource,e.fragSource=this.fragSource,e.customAttributes=this.customAttributes,e.isBatchingMultiTexture=this.isBatchingMultiTexture,e.attributes=this.attributes,e.textures=this.textures,e.init(),e},__class__:backend_ShaderImpl});var spec_Shaders=function(){};t["spec.Shaders"]=spec_Shaders,spec_Shaders.__name__="spec.Shaders",spec_Shaders.__isInterface__=!0,spec_Shaders.prototype={destroy:null,fromSource:null,clone:null,setInt:null,setFloat:null,setColor:null,setVec2:null,setVec3:null,setVec4:null,setFloatArray:null,setTexture:null,customFloatAttributesSize:null,maxIfStatementsByFragmentShader:null,canBatchWithMultipleTextures:null,__class__:spec_Shaders};var backend_Shaders=function(){};t["backend.Shaders"]=backend_Shaders,backend_Shaders.__name__="backend.Shaders",backend_Shaders.__interfaces__=[spec_Shaders],backend_Shaders.removeExtensions=function(e){for(var n=[],t=0,i=e.split("\n");t<i.length;){var l=i[t];++t,StringTools.startsWith(StringTools.trim(l),"#extension GL_OES_")||StringTools.startsWith(l,"#extension OES_")||n.push(l)}return e=n.join("\n")},backend_Shaders.convertToGLES3=function(e,n){var t=e.split("\n");return StringTools.startsWith(StringTools.trim(t[0]),"#version 100")&&(t.shift(),e=t.join("\n")),StringTools.startsWith(e,"#version ")||(e="#version 300 es\n"+e,n&&(e=StringTools.replace(e,"void main(","out vec4 fragColor;\nvoid main(")),e=ceramic_Utils.replaceIdentifier(e,"attribute","in"),e=n?ceramic_Utils.replaceIdentifier(e,"varying","in"):ceramic_Utils.replaceIdentifier(e,"varying","out"),e=ceramic_Utils.replaceIdentifier(e,"texture2D","texture"),e=ceramic_Utils.replaceIdentifier(e,"gl_FragColor","fragColor")),e},backend_Shaders.processMultiTextureVertTemplate=function(e,n,t){for(var i=e.split("\n"),l=[],s=0,r=i.length;s<r;){var a=i[s++],c=StringTools.replace(StringTools.trim(a)," ","").toLowerCase();"//ceramic:multitexture/vertextextureid"==c?l.push("attribute float vertexTextureId;"):"//ceramic:multitexture/textureid"==c?l.push("varying float textureId;"):"//ceramic:multitexture/assigntextureid"==c?l.push("textureId = vertexTextureId;"):l.push(a)}return l.join("\n")},backend_Shaders.processMultiTextureFragTemplate=function(e,n,t){for(var i=0|Math.min(n,t),l=e.split("\n"),s=[],r=!1,a=!1,c=[],h=0,u=l.length;h<u;){var o=l[h++],_=StringTools.replace(StringTools.trim(o)," ","").toLowerCase();if(r){r=!1;for(var d=0,b=i;d<b;){var f=d++;0==f?s.push(o):s.push(StringTools.replace(o,"tex0","tex"+f))}}else if(a)if("//ceramic:multitexture/endif"==_){if(a=!1,c.length>0)for(var O=0,p=i;O<p;){var g=O++;0==g?s.push("if (textureId == 0.0) {"):s.push("else if (textureId == "+g+".0) {");for(var m=0,v=c.length;m<v;){var y=m++;0==g?s.push(c[y]):s.push(StringTools.replace(c[y],"tex0","tex"+g))}s.push("}")}}else c.push(o);else StringTools.startsWith(_,"//ceramic:multitexture")?"//ceramic:multitexture/texture"==_?r=!0:"//ceramic:multitexture/textureid"==_?s.push("varying float textureId;"):"//ceramic:multitexture/if"==_&&(a=!0):s.push(o)}return s.join("\n")},backend_Shaders.computeMaxIfStatementsByFragmentShaderIfNeeded=function(e){if(null==e&&(e=32),-1==backend_Shaders._maxIfStatementsByFragmentShader){for(var n=StringTools.trim("\n#ifdef GL_ES\nprecision mediump float;\n#else\n#define mediump\n#endif\nvarying float test;\nvoid main() {\n    {{CONDITIONS}}\n    gl_FragColor = vec4(0.0);\n}\n"),t=clay_opengl_web_GL.gl.createShader(35632);e>0;){var i=StringTools.replace(n,"{{CONDITIONS}}",backend_Shaders.generateIfStatements(e));if(clay_opengl_web_GL.gl.shaderSource(t,i),clay_opengl_web_GL.gl.compileShader(t),0!=clay_opengl_web_GL.gl.getShaderParameter(t,35713)){backend_Shaders._maxIfStatementsByFragmentShader=e;break}e=e/2|0}clay_opengl_web_GL.gl.deleteShader(t)}},backend_Shaders.generateIfStatements=function(e){for(var n="",t=0,i=e;t<i;){var l=t++;l>0&&(n+="\nelse "),l<e-1&&(n+=Std.string("if (test == "+l+".0) {}"))}return n},backend_Shaders.prototype={fromSource:function(e,n,t){for(var i=!1,l=0,s=n.split("\n");l<s.length;){var r=s[l];if(++l,"//ceramic:multitexture"==StringTools.replace(StringTools.trim(r)," ","").toLowerCase()){i=!0;break}}var a=["tex0"];if(i){var c=ceramic_App.app.backend.textures.maxTexturesByBatch(),h=this.maxIfStatementsByFragmentShader(),u=0|Math.min(c,h);if(u>1)for(var o=1;o<=u;)a.push("tex"+o),++o;n=backend_Shaders.processMultiTextureFragTemplate(n,c,h),e=backend_Shaders.processMultiTextureVertTemplate(e,c,h)}var _=!1,d=!1;clay_Clay.app.runtime.webglVersion>=2&&(_=!0,d=!0),_&&(n=backend_Shaders.removeExtensions(n),e=backend_Shaders.removeExtensions(e)),d&&(n=backend_Shaders.convertToGLES3(n,!0),e=backend_Shaders.convertToGLES3(e,!1));var b=new backend_ShaderImpl;return b.attributes=i?backend_Shaders.SHADER_ATTRIBUTES_MULTITEXTURE:backend_Shaders.SHADER_ATTRIBUTES,b.textures=a,b.vertSource=e,b.fragSource=n,b.isBatchingMultiTexture=i,b.customAttributes=t,b.init(),b},destroy:function(e){e.destroy()},clone:function(e){return e.clone()},setInt:function(e,n,t){e.uniforms.setInt(n,t)},setFloat:function(e,n,t){e.uniforms.setFloat(n,t)},setColor:function(e,n,t,i,l,s){e.uniforms.setColor(n,t,i,l,s)},setVec2:function(e,n,t,i){e.uniforms.setVector2(n,t,i)},setVec3:function(e,n,t,i,l){e.uniforms.setVector3(n,t,i,l)},setVec4:function(e,n,t,i,l,s){e.uniforms.setVector4(n,t,i,l,s)},setFloatArray:function(e,n,t){e.uniforms.setFloatArray(n,new Float32Array(t))},setTexture:function(e,n,t,i){e.uniforms.setTexture(n,t,i)},setMat4FromTransform:function(e,n,t){e.uniforms.setMatrix4(n,new Float32Array([t.a,t.b,0,0,t.c,t.d,0,0,0,0,1,0,t.tx,t.ty,0,1]))},customFloatAttributesSize:function(e){var n=0,t=e.customAttributes;if(null!=t)for(var i=0,l=t.length;i<l;){n+=t[i++].size}return n},maxIfStatementsByFragmentShader:function(){var e=32;if(-1==backend_Shaders._maxIfStatementsByFragmentShader){for(var n=StringTools.trim("\n#ifdef GL_ES\nprecision mediump float;\n#else\n#define mediump\n#endif\nvarying float test;\nvoid main() {\n    {{CONDITIONS}}\n    gl_FragColor = vec4(0.0);\n}\n"),t=clay_opengl_web_GL.gl.createShader(35632);e>0;){var i=StringTools.replace(n,"{{CONDITIONS}}",backend_Shaders.generateIfStatements(e));if(clay_opengl_web_GL.gl.shaderSource(t,i),clay_opengl_web_GL.gl.compileShader(t),0!=clay_opengl_web_GL.gl.getShaderParameter(t,35713)){backend_Shaders._maxIfStatementsByFragmentShader=e;break}e=e/2|0}clay_opengl_web_GL.gl.deleteShader(t)}return backend_Shaders._maxIfStatementsByFragmentShader},canBatchWithMultipleTextures:function(e){return e.isBatchingMultiTexture},__class__:backend_Shaders};var spec_TextInput=function(){};t["spec.TextInput"]=spec_TextInput,spec_TextInput.__name__="spec.TextInput",spec_TextInput.__isInterface__=!0,spec_TextInput.prototype={start:null,stop:null,__class__:spec_TextInput};var backend_TextInput=function(){this.inputRectH=0,this.inputRectW=0,this.inputRectY=0,this.inputRectX=0,this.inputActive=!1};t["backend.TextInput"]=backend_TextInput,backend_TextInput.__name__="backend.TextInput",backend_TextInput.__interfaces__=[spec_TextInput],backend_TextInput.prototype={inputActive:null,inputRectX:null,inputRectY:null,inputRectW:null,inputRectH:null,start:function(e,n,t,i,l){this.inputActive||(this.inputRectX=0|n,this.inputRectY=0|t,this.inputRectW=0|Math.max(1,i),this.inputRectH=0|Math.max(1,l),this.inputActive=!0)},stop:function(){this.inputActive&&(this.inputRectX=0,this.inputRectY=0,this.inputRectW=0,this.inputRectH=0,this.inputActive=!1)},handleTextInput:function(e){" "!=e&&ceramic_App.app.textInput.appendText(e)},handleKeyDown:function(e,n){this.inputActive&&(42==n?ceramic_App.app.textInput.backspace():44==n?ceramic_App.app.textInput.space():40==n?ceramic_App.app.textInput.enter():41==n?ceramic_App.app.textInput.escape():80==n?ceramic_App.app.textInput.moveLeft():79==n?ceramic_App.app.textInput.moveRight():82==n?ceramic_App.app.textInput.moveUp():81==n&&ceramic_App.app.textInput.moveDown()),225==n?ceramic_App.app.textInput.lshiftDown():229==n?ceramic_App.app.textInput.rshiftDown():224==n?ceramic_App.app.textInput.lctrlDown():228==n?ceramic_App.app.textInput.rctrlDown():227==n?ceramic_App.app.textInput.lmetaDown():231==n&&ceramic_App.app.textInput.rmetaDown()},handleKeyUp:function(e,n){225==n?ceramic_App.app.textInput.lshiftUp():229==n?ceramic_App.app.textInput.rshiftUp():224==n?ceramic_App.app.textInput.lctrlUp():228==n?ceramic_App.app.textInput.rctrlUp():227==n?ceramic_App.app.textInput.lmetaUp():231==n&&ceramic_App.app.textInput.rmetaUp()},__class__:backend_TextInput};var spec_Texts=function(){};t["spec.Texts"]=spec_Texts,spec_Texts.__name__="spec.Texts",spec_Texts.__isInterface__=!0,spec_Texts.prototype={load:null,supportsHotReloadPath:null,__class__:spec_Texts};var backend_Texts=function(){this.loadingTextCallbacks=new haxe_ds_StringMap};t["backend.Texts"]=backend_Texts,backend_Texts.__name__="backend.Texts",backend_Texts.__interfaces__=[spec_Texts],backend_Texts.prototype={load:function(e,n,t){var i=this,l=null!=n&&2==n.loadMethod,s=null!=n?n.immediate:null,done=function(e){var fn=function(){t(e),t=null};null!=s?s.push(fn):ceramic_App.app._onceImmediate(fn)};if(ceramic_Path.isAbsolute(e)||StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://")||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),Object.prototype.hasOwnProperty.call(this.loadingTextCallbacks.h,e))this.loadingTextCallbacks.h[e].push((function(e){done(e)}));else{this.loadingTextCallbacks.h[e]=[];var r=e,a=r.indexOf("?");-1!=a&&(r=HxOverrides.substr(r,0,a));var c=clay_Clay.app.assets.fullPath(r);clay_Clay.app.io.loadData(c,!0,!l,(function(n){if(null!=n){var t=new haxe_io_Bytes(new Uint8Array(n.buffer)).toString();if(null!=(l=i.loadingTextCallbacks.h[e])){s=i.loadingTextCallbacks;Object.prototype.hasOwnProperty.call(s.h,e)&&delete s.h[e],done(t);for(r=0;r<l.length;){a=l[r];++r,a(t)}}else done(t)}else{var l;if(null!=(l=i.loadingTextCallbacks.h[e])){var s=i.loadingTextCallbacks;Object.prototype.hasOwnProperty.call(s.h,e)&&delete s.h[e],done(null);for(var r=0;r<l.length;){var a=l[r];++r,a(null)}}else done(null)}})),null!=s?s.push(clay_Immediate.flush):ceramic_App.app._onceImmediate(clay_Immediate.flush)}},supportsHotReloadPath:function(){return!0},loadingTextCallbacks:null,__class__:backend_Texts};var spec_Textures=function(){};t["spec.Textures"]=spec_Textures,spec_Textures.__name__="spec.Textures",spec_Textures.__isInterface__=!0,spec_Textures.prototype={load:null,supportsHotReloadPath:null,createTexture:null,destroyTexture:null,getTextureId:null,getTextureWidth:null,getTextureHeight:null,getTextureWidthActual:null,getTextureHeightActual:null,fetchTexturePixels:null,submitTexturePixels:null,setTextureFilter:null,createRenderTarget:null,maxTexturesByBatch:null,getTextureIndex:null,textureToPng:null,pixelsToPng:null,__class__:spec_Textures};var backend_Textures=function(){this.loadedTexturesRetainCount=new haxe_ds_StringMap,this.loadedTextures=new haxe_ds_StringMap,this.loadingTextureCallbacks=new haxe_ds_StringMap,this.nextPixelsIndex=0,this.nextRenderIndex=0};t["backend.Textures"]=backend_Textures,backend_Textures.__name__="backend.Textures",backend_Textures.__interfaces__=[spec_Textures],backend_Textures.computeMaxTexturesByBatchIfNeeded=function(){-1==backend_Textures._maxTexturesByBatch&&(backend_Textures._maxTexturesByBatch=0|Math.min(32,clay_opengl_web_GL.gl.getParameter(34930)))},backend_Textures.prototype={load:function(e,n,t){var i=this,l=null!=n&&2==n.loadMethod,s=null!=n?n.immediate:null,done=function(e){var fn=function(){t(e),t=null};null!=s?s.push(fn):ceramic_App.app._onceImmediate(fn)};if(ceramic_Path.isAbsolute(e)||StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://")||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),Object.prototype.hasOwnProperty.call(this.loadedTextures.h,e)){this.loadedTexturesRetainCount.h[e]+=1;var r=this.loadedTextures.h[e];done(r)}else if(Object.prototype.hasOwnProperty.call(this.loadingTextureCallbacks.h,e))this.loadingTextureCallbacks.h[e].push((function(n){if(null!=n){var t=Object.prototype.hasOwnProperty.call(i.loadedTexturesRetainCount.h,e)?i.loadedTexturesRetainCount.h[e]:0;i.loadedTexturesRetainCount.h[e]=t+1}done(n)}));else{var a=e,c=a.indexOf("?");-1!=c&&(a=HxOverrides.substr(a,0,c)),this.loadingTextureCallbacks.h[e]=[function(n){if(null!=n){var t=Object.prototype.hasOwnProperty.call(i.loadedTexturesRetainCount.h,e)?i.loadedTexturesRetainCount.h[e]:0;i.loadedTexturesRetainCount.h[e]=t+1}done(n)}];var h=clay_Clay.app.assets.fullPath(a),u=!0;null!=n&&null!=n.premultiplyAlpha&&(u=n.premultiplyAlpha);var doFail=function(){var n=i.loadingTextureCallbacks.h[e],t=i.loadingTextureCallbacks;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e];for(var l=0;l<n.length;){var s=n[l];++l;try{s(null)}catch(e){var r=[haxe_Exception.caught(e).unwrap()];ceramic_App.app._onceImmediate(function(e){return function(){throw haxe_Exception.thrown(e[0])}}(r))}}};clay_Clay.app.assets.loadImage(h,null,!l,(function(n){if(null!=n){var t=null;if(null!=(t=clay_graphics_Texture.fromImage(n,u))){t.id=e,t.init(),i.loadedTextures.h[e]=t;var l=i.loadingTextureCallbacks.h[e],s=i.loadingTextureCallbacks;Object.prototype.hasOwnProperty.call(s.h,e)&&delete s.h[e];for(var r=0;r<l.length;){var a=l[r];++r;try{a(t)}catch(e){var c=[haxe_Exception.caught(e).unwrap()];ceramic_App.app._onceImmediate(function(e){return function(){throw haxe_Exception.thrown(e[0])}}(c))}}}else doFail()}else doFail()})),null!=s?s.push(clay_Immediate.flush):ceramic_App.app._onceImmediate(clay_Immediate.flush)}},supportsHotReloadPath:function(){return!0},nextRenderIndex:null,nextPixelsIndex:null,createTexture:function(e,n,t){var i="pixels:"+this.nextPixelsIndex++,l=new clay_graphics_Texture;return l.id=i,l.width=e,l.height=n,l.pixels=t,l.init(),this.loadedTexturesRetainCount.h[i]=1,l},createRenderTarget:function(e,n,t,i,l){var s="render:"+this.nextRenderIndex++,r=clay_Clay.app.runtime.webglVersion,a=new clay_graphics_RenderTexture;return a.id=s,a.width=e,a.height=n,a.depth=t,a.stencil=i,a.antialiasing=r>=2?l:0,a.init(),this.loadedTexturesRetainCount.h[s]=1,a},fetchTexturePixels:function(e,n){var t=e.width,i=e.height;null==n&&(n=new Uint8Array(t*i*4));return e.fetch(n),n},submitTexturePixels:function(e,n){e.submit(n)},destroyTexture:function(e){var n=e.id;if(this.loadedTexturesRetainCount.h[n]>1)this.loadedTexturesRetainCount.h[n]-=1;else{var t=this.loadedTextures;Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n];t=this.loadedTexturesRetainCount;Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],e.destroy()}},getTextureId:function(e){return e.textureId},getTextureWidth:function(e){return e.width},getTextureHeight:function(e){return e.height},getTextureWidthActual:function(e){return e.widthActual},getTextureHeightActual:function(e){return e.heightActual},getTextureIndex:function(e){return e.index},setTextureFilter:function(e,n){switch(n._hx_index){case 0:e.set_filterMin(9729),e.set_filterMag(9729);break;case 1:e.set_filterMin(9728),e.set_filterMag(9728)}},maxTextureWidth:function(){return 2048},maxTextureHeight:function(){return 2048},maxTexturesByBatch:function(){return-1==backend_Textures._maxTexturesByBatch&&(backend_Textures._maxTexturesByBatch=0|Math.min(32,clay_opengl_web_GL.gl.getParameter(34930))),backend_Textures._maxTexturesByBatch},textureToPng:function(e,n,t,i){null==n&&(n=!0);var l=this.fetchTexturePixels(e);e.id;n&&ceramic_PremultiplyAlpha.reversePremultiplyAlpha(l),clay_Clay.app.assets.pixelsToPngData(e.width,e.height,l,(function(e){null!=e?null!=t?(ceramic_Files.saveBytes(t,new haxe_io_Bytes(new Uint8Array(e.buffer))),i()):i(new haxe_io_Bytes(new Uint8Array(e.buffer))):(ceramic_App.app.logger.warning("Failed to get PNG data from texture",{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:442,className:"backend.Textures",methodName:"textureToPng"}),i(null))}))},pixelsToPng:function(e,n,t,i,l){clay_Clay.app.assets.pixelsToPngData(e,n,t,(function(e){null!=e?null!=i?(ceramic_Files.saveBytes(i,new haxe_io_Bytes(new Uint8Array(e.buffer))),l()):l(new haxe_io_Bytes(new Uint8Array(e.buffer))):(ceramic_App.app.logger.warning("Failed to get PNG data from pixels",{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:462,className:"backend.Textures",methodName:"pixelsToPng"}),l(null))}))},loadingTextureCallbacks:null,loadedTextures:null,loadedTexturesRetainCount:null,__class__:backend_Textures};var a=i["backend.VisualItem"]={__ename__:"backend.VisualItem",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"backend.VisualItem",toString:$estr},QUAD:{_hx_name:"QUAD",_hx_index:1,__enum__:"backend.VisualItem",toString:$estr},MESH:{_hx_name:"MESH",_hx_index:2,__enum__:"backend.VisualItem",toString:$estr}};a.__constructs__=[a.NONE,a.QUAD,a.MESH];var c={__properties__:{set_rgb:"set_rgb",get_rgb:"get_rgb",set_color:"set_color",get_color:"get_color",set_lightness:"set_lightness",get_lightness:"get_lightness",set_brightness:"set_brightness",get_brightness:"get_brightness",set_saturation:"set_saturation",get_saturation:"get_saturation",set_hue:"set_hue",get_hue:"get_hue",set_black:"set_black",get_black:"get_black",set_yellow:"set_yellow",get_yellow:"get_yellow",set_magenta:"set_magenta",get_magenta:"get_magenta",set_cyan:"set_cyan",get_cyan:"get_cyan",set_alphaFloat:"set_alphaFloat",get_alphaFloat:"get_alphaFloat",set_blueFloat:"set_blueFloat",get_blueFloat:"get_blueFloat",set_greenFloat:"set_greenFloat",get_greenFloat:"get_greenFloat",set_redFloat:"set_redFloat",get_redFloat:"get_redFloat",set_alpha:"set_alpha",get_alpha:"get_alpha",set_blue:"set_blue",get_blue:"get_blue",set_green:"set_green",get_green:"get_green",set_red:"set_red",get_red:"get_red"},toColor:function(e){var n=e>>16&255,t=e>>8&255,i=255&e,l=u._new();return l&=65535,l|=(n>255?255:n<0?0:n)<<16,l&=16711935,l|=(t>255?255:t<0?0:t)<<8,l&=16776960,l|=i>255?255:i<0?0:i},random:function(e,n){null==n&&(n=.5),null==e&&(e=.5);var t=e,i=n;null==i&&(i=.5),null==t&&(t=.5);var l=360*Math.random(),s=Math.random()*(1-t)+t,r=Math.random()*(1-i)+i,a=(0|u.fromHSB(l,s,r))-16777216;return a&=16777215,a|=-16777216},fromInt:function(e){return e},fromRGB:function(e,n,t){var i=u._new();i&=65535,i|=(e>255?255:e<0?0:e)<<16,i&=16711935,i|=(n>255?255:n<0?0:n)<<8,i&=16776960;var l=(0|(i|=t>255?255:t<0?0:t))-16777216;return l&=16777215,l|=-16777216},fromRGBFloat:function(e,n,t){var i=u._new();i&=65535,i|=((l=Math.round(255*e))>255?255:l<0?0:l)<<16,i&=16711935,i|=((l=Math.round(255*n))>255?255:l<0?0:l)<<8,i&=16776960;var l=(0|(i|=(l=Math.round(255*t))>255?255:l<0?0:l))-16777216;return l&=16777215,l|=-16777216},fromRGBA:function(e,n,t,i){var l=u._new();l&=65535,l|=(e>255?255:e<0?0:e)<<16,l&=16711935,l|=(n>255?255:n<0?0:n)<<8,l&=16776960;var s=i;null==s&&(s=255);var r=(0|(l|=t>255?255:t<0?0:t))-16777216;return r&=16777215,r|=(s>255?255:s<0?0:s)<<24},fromRGBAFloat:function(e,n,t,i){var l,s=-16777216;return s&=-16711681,s|=((l=Math.round(255*e))>255?255:l<0?0:l)<<16,s&=-65281,s|=((l=Math.round(255*n))>255?255:l<0?0:l)<<8,s&=-256,s|=(l=Math.round(255*t))>255?255:l<0?0:l,s&=16777215,s|=((l=Math.round(255*i))>255?255:l<0?0:l)<<24},fromCMYK:function(e,n,t,i){var l=-16777216,s=(1-e)*(1-i);l&=-16711681,l|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-n)*(1-i);l&=-65281,l|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-t)*(1-i);return l&=-256,l|=(r=Math.round(255*s))>255?255:r<0?0:r},fromHSB:function(e,n,t){var i=-16777216,l=t*n,s=t-l,r=e,a=l,c=(r%=360)/60,h=a*(1-Math.abs(c%2-1))+s;switch(a+=s,0|c){case 0:i&=-16711681,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,i&=-65281,i|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,i&=-256,i|=(u=Math.round(255*s))>255?255:u<0?0:u;break;case 1:i&=-16711681,i|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,i&=-65281,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,i&=-256,i|=(u=Math.round(255*s))>255?255:u<0?0:u;break;case 2:i&=-16711681,i|=((u=Math.round(255*s))>255?255:u<0?0:u)<<16,i&=-65281,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,i&=-256,i|=(u=Math.round(255*h))>255?255:u<0?0:u;break;case 3:i&=-16711681,i|=((u=Math.round(255*s))>255?255:u<0?0:u)<<16,i&=-65281,i|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,i&=-256,i|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 4:i&=-16711681,i|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,i&=-65281,i|=((u=Math.round(255*s))>255?255:u<0?0:u)<<8,i&=-256,i|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 5:var u;i&=-16711681,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,i&=-65281,i|=((u=Math.round(255*s))>255?255:u<0?0:u)<<8,i&=-256,i|=(u=Math.round(255*h))>255?255:u<0?0:u}return i},fromHSL:function(e,n,t){var i=-16777216,l=(1-Math.abs(2*t-1))*n,s=t-l/2,r=e,a=l,c=(r%=360)/60,h=a*(1-Math.abs(c%2-1))+s;switch(a+=s,0|c){case 0:i&=-16711681,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,i&=-65281,i|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,i&=-256,i|=(u=Math.round(255*s))>255?255:u<0?0:u;break;case 1:i&=-16711681,i|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,i&=-65281,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,i&=-256,i|=(u=Math.round(255*s))>255?255:u<0?0:u;break;case 2:i&=-16711681,i|=((u=Math.round(255*s))>255?255:u<0?0:u)<<16,i&=-65281,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,i&=-256,i|=(u=Math.round(255*h))>255?255:u<0?0:u;break;case 3:i&=-16711681,i|=((u=Math.round(255*s))>255?255:u<0?0:u)<<16,i&=-65281,i|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,i&=-256,i|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 4:i&=-16711681,i|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,i&=-65281,i|=((u=Math.round(255*s))>255?255:u<0?0:u)<<8,i&=-256,i|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 5:var u;i&=-16711681,i|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,i&=-65281,i|=((u=Math.round(255*s))>255?255:u<0?0:u)<<8,i&=-256,i|=(u=Math.round(255*h))>255?255:u<0?0:u}return i},fromString:function(e){var n=null;if(e=StringTools.trim(e),StringTools.startsWith(e,"0x")){var t=(0|u._new(Std.parseInt(e.substring(0,8))))-16777216;t&=16777215,n=t|=-16777216}else if(StringTools.startsWith(e,"#"))if(e.length>=9){var i="0x"+e.substring(1,9);n=Std.parseInt(i)}else{i="0x"+e.substring(1,7),t=(0|u._new(Std.parseInt(i)))-16777216;t&=16777215,n=t|=-16777216}else{e=e.toUpperCase();for(var l=u.colorLookup,s=l.h,r=Object.keys(s),a=r.length,c=0;c<a;){var h=r[c++];if(h==e){t=(0|u._new(l.h[h]))-16777216;t&=16777215,n=t|=-16777216;break}}}return n},getHSBColorWheel:function(){for(var e=[],n=0;n<360;){var t=n++;e.push(c.fromHSB(t,1,1))}return e},interpolate:function(e,n,t){null==t&&(t=.5);var i=((n>>16&255)-(e>>16&255))*t+(e>>16&255)|0,l=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0,s=((255&n)-(255&e))*t+(255&e)|0,r=((n>>24&255)-(e>>24&255))*t+(e>>24&255)|0,a=u._new();a&=65535,a|=(i>255?255:i<0?0:i)<<16,a&=16711935,a|=(l>255?255:l<0?0:l)<<8,a&=16776960;var c=r;null==c&&(c=255);var h=(0|(a|=s>255?255:s<0?0:s))-16777216;return h&=16777215,h|=(c>255?255:c<0?0:c)<<24},gradient:function(e,n,t,i){var l=[];null==i&&(i=function(e){return e});for(var s=0,r=t;s<r;){var a=s++,c=i(a/(t-1));null==c&&(c=.5);var h=((n>>16&255)-(e>>16&255))*c+(e>>16&255)|0,o=((n>>8&255)-(e>>8&255))*c+(e>>8&255)|0,_=((255&n)-(255&e))*c+(255&e)|0,d=((n>>24&255)-(e>>24&255))*c+(e>>24&255)|0,b=u._new();b&=65535,b|=(h>255?255:h<0?0:h)<<16,b&=16711935,b|=(o>255?255:o<0?0:o)<<8,b&=16776960;var f=d;null==f&&(f=255);var O=(0|(b|=_>255?255:_<0?0:_))-16777216;O&=16777215;var p=O|=(f>255?255:f<0?0:f)<<24;l[a]=p}return l},multiply:function(e,n){var t=(e>>16&255)/255*((n>>16&255)/255),i=(e>>8&255)/255*((n>>8&255)/255),l=(255&e)/255*((255&n)/255),s=u._new();s&=65535,s|=((r=Math.round(255*t))>255?255:r<0?0:r)<<16,s&=16711935,s|=((r=Math.round(255*i))>255?255:r<0?0:r)<<8,s&=16776960;var r=(0|(s|=(r=Math.round(255*l))>255?255:r<0?0:r))-16777216;return r&=16777215,r|=-16777216},add:function(e,n){var t=(e>>16&255)+(n>>16&255),i=(e>>8&255)+(n>>8&255),l=(255&e)+(255&n),s=u._new();s&=65535,s|=(t>255?255:t<0?0:t)<<16,s&=16711935,s|=(i>255?255:i<0?0:i)<<8,s&=16776960;var r=(0|(s|=l>255?255:l<0?0:l))-16777216;return r&=16777215,r|=-16777216},subtract:function(e,n){var t=(e>>16&255)-(n>>16&255),i=(e>>8&255)-(n>>8&255),l=(255&e)-(255&n),s=u._new();s&=65535,s|=(t>255?255:t<0?0:t)<<16,s&=16711935,s|=(i>255?255:i<0?0:i)<<8,s&=16776960;var r=(0|(s|=l>255?255:l<0?0:l))-16777216;return r&=16777215,r|=-16777216},toHexString:function(e,n){return null==n&&(n=!0),(n?"0x":"")+StringTools.hex(e>>24&255,2)+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},toWebString:function(e){var n=e>>16&255,t=e>>8&255,i=255&e,l=u._new();l&=65535,l|=(n>255?255:n<0?0:n)<<16,l&=16711935,l|=(t>255?255:t<0?0:t)<<8,l&=16776960;e=l|=i>255?255:i<0?0:i;var s=!1;return null==s&&(s=!0),"#"+(s?"0x":"")+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},getColorInfo:function(e){var n="0x"+StringTools.hex(e>>24&255,2)+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)+"\n";return n+="alpha: "+(e>>24&255)+"red: "+(e>>16&255)+" green: "+(e>>8&255)+" blue: "+(255&e)+"\n",n+="hue: "+c.roundDecimal(c.get_hue(e),2)+" saturation: "+c.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" brightness: "+c.roundDecimal(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" lightness: "+c.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2,2)},getDarkened:function(e,n){null==n&&(n=.2);var t=n<0?0:n;n=t>1?1:t;var i=e,l=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2*(1-n),s=c.get_hue(i),r=(1-Math.abs(2*l-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),a=l-r/2,h=s,u=r,o=(h%=360)/60,_=u*(1-Math.abs(o%2-1))+a;switch(u+=a,0|o){case 0:i&=-16711681,i|=((d=Math.round(255*u))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*a))>255?255:d<0?0:d;break;case 1:i&=-16711681,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*u))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*a))>255?255:d<0?0:d;break;case 2:i&=-16711681,i|=((d=Math.round(255*a))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*u))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*_))>255?255:d<0?0:d;break;case 3:i&=-16711681,i|=((d=Math.round(255*a))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*u))>255?255:d<0?0:d;break;case 4:i&=-16711681,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*a))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*u))>255?255:d<0?0:d;break;case 5:var d;i&=-16711681,i|=((d=Math.round(255*u))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*a))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*_))>255?255:d<0?0:d}return i},getLightened:function(e,n){null==n&&(n=.2);var t=n<0?0:n;n=t>1?1:t;var i=e,l=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2+(1-(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2)*n,s=c.get_hue(i),r=(1-Math.abs(2*l-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),a=l-r/2,h=s,u=r,o=(h%=360)/60,_=u*(1-Math.abs(o%2-1))+a;switch(u+=a,0|o){case 0:i&=-16711681,i|=((d=Math.round(255*u))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*a))>255?255:d<0?0:d;break;case 1:i&=-16711681,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*u))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*a))>255?255:d<0?0:d;break;case 2:i&=-16711681,i|=((d=Math.round(255*a))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*u))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*_))>255?255:d<0?0:d;break;case 3:i&=-16711681,i|=((d=Math.round(255*a))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*u))>255?255:d<0?0:d;break;case 4:i&=-16711681,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*a))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*u))>255?255:d<0?0:d;break;case 5:var d;i&=-16711681,i|=((d=Math.round(255*u))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*a))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*_))>255?255:d<0?0:d}return i},getInverted:function(e){var n=e>>24&255,t=255-(e>>16&255),i=255-(e>>8&255),l=255-(255&e),s=u._new();s&=65535,s|=(t>255?255:t<0?0:t)<<16,s&=16711935,s|=(i>255?255:i<0?0:i)<<8,s&=16776960;var r=(0|(s|=l>255?255:l<0?0:l))-16777216;r&=16777215;var a=e=r|=-16777216;a&=16777215;t=(a|=(n>255?255:n<0?0:n)<<24)>>16&255,i=a>>8&255,l=255&a,s=u._new();return s&=65535,s|=(t>255?255:t<0?0:t)<<16,s&=16711935,s|=(i>255?255:i<0?0:i)<<8,s&=16776960,s|=l>255?255:l<0?0:l},setRGB:function(e,n,t,i){return e&=-16711681,e|=(n>255?255:n<0?0:n)<<16,e&=-65281,e|=(t>255?255:t<0?0:t)<<8,e&=-256,e|=i>255?255:i<0?0:i},setRGBA:function(e,n,t,i,l){return e&=-16711681,e|=(n>255?255:n<0?0:n)<<16,e&=-65281,e|=(t>255?255:t<0?0:t)<<8,e&=-256,e|=i>255?255:i<0?0:i,e&=16777215,e|=(l>255?255:l<0?0:l)<<24},setRGBFloat:function(e,n,t,i){var l;return e&=-16711681,e|=((l=Math.round(255*n))>255?255:l<0?0:l)<<16,e&=-65281,e|=((l=Math.round(255*t))>255?255:l<0?0:l)<<8,e&=-256,e|=(l=Math.round(255*i))>255?255:l<0?0:l},setRGBAFloat:function(e,n,t,i,l){var s;return e&=-16711681,e|=((s=Math.round(255*n))>255?255:s<0?0:s)<<16,e&=-65281,e|=((s=Math.round(255*t))>255?255:s<0?0:s)<<8,e&=-256,e|=(s=Math.round(255*i))>255?255:s<0?0:s,e&=16777215,e|=((s=Math.round(255*l))>255?255:s<0?0:s)<<24},setCMYK:function(e,n,t,i,l){var s=(1-n)*(1-l);e&=-16711681,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-t)*(1-l);e&=-65281,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-i)*(1-l);return e&=-256,e|=(r=Math.round(255*s))>255?255:r<0?0:r},setHSB:function(e,n,t,i){var l=i*t,s=i-l,r=n,a=l,c=(r%=360)/60,h=a*(1-Math.abs(c%2-1))+s;switch(a+=s,0|c){case 0:e&=-16711681,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*s))>255?255:u<0?0:u;break;case 1:e&=-16711681,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*s))>255?255:u<0?0:u;break;case 2:e&=-16711681,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*h))>255?255:u<0?0:u;break;case 3:e&=-16711681,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 4:e&=-16711681,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 5:var u;e&=-16711681,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*h))>255?255:u<0?0:u}return e},setHSL:function(e,n,t,i){var l=(1-Math.abs(2*i-1))*t,s=i-l/2,r=n,a=l,c=(r%=360)/60,h=a*(1-Math.abs(c%2-1))+s;switch(a+=s,0|c){case 0:e&=-16711681,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*s))>255?255:u<0?0:u;break;case 1:e&=-16711681,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*s))>255?255:u<0?0:u;break;case 2:e&=-16711681,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*h))>255?255:u<0?0:u;break;case 3:e&=-16711681,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 4:e&=-16711681,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 5:var u;e&=-16711681,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*h))>255?255:u<0?0:u}return e},setHSChromaMatch:function(e,n,t,i,l){var s=(n%=360)/60,r=i*(1-Math.abs(s%2-1))+l;switch(i+=l,0|s){case 0:e&=-16711681,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<16,e&=-65281,e|=((a=Math.round(255*r))>255?255:a<0?0:a)<<8,e&=-256,e|=(a=Math.round(255*l))>255?255:a<0?0:a;break;case 1:e&=-16711681,e|=((a=Math.round(255*r))>255?255:a<0?0:a)<<16,e&=-65281,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<8,e&=-256,e|=(a=Math.round(255*l))>255?255:a<0?0:a;break;case 2:e&=-16711681,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<16,e&=-65281,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<8,e&=-256,e|=(a=Math.round(255*r))>255?255:a<0?0:a;break;case 3:e&=-16711681,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<16,e&=-65281,e|=((a=Math.round(255*r))>255?255:a<0?0:a)<<8,e&=-256,e|=(a=Math.round(255*i))>255?255:a<0?0:a;break;case 4:e&=-16711681,e|=((a=Math.round(255*r))>255?255:a<0?0:a)<<16,e&=-65281,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<8,e&=-256,e|=(a=Math.round(255*i))>255?255:a<0?0:a;break;case 5:var a;e&=-16711681,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<16,e&=-65281,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<8,e&=-256,e|=(a=Math.round(255*r))>255?255:a<0?0:a}return e},_new:function(e,n){null==n&&(n=255);var t=(0|e)-16777216;return t&=16777215,t|=(n>255?255:n<0?0:n)<<24},get_color:function(e){var n=e>>16&255,t=e>>8&255,i=255&e,l=u._new();return l&=65535,l|=(n>255?255:n<0?0:n)<<16,l&=16711935,l|=(t>255?255:t<0?0:t)<<8,l&=16776960,l|=i>255?255:i<0?0:i},set_color:function(e,n){var t;return-16711681,((t=n>>16&255)>255?255:t<0?0:t)<<16,-65281,((t=n>>8&255)>255?255:t<0?0:t)<<8,-256,(t=255&n)>255?255:t<0?0:t,n},get_rgb:function(e){var n=e>>16&255,t=e>>8&255,i=255&e,l=u._new();return l&=65535,l|=(n>255?255:n<0?0:n)<<16,l&=16711935,l|=(t>255?255:t<0?0:t)<<8,l&=16776960,l|=i>255?255:i<0?0:i},set_rgb:function(e,n){var t;return-16711681,((t=n>>16&255)>255?255:t<0?0:t)<<16,-65281,((t=n>>8&255)>255?255:t<0?0:t)<<8,-256,(t=255&n)>255?255:t<0?0:t,n},get_red:function(e){return e>>16&255},get_green:function(e){return e>>8&255},get_blue:function(e){return 255&e},get_alpha:function(e){return e>>24&255},get_redFloat:function(e){return(e>>16&255)/255},get_greenFloat:function(e){return(e>>8&255)/255},get_blueFloat:function(e){return(255&e)/255},get_alphaFloat:function(e){return(e>>24&255)/255},set_red:function(e,n){return-16711681,(n>255?255:n<0?0:n)<<16,n},set_green:function(e,n){return-65281,(n>255?255:n<0?0:n)<<8,n},set_blue:function(e,n){return-256,n>255?255:n<0?0:n,n},set_alpha:function(e,n){return 16777215,(n>255?255:n<0?0:n)<<24,n},set_redFloat:function(e,n){var t=Math.round(255*n);return-16711681,(t>255?255:t<0?0:t)<<16,n},set_greenFloat:function(e,n){var t=Math.round(255*n);return-65281,(t>255?255:t<0?0:t)<<8,n},set_blueFloat:function(e,n){var t=Math.round(255*n);return-256,t>255?255:t<0?0:t,n},set_alphaFloat:function(e,n){var t=Math.round(255*n);return 16777215,(t>255?255:t<0?0:t)<<24,n},get_cyan:function(e){return(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_magenta:function(e){return(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_yellow:function(e){return(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_black:function(e){return 1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},set_cyan:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=(1-n)*(1-l);e&=-16711681,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-t)*(1-l);e&=-65281,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-i)*(1-l);return e&=-256,e|=(r=Math.round(255*s))>255?255:r<0?0:r,n},set_magenta:function(e,n){var t=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i);e&=-16711681,e|=((s=Math.round(255*l))>255?255:s<0?0:s)<<16;l=(1-n)*(1-i);e&=-65281,e|=((s=Math.round(255*l))>255?255:s<0?0:s)<<8;var s;l=(1-t)*(1-i);return e&=-256,e|=(s=Math.round(255*l))>255?255:s<0?0:s,n},set_yellow:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i);e&=-16711681,e|=((s=Math.round(255*l))>255?255:s<0?0:s)<<16;l=(1-t)*(1-i);e&=-65281,e|=((s=Math.round(255*l))>255?255:s<0?0:s)<<8;var s;l=(1-n)*(1-i);return e&=-256,e|=(s=Math.round(255*l))>255?255:s<0?0:s,n},set_black:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-n);e&=-16711681,e|=((s=Math.round(255*l))>255?255:s<0?0:s)<<16;l=(1-t)*(1-n);e&=-65281,e|=((s=Math.round(255*l))>255?255:s<0?0:s)<<8;var s;l=(1-i)*(1-n);return e&=-256,e|=(s=Math.round(255*l))>255?255:s<0?0:s,n},get_hue:function(e){var n=0;return 0!=Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255)&&(n=180/Math.PI*Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255)),n<0?n+360:n},get_brightness:function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_saturation:function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_lightness:function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2},set_hue:function(e,n){var t=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=t*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=t-i,s=n,r=i,a=(s%=360)/60,c=r*(1-Math.abs(a%2-1))+l;switch(r+=l,0|a){case 0:e&=-16711681,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<16,e&=-65281,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<8,e&=-256,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 1:e&=-16711681,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<16,e&=-65281,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<8,e&=-256,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 2:e&=-16711681,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=-65281,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<8,e&=-256,e|=(h=Math.round(255*c))>255?255:h<0?0:h;break;case 3:e&=-16711681,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=-65281,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<8,e&=-256,e|=(h=Math.round(255*r))>255?255:h<0?0:h;break;case 4:e&=-16711681,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<16,e&=-65281,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=-256,e|=(h=Math.round(255*r))>255?255:h<0?0:h;break;case 5:var h;e&=-16711681,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<16,e&=-65281,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=-256,e|=(h=Math.round(255*c))>255?255:h<0?0:h}return n},set_saturation:function(e,n){var t=c.get_hue(e),i=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=i*n,s=i-l,r=t,a=l,h=(r%=360)/60,u=a*(1-Math.abs(h%2-1))+s;switch(a+=s,0|h){case 0:e&=-16711681,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<16,e&=-65281,e|=((o=Math.round(255*u))>255?255:o<0?0:o)<<8,e&=-256,e|=(o=Math.round(255*s))>255?255:o<0?0:o;break;case 1:e&=-16711681,e|=((o=Math.round(255*u))>255?255:o<0?0:o)<<16,e&=-65281,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<8,e&=-256,e|=(o=Math.round(255*s))>255?255:o<0?0:o;break;case 2:e&=-16711681,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<16,e&=-65281,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<8,e&=-256,e|=(o=Math.round(255*u))>255?255:o<0?0:o;break;case 3:e&=-16711681,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<16,e&=-65281,e|=((o=Math.round(255*u))>255?255:o<0?0:o)<<8,e&=-256,e|=(o=Math.round(255*a))>255?255:o<0?0:o;break;case 4:e&=-16711681,e|=((o=Math.round(255*u))>255?255:o<0?0:o)<<16,e&=-65281,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<8,e&=-256,e|=(o=Math.round(255*a))>255?255:o<0?0:o;break;case 5:var o;e&=-16711681,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<16,e&=-65281,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<8,e&=-256,e|=(o=Math.round(255*u))>255?255:o<0?0:o}return n},set_brightness:function(e,n){var t=c.get_hue(e),i=n*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=n-i,s=t,r=i,a=(s%=360)/60,h=r*(1-Math.abs(a%2-1))+l;switch(r+=l,0|a){case 0:e&=-16711681,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*l))>255?255:u<0?0:u;break;case 1:e&=-16711681,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*l))>255?255:u<0?0:u;break;case 2:e&=-16711681,e|=((u=Math.round(255*l))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*h))>255?255:u<0?0:u;break;case 3:e&=-16711681,e|=((u=Math.round(255*l))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*r))>255?255:u<0?0:u;break;case 4:e&=-16711681,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*l))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*r))>255?255:u<0?0:u;break;case 5:var u;e&=-16711681,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*l))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*h))>255?255:u<0?0:u}return n},set_lightness:function(e,n){var t=c.get_hue(e),i=(1-Math.abs(2*n-1))*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=n-i/2,s=t,r=i,a=(s%=360)/60,h=r*(1-Math.abs(a%2-1))+l;switch(r+=l,0|a){case 0:e&=-16711681,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*l))>255?255:u<0?0:u;break;case 1:e&=-16711681,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*l))>255?255:u<0?0:u;break;case 2:e&=-16711681,e|=((u=Math.round(255*l))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*h))>255?255:u<0?0:u;break;case 3:e&=-16711681,e|=((u=Math.round(255*l))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*r))>255?255:u<0?0:u;break;case 4:e&=-16711681,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*l))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*r))>255?255:u<0?0:u;break;case 5:var u;e&=-16711681,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*l))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*h))>255?255:u<0?0:u}return n},maxColor:function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},minColor:function(e){return Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255))},boundChannel:function(e,n){return n>255?255:n<0?0:n},roundDecimal:function(e,n){for(var t=1,i=0,l=n;i<l;){i++;t*=10}return Math.round(e*t)/t},bound:function(e,n,t){var i=null!=n&&e<n?n:e;return null!=t&&i>t?t:i},toString:function(e){return-1==e?"NONE":"0x"+StringTools.hex(e>>24&255,2)+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},fromHSLuv:function(e,n,t){var i=-1;if(c._hsluvTuple[0]=e,c._hsluvTuple[1]=100*n,c._hsluvTuple[2]=100*t,t>.001){hsluv_Hsluv.hsluvToRgb(c._hsluvTuple,c._hsluvResult);var l=c._hsluvResult[0];l<0&&(l=0),i&=-16711681,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,(l=c._hsluvResult[1])<0&&(l=0),i&=-65281,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,(l=c._hsluvResult[2])<0&&(l=0),i&=-256,i|=(_=Math.round(255*l))>255?255:_<0?0:_}else{var s=(1-Math.abs(2*t-1))*n,r=t-s/2,a=e,h=s,u=(a%=360)/60,o=h*(1-Math.abs(u%2-1))+r;switch(h+=r,0|u){case 0:i&=-16711681,i|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,i&=-65281,i|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,i&=-256,i|=(_=Math.round(255*r))>255?255:_<0?0:_;break;case 1:i&=-16711681,i|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,i&=-65281,i|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,i&=-256,i|=(_=Math.round(255*r))>255?255:_<0?0:_;break;case 2:i&=-16711681,i|=((_=Math.round(255*r))>255?255:_<0?0:_)<<16,i&=-65281,i|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,i&=-256,i|=(_=Math.round(255*o))>255?255:_<0?0:_;break;case 3:i&=-16711681,i|=((_=Math.round(255*r))>255?255:_<0?0:_)<<16,i&=-65281,i|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,i&=-256,i|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 4:i&=-16711681,i|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,i&=-65281,i|=((_=Math.round(255*r))>255?255:_<0?0:_)<<8,i&=-256,i|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 5:var _;i&=-16711681,i|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,i&=-65281,i|=((_=Math.round(255*r))>255?255:_<0?0:_)<<8,i&=-256,i|=(_=Math.round(255*o))>255?255:_<0?0:_}}return i},setHSLuv:function(e,n,t,i){if(c._hsluvTuple[0]=n,c._hsluvTuple[1]=100*t,c._hsluvTuple[2]=100*i,i>.001){hsluv_Hsluv.hsluvToRgb(c._hsluvTuple,c._hsluvResult);var l=c._hsluvResult[0];l<0&&(l=0),e&=-16711681,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,(l=c._hsluvResult[1])<0&&(l=0),e&=-65281,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,(l=c._hsluvResult[2])<0&&(l=0),e&=-256,e|=(_=Math.round(255*l))>255?255:_<0?0:_}else{var s=(1-Math.abs(2*i-1))*t,r=i-s/2,a=n,h=s,u=(a%=360)/60,o=h*(1-Math.abs(u%2-1))+r;switch(h+=r,0|u){case 0:e&=-16711681,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*r))>255?255:_<0?0:_;break;case 1:e&=-16711681,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*r))>255?255:_<0?0:_;break;case 2:e&=-16711681,e|=((_=Math.round(255*r))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*o))>255?255:_<0?0:_;break;case 3:e&=-16711681,e|=((_=Math.round(255*r))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 4:e&=-16711681,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*r))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 5:var _;e&=-16711681,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*r))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*o))>255?255:_<0?0:_}}return e},getHSLuv:function(e,n){return null==n&&(n=[0,0,0]),c._hsluvTuple[0]=(e>>16&255)/255,c._hsluvTuple[1]=(e>>8&255)/255,c._hsluvTuple[2]=(255&e)/255,hsluv_Hsluv.rgbToHsluv(c._hsluvTuple,n),n[1]*=.01,n[2]*=.01,n}},ceramic_App=function(){this.info={editable:{item11:"ceramic.Particles",item3:"ceramic.Fragment",item10:"ceramic.Line",item5:"ceramic.Text",item7:"ceramic.Shape",item2:"ceramic.Layer",item6:"ceramic.Mesh",item9:"ceramic.Arc",item1:"ceramic.Visual",item4:"ceramic.Quad",item8:"ceramic.Ngon",item0:"ceramic.Entity"},name:"flappy",collections:{},version:"1.0",author:"My Company",displayName:"flappy"},this.disposedEntities=[],this.beginUpdateCallbacks=[],this.visualsContentDirty=!1,this.hierarchyDirty=!1,this.lazyScenes=!0,this.arcade=null,this.timelines=new ceramic_Timelines,this.converters=new haxe_ds_StringMap,this.textInput=null,this.persistent=null,this.projectDir=null,this.defaultFont=null,this.defaultWhiteTexture=null,this.defaultTexturedShader=null,this.renderTextures=[],this.groups=[],this.destroyedVisuals=[],this.pendingVisuals=[],this.visuals=[],this.logger=new ceramic_Logger,this.frame=0,this._computeFps=new ceramic_ComputeFps,this.shouldUpdateAndDrawAgain=!1,this.inUpdate=!1,this._xUpdatesToCallNow=[],this._xUpdatesHandlers=[],this._xUpdatesHandlersPool=new ceramic_Pool,this.loaders=[],this.postFlushImmediateCallbacksLen=0,this.postFlushImmediateCallbacksCapacity=0,this.postFlushImmediateCallbacks=[],this.immediateCallbacksLen=0,this.immediateCallbacksCapacity=0,this.immediateCallbacks=[],ceramic_Entity.call(this),ceramic_App.app=this,ceramic_Runner.init(),tracker_Tracker.backend=new ceramic_TrackerBackend,this.settings=new ceramic_Settings,this.screen=new ceramic_Screen,this.audio=new ceramic_Audio,this.input=new ceramic_Input,this.systems=new ceramic_Systems,this.assets=new ceramic_Assets,this.backend=new backend_Backend,this.backend.onceReady(this,$bind(this,this.backendReady)),this.backend.init(this)};t["ceramic.App"]=ceramic_App,ceramic_App.__name__="ceramic.App",ceramic_App.__properties__={get_app:"get_app"},ceramic_App.get_app=function(){return ceramic_App.app},ceramic_App.oncePreInit=function(e){null==ceramic_App.preInitCallbacks&&(ceramic_App.preInitCallbacks=[]),ceramic_App.preInitCallbacks.push(e)},ceramic_App.init=function(){return assets_AllAssets.bind(),new ceramic_App,new ceramic_InitSettings(ceramic_App.app.settings)},ceramic_App.__super__=ceramic_Entity,ceramic_App.prototype=$extend(ceramic_Entity.prototype,{__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var l=0,s=this.__cbOnReady.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnReady[r],++i):--e}if(null!=this.__cbOnceReady){var a=null,c=null;for(l=0,s=this.__cbOnceReady.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceReady[r],this.__cbOnceReady[r]=null;var h=this.__cbOnceOwnerUnbindReady[r];this.__cbOnceOwnerUnbindReady[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindReady[r]),c.push(this.__cbOnceReady[r])}this.__cbOnceOwnerUnbindReady=a,this.__cbOnceReady=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(n)},onceReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(n)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReady[n])&&s(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReady[n])&&s(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReady[l])&&s()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindReady[l])&&s()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&this.__cbOnReady.length>0||null!=this.__cbOnceReady&&this.__cbOnceReady.length>0},__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnUpdate[a],++l):--n}if(null!=this.__cbOnceUpdate){var c=null,h=null;for(s=0,r=this.__cbOnceUpdate.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null;var u=this.__cbOnceOwnerUnbindUpdate[a];this.__cbOnceOwnerUnbindUpdate[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindUpdate[a]),h.push(this.__cbOnceUpdate[a])}this.__cbOnceOwnerUnbindUpdate=c,this.__cbOnceUpdate=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},__cbOnPreUpdate:null,__cbOncePreUpdate:null,__cbOnOwnerUnbindPreUpdate:null,__cbOnceOwnerUnbindPreUpdate:null,emitPreUpdate:function(e){var n=0;if(null!=this.__cbOnPreUpdate&&(n+=this.__cbOnPreUpdate.length),null!=this.__cbOncePreUpdate&&(n+=this.__cbOncePreUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPreUpdate)for(var s=0,r=this.__cbOnPreUpdate.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnPreUpdate[a],++l):--n}if(null!=this.__cbOncePreUpdate){var c=null,h=null;for(s=0,r=this.__cbOncePreUpdate.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOncePreUpdate[a],this.__cbOncePreUpdate[a]=null;var u=this.__cbOnceOwnerUnbindPreUpdate[a];this.__cbOnceOwnerUnbindPreUpdate[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindPreUpdate[a]),h.push(this.__cbOncePreUpdate[a])}this.__cbOnceOwnerUnbindPreUpdate=c,this.__cbOncePreUpdate=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onPreUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event preUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPreUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPreUpdate&&(this.__cbOnOwnerUnbindPreUpdate=[]),this.__cbOnOwnerUnbindPreUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPreUpdate&&(this.__cbOnOwnerUnbindPreUpdate=[]),this.__cbOnOwnerUnbindPreUpdate.push(null);null==this.__cbOnPreUpdate&&(this.__cbOnPreUpdate=[]),this.__cbOnPreUpdate.push(n)},oncePreUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event preUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPreUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPreUpdate&&(this.__cbOnceOwnerUnbindPreUpdate=[]),this.__cbOnceOwnerUnbindPreUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPreUpdate&&(this.__cbOnceOwnerUnbindPreUpdate=[]),this.__cbOnceOwnerUnbindPreUpdate.push(null);null==this.__cbOncePreUpdate&&(this.__cbOncePreUpdate=[]),this.__cbOncePreUpdate.push(n)},offPreUpdate:function(e){if(null!=e){var n;null!=this.__cbOnPreUpdate&&-1!=(n=this.__cbOnPreUpdate.indexOf(e))&&(this.__cbOnPreUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPreUpdate[n])&&s(),this.__cbOnOwnerUnbindPreUpdate.splice(n,1)),null!=this.__cbOncePreUpdate&&-1!=(n=this.__cbOncePreUpdate.indexOf(e))&&(this.__cbOncePreUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPreUpdate[n])&&s(),this.__cbOnceOwnerUnbindPreUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPreUpdate){for(var t=0,i=this.__cbOnOwnerUnbindPreUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPreUpdate[l])&&s()}this.__cbOnOwnerUnbindPreUpdate=null}if(null!=this.__cbOnceOwnerUnbindPreUpdate){for(t=0,i=this.__cbOnceOwnerUnbindPreUpdate.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindPreUpdate[l])&&s()}this.__cbOnceOwnerUnbindPreUpdate=null}this.__cbOnPreUpdate=null,this.__cbOncePreUpdate=null}},listensPreUpdate:function(){return null!=this.__cbOnPreUpdate&&this.__cbOnPreUpdate.length>0||null!=this.__cbOncePreUpdate&&this.__cbOncePreUpdate.length>0},__cbOnPostUpdate:null,__cbOncePostUpdate:null,__cbOnOwnerUnbindPostUpdate:null,__cbOnceOwnerUnbindPostUpdate:null,emitPostUpdate:function(e){var n=0;if(null!=this.__cbOnPostUpdate&&(n+=this.__cbOnPostUpdate.length),null!=this.__cbOncePostUpdate&&(n+=this.__cbOncePostUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPostUpdate)for(var s=0,r=this.__cbOnPostUpdate.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnPostUpdate[a],++l):--n}if(null!=this.__cbOncePostUpdate){var c=null,h=null;for(s=0,r=this.__cbOncePostUpdate.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOncePostUpdate[a],this.__cbOncePostUpdate[a]=null;var u=this.__cbOnceOwnerUnbindPostUpdate[a];this.__cbOnceOwnerUnbindPostUpdate[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindPostUpdate[a]),h.push(this.__cbOncePostUpdate[a])}this.__cbOnceOwnerUnbindPostUpdate=c,this.__cbOncePostUpdate=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onPostUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event postUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPostUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPostUpdate&&(this.__cbOnOwnerUnbindPostUpdate=[]),this.__cbOnOwnerUnbindPostUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPostUpdate&&(this.__cbOnOwnerUnbindPostUpdate=[]),this.__cbOnOwnerUnbindPostUpdate.push(null);null==this.__cbOnPostUpdate&&(this.__cbOnPostUpdate=[]),this.__cbOnPostUpdate.push(n)},oncePostUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event postUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPostUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPostUpdate&&(this.__cbOnceOwnerUnbindPostUpdate=[]),this.__cbOnceOwnerUnbindPostUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPostUpdate&&(this.__cbOnceOwnerUnbindPostUpdate=[]),this.__cbOnceOwnerUnbindPostUpdate.push(null);null==this.__cbOncePostUpdate&&(this.__cbOncePostUpdate=[]),this.__cbOncePostUpdate.push(n)},offPostUpdate:function(e){if(null!=e){var n;null!=this.__cbOnPostUpdate&&-1!=(n=this.__cbOnPostUpdate.indexOf(e))&&(this.__cbOnPostUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPostUpdate[n])&&s(),this.__cbOnOwnerUnbindPostUpdate.splice(n,1)),null!=this.__cbOncePostUpdate&&-1!=(n=this.__cbOncePostUpdate.indexOf(e))&&(this.__cbOncePostUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPostUpdate[n])&&s(),this.__cbOnceOwnerUnbindPostUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPostUpdate){for(var t=0,i=this.__cbOnOwnerUnbindPostUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPostUpdate[l])&&s()}this.__cbOnOwnerUnbindPostUpdate=null}if(null!=this.__cbOnceOwnerUnbindPostUpdate){for(t=0,i=this.__cbOnceOwnerUnbindPostUpdate.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindPostUpdate[l])&&s()}this.__cbOnceOwnerUnbindPostUpdate=null}this.__cbOnPostUpdate=null,this.__cbOncePostUpdate=null}},listensPostUpdate:function(){return null!=this.__cbOnPostUpdate&&this.__cbOnPostUpdate.length>0||null!=this.__cbOncePostUpdate&&this.__cbOncePostUpdate.length>0},__cbOnDefaultAssetsLoad:null,__cbOnceDefaultAssetsLoad:null,__cbOnOwnerUnbindDefaultAssetsLoad:null,__cbOnceOwnerUnbindDefaultAssetsLoad:null,emitDefaultAssetsLoad:function(e){var n=0;if(null!=this.__cbOnDefaultAssetsLoad&&(n+=this.__cbOnDefaultAssetsLoad.length),null!=this.__cbOnceDefaultAssetsLoad&&(n+=this.__cbOnceDefaultAssetsLoad.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDefaultAssetsLoad)for(var s=0,r=this.__cbOnDefaultAssetsLoad.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnDefaultAssetsLoad[a],++l):--n}if(null!=this.__cbOnceDefaultAssetsLoad){var c=null,h=null;for(s=0,r=this.__cbOnceDefaultAssetsLoad.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceDefaultAssetsLoad[a],this.__cbOnceDefaultAssetsLoad[a]=null;var u=this.__cbOnceOwnerUnbindDefaultAssetsLoad[a];this.__cbOnceOwnerUnbindDefaultAssetsLoad[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindDefaultAssetsLoad[a]),h.push(this.__cbOnceDefaultAssetsLoad[a])}this.__cbOnceOwnerUnbindDefaultAssetsLoad=c,this.__cbOnceDefaultAssetsLoad=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onDefaultAssetsLoad:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event defaultAssetsLoad because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDefaultAssetsLoad(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDefaultAssetsLoad&&(this.__cbOnOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnOwnerUnbindDefaultAssetsLoad.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDefaultAssetsLoad&&(this.__cbOnOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnOwnerUnbindDefaultAssetsLoad.push(null);null==this.__cbOnDefaultAssetsLoad&&(this.__cbOnDefaultAssetsLoad=[]),this.__cbOnDefaultAssetsLoad.push(n)},onceDefaultAssetsLoad:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event defaultAssetsLoad because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDefaultAssetsLoad(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDefaultAssetsLoad&&(this.__cbOnceOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnceOwnerUnbindDefaultAssetsLoad.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDefaultAssetsLoad&&(this.__cbOnceOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnceOwnerUnbindDefaultAssetsLoad.push(null);null==this.__cbOnceDefaultAssetsLoad&&(this.__cbOnceDefaultAssetsLoad=[]),this.__cbOnceDefaultAssetsLoad.push(n)},offDefaultAssetsLoad:function(e){if(null!=e){var n;null!=this.__cbOnDefaultAssetsLoad&&-1!=(n=this.__cbOnDefaultAssetsLoad.indexOf(e))&&(this.__cbOnDefaultAssetsLoad.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDefaultAssetsLoad[n])&&s(),this.__cbOnOwnerUnbindDefaultAssetsLoad.splice(n,1)),null!=this.__cbOnceDefaultAssetsLoad&&-1!=(n=this.__cbOnceDefaultAssetsLoad.indexOf(e))&&(this.__cbOnceDefaultAssetsLoad.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDefaultAssetsLoad[n])&&s(),this.__cbOnceOwnerUnbindDefaultAssetsLoad.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDefaultAssetsLoad){for(var t=0,i=this.__cbOnOwnerUnbindDefaultAssetsLoad.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDefaultAssetsLoad[l])&&s()}this.__cbOnOwnerUnbindDefaultAssetsLoad=null}if(null!=this.__cbOnceOwnerUnbindDefaultAssetsLoad){for(t=0,i=this.__cbOnceOwnerUnbindDefaultAssetsLoad.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindDefaultAssetsLoad[l])&&s()}this.__cbOnceOwnerUnbindDefaultAssetsLoad=null}this.__cbOnDefaultAssetsLoad=null,this.__cbOnceDefaultAssetsLoad=null}},listensDefaultAssetsLoad:function(){return null!=this.__cbOnDefaultAssetsLoad&&this.__cbOnDefaultAssetsLoad.length>0||null!=this.__cbOnceDefaultAssetsLoad&&this.__cbOnceDefaultAssetsLoad.length>0},__cbOnCriticalError:null,__cbOnceCriticalError:null,__cbOnOwnerUnbindCriticalError:null,__cbOnceOwnerUnbindCriticalError:null,emitCriticalError:function(e,n){var t=0;if(null!=this.__cbOnCriticalError&&(t+=this.__cbOnCriticalError.length),null!=this.__cbOnceCriticalError&&(t+=this.__cbOnceCriticalError.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnCriticalError)for(var r=0,a=this.__cbOnCriticalError.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnCriticalError[c],++s):--t}if(null!=this.__cbOnceCriticalError){var h=null,u=null;for(r=0,a=this.__cbOnceCriticalError.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceCriticalError[c],this.__cbOnceCriticalError[c]=null;var o=this.__cbOnceOwnerUnbindCriticalError[c];this.__cbOnceOwnerUnbindCriticalError[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindCriticalError[c]),u.push(this.__cbOnceCriticalError[c])}this.__cbOnceOwnerUnbindCriticalError=h,this.__cbOnceCriticalError=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onCriticalError:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event criticalError because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCriticalError(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindCriticalError&&(this.__cbOnOwnerUnbindCriticalError=[]),this.__cbOnOwnerUnbindCriticalError.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindCriticalError&&(this.__cbOnOwnerUnbindCriticalError=[]),this.__cbOnOwnerUnbindCriticalError.push(null);null==this.__cbOnCriticalError&&(this.__cbOnCriticalError=[]),this.__cbOnCriticalError.push(n)},onceCriticalError:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event criticalError because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCriticalError(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindCriticalError&&(this.__cbOnceOwnerUnbindCriticalError=[]),this.__cbOnceOwnerUnbindCriticalError.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindCriticalError&&(this.__cbOnceOwnerUnbindCriticalError=[]),this.__cbOnceOwnerUnbindCriticalError.push(null);null==this.__cbOnceCriticalError&&(this.__cbOnceCriticalError=[]),this.__cbOnceCriticalError.push(n)},offCriticalError:function(e){if(null!=e){var n;null!=this.__cbOnCriticalError&&-1!=(n=this.__cbOnCriticalError.indexOf(e))&&(this.__cbOnCriticalError.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCriticalError[n])&&s(),this.__cbOnOwnerUnbindCriticalError.splice(n,1)),null!=this.__cbOnceCriticalError&&-1!=(n=this.__cbOnceCriticalError.indexOf(e))&&(this.__cbOnceCriticalError.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCriticalError[n])&&s(),this.__cbOnceOwnerUnbindCriticalError.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCriticalError){for(var t=0,i=this.__cbOnOwnerUnbindCriticalError.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCriticalError[l])&&s()}this.__cbOnOwnerUnbindCriticalError=null}if(null!=this.__cbOnceOwnerUnbindCriticalError){for(t=0,i=this.__cbOnceOwnerUnbindCriticalError.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindCriticalError[l])&&s()}this.__cbOnceOwnerUnbindCriticalError=null}this.__cbOnCriticalError=null,this.__cbOnceCriticalError=null}},listensCriticalError:function(){return null!=this.__cbOnCriticalError&&this.__cbOnCriticalError.length>0||null!=this.__cbOnceCriticalError&&this.__cbOnceCriticalError.length>0},__cbOnBeginEnterBackground:null,__cbOnceBeginEnterBackground:null,__cbOnOwnerUnbindBeginEnterBackground:null,__cbOnceOwnerUnbindBeginEnterBackground:null,emitBeginEnterBackground:function(){var e=0;if(null!=this.__cbOnBeginEnterBackground&&(e+=this.__cbOnBeginEnterBackground.length),null!=this.__cbOnceBeginEnterBackground&&(e+=this.__cbOnceBeginEnterBackground.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginEnterBackground)for(var l=0,s=this.__cbOnBeginEnterBackground.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBeginEnterBackground[r],++i):--e}if(null!=this.__cbOnceBeginEnterBackground){var a=null,c=null;for(l=0,s=this.__cbOnceBeginEnterBackground.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceBeginEnterBackground[r],this.__cbOnceBeginEnterBackground[r]=null;var h=this.__cbOnceOwnerUnbindBeginEnterBackground[r];this.__cbOnceOwnerUnbindBeginEnterBackground[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindBeginEnterBackground[r]),c.push(this.__cbOnceBeginEnterBackground[r])}this.__cbOnceOwnerUnbindBeginEnterBackground=a,this.__cbOnceBeginEnterBackground=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onBeginEnterBackground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEnterBackground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEnterBackground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginEnterBackground&&(this.__cbOnOwnerUnbindBeginEnterBackground=[]),this.__cbOnOwnerUnbindBeginEnterBackground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginEnterBackground&&(this.__cbOnOwnerUnbindBeginEnterBackground=[]),this.__cbOnOwnerUnbindBeginEnterBackground.push(null);null==this.__cbOnBeginEnterBackground&&(this.__cbOnBeginEnterBackground=[]),this.__cbOnBeginEnterBackground.push(n)},onceBeginEnterBackground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEnterBackground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEnterBackground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginEnterBackground&&(this.__cbOnceOwnerUnbindBeginEnterBackground=[]),this.__cbOnceOwnerUnbindBeginEnterBackground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginEnterBackground&&(this.__cbOnceOwnerUnbindBeginEnterBackground=[]),this.__cbOnceOwnerUnbindBeginEnterBackground.push(null);null==this.__cbOnceBeginEnterBackground&&(this.__cbOnceBeginEnterBackground=[]),this.__cbOnceBeginEnterBackground.push(n)},offBeginEnterBackground:function(e){if(null!=e){var n;null!=this.__cbOnBeginEnterBackground&&-1!=(n=this.__cbOnBeginEnterBackground.indexOf(e))&&(this.__cbOnBeginEnterBackground.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginEnterBackground[n])&&s(),this.__cbOnOwnerUnbindBeginEnterBackground.splice(n,1)),null!=this.__cbOnceBeginEnterBackground&&-1!=(n=this.__cbOnceBeginEnterBackground.indexOf(e))&&(this.__cbOnceBeginEnterBackground.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginEnterBackground[n])&&s(),this.__cbOnceOwnerUnbindBeginEnterBackground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEnterBackground){for(var t=0,i=this.__cbOnOwnerUnbindBeginEnterBackground.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginEnterBackground[l])&&s()}this.__cbOnOwnerUnbindBeginEnterBackground=null}if(null!=this.__cbOnceOwnerUnbindBeginEnterBackground){for(t=0,i=this.__cbOnceOwnerUnbindBeginEnterBackground.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginEnterBackground[l])&&s()}this.__cbOnceOwnerUnbindBeginEnterBackground=null}this.__cbOnBeginEnterBackground=null,this.__cbOnceBeginEnterBackground=null}},listensBeginEnterBackground:function(){return null!=this.__cbOnBeginEnterBackground&&this.__cbOnBeginEnterBackground.length>0||null!=this.__cbOnceBeginEnterBackground&&this.__cbOnceBeginEnterBackground.length>0},__cbOnFinishEnterBackground:null,__cbOnceFinishEnterBackground:null,__cbOnOwnerUnbindFinishEnterBackground:null,__cbOnceOwnerUnbindFinishEnterBackground:null,emitFinishEnterBackground:function(){var e=0;if(null!=this.__cbOnFinishEnterBackground&&(e+=this.__cbOnFinishEnterBackground.length),null!=this.__cbOnceFinishEnterBackground&&(e+=this.__cbOnceFinishEnterBackground.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishEnterBackground)for(var l=0,s=this.__cbOnFinishEnterBackground.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishEnterBackground[r],++i):--e}if(null!=this.__cbOnceFinishEnterBackground){var a=null,c=null;for(l=0,s=this.__cbOnceFinishEnterBackground.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceFinishEnterBackground[r],this.__cbOnceFinishEnterBackground[r]=null;var h=this.__cbOnceOwnerUnbindFinishEnterBackground[r];this.__cbOnceOwnerUnbindFinishEnterBackground[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindFinishEnterBackground[r]),c.push(this.__cbOnceFinishEnterBackground[r])}this.__cbOnceOwnerUnbindFinishEnterBackground=a,this.__cbOnceFinishEnterBackground=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onFinishEnterBackground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishEnterBackground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishEnterBackground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFinishEnterBackground&&(this.__cbOnOwnerUnbindFinishEnterBackground=[]),this.__cbOnOwnerUnbindFinishEnterBackground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFinishEnterBackground&&(this.__cbOnOwnerUnbindFinishEnterBackground=[]),this.__cbOnOwnerUnbindFinishEnterBackground.push(null);null==this.__cbOnFinishEnterBackground&&(this.__cbOnFinishEnterBackground=[]),this.__cbOnFinishEnterBackground.push(n)},onceFinishEnterBackground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishEnterBackground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishEnterBackground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFinishEnterBackground&&(this.__cbOnceOwnerUnbindFinishEnterBackground=[]),this.__cbOnceOwnerUnbindFinishEnterBackground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFinishEnterBackground&&(this.__cbOnceOwnerUnbindFinishEnterBackground=[]),this.__cbOnceOwnerUnbindFinishEnterBackground.push(null);null==this.__cbOnceFinishEnterBackground&&(this.__cbOnceFinishEnterBackground=[]),this.__cbOnceFinishEnterBackground.push(n)},offFinishEnterBackground:function(e){if(null!=e){var n;null!=this.__cbOnFinishEnterBackground&&-1!=(n=this.__cbOnFinishEnterBackground.indexOf(e))&&(this.__cbOnFinishEnterBackground.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishEnterBackground[n])&&s(),this.__cbOnOwnerUnbindFinishEnterBackground.splice(n,1)),null!=this.__cbOnceFinishEnterBackground&&-1!=(n=this.__cbOnceFinishEnterBackground.indexOf(e))&&(this.__cbOnceFinishEnterBackground.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishEnterBackground[n])&&s(),this.__cbOnceOwnerUnbindFinishEnterBackground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishEnterBackground){for(var t=0,i=this.__cbOnOwnerUnbindFinishEnterBackground.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishEnterBackground[l])&&s()}this.__cbOnOwnerUnbindFinishEnterBackground=null}if(null!=this.__cbOnceOwnerUnbindFinishEnterBackground){for(t=0,i=this.__cbOnceOwnerUnbindFinishEnterBackground.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishEnterBackground[l])&&s()}this.__cbOnceOwnerUnbindFinishEnterBackground=null}this.__cbOnFinishEnterBackground=null,this.__cbOnceFinishEnterBackground=null}},listensFinishEnterBackground:function(){return null!=this.__cbOnFinishEnterBackground&&this.__cbOnFinishEnterBackground.length>0||null!=this.__cbOnceFinishEnterBackground&&this.__cbOnceFinishEnterBackground.length>0},__cbOnBeginEnterForeground:null,__cbOnceBeginEnterForeground:null,__cbOnOwnerUnbindBeginEnterForeground:null,__cbOnceOwnerUnbindBeginEnterForeground:null,emitBeginEnterForeground:function(){var e=0;if(null!=this.__cbOnBeginEnterForeground&&(e+=this.__cbOnBeginEnterForeground.length),null!=this.__cbOnceBeginEnterForeground&&(e+=this.__cbOnceBeginEnterForeground.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginEnterForeground)for(var l=0,s=this.__cbOnBeginEnterForeground.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBeginEnterForeground[r],++i):--e}if(null!=this.__cbOnceBeginEnterForeground){var a=null,c=null;for(l=0,s=this.__cbOnceBeginEnterForeground.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceBeginEnterForeground[r],this.__cbOnceBeginEnterForeground[r]=null;var h=this.__cbOnceOwnerUnbindBeginEnterForeground[r];this.__cbOnceOwnerUnbindBeginEnterForeground[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindBeginEnterForeground[r]),c.push(this.__cbOnceBeginEnterForeground[r])}this.__cbOnceOwnerUnbindBeginEnterForeground=a,this.__cbOnceBeginEnterForeground=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onBeginEnterForeground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEnterForeground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEnterForeground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginEnterForeground&&(this.__cbOnOwnerUnbindBeginEnterForeground=[]),this.__cbOnOwnerUnbindBeginEnterForeground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginEnterForeground&&(this.__cbOnOwnerUnbindBeginEnterForeground=[]),this.__cbOnOwnerUnbindBeginEnterForeground.push(null);null==this.__cbOnBeginEnterForeground&&(this.__cbOnBeginEnterForeground=[]),this.__cbOnBeginEnterForeground.push(n)},onceBeginEnterForeground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEnterForeground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEnterForeground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginEnterForeground&&(this.__cbOnceOwnerUnbindBeginEnterForeground=[]),this.__cbOnceOwnerUnbindBeginEnterForeground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginEnterForeground&&(this.__cbOnceOwnerUnbindBeginEnterForeground=[]),this.__cbOnceOwnerUnbindBeginEnterForeground.push(null);null==this.__cbOnceBeginEnterForeground&&(this.__cbOnceBeginEnterForeground=[]),this.__cbOnceBeginEnterForeground.push(n)},offBeginEnterForeground:function(e){if(null!=e){var n;null!=this.__cbOnBeginEnterForeground&&-1!=(n=this.__cbOnBeginEnterForeground.indexOf(e))&&(this.__cbOnBeginEnterForeground.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginEnterForeground[n])&&s(),this.__cbOnOwnerUnbindBeginEnterForeground.splice(n,1)),null!=this.__cbOnceBeginEnterForeground&&-1!=(n=this.__cbOnceBeginEnterForeground.indexOf(e))&&(this.__cbOnceBeginEnterForeground.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginEnterForeground[n])&&s(),this.__cbOnceOwnerUnbindBeginEnterForeground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEnterForeground){for(var t=0,i=this.__cbOnOwnerUnbindBeginEnterForeground.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginEnterForeground[l])&&s()}this.__cbOnOwnerUnbindBeginEnterForeground=null}if(null!=this.__cbOnceOwnerUnbindBeginEnterForeground){for(t=0,i=this.__cbOnceOwnerUnbindBeginEnterForeground.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginEnterForeground[l])&&s()}this.__cbOnceOwnerUnbindBeginEnterForeground=null}this.__cbOnBeginEnterForeground=null,this.__cbOnceBeginEnterForeground=null}},listensBeginEnterForeground:function(){return null!=this.__cbOnBeginEnterForeground&&this.__cbOnBeginEnterForeground.length>0||null!=this.__cbOnceBeginEnterForeground&&this.__cbOnceBeginEnterForeground.length>0},__cbOnFinishEnterForeground:null,__cbOnceFinishEnterForeground:null,__cbOnOwnerUnbindFinishEnterForeground:null,__cbOnceOwnerUnbindFinishEnterForeground:null,emitFinishEnterForeground:function(){var e=0;if(null!=this.__cbOnFinishEnterForeground&&(e+=this.__cbOnFinishEnterForeground.length),null!=this.__cbOnceFinishEnterForeground&&(e+=this.__cbOnceFinishEnterForeground.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishEnterForeground)for(var l=0,s=this.__cbOnFinishEnterForeground.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishEnterForeground[r],++i):--e}if(null!=this.__cbOnceFinishEnterForeground){var a=null,c=null;for(l=0,s=this.__cbOnceFinishEnterForeground.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceFinishEnterForeground[r],this.__cbOnceFinishEnterForeground[r]=null;var h=this.__cbOnceOwnerUnbindFinishEnterForeground[r];this.__cbOnceOwnerUnbindFinishEnterForeground[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindFinishEnterForeground[r]),c.push(this.__cbOnceFinishEnterForeground[r])}this.__cbOnceOwnerUnbindFinishEnterForeground=a,this.__cbOnceFinishEnterForeground=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onFinishEnterForeground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishEnterForeground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishEnterForeground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFinishEnterForeground&&(this.__cbOnOwnerUnbindFinishEnterForeground=[]),this.__cbOnOwnerUnbindFinishEnterForeground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFinishEnterForeground&&(this.__cbOnOwnerUnbindFinishEnterForeground=[]),this.__cbOnOwnerUnbindFinishEnterForeground.push(null);null==this.__cbOnFinishEnterForeground&&(this.__cbOnFinishEnterForeground=[]),this.__cbOnFinishEnterForeground.push(n)},onceFinishEnterForeground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishEnterForeground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishEnterForeground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFinishEnterForeground&&(this.__cbOnceOwnerUnbindFinishEnterForeground=[]),this.__cbOnceOwnerUnbindFinishEnterForeground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFinishEnterForeground&&(this.__cbOnceOwnerUnbindFinishEnterForeground=[]),this.__cbOnceOwnerUnbindFinishEnterForeground.push(null);null==this.__cbOnceFinishEnterForeground&&(this.__cbOnceFinishEnterForeground=[]),this.__cbOnceFinishEnterForeground.push(n)},offFinishEnterForeground:function(e){if(null!=e){var n;null!=this.__cbOnFinishEnterForeground&&-1!=(n=this.__cbOnFinishEnterForeground.indexOf(e))&&(this.__cbOnFinishEnterForeground.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishEnterForeground[n])&&s(),this.__cbOnOwnerUnbindFinishEnterForeground.splice(n,1)),null!=this.__cbOnceFinishEnterForeground&&-1!=(n=this.__cbOnceFinishEnterForeground.indexOf(e))&&(this.__cbOnceFinishEnterForeground.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishEnterForeground[n])&&s(),this.__cbOnceOwnerUnbindFinishEnterForeground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishEnterForeground){for(var t=0,i=this.__cbOnOwnerUnbindFinishEnterForeground.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishEnterForeground[l])&&s()}this.__cbOnOwnerUnbindFinishEnterForeground=null}if(null!=this.__cbOnceOwnerUnbindFinishEnterForeground){for(t=0,i=this.__cbOnceOwnerUnbindFinishEnterForeground.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishEnterForeground[l])&&s()}this.__cbOnceOwnerUnbindFinishEnterForeground=null}this.__cbOnFinishEnterForeground=null,this.__cbOnceFinishEnterForeground=null}},listensFinishEnterForeground:function(){return null!=this.__cbOnFinishEnterForeground&&this.__cbOnFinishEnterForeground.length>0||null!=this.__cbOnceFinishEnterForeground&&this.__cbOnceFinishEnterForeground.length>0},__cbOnBeginSortVisuals:null,__cbOnceBeginSortVisuals:null,__cbOnOwnerUnbindBeginSortVisuals:null,__cbOnceOwnerUnbindBeginSortVisuals:null,emitBeginSortVisuals:function(){var e=0;if(null!=this.__cbOnBeginSortVisuals&&(e+=this.__cbOnBeginSortVisuals.length),null!=this.__cbOnceBeginSortVisuals&&(e+=this.__cbOnceBeginSortVisuals.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginSortVisuals)for(var l=0,s=this.__cbOnBeginSortVisuals.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBeginSortVisuals[r],++i):--e}if(null!=this.__cbOnceBeginSortVisuals){var a=null,c=null;for(l=0,s=this.__cbOnceBeginSortVisuals.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceBeginSortVisuals[r],this.__cbOnceBeginSortVisuals[r]=null;var h=this.__cbOnceOwnerUnbindBeginSortVisuals[r];this.__cbOnceOwnerUnbindBeginSortVisuals[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindBeginSortVisuals[r]),c.push(this.__cbOnceBeginSortVisuals[r])}this.__cbOnceOwnerUnbindBeginSortVisuals=a,this.__cbOnceBeginSortVisuals=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onBeginSortVisuals:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginSortVisuals because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginSortVisuals(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginSortVisuals&&(this.__cbOnOwnerUnbindBeginSortVisuals=[]),this.__cbOnOwnerUnbindBeginSortVisuals.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginSortVisuals&&(this.__cbOnOwnerUnbindBeginSortVisuals=[]),this.__cbOnOwnerUnbindBeginSortVisuals.push(null);null==this.__cbOnBeginSortVisuals&&(this.__cbOnBeginSortVisuals=[]),this.__cbOnBeginSortVisuals.push(n)},onceBeginSortVisuals:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginSortVisuals because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginSortVisuals(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginSortVisuals&&(this.__cbOnceOwnerUnbindBeginSortVisuals=[]),this.__cbOnceOwnerUnbindBeginSortVisuals.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginSortVisuals&&(this.__cbOnceOwnerUnbindBeginSortVisuals=[]),this.__cbOnceOwnerUnbindBeginSortVisuals.push(null);null==this.__cbOnceBeginSortVisuals&&(this.__cbOnceBeginSortVisuals=[]),this.__cbOnceBeginSortVisuals.push(n)},offBeginSortVisuals:function(e){if(null!=e){var n;null!=this.__cbOnBeginSortVisuals&&-1!=(n=this.__cbOnBeginSortVisuals.indexOf(e))&&(this.__cbOnBeginSortVisuals.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginSortVisuals[n])&&s(),this.__cbOnOwnerUnbindBeginSortVisuals.splice(n,1)),null!=this.__cbOnceBeginSortVisuals&&-1!=(n=this.__cbOnceBeginSortVisuals.indexOf(e))&&(this.__cbOnceBeginSortVisuals.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginSortVisuals[n])&&s(),this.__cbOnceOwnerUnbindBeginSortVisuals.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginSortVisuals){for(var t=0,i=this.__cbOnOwnerUnbindBeginSortVisuals.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginSortVisuals[l])&&s()}this.__cbOnOwnerUnbindBeginSortVisuals=null}if(null!=this.__cbOnceOwnerUnbindBeginSortVisuals){for(t=0,i=this.__cbOnceOwnerUnbindBeginSortVisuals.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginSortVisuals[l])&&s()}this.__cbOnceOwnerUnbindBeginSortVisuals=null}this.__cbOnBeginSortVisuals=null,this.__cbOnceBeginSortVisuals=null}},listensBeginSortVisuals:function(){return null!=this.__cbOnBeginSortVisuals&&this.__cbOnBeginSortVisuals.length>0||null!=this.__cbOnceBeginSortVisuals&&this.__cbOnceBeginSortVisuals.length>0},__cbOnFinishSortVisuals:null,__cbOnceFinishSortVisuals:null,__cbOnOwnerUnbindFinishSortVisuals:null,__cbOnceOwnerUnbindFinishSortVisuals:null,emitFinishSortVisuals:function(){var e=0;if(null!=this.__cbOnFinishSortVisuals&&(e+=this.__cbOnFinishSortVisuals.length),null!=this.__cbOnceFinishSortVisuals&&(e+=this.__cbOnceFinishSortVisuals.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishSortVisuals)for(var l=0,s=this.__cbOnFinishSortVisuals.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishSortVisuals[r],++i):--e}if(null!=this.__cbOnceFinishSortVisuals){var a=null,c=null;for(l=0,s=this.__cbOnceFinishSortVisuals.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceFinishSortVisuals[r],this.__cbOnceFinishSortVisuals[r]=null;var h=this.__cbOnceOwnerUnbindFinishSortVisuals[r];this.__cbOnceOwnerUnbindFinishSortVisuals[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindFinishSortVisuals[r]),c.push(this.__cbOnceFinishSortVisuals[r])}this.__cbOnceOwnerUnbindFinishSortVisuals=a,this.__cbOnceFinishSortVisuals=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onFinishSortVisuals:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishSortVisuals because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishSortVisuals(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFinishSortVisuals&&(this.__cbOnOwnerUnbindFinishSortVisuals=[]),this.__cbOnOwnerUnbindFinishSortVisuals.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFinishSortVisuals&&(this.__cbOnOwnerUnbindFinishSortVisuals=[]),this.__cbOnOwnerUnbindFinishSortVisuals.push(null);null==this.__cbOnFinishSortVisuals&&(this.__cbOnFinishSortVisuals=[]),this.__cbOnFinishSortVisuals.push(n)},onceFinishSortVisuals:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishSortVisuals because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishSortVisuals(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFinishSortVisuals&&(this.__cbOnceOwnerUnbindFinishSortVisuals=[]),this.__cbOnceOwnerUnbindFinishSortVisuals.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFinishSortVisuals&&(this.__cbOnceOwnerUnbindFinishSortVisuals=[]),this.__cbOnceOwnerUnbindFinishSortVisuals.push(null);null==this.__cbOnceFinishSortVisuals&&(this.__cbOnceFinishSortVisuals=[]),this.__cbOnceFinishSortVisuals.push(n)},offFinishSortVisuals:function(e){if(null!=e){var n;null!=this.__cbOnFinishSortVisuals&&-1!=(n=this.__cbOnFinishSortVisuals.indexOf(e))&&(this.__cbOnFinishSortVisuals.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishSortVisuals[n])&&s(),this.__cbOnOwnerUnbindFinishSortVisuals.splice(n,1)),null!=this.__cbOnceFinishSortVisuals&&-1!=(n=this.__cbOnceFinishSortVisuals.indexOf(e))&&(this.__cbOnceFinishSortVisuals.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishSortVisuals[n])&&s(),this.__cbOnceOwnerUnbindFinishSortVisuals.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishSortVisuals){for(var t=0,i=this.__cbOnOwnerUnbindFinishSortVisuals.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishSortVisuals[l])&&s()}this.__cbOnOwnerUnbindFinishSortVisuals=null}if(null!=this.__cbOnceOwnerUnbindFinishSortVisuals){for(t=0,i=this.__cbOnceOwnerUnbindFinishSortVisuals.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishSortVisuals[l])&&s()}this.__cbOnceOwnerUnbindFinishSortVisuals=null}this.__cbOnFinishSortVisuals=null,this.__cbOnceFinishSortVisuals=null}},listensFinishSortVisuals:function(){return null!=this.__cbOnFinishSortVisuals&&this.__cbOnFinishSortVisuals.length>0||null!=this.__cbOnceFinishSortVisuals&&this.__cbOnceFinishSortVisuals.length>0},__cbOnBeginDraw:null,__cbOnceBeginDraw:null,__cbOnOwnerUnbindBeginDraw:null,__cbOnceOwnerUnbindBeginDraw:null,emitBeginDraw:function(){var e=0;if(null!=this.__cbOnBeginDraw&&(e+=this.__cbOnBeginDraw.length),null!=this.__cbOnceBeginDraw&&(e+=this.__cbOnceBeginDraw.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginDraw)for(var l=0,s=this.__cbOnBeginDraw.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBeginDraw[r],++i):--e}if(null!=this.__cbOnceBeginDraw){var a=null,c=null;for(l=0,s=this.__cbOnceBeginDraw.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceBeginDraw[r],this.__cbOnceBeginDraw[r]=null;var h=this.__cbOnceOwnerUnbindBeginDraw[r];this.__cbOnceOwnerUnbindBeginDraw[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindBeginDraw[r]),c.push(this.__cbOnceBeginDraw[r])}this.__cbOnceOwnerUnbindBeginDraw=a,this.__cbOnceBeginDraw=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onBeginDraw:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginDraw because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginDraw(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginDraw&&(this.__cbOnOwnerUnbindBeginDraw=[]),this.__cbOnOwnerUnbindBeginDraw.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginDraw&&(this.__cbOnOwnerUnbindBeginDraw=[]),this.__cbOnOwnerUnbindBeginDraw.push(null);null==this.__cbOnBeginDraw&&(this.__cbOnBeginDraw=[]),this.__cbOnBeginDraw.push(n)},onceBeginDraw:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginDraw because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginDraw(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginDraw&&(this.__cbOnceOwnerUnbindBeginDraw=[]),this.__cbOnceOwnerUnbindBeginDraw.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginDraw&&(this.__cbOnceOwnerUnbindBeginDraw=[]),this.__cbOnceOwnerUnbindBeginDraw.push(null);null==this.__cbOnceBeginDraw&&(this.__cbOnceBeginDraw=[]),this.__cbOnceBeginDraw.push(n)},offBeginDraw:function(e){if(null!=e){var n;null!=this.__cbOnBeginDraw&&-1!=(n=this.__cbOnBeginDraw.indexOf(e))&&(this.__cbOnBeginDraw.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginDraw[n])&&s(),this.__cbOnOwnerUnbindBeginDraw.splice(n,1)),null!=this.__cbOnceBeginDraw&&-1!=(n=this.__cbOnceBeginDraw.indexOf(e))&&(this.__cbOnceBeginDraw.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginDraw[n])&&s(),this.__cbOnceOwnerUnbindBeginDraw.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginDraw){for(var t=0,i=this.__cbOnOwnerUnbindBeginDraw.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginDraw[l])&&s()}this.__cbOnOwnerUnbindBeginDraw=null}if(null!=this.__cbOnceOwnerUnbindBeginDraw){for(t=0,i=this.__cbOnceOwnerUnbindBeginDraw.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginDraw[l])&&s()}this.__cbOnceOwnerUnbindBeginDraw=null}this.__cbOnBeginDraw=null,this.__cbOnceBeginDraw=null}},listensBeginDraw:function(){return null!=this.__cbOnBeginDraw&&this.__cbOnBeginDraw.length>0||null!=this.__cbOnceBeginDraw&&this.__cbOnceBeginDraw.length>0},__cbOnFinishDraw:null,__cbOnceFinishDraw:null,__cbOnOwnerUnbindFinishDraw:null,__cbOnceOwnerUnbindFinishDraw:null,emitFinishDraw:function(){var e=0;if(null!=this.__cbOnFinishDraw&&(e+=this.__cbOnFinishDraw.length),null!=this.__cbOnceFinishDraw&&(e+=this.__cbOnceFinishDraw.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishDraw)for(var l=0,s=this.__cbOnFinishDraw.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishDraw[r],++i):--e}if(null!=this.__cbOnceFinishDraw){var a=null,c=null;for(l=0,s=this.__cbOnceFinishDraw.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceFinishDraw[r],this.__cbOnceFinishDraw[r]=null;var h=this.__cbOnceOwnerUnbindFinishDraw[r];this.__cbOnceOwnerUnbindFinishDraw[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindFinishDraw[r]),c.push(this.__cbOnceFinishDraw[r])}this.__cbOnceOwnerUnbindFinishDraw=a,this.__cbOnceFinishDraw=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onFinishDraw:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishDraw because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishDraw(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFinishDraw&&(this.__cbOnOwnerUnbindFinishDraw=[]),this.__cbOnOwnerUnbindFinishDraw.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFinishDraw&&(this.__cbOnOwnerUnbindFinishDraw=[]),this.__cbOnOwnerUnbindFinishDraw.push(null);null==this.__cbOnFinishDraw&&(this.__cbOnFinishDraw=[]),this.__cbOnFinishDraw.push(n)},onceFinishDraw:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishDraw because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishDraw(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFinishDraw&&(this.__cbOnceOwnerUnbindFinishDraw=[]),this.__cbOnceOwnerUnbindFinishDraw.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFinishDraw&&(this.__cbOnceOwnerUnbindFinishDraw=[]),this.__cbOnceOwnerUnbindFinishDraw.push(null);null==this.__cbOnceFinishDraw&&(this.__cbOnceFinishDraw=[]),this.__cbOnceFinishDraw.push(n)},offFinishDraw:function(e){if(null!=e){var n;null!=this.__cbOnFinishDraw&&-1!=(n=this.__cbOnFinishDraw.indexOf(e))&&(this.__cbOnFinishDraw.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishDraw[n])&&s(),this.__cbOnOwnerUnbindFinishDraw.splice(n,1)),null!=this.__cbOnceFinishDraw&&-1!=(n=this.__cbOnceFinishDraw.indexOf(e))&&(this.__cbOnceFinishDraw.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishDraw[n])&&s(),this.__cbOnceOwnerUnbindFinishDraw.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishDraw){for(var t=0,i=this.__cbOnOwnerUnbindFinishDraw.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishDraw[l])&&s()}this.__cbOnOwnerUnbindFinishDraw=null}if(null!=this.__cbOnceOwnerUnbindFinishDraw){for(t=0,i=this.__cbOnceOwnerUnbindFinishDraw.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishDraw[l])&&s()}this.__cbOnceOwnerUnbindFinishDraw=null}this.__cbOnFinishDraw=null,this.__cbOnceFinishDraw=null}},listensFinishDraw:function(){return null!=this.__cbOnFinishDraw&&this.__cbOnFinishDraw.length>0||null!=this.__cbOnceFinishDraw&&this.__cbOnceFinishDraw.length>0},__cbOnLowMemory:null,__cbOnceLowMemory:null,__cbOnOwnerUnbindLowMemory:null,__cbOnceOwnerUnbindLowMemory:null,emitLowMemory:function(){var e=0;if(null!=this.__cbOnLowMemory&&(e+=this.__cbOnLowMemory.length),null!=this.__cbOnceLowMemory&&(e+=this.__cbOnceLowMemory.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnLowMemory)for(var l=0,s=this.__cbOnLowMemory.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnLowMemory[r],++i):--e}if(null!=this.__cbOnceLowMemory){var a=null,c=null;for(l=0,s=this.__cbOnceLowMemory.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceLowMemory[r],this.__cbOnceLowMemory[r]=null;var h=this.__cbOnceOwnerUnbindLowMemory[r];this.__cbOnceOwnerUnbindLowMemory[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindLowMemory[r]),c.push(this.__cbOnceLowMemory[r])}this.__cbOnceOwnerUnbindLowMemory=a,this.__cbOnceLowMemory=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onLowMemory:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event lowMemory because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offLowMemory(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindLowMemory&&(this.__cbOnOwnerUnbindLowMemory=[]),this.__cbOnOwnerUnbindLowMemory.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindLowMemory&&(this.__cbOnOwnerUnbindLowMemory=[]),this.__cbOnOwnerUnbindLowMemory.push(null);null==this.__cbOnLowMemory&&(this.__cbOnLowMemory=[]),this.__cbOnLowMemory.push(n)},onceLowMemory:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event lowMemory because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offLowMemory(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindLowMemory&&(this.__cbOnceOwnerUnbindLowMemory=[]),this.__cbOnceOwnerUnbindLowMemory.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindLowMemory&&(this.__cbOnceOwnerUnbindLowMemory=[]),this.__cbOnceOwnerUnbindLowMemory.push(null);null==this.__cbOnceLowMemory&&(this.__cbOnceLowMemory=[]),this.__cbOnceLowMemory.push(n)},offLowMemory:function(e){if(null!=e){var n;null!=this.__cbOnLowMemory&&-1!=(n=this.__cbOnLowMemory.indexOf(e))&&(this.__cbOnLowMemory.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLowMemory[n])&&s(),this.__cbOnOwnerUnbindLowMemory.splice(n,1)),null!=this.__cbOnceLowMemory&&-1!=(n=this.__cbOnceLowMemory.indexOf(e))&&(this.__cbOnceLowMemory.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLowMemory[n])&&s(),this.__cbOnceOwnerUnbindLowMemory.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLowMemory){for(var t=0,i=this.__cbOnOwnerUnbindLowMemory.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLowMemory[l])&&s()}this.__cbOnOwnerUnbindLowMemory=null}if(null!=this.__cbOnceOwnerUnbindLowMemory){for(t=0,i=this.__cbOnceOwnerUnbindLowMemory.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindLowMemory[l])&&s()}this.__cbOnceOwnerUnbindLowMemory=null}this.__cbOnLowMemory=null,this.__cbOnceLowMemory=null}},listensLowMemory:function(){return null!=this.__cbOnLowMemory&&this.__cbOnLowMemory.length>0||null!=this.__cbOnceLowMemory&&this.__cbOnceLowMemory.length>0},__cbOnTerminate:null,__cbOnceTerminate:null,__cbOnOwnerUnbindTerminate:null,__cbOnceOwnerUnbindTerminate:null,emitTerminate:function(){var e=0;if(null!=this.__cbOnTerminate&&(e+=this.__cbOnTerminate.length),null!=this.__cbOnceTerminate&&(e+=this.__cbOnceTerminate.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnTerminate)for(var l=0,s=this.__cbOnTerminate.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnTerminate[r],++i):--e}if(null!=this.__cbOnceTerminate){var a=null,c=null;for(l=0,s=this.__cbOnceTerminate.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceTerminate[r],this.__cbOnceTerminate[r]=null;var h=this.__cbOnceOwnerUnbindTerminate[r];this.__cbOnceOwnerUnbindTerminate[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindTerminate[r]),c.push(this.__cbOnceTerminate[r])}this.__cbOnceOwnerUnbindTerminate=a,this.__cbOnceTerminate=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onTerminate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event terminate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTerminate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTerminate&&(this.__cbOnOwnerUnbindTerminate=[]),this.__cbOnOwnerUnbindTerminate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTerminate&&(this.__cbOnOwnerUnbindTerminate=[]),this.__cbOnOwnerUnbindTerminate.push(null);null==this.__cbOnTerminate&&(this.__cbOnTerminate=[]),this.__cbOnTerminate.push(n)},onceTerminate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event terminate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTerminate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTerminate&&(this.__cbOnceOwnerUnbindTerminate=[]),this.__cbOnceOwnerUnbindTerminate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTerminate&&(this.__cbOnceOwnerUnbindTerminate=[]),this.__cbOnceOwnerUnbindTerminate.push(null);null==this.__cbOnceTerminate&&(this.__cbOnceTerminate=[]),this.__cbOnceTerminate.push(n)},offTerminate:function(e){if(null!=e){var n;null!=this.__cbOnTerminate&&-1!=(n=this.__cbOnTerminate.indexOf(e))&&(this.__cbOnTerminate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTerminate[n])&&s(),this.__cbOnOwnerUnbindTerminate.splice(n,1)),null!=this.__cbOnceTerminate&&-1!=(n=this.__cbOnceTerminate.indexOf(e))&&(this.__cbOnceTerminate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTerminate[n])&&s(),this.__cbOnceOwnerUnbindTerminate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTerminate){for(var t=0,i=this.__cbOnOwnerUnbindTerminate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTerminate[l])&&s()}this.__cbOnOwnerUnbindTerminate=null}if(null!=this.__cbOnceOwnerUnbindTerminate){for(t=0,i=this.__cbOnceOwnerUnbindTerminate.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTerminate[l])&&s()}this.__cbOnceOwnerUnbindTerminate=null}this.__cbOnTerminate=null,this.__cbOnceTerminate=null}},listensTerminate:function(){return null!=this.__cbOnTerminate&&this.__cbOnTerminate.length>0||null!=this.__cbOnceTerminate&&this.__cbOnceTerminate.length>0},immediateCallbacks:null,immediateCallbacksCapacity:null,immediateCallbacksLen:null,postFlushImmediateCallbacks:null,postFlushImmediateCallbacksCapacity:null,postFlushImmediateCallbacksLen:null,loaders:null,_onceImmediateWithOwner:function(e,n){this._onceImmediate((function(){(null==e||e._lifecycleState>=0)&&n()}))},_onceImmediate:function(e){if(null==e)throw haxe_Exception.thrown("Immediate callback should not be null!");this.immediateCallbacksLen<this.immediateCallbacksCapacity?(this.immediateCallbacks[this.immediateCallbacksLen]=e,this.immediateCallbacksLen++):(this.immediateCallbacks[this.immediateCallbacksLen++]=e,this.immediateCallbacksCapacity++)},_oncePostFlushImmediateWithOwner:function(e,n,t){this._oncePostFlushImmediate((function(){(null==e||e._lifecycleState>=0)&&n()}),t)},_oncePostFlushImmediate:function(e,n){var t=this;n?ceramic_App.app._onceImmediate((function(){var n=!1;null==n&&(n=!0),t._oncePostFlushImmediate(e,n)})):0==this.immediateCallbacksLen?e():this.postFlushImmediateCallbacksLen<this.postFlushImmediateCallbacksCapacity?(this.postFlushImmediateCallbacks[this.postFlushImmediateCallbacksLen]=e,this.postFlushImmediateCallbacksLen++):(this.postFlushImmediateCallbacks[this.postFlushImmediateCallbacksLen++]=e,this.postFlushImmediateCallbacksCapacity++)},flushImmediate:function(){for(var e=!1;this.immediateCallbacksLen>0;){e=!0;var n=(h=ceramic_ArrayPool.pool(this.immediateCallbacksLen)).get(),t=this.immediateCallbacksLen;this.immediateCallbacksLen=0;for(var i=0,l=t;i<l;){var s=i++;n.vector[s]=this.immediateCallbacks[s],this.immediateCallbacks[s]=null}for(var r=0,a=t;r<a;){var c=r++;(0,n.vector[c])()}h.release(n)}if(this.postFlushImmediateCallbacksLen>0){var h;n=(h=ceramic_ArrayPool.pool(this.postFlushImmediateCallbacksLen)).get(),t=this.postFlushImmediateCallbacksLen;this.postFlushImmediateCallbacksLen=0;for(i=0,l=t;i<l;){s=i++;n.vector[s]=this.postFlushImmediateCallbacks[s],this.postFlushImmediateCallbacks[s]=null}for(i=0,l=t;i<l;){s=i++;(0,n.vector[s])()}h.release(n)}return e},_xUpdatesHandlersPool:null,_xUpdatesHandlers:null,_xUpdatesToCallNow:null,onceXUpdates:function(e,n,t){var i=this._xUpdatesHandlersPool,l=i.availableItems.length>0?i.availableItems.pop():null;null==l&&(l=new ceramic_AppXUpdatesHandler),l.owner=e,l.numUpdates=n,l.callback=t;for(var s=!1,r=0,a=this._xUpdatesHandlers.length;r<a;){var c=r++;if(null==this._xUpdatesHandlers[c]){this._xUpdatesHandlers[c]=l,s=!0;break}}s||this._xUpdatesHandlers.push(l)},offXUpdates:function(e){for(var n=!1,t=0,i=this._xUpdatesHandlers.length;t<i;){var l=t++,s=this._xUpdatesHandlers[l];s.callback==e&&(s.reset(),this._xUpdatesHandlersPool.recycle(s),this._xUpdatesHandlers[l]=null,n=!0)}n&&this.cleanXUpdatesNullValues()},tickOnceXUpdates:function(){for(var e=0,n=!1,t=0,i=this._xUpdatesHandlers.length;t<i;){var l=t++,s=this._xUpdatesHandlers[l];if(null!=s&&(s.numUpdates--,s.numUpdates<=0)){var r=s.owner;(null==r||r._lifecycleState>=0)&&(this._xUpdatesToCallNow[e]=s.callback,++e),this._xUpdatesHandlers[l]=null,n=!0}}if(e>0)for(t=0,i=e;t<i;){l=t++;var a=this._xUpdatesToCallNow[l];this._xUpdatesToCallNow[l]=null,a()}n&&this.cleanXUpdatesNullValues()},cleanXUpdatesNullValues:function(){for(var e=0,n=0,t=this._xUpdatesHandlers.length;e<t;){for(;;){if(null!=this._xUpdatesHandlers[e])break;if(++n,!(++e<t))break}if(0!=n&&e<t){var i=e-n;this._xUpdatesHandlers[i]=this._xUpdatesHandlers[e]}++e}var l=this._xUpdatesHandlers,s=t-n;l.length!=s&&(l.length>s?l.splice(s,l.length-s):l[s-1]=null)},inUpdate:null,shouldUpdateAndDrawAgain:null,requestFullUpdateAndDrawInFrame:function(){this.inUpdate&&(this.shouldUpdateAndDrawAgain=!0)},get_computedFps:function(){return this._computeFps.fps},_computeFps:null,frame:null,delta:null,realDelta:null,backend:null,screen:null,audio:null,settings:null,systems:null,logger:null,visuals:null,pendingVisuals:null,destroyedVisuals:null,groups:null,input:null,renderTextures:null,assets:null,defaultTexturedShader:null,defaultWhiteTexture:null,defaultFont:null,projectDir:null,persistent:null,textInput:null,converters:null,timelines:null,arcade:null,lazyScenes:null,scenes:null,get_scenes:function(){return this.lazyScenes&&(this.lazyScenes=!1,this.scenes=ceramic_SceneSystem.get_shared()),this.scenes},set_scenes:function(e){return this.scenes=e},hierarchyDirty:null,visualsContentDirty:null,beginUpdateCallbacks:null,disposedEntities:null,quit:function(){ceramic_PlatformSpecific.quit()},backendReady:function(){var e=this;if(this.backend.onUpdate(this,$bind(this,this.updatePreReady)),this.persistent=new ceramic_PersistentData("app"),this.textInput=new ceramic_TextInput,this.bindSettings(),this.screen.backendReady(),null!=ceramic_App.preInitCallbacks){for(var n=0,t=[].concat(ceramic_App.preInitCallbacks);n<t.length;){var i=t[n];++n,i()}ceramic_App.preInitCallbacks=null}this.initFieldConverters(),null!=this.settings.collections&&this.initCollections(this.settings.collections(),this.settings.appInfo),this.arcade=new ceramic_ArcadeSystem,this.assets.add(this.settings.defaultShader),this.assets.add("shader:msdf"),this.assets.add("shader:pixelArt"),this.assets.onceComplete(this,(function(n){e.assets.add(e.settings.defaultFont),e.assets.add("image:white"),e.assets.onceComplete(e,(function(n){n?(e.defaultFont=e.assets.font(e.settings.defaultFont),e.defaultWhiteTexture=e.assets.texture("image:white"),e.defaultTexturedShader=e.assets.shader(e.settings.defaultShader),e.logger.success("Default assets loaded.",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/App.hx",lineNumber:848,className:"ceramic.App",methodName:"backendReady"}),e.assetsLoaded()):ceramic_App.app.logger.error("Failed to load default assets.",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/App.hx",lineNumber:851,className:"ceramic.App",methodName:"backendReady"})})),e.emitDefaultAssetsLoad(e.assets),e.assets.load(null,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/App.hx",lineNumber:859,className:"ceramic.App",methodName:"backendReady"}),e.assets.immediate.flush(),e.flushImmediate()})),this.assets.load(null,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/App.hx",lineNumber:865,className:"ceramic.App",methodName:"backendReady"}),this.assets.immediate.flush(),this.flushImmediate()},bindSettings:function(){this.settings.onTargetFpsChange(this,(function(e,n){ceramic_App.app.backend.setTargetFps(e)})),ceramic_App.app.backend.setTargetFps(this.settings.get_targetFps())},initFieldConverters:function(){var e=this.converters,n=new ceramic_ConvertTexture;e.h["ceramic.Texture"]=n;e=this.converters,n=new ceramic_ConvertFont;e.h["ceramic.BitmapFont"]=n;e=this.converters,n=new ceramic_ConvertFragmentData;e.h["ceramic.FragmentData"]=n;e=this.converters,n=new ceramic_ConvertMap;e.h["Map<String,String>"]=n;e=this.converters,n=new ceramic_ConvertMap;e.h["Map<String,Bool>"]=n;e=this.converters,n=new ceramic_ConvertMap;e.h["ceramic.ReadOnlyMap<String,String>"]=n;e=this.converters,n=new ceramic_ConvertMap;e.h["ceramic.ReadOnlyMap<String,Bool>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["Array<Float>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["Array<Int>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["Array<String>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["ceramic.ReadOnlyArray<Float>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["ceramic.ReadOnlyArray<Int>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["ceramic.ReadOnlyArray<String>"]=n;e=this.converters,n=new ceramic_ConvertComponentMap;e.h["Map<String,ceramic.Component>"]=n;e=this.converters,n=new ceramic_ConvertComponentMap;e.h["ceramic.ReadOnlyMap<String,ceramic.Component>"]=n;e=this.converters,n=new ceramic_ConvertIntBoolMap;e.h["ceramic.IntBoolMap"]=n},initCollections:function(e,n){var i=this;null==n&&(n=this.info);for(var l=Object.create(null),s=0,r=0,a=Reflect.fields(n.collections);r<a.length;){var c=a[r];++r;for(var h=0,u=Reflect.fields(Reflect.field(n.collections,c));h<u.length;){var o=u[h];++h;var _=Reflect.field(Reflect.field(n.collections,c),o);if("string"!=typeof _){var d=_.data;null!=d&&(Object.prototype.hasOwnProperty.call(l,d)||(l[d]=!0,this.assets.addDatabase(d),++s))}}}s>0&&this.assets.onceComplete(this,(function(l){for(var s=0,r=Reflect.fields(n.collections);s<r.length;){var a=r[s];++s;for(var c=0,h=Reflect.fields(Reflect.field(n.collections,a));c<h.length;){var u=h[c];++c;var o=Reflect.field(Reflect.field(n.collections,a),u);if("string"!=typeof o){var _=o.data;if(null!=_){for(var d=i.assets.database(_),b=Reflect.field(e,u),f=o.type,O=t[f],p=0;p<d.length;){var g=d[p];++p;var m=Type.createInstance(O,[null,null]);m.setRawData(g),b.push(m)}b.synchronize()}}}}}))},assetsLoaded:function(){this.runNextLoader()},runNextLoader:function(){this.loaders.length>0?this.loaders.shift()($bind(this,this.runNextLoader)):(this.loaders=null,this.runReady())},runReady:function(){var e=this;ceramic_PlatformSpecific.postAppInit(),this.emitReady(),this.screen.resize(),this.backend.offUpdate($bind(this,this.updatePreReady)),this.backend.onUpdate(this,$bind(this,this.update)),this.backend.input.onKeyDown(this,(function(n){e.beginUpdateCallbacks.push((function(){e.input.emitKeyDown(n)}))})),this.backend.input.onKeyUp(this,(function(n){e.beginUpdateCallbacks.push((function(){e.input.emitKeyUp(n)}))})),this.backend.input.onGamepadEnable(this,(function(n,t){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadEnable(n,t)}))})),this.backend.input.onGamepadDisable(this,(function(n){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadDisable(n)}))})),this.backend.input.onGamepadDown(this,(function(n,t){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadDown(n,t)}))})),this.backend.input.onGamepadUp(this,(function(n,t){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadUp(n,t)}))})),this.backend.input.onGamepadGyro(this,(function(n,t,i,l){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadGyro(n,t,i,l)}))})),this.backend.input.onGamepadAxis(this,(function(n,t,i){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadAxis(n,t,i)}))}))},updatePreReady:function(e){ceramic_Assets.flushAllInstancesImmediate(),this.flushImmediate()},update:function(e){++this.frame>999999999&&(this.frame-=999999999);var n=e;n>this.settings.get_maxDelta()&&(n=this.settings.get_maxDelta()),this.settings.get_overrideDelta()>=0&&(n=this.settings.get_overrideDelta()),this._computeFps.addFrame(n),this.delta=n,this.realDelta=e,ceramic_Timer.update(n,e),ceramic_Runner.tick(),this.screen.updatePointerOverState(n),this.inUpdate=!0,this.shouldUpdateAndDrawAgain=!0;for(var t=!0;this.shouldUpdateAndDrawAgain;){this.shouldUpdateAndDrawAgain=!1;var i=t?n:0;if(this.screen.resetDeltas(),this.input.resetDeltas(),this.beginUpdateCallbacks.length>0){var l=this.beginUpdateCallbacks;this.beginUpdateCallbacks=[];for(var s=0;s<l.length;){var r=l[s];++s,r()}}for(this.emitPreUpdate(i),this.systems.earlyUpdate(n),ceramic_Assets.flushAllInstancesImmediate(),this.flushImmediate(),i>0&&(ceramic_Tween.tick(n),this.flushImmediate()),this.emitUpdate(i),this.tickOnceXUpdates(),this.flushImmediate(),this.systems.lateUpdate(n),this.emitPostUpdate(i),this.flushImmediate();this.disposedEntities.length>0;){this.disposedEntities.shift().destroy()}this.syncPendingVisuals();for(var a=this.visuals,c=0,h=!1,u=!1;;){this.visualsContentDirty=!1;var o=this.screen.matrix;o.changedDirty&&(o.changed=o.tx!=o._txPrev||o.ty!=o._tyPrev||o.a!=o._aPrev||o.b!=o._bPrev||o.c!=o._cPrev||o.d!=o._dPrev,o.changedDirty=!1),this.screen.matrix.changed&&this.screen.matrix.emitChange();for(var _=0,d=a.length;_<d;){var b=a[_++];b._lifecycleState>=0&&(b.touchableDirty&&b.computeTouchable(),b.contentDirty&&(b.visibilityDirty&&b.computeVisibility(),b.computedVisible&&b.computeContent()))}for(var f=0,O=a.length;f<O;){var p=a[f++];if(p._lifecycleState>=0&&null!=p.transform){var g=p.transform;g.changedDirty&&(g.changed=g.tx!=g._txPrev||g.ty!=g._tyPrev||g.a!=g._aPrev||g.b!=g._bPrev||g.c!=g._cPrev||g.d!=g._dPrev,g.changedDirty=!1),p.transform.changed&&p.transform.emitChange()}}if(c++>9999){if(h&&this.visualsContentDirty)throw haxe_Exception.thrown("Failed to update visuals because flushImmediate() is being called continuously and visuals content stays dirty.");if(h)throw haxe_Exception.thrown("Failed to update visuals because flushImmediate() is being called continuously.");for(var m=0,v=a.length;m<v;){var y=a[m++];if(y._lifecycleState>=0&&y.contentDirty)throw haxe_Exception.thrown("Failed to update visuals because visuals content stays dirty. ("+Std.string(y)+")")}}if(h=this.flushImmediate(),u=this.syncPendingVisuals(),!(h||this.visualsContentDirty||u))break}for(var w=0,U=this.renderTextures.length;w<U;){var C=w++,x=this.renderTextures[C];null!=x.dependingTextures&&x.dependingTextures.clear()}for(var D=0,T=a.length;D<T;){var A=a[D++];if(A._lifecycleState>=0&&(A.renderTargetDirty&&A.computeRenderTarget(),A.matrixDirty&&A.computeMatrix(),A.visibilityDirty&&A.computeVisibility(),A.computedVisible&&(A.clipDirty&&A.computeClip(),null!=A.computedRenderTarget)))if(null!=A.asQuad){if(null!=A.asQuad._texture){var S=A.computedRenderTarget,E=A.asQuad._texture;null==S.dependingTextures&&(S.dependingTextures=new ceramic_IntIntMap);var M=S.dependingTextures.intMap.h[0|E.index],F=null!=M?M:0;S.dependingTextures.set(E.index,F+1)}}else if(null!=A.asMesh&&null!=A.asMesh.texture){var P=A.computedRenderTarget,R=A.asMesh.texture;null==P.dependingTextures&&(P.dependingTextures=new ceramic_IntIntMap);var I=P.dependingTextures.intMap.h[0|R.index],k=null!=I?I:0;P.dependingTextures.set(R.index,k+1)}}this.computeHierarchy();var B=this.renderTextures;if(0!=B.length){for(var N=B.length,L=0,G=N;L<G;){B[L++].priority=0}for(var W=0,K=N;W<K;)for(var z=B[W++],V=0,Y=N;V<Y;){var H,X=B[V++];if(null!=z.dependingTextures){var $=z.dependingTextures.intMap.h[0|X.index];H=(null!=$?$:0)>0}else H=!1;H&&X.priority<=z.priority&&(X.priority=z.priority+1)}for(var j=0,Q=N;j<Q;)for(var q=B[j++],Z=0,J=N;Z<J;){var ee,ne=B[Z++];if(null!=q.dependingTextures){var te=q.dependingTextures.intMap.h[0|ne.index];ee=(null!=te?te:0)>0}else ee=!1;ee&&ne.priority<=q.priority&&(ne.priority=q.priority+1)}}this.syncDestroyedVisuals();var ie=this.visuals;this.emitBeginSortVisuals(),ceramic_SortVisuals.rec(ie,0,ie.length),this.emitFinishSortVisuals(),t=!1,this.emitBeginDraw(),this.backend.draw.draw(this.visuals),this.emitFinishDraw()}this.inUpdate=!1},addVisual:function(e){this.pendingVisuals.push(e)},removeVisual:function(e){this.destroyedVisuals.push(e)},syncPendingVisuals:function(){if(this.pendingVisuals.length>0){for(;this.pendingVisuals.length>0;)this.visuals.push(this.pendingVisuals.pop());return this.hierarchyDirty=!0,!0}return!1},syncDestroyedVisuals:function(){if(this.destroyedVisuals.length>0){for(var e=0,n=0,t=this.visuals.length;e<t;){for(;;){if(!(this.visuals[e]._lifecycleState<0))break;if(++n,!(++e<t))break}if(0!=n&&e<t){var i=e-n;this.visuals[i]=this.visuals[e]}++e}if(0!=(l=this.destroyedVisuals).length)if(l.length>0)l.splice(0,l.length);else l[-1]=null;var l,s=t-n;if((l=this.visuals).length!=s)if(l.length>s)l.splice(s,l.length-s);else l[s-1]=null;this.hierarchyDirty=!0}},updateVisuals:function(e){for(var n=0,t=!1,i=!1;;){this.visualsContentDirty=!1,(f=this.screen.matrix).changedDirty&&(f.changed=f.tx!=f._txPrev||f.ty!=f._tyPrev||f.a!=f._aPrev||f.b!=f._bPrev||f.c!=f._cPrev||f.d!=f._dPrev,f.changedDirty=!1),this.screen.matrix.changed&&this.screen.matrix.emitChange();for(var l=0,s=e.length;l<s;){(b=e[_=l++])._lifecycleState>=0&&(b.touchableDirty&&b.computeTouchable(),b.contentDirty&&(b.visibilityDirty&&b.computeVisibility(),b.computedVisible&&b.computeContent()))}for(var r=0,a=e.length;r<a;){var c=e[r++];if(c._lifecycleState>=0&&null!=c.transform)(m=c.transform).changedDirty&&(m.changed=m.tx!=m._txPrev||m.ty!=m._tyPrev||m.a!=m._aPrev||m.b!=m._bPrev||m.c!=m._cPrev||m.d!=m._dPrev,m.changedDirty=!1),c.transform.changed&&c.transform.emitChange()}if(n++>9999){if(t&&this.visualsContentDirty)throw haxe_Exception.thrown("Failed to update visuals because flushImmediate() is being called continuously and visuals content stays dirty.");if(t)throw haxe_Exception.thrown("Failed to update visuals because flushImmediate() is being called continuously.");for(var h=0,u=e.length;h<u;){var o=e[h++];if(o._lifecycleState>=0&&o.contentDirty)throw haxe_Exception.thrown("Failed to update visuals because visuals content stays dirty. ("+Std.string(o)+")")}}if(t=this.flushImmediate(),i=this.syncPendingVisuals(),!(t||this.visualsContentDirty||i))break}for(l=0,s=this.renderTextures.length;l<s;){var _=l++,d=this.renderTextures[_];null!=d.dependingTextures&&d.dependingTextures.clear()}for(l=0,s=e.length;l<s;){var b;if((b=e[_=l++])._lifecycleState>=0&&(b.renderTargetDirty&&b.computeRenderTarget(),b.matrixDirty&&b.computeMatrix(),b.visibilityDirty&&b.computeVisibility(),b.computedVisible&&(b.clipDirty&&b.computeClip(),null!=b.computedRenderTarget)))if(null!=b.asQuad){if(null!=b.asQuad._texture){var f=b.computedRenderTarget,O=b.asQuad._texture;null==f.dependingTextures&&(f.dependingTextures=new ceramic_IntIntMap);var p=f.dependingTextures.intMap.h[0|O.index],g=null!=p?p:0;f.dependingTextures.set(O.index,g+1)}}else if(null!=b.asMesh&&null!=b.asMesh.texture){var m=b.computedRenderTarget,v=b.asMesh.texture;null==m.dependingTextures&&(m.dependingTextures=new ceramic_IntIntMap);var y=m.dependingTextures.intMap.h[0|v.index],w=null!=y?y:0;m.dependingTextures.set(v.index,w+1)}}},computeHierarchy:function(){if(this.hierarchyDirty){for(var e=0,n=this.visuals.length;e<n;){var t=e++,i=this.visuals[t];i._lifecycleState>=0&&null==i.parent&&(i.computedDepth=1e3*i.depth,null!=i.children&&ceramic_Visual._computeChildrenDepth0(i))}this.hierarchyDirty=!1}},computeRenderTexturesPriority:function(e){if(0!=e.length){for(var n=e.length,t=0,i=n;t<i;){e[t++].priority=0}for(t=0,i=n;t<i;)for(var l=e[t++],s=0,r=n;s<r;){var a=e[s++];if(null!=l.dependingTextures)c=(null!=(h=l.dependingTextures.intMap.h[0|a.index])?h:0)>0;else c=!1;c&&a.priority<=l.priority&&(a.priority=l.priority+1)}for(t=0,i=n;t<i;)for(l=e[t++],s=0,r=n;s<r;){var c,h;a=e[s++];if(null!=l.dependingTextures)c=(null!=(h=l.dependingTextures.intMap.h[0|a.index])?h:0)>0;else c=!1;c&&a.priority<=l.priority&&(a.priority=l.priority+1)}}},sortVisuals:function(e){this.emitBeginSortVisuals(),ceramic_SortVisuals.rec(e,0,e.length),this.emitFinishSortVisuals()},group:function(e,n){null==n&&(n=!0);for(var t=0,i=this.groups.length;t<i;){var l=t++,s=this.groups[l];if(s.id==e)return s}return n?new ceramic_Group(e):null},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offReady(),this.offUpdate(),this.offPreUpdate(),this.offPostUpdate(),this.offDefaultAssetsLoad(),this.offCriticalError(),this.offBeginEnterBackground(),this.offFinishEnterBackground(),this.offBeginEnterForeground(),this.offFinishEnterForeground(),this.offBeginSortVisuals(),this.offFinishSortVisuals(),this.offBeginDraw(),this.offFinishDraw(),this.offLowMemory(),this.offTerminate()},info:null,__class__:ceramic_App,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_scenes:"set_scenes",get_scenes:"get_scenes",get_computedFps:"get_computedFps"})});var ceramic_AppXUpdatesHandler=function(){this.callback=null,this.numUpdates=-1,this.owner=null};t["ceramic.AppXUpdatesHandler"]=ceramic_AppXUpdatesHandler,ceramic_AppXUpdatesHandler.__name__="ceramic.AppXUpdatesHandler",ceramic_AppXUpdatesHandler.prototype={owner:null,numUpdates:null,callback:null,reset:function(){this.owner=null,this.numUpdates=-1,this.callback=null},__class__:ceramic_AppXUpdatesHandler};var ceramic_ArcadeSortGroupLeftRight=function(){};t["ceramic.ArcadeSortGroupLeftRight"]=ceramic_ArcadeSortGroupLeftRight,ceramic_ArcadeSortGroupLeftRight.__name__="ceramic.ArcadeSortGroupLeftRight",ceramic_ArcadeSortGroupLeftRight.cmp=function(e,n){var t=0,i=null!=e.arcade?e.arcade.body:null,l=null!=n.arcade?n.arcade.body:null;return null!=i&&null!=l&&(t=i.x-l.x>=0?1:-1),t},ceramic_ArcadeSortGroupLeftRight.sort=function(e){ceramic_ArcadeSortGroupLeftRight.rec(e,0,e.length)},ceramic_ArcadeSortGroupLeftRight.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var l=n+1,s=t;l<s;)for(var r=l++;r>n;){var a=e[r],c=e[r-1],h=0,u=null!=a.arcade?a.arcade.body:null,o=null!=c.arcade?c.arcade.body:null;if(null!=u&&null!=o&&(h=u.x-o.x>=0?1:-1),!(h<0))break;var _=r-1,d=e[_];e[_]=e[r],e[r]=d,--r}}else ceramic_ArcadeSortGroupLeftRight.rec(e,n,i),ceramic_ArcadeSortGroupLeftRight.rec(e,i,t),ceramic_ArcadeSortGroupLeftRight.doMerge(e,n,i,t,i-n,t-i)},ceramic_ArcadeSortGroupLeftRight.doMerge=function(e,n,t,i,l,s){var r,a,c,h;if(0!=l&&0!=s)if(l+s!=2){if(l>s){r=n+(c=l>>1);for(var u=i-(o=t);u>0;){U=e[d=o+(_=u>>1)],C=e[r],x=0,D=null!=U.arcade?U.arcade.body:null,T=null!=C.arcade?C.arcade.body:null;null!=D&&null!=T&&(x=D.x-T.x>=0?1:-1),x<0?(o=d+1,u=u-_-1):u=_}h=(a=o)-t}else{a=t+(h=s>>1);var o,_,d;for(u=t-(o=n);u>0;){d=o+(_=u>>1);U=e[a],C=e[d],x=0,D=null!=U.arcade?U.arcade.body:null,T=null!=C.arcade?C.arcade.body:null;null!=D&&null!=T&&(x=D.x-T.x>=0?1:-1),x<0?u=_:(o=d+1,u=u-_-1)}c=(r=o)-n}var b;if(r!=t&&t!=a){for(var f=a-r,O=t-r;0!=O;){var p=f%O;f=O,O=p}for(b=f;0!=b--;){for(var g=e[r+b],m=t-r,v=r+b,y=r+b+m;y!=r+b;)e[v]=e[y],v=y,a-y>m?y+=m:y=r+(m-(a-y));e[v]=g}}var w=r+h;ceramic_ArcadeSortGroupLeftRight.doMerge(e,n,r,w,c,h),ceramic_ArcadeSortGroupLeftRight.doMerge(e,w,a,i,l-c,s-h)}else{var U=e[t],C=e[n],x=0,D=null!=U.arcade?U.arcade.body:null,T=null!=C.arcade?C.arcade.body:null;if(null!=D&&null!=T&&(x=D.x-T.x>=0?1:-1),x<0){var A=e[t];e[t]=e[n],e[n]=A}}},ceramic_ArcadeSortGroupLeftRight.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,s=t-n;0!=s;){var r=l%s;l=s,s=r}for(s=l;0!=s--;){for(var a=e[n+s],c=t-n,h=n+s,u=n+s+c;u!=n+s;)e[h]=e[u],h=u,i-u>c?u+=c:u=n+(c-(i-u));e[h]=a}}},ceramic_ArcadeSortGroupLeftRight.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},ceramic_ArcadeSortGroupLeftRight.upper=function(e,n,t,i){for(var l,s,r=t-n;r>0;){s=n+(l=r>>1);var a=e[i],c=e[s],h=0,u=null!=a.arcade?a.arcade.body:null,o=null!=c.arcade?c.arcade.body:null;null!=u&&null!=o&&(h=u.x-o.x>=0?1:-1),h<0?r=l:(n=s+1,r=r-l-1)}return n},ceramic_ArcadeSortGroupLeftRight.lower=function(e,n,t,i){for(var l,s,r=t-n;r>0;){var a=e[s=n+(l=r>>1)],c=e[i],h=0,u=null!=a.arcade?a.arcade.body:null,o=null!=c.arcade?c.arcade.body:null;null!=u&&null!=o&&(h=u.x-o.x>=0?1:-1),h<0?(n=s+1,r=r-l-1):r=l}return n},ceramic_ArcadeSortGroupLeftRight.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ceramic_ArcadeSortGroupLeftRight.compare=function(e,n,t){var i=e[n],l=e[t],s=0,r=null!=i.arcade?i.arcade.body:null,a=null!=l.arcade?l.arcade.body:null;return null!=r&&null!=a&&(s=r.x-a.x>=0?1:-1),s};var ceramic_ArcadeSortGroupRightLeft=function(){};t["ceramic.ArcadeSortGroupRightLeft"]=ceramic_ArcadeSortGroupRightLeft,ceramic_ArcadeSortGroupRightLeft.__name__="ceramic.ArcadeSortGroupRightLeft",ceramic_ArcadeSortGroupRightLeft.cmp=function(e,n){var t=0,i=null!=e.arcade?e.arcade.body:null,l=null!=n.arcade?n.arcade.body:null;return null!=i&&null!=l&&(t=l.x-i.x>=0?1:-1),t},ceramic_ArcadeSortGroupRightLeft.sort=function(e){ceramic_ArcadeSortGroupRightLeft.rec(e,0,e.length)},ceramic_ArcadeSortGroupRightLeft.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var l=n+1,s=t;l<s;)for(var r=l++;r>n;){var a=e[r],c=e[r-1],h=0,u=null!=a.arcade?a.arcade.body:null,o=null!=c.arcade?c.arcade.body:null;if(null!=u&&null!=o&&(h=o.x-u.x>=0?1:-1),!(h<0))break;var _=r-1,d=e[_];e[_]=e[r],e[r]=d,--r}}else ceramic_ArcadeSortGroupRightLeft.rec(e,n,i),ceramic_ArcadeSortGroupRightLeft.rec(e,i,t),ceramic_ArcadeSortGroupRightLeft.doMerge(e,n,i,t,i-n,t-i)},ceramic_ArcadeSortGroupRightLeft.doMerge=function(e,n,t,i,l,s){var r,a,c,h;if(0!=l&&0!=s)if(l+s!=2){if(l>s){r=n+(c=l>>1);for(var u=i-(o=t);u>0;){U=e[d=o+(_=u>>1)],C=e[r],x=0,D=null!=U.arcade?U.arcade.body:null,T=null!=C.arcade?C.arcade.body:null;null!=D&&null!=T&&(x=T.x-D.x>=0?1:-1),x<0?(o=d+1,u=u-_-1):u=_}h=(a=o)-t}else{a=t+(h=s>>1);var o,_,d;for(u=t-(o=n);u>0;){d=o+(_=u>>1);U=e[a],C=e[d],x=0,D=null!=U.arcade?U.arcade.body:null,T=null!=C.arcade?C.arcade.body:null;null!=D&&null!=T&&(x=T.x-D.x>=0?1:-1),x<0?u=_:(o=d+1,u=u-_-1)}c=(r=o)-n}var b;if(r!=t&&t!=a){for(var f=a-r,O=t-r;0!=O;){var p=f%O;f=O,O=p}for(b=f;0!=b--;){for(var g=e[r+b],m=t-r,v=r+b,y=r+b+m;y!=r+b;)e[v]=e[y],v=y,a-y>m?y+=m:y=r+(m-(a-y));e[v]=g}}var w=r+h;ceramic_ArcadeSortGroupRightLeft.doMerge(e,n,r,w,c,h),ceramic_ArcadeSortGroupRightLeft.doMerge(e,w,a,i,l-c,s-h)}else{var U=e[t],C=e[n],x=0,D=null!=U.arcade?U.arcade.body:null,T=null!=C.arcade?C.arcade.body:null;if(null!=D&&null!=T&&(x=T.x-D.x>=0?1:-1),x<0){var A=e[t];e[t]=e[n],e[n]=A}}},ceramic_ArcadeSortGroupRightLeft.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,s=t-n;0!=s;){var r=l%s;l=s,s=r}for(s=l;0!=s--;){for(var a=e[n+s],c=t-n,h=n+s,u=n+s+c;u!=n+s;)e[h]=e[u],h=u,i-u>c?u+=c:u=n+(c-(i-u));e[h]=a}}},ceramic_ArcadeSortGroupRightLeft.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},ceramic_ArcadeSortGroupRightLeft.upper=function(e,n,t,i){for(var l,s,r=t-n;r>0;){s=n+(l=r>>1);var a=e[i],c=e[s],h=0,u=null!=a.arcade?a.arcade.body:null,o=null!=c.arcade?c.arcade.body:null;null!=u&&null!=o&&(h=o.x-u.x>=0?1:-1),h<0?r=l:(n=s+1,r=r-l-1)}return n},ceramic_ArcadeSortGroupRightLeft.lower=function(e,n,t,i){for(var l,s,r=t-n;r>0;){var a=e[s=n+(l=r>>1)],c=e[i],h=0,u=null!=a.arcade?a.arcade.body:null,o=null!=c.arcade?c.arcade.body:null;null!=u&&null!=o&&(h=o.x-u.x>=0?1:-1),h<0?(n=s+1,r=r-l-1):r=l}return n},ceramic_ArcadeSortGroupRightLeft.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ceramic_ArcadeSortGroupRightLeft.compare=function(e,n,t){var i=e[n],l=e[t],s=0,r=null!=i.arcade?i.arcade.body:null,a=null!=l.arcade?l.arcade.body:null;return null!=r&&null!=a&&(s=a.x-r.x>=0?1:-1),s};var ceramic_ArcadeSortGroupTopBottom=function(){};t["ceramic.ArcadeSortGroupTopBottom"]=ceramic_ArcadeSortGroupTopBottom,ceramic_ArcadeSortGroupTopBottom.__name__="ceramic.ArcadeSortGroupTopBottom",ceramic_ArcadeSortGroupTopBottom.cmp=function(e,n){var t=0,i=null!=e.arcade?e.arcade.body:null,l=null!=n.arcade?n.arcade.body:null;return null!=i&&null!=l&&(t=i.y-l.y>=0?1:-1),t},ceramic_ArcadeSortGroupTopBottom.sort=function(e){ceramic_ArcadeSortGroupTopBottom.rec(e,0,e.length)},ceramic_ArcadeSortGroupTopBottom.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var l=n+1,s=t;l<s;)for(var r=l++;r>n;){var a=e[r],c=e[r-1],h=0,u=null!=a.arcade?a.arcade.body:null,o=null!=c.arcade?c.arcade.body:null;if(null!=u&&null!=o&&(h=u.y-o.y>=0?1:-1),!(h<0))break;var _=r-1,d=e[_];e[_]=e[r],e[r]=d,--r}}else ceramic_ArcadeSortGroupTopBottom.rec(e,n,i),ceramic_ArcadeSortGroupTopBottom.rec(e,i,t),ceramic_ArcadeSortGroupTopBottom.doMerge(e,n,i,t,i-n,t-i)},ceramic_ArcadeSortGroupTopBottom.doMerge=function(e,n,t,i,l,s){var r,a,c,h;if(0!=l&&0!=s)if(l+s!=2){if(l>s){r=n+(c=l>>1);for(var u=i-(o=t);u>0;){U=e[d=o+(_=u>>1)],C=e[r],x=0,D=null!=U.arcade?U.arcade.body:null,T=null!=C.arcade?C.arcade.body:null;null!=D&&null!=T&&(x=D.y-T.y>=0?1:-1),x<0?(o=d+1,u=u-_-1):u=_}h=(a=o)-t}else{a=t+(h=s>>1);var o,_,d;for(u=t-(o=n);u>0;){d=o+(_=u>>1);U=e[a],C=e[d],x=0,D=null!=U.arcade?U.arcade.body:null,T=null!=C.arcade?C.arcade.body:null;null!=D&&null!=T&&(x=D.y-T.y>=0?1:-1),x<0?u=_:(o=d+1,u=u-_-1)}c=(r=o)-n}var b;if(r!=t&&t!=a){for(var f=a-r,O=t-r;0!=O;){var p=f%O;f=O,O=p}for(b=f;0!=b--;){for(var g=e[r+b],m=t-r,v=r+b,y=r+b+m;y!=r+b;)e[v]=e[y],v=y,a-y>m?y+=m:y=r+(m-(a-y));e[v]=g}}var w=r+h;ceramic_ArcadeSortGroupTopBottom.doMerge(e,n,r,w,c,h),ceramic_ArcadeSortGroupTopBottom.doMerge(e,w,a,i,l-c,s-h)}else{var U=e[t],C=e[n],x=0,D=null!=U.arcade?U.arcade.body:null,T=null!=C.arcade?C.arcade.body:null;if(null!=D&&null!=T&&(x=D.y-T.y>=0?1:-1),x<0){var A=e[t];e[t]=e[n],e[n]=A}}},ceramic_ArcadeSortGroupTopBottom.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,s=t-n;0!=s;){var r=l%s;l=s,s=r}for(s=l;0!=s--;){for(var a=e[n+s],c=t-n,h=n+s,u=n+s+c;u!=n+s;)e[h]=e[u],h=u,i-u>c?u+=c:u=n+(c-(i-u));e[h]=a}}},ceramic_ArcadeSortGroupTopBottom.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},ceramic_ArcadeSortGroupTopBottom.upper=function(e,n,t,i){for(var l,s,r=t-n;r>0;){s=n+(l=r>>1);var a=e[i],c=e[s],h=0,u=null!=a.arcade?a.arcade.body:null,o=null!=c.arcade?c.arcade.body:null;null!=u&&null!=o&&(h=u.y-o.y>=0?1:-1),h<0?r=l:(n=s+1,r=r-l-1)}return n},ceramic_ArcadeSortGroupTopBottom.lower=function(e,n,t,i){for(var l,s,r=t-n;r>0;){var a=e[s=n+(l=r>>1)],c=e[i],h=0,u=null!=a.arcade?a.arcade.body:null,o=null!=c.arcade?c.arcade.body:null;null!=u&&null!=o&&(h=u.y-o.y>=0?1:-1),h<0?(n=s+1,r=r-l-1):r=l}return n},ceramic_ArcadeSortGroupTopBottom.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ceramic_ArcadeSortGroupTopBottom.compare=function(e,n,t){var i=e[n],l=e[t],s=0,r=null!=i.arcade?i.arcade.body:null,a=null!=l.arcade?l.arcade.body:null;return null!=r&&null!=a&&(s=r.y-a.y>=0?1:-1),s};var ceramic_ArcadeSortGroupBottomTop=function(){};t["ceramic.ArcadeSortGroupBottomTop"]=ceramic_ArcadeSortGroupBottomTop,ceramic_ArcadeSortGroupBottomTop.__name__="ceramic.ArcadeSortGroupBottomTop",ceramic_ArcadeSortGroupBottomTop.cmp=function(e,n){var t=0,i=null!=e.arcade?e.arcade.body:null,l=null!=n.arcade?n.arcade.body:null;return null!=i&&null!=l&&(t=l.y-i.y>0?1:-1),t},ceramic_ArcadeSortGroupBottomTop.sort=function(e){ceramic_ArcadeSortGroupBottomTop.rec(e,0,e.length)},ceramic_ArcadeSortGroupBottomTop.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var l=n+1,s=t;l<s;)for(var r=l++;r>n;){var a=e[r],c=e[r-1],h=0,u=null!=a.arcade?a.arcade.body:null,o=null!=c.arcade?c.arcade.body:null;if(null!=u&&null!=o&&(h=o.y-u.y>0?1:-1),!(h<0))break;var _=r-1,d=e[_];e[_]=e[r],e[r]=d,--r}}else ceramic_ArcadeSortGroupBottomTop.rec(e,n,i),ceramic_ArcadeSortGroupBottomTop.rec(e,i,t),ceramic_ArcadeSortGroupBottomTop.doMerge(e,n,i,t,i-n,t-i)},ceramic_ArcadeSortGroupBottomTop.doMerge=function(e,n,t,i,l,s){var r,a,c,h;if(0!=l&&0!=s)if(l+s!=2){if(l>s){r=n+(c=l>>1);for(var u=i-(o=t);u>0;){U=e[d=o+(_=u>>1)],C=e[r],x=0,D=null!=U.arcade?U.arcade.body:null,T=null!=C.arcade?C.arcade.body:null;null!=D&&null!=T&&(x=T.y-D.y>0?1:-1),x<0?(o=d+1,u=u-_-1):u=_}h=(a=o)-t}else{a=t+(h=s>>1);var o,_,d;for(u=t-(o=n);u>0;){d=o+(_=u>>1);U=e[a],C=e[d],x=0,D=null!=U.arcade?U.arcade.body:null,T=null!=C.arcade?C.arcade.body:null;null!=D&&null!=T&&(x=T.y-D.y>0?1:-1),x<0?u=_:(o=d+1,u=u-_-1)}c=(r=o)-n}var b;if(r!=t&&t!=a){for(var f=a-r,O=t-r;0!=O;){var p=f%O;f=O,O=p}for(b=f;0!=b--;){for(var g=e[r+b],m=t-r,v=r+b,y=r+b+m;y!=r+b;)e[v]=e[y],v=y,a-y>m?y+=m:y=r+(m-(a-y));e[v]=g}}var w=r+h;ceramic_ArcadeSortGroupBottomTop.doMerge(e,n,r,w,c,h),ceramic_ArcadeSortGroupBottomTop.doMerge(e,w,a,i,l-c,s-h)}else{var U=e[t],C=e[n],x=0,D=null!=U.arcade?U.arcade.body:null,T=null!=C.arcade?C.arcade.body:null;if(null!=D&&null!=T&&(x=T.y-D.y>0?1:-1),x<0){var A=e[t];e[t]=e[n],e[n]=A}}},ceramic_ArcadeSortGroupBottomTop.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,s=t-n;0!=s;){var r=l%s;l=s,s=r}for(s=l;0!=s--;){for(var a=e[n+s],c=t-n,h=n+s,u=n+s+c;u!=n+s;)e[h]=e[u],h=u,i-u>c?u+=c:u=n+(c-(i-u));e[h]=a}}},ceramic_ArcadeSortGroupBottomTop.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},ceramic_ArcadeSortGroupBottomTop.upper=function(e,n,t,i){for(var l,s,r=t-n;r>0;){s=n+(l=r>>1);var a=e[i],c=e[s],h=0,u=null!=a.arcade?a.arcade.body:null,o=null!=c.arcade?c.arcade.body:null;null!=u&&null!=o&&(h=o.y-u.y>0?1:-1),h<0?r=l:(n=s+1,r=r-l-1)}return n},ceramic_ArcadeSortGroupBottomTop.lower=function(e,n,t,i){for(var l,s,r=t-n;r>0;){var a=e[s=n+(l=r>>1)],c=e[i],h=0,u=null!=a.arcade?a.arcade.body:null,o=null!=c.arcade?c.arcade.body:null;null!=u&&null!=o&&(h=o.y-u.y>0?1:-1),h<0?(n=s+1,r=r-l-1):r=l}return n},ceramic_ArcadeSortGroupBottomTop.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ceramic_ArcadeSortGroupBottomTop.compare=function(e,n,t){var i=e[n],l=e[t],s=0,r=null!=i.arcade?i.arcade.body:null,a=null!=l.arcade?l.arcade.body:null;return null!=r&&null!=a&&(s=a.y-r.y>0?1:-1),s};var ceramic_System=function(){this.lateUpdateOrder=0,this.earlyUpdateOrder=0,this.autoUpdate=!0,this.name=null,ceramic_Entity.call(this),ceramic_App.app.systems.addSystem(this)};t["ceramic.System"]=ceramic_System,ceramic_System.__name__="ceramic.System",ceramic_System.__super__=ceramic_Entity,ceramic_System.prototype=$extend(ceramic_Entity.prototype,{__cbOnBeginEarlyUpdate:null,__cbOnceBeginEarlyUpdate:null,__cbOnOwnerUnbindBeginEarlyUpdate:null,__cbOnceOwnerUnbindBeginEarlyUpdate:null,emitBeginEarlyUpdate:function(e){var n=0;if(null!=this.__cbOnBeginEarlyUpdate&&(n+=this.__cbOnBeginEarlyUpdate.length),null!=this.__cbOnceBeginEarlyUpdate&&(n+=this.__cbOnceBeginEarlyUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnBeginEarlyUpdate)for(var s=0,r=this.__cbOnBeginEarlyUpdate.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnBeginEarlyUpdate[a],++l):--n}if(null!=this.__cbOnceBeginEarlyUpdate){var c=null,h=null;for(s=0,r=this.__cbOnceBeginEarlyUpdate.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceBeginEarlyUpdate[a],this.__cbOnceBeginEarlyUpdate[a]=null;var u=this.__cbOnceOwnerUnbindBeginEarlyUpdate[a];this.__cbOnceOwnerUnbindBeginEarlyUpdate[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindBeginEarlyUpdate[a]),h.push(this.__cbOnceBeginEarlyUpdate[a])}this.__cbOnceOwnerUnbindBeginEarlyUpdate=c,this.__cbOnceBeginEarlyUpdate=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onBeginEarlyUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEarlyUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEarlyUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginEarlyUpdate&&(this.__cbOnOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnOwnerUnbindBeginEarlyUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginEarlyUpdate&&(this.__cbOnOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnOwnerUnbindBeginEarlyUpdate.push(null);null==this.__cbOnBeginEarlyUpdate&&(this.__cbOnBeginEarlyUpdate=[]),this.__cbOnBeginEarlyUpdate.push(n)},onceBeginEarlyUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEarlyUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEarlyUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginEarlyUpdate&&(this.__cbOnceOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnceOwnerUnbindBeginEarlyUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginEarlyUpdate&&(this.__cbOnceOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnceOwnerUnbindBeginEarlyUpdate.push(null);null==this.__cbOnceBeginEarlyUpdate&&(this.__cbOnceBeginEarlyUpdate=[]),this.__cbOnceBeginEarlyUpdate.push(n)},offBeginEarlyUpdate:function(e){if(null!=e){var n;null!=this.__cbOnBeginEarlyUpdate&&-1!=(n=this.__cbOnBeginEarlyUpdate.indexOf(e))&&(this.__cbOnBeginEarlyUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginEarlyUpdate[n])&&s(),this.__cbOnOwnerUnbindBeginEarlyUpdate.splice(n,1)),null!=this.__cbOnceBeginEarlyUpdate&&-1!=(n=this.__cbOnceBeginEarlyUpdate.indexOf(e))&&(this.__cbOnceBeginEarlyUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginEarlyUpdate[n])&&s(),this.__cbOnceOwnerUnbindBeginEarlyUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEarlyUpdate){for(var t=0,i=this.__cbOnOwnerUnbindBeginEarlyUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginEarlyUpdate[l])&&s()}this.__cbOnOwnerUnbindBeginEarlyUpdate=null}if(null!=this.__cbOnceOwnerUnbindBeginEarlyUpdate){for(t=0,i=this.__cbOnceOwnerUnbindBeginEarlyUpdate.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginEarlyUpdate[l])&&s()}this.__cbOnceOwnerUnbindBeginEarlyUpdate=null}this.__cbOnBeginEarlyUpdate=null,this.__cbOnceBeginEarlyUpdate=null}},listensBeginEarlyUpdate:function(){return null!=this.__cbOnBeginEarlyUpdate&&this.__cbOnBeginEarlyUpdate.length>0||null!=this.__cbOnceBeginEarlyUpdate&&this.__cbOnceBeginEarlyUpdate.length>0},__cbOnEndEarlyUpdate:null,__cbOnceEndEarlyUpdate:null,__cbOnOwnerUnbindEndEarlyUpdate:null,__cbOnceOwnerUnbindEndEarlyUpdate:null,emitEndEarlyUpdate:function(e){var n=0;if(null!=this.__cbOnEndEarlyUpdate&&(n+=this.__cbOnEndEarlyUpdate.length),null!=this.__cbOnceEndEarlyUpdate&&(n+=this.__cbOnceEndEarlyUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnEndEarlyUpdate)for(var s=0,r=this.__cbOnEndEarlyUpdate.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnEndEarlyUpdate[a],++l):--n}if(null!=this.__cbOnceEndEarlyUpdate){var c=null,h=null;for(s=0,r=this.__cbOnceEndEarlyUpdate.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceEndEarlyUpdate[a],this.__cbOnceEndEarlyUpdate[a]=null;var u=this.__cbOnceOwnerUnbindEndEarlyUpdate[a];this.__cbOnceOwnerUnbindEndEarlyUpdate[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindEndEarlyUpdate[a]),h.push(this.__cbOnceEndEarlyUpdate[a])}this.__cbOnceOwnerUnbindEndEarlyUpdate=c,this.__cbOnceEndEarlyUpdate=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onEndEarlyUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endEarlyUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndEarlyUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEndEarlyUpdate&&(this.__cbOnOwnerUnbindEndEarlyUpdate=[]),this.__cbOnOwnerUnbindEndEarlyUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEndEarlyUpdate&&(this.__cbOnOwnerUnbindEndEarlyUpdate=[]),this.__cbOnOwnerUnbindEndEarlyUpdate.push(null);null==this.__cbOnEndEarlyUpdate&&(this.__cbOnEndEarlyUpdate=[]),this.__cbOnEndEarlyUpdate.push(n)},onceEndEarlyUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endEarlyUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndEarlyUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEndEarlyUpdate&&(this.__cbOnceOwnerUnbindEndEarlyUpdate=[]),this.__cbOnceOwnerUnbindEndEarlyUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEndEarlyUpdate&&(this.__cbOnceOwnerUnbindEndEarlyUpdate=[]),this.__cbOnceOwnerUnbindEndEarlyUpdate.push(null);null==this.__cbOnceEndEarlyUpdate&&(this.__cbOnceEndEarlyUpdate=[]),this.__cbOnceEndEarlyUpdate.push(n)},offEndEarlyUpdate:function(e){if(null!=e){var n;null!=this.__cbOnEndEarlyUpdate&&-1!=(n=this.__cbOnEndEarlyUpdate.indexOf(e))&&(this.__cbOnEndEarlyUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEndEarlyUpdate[n])&&s(),this.__cbOnOwnerUnbindEndEarlyUpdate.splice(n,1)),null!=this.__cbOnceEndEarlyUpdate&&-1!=(n=this.__cbOnceEndEarlyUpdate.indexOf(e))&&(this.__cbOnceEndEarlyUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEndEarlyUpdate[n])&&s(),this.__cbOnceOwnerUnbindEndEarlyUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndEarlyUpdate){for(var t=0,i=this.__cbOnOwnerUnbindEndEarlyUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEndEarlyUpdate[l])&&s()}this.__cbOnOwnerUnbindEndEarlyUpdate=null}if(null!=this.__cbOnceOwnerUnbindEndEarlyUpdate){for(t=0,i=this.__cbOnceOwnerUnbindEndEarlyUpdate.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindEndEarlyUpdate[l])&&s()}this.__cbOnceOwnerUnbindEndEarlyUpdate=null}this.__cbOnEndEarlyUpdate=null,this.__cbOnceEndEarlyUpdate=null}},listensEndEarlyUpdate:function(){return null!=this.__cbOnEndEarlyUpdate&&this.__cbOnEndEarlyUpdate.length>0||null!=this.__cbOnceEndEarlyUpdate&&this.__cbOnceEndEarlyUpdate.length>0},__cbOnBeginLateUpdate:null,__cbOnceBeginLateUpdate:null,__cbOnOwnerUnbindBeginLateUpdate:null,__cbOnceOwnerUnbindBeginLateUpdate:null,emitBeginLateUpdate:function(e){var n=0;if(null!=this.__cbOnBeginLateUpdate&&(n+=this.__cbOnBeginLateUpdate.length),null!=this.__cbOnceBeginLateUpdate&&(n+=this.__cbOnceBeginLateUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnBeginLateUpdate)for(var s=0,r=this.__cbOnBeginLateUpdate.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnBeginLateUpdate[a],++l):--n}if(null!=this.__cbOnceBeginLateUpdate){var c=null,h=null;for(s=0,r=this.__cbOnceBeginLateUpdate.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceBeginLateUpdate[a],this.__cbOnceBeginLateUpdate[a]=null;var u=this.__cbOnceOwnerUnbindBeginLateUpdate[a];this.__cbOnceOwnerUnbindBeginLateUpdate[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindBeginLateUpdate[a]),h.push(this.__cbOnceBeginLateUpdate[a])}this.__cbOnceOwnerUnbindBeginLateUpdate=c,this.__cbOnceBeginLateUpdate=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onBeginLateUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginLateUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginLateUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginLateUpdate&&(this.__cbOnOwnerUnbindBeginLateUpdate=[]),this.__cbOnOwnerUnbindBeginLateUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginLateUpdate&&(this.__cbOnOwnerUnbindBeginLateUpdate=[]),this.__cbOnOwnerUnbindBeginLateUpdate.push(null);null==this.__cbOnBeginLateUpdate&&(this.__cbOnBeginLateUpdate=[]),this.__cbOnBeginLateUpdate.push(n)},onceBeginLateUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginLateUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginLateUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginLateUpdate&&(this.__cbOnceOwnerUnbindBeginLateUpdate=[]),this.__cbOnceOwnerUnbindBeginLateUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginLateUpdate&&(this.__cbOnceOwnerUnbindBeginLateUpdate=[]),this.__cbOnceOwnerUnbindBeginLateUpdate.push(null);null==this.__cbOnceBeginLateUpdate&&(this.__cbOnceBeginLateUpdate=[]),this.__cbOnceBeginLateUpdate.push(n)},offBeginLateUpdate:function(e){if(null!=e){var n;null!=this.__cbOnBeginLateUpdate&&-1!=(n=this.__cbOnBeginLateUpdate.indexOf(e))&&(this.__cbOnBeginLateUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginLateUpdate[n])&&s(),this.__cbOnOwnerUnbindBeginLateUpdate.splice(n,1)),null!=this.__cbOnceBeginLateUpdate&&-1!=(n=this.__cbOnceBeginLateUpdate.indexOf(e))&&(this.__cbOnceBeginLateUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginLateUpdate[n])&&s(),this.__cbOnceOwnerUnbindBeginLateUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginLateUpdate){for(var t=0,i=this.__cbOnOwnerUnbindBeginLateUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginLateUpdate[l])&&s()}this.__cbOnOwnerUnbindBeginLateUpdate=null}if(null!=this.__cbOnceOwnerUnbindBeginLateUpdate){for(t=0,i=this.__cbOnceOwnerUnbindBeginLateUpdate.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginLateUpdate[l])&&s()}this.__cbOnceOwnerUnbindBeginLateUpdate=null}this.__cbOnBeginLateUpdate=null,this.__cbOnceBeginLateUpdate=null}},listensBeginLateUpdate:function(){return null!=this.__cbOnBeginLateUpdate&&this.__cbOnBeginLateUpdate.length>0||null!=this.__cbOnceBeginLateUpdate&&this.__cbOnceBeginLateUpdate.length>0},__cbOnEndLateUpdate:null,__cbOnceEndLateUpdate:null,__cbOnOwnerUnbindEndLateUpdate:null,__cbOnceOwnerUnbindEndLateUpdate:null,emitEndLateUpdate:function(e){var n=0;if(null!=this.__cbOnEndLateUpdate&&(n+=this.__cbOnEndLateUpdate.length),null!=this.__cbOnceEndLateUpdate&&(n+=this.__cbOnceEndLateUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnEndLateUpdate)for(var s=0,r=this.__cbOnEndLateUpdate.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnEndLateUpdate[a],++l):--n}if(null!=this.__cbOnceEndLateUpdate){var c=null,h=null;for(s=0,r=this.__cbOnceEndLateUpdate.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceEndLateUpdate[a],this.__cbOnceEndLateUpdate[a]=null;var u=this.__cbOnceOwnerUnbindEndLateUpdate[a];this.__cbOnceOwnerUnbindEndLateUpdate[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindEndLateUpdate[a]),h.push(this.__cbOnceEndLateUpdate[a])}this.__cbOnceOwnerUnbindEndLateUpdate=c,this.__cbOnceEndLateUpdate=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onEndLateUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endLateUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndLateUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEndLateUpdate&&(this.__cbOnOwnerUnbindEndLateUpdate=[]),this.__cbOnOwnerUnbindEndLateUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEndLateUpdate&&(this.__cbOnOwnerUnbindEndLateUpdate=[]),this.__cbOnOwnerUnbindEndLateUpdate.push(null);null==this.__cbOnEndLateUpdate&&(this.__cbOnEndLateUpdate=[]),this.__cbOnEndLateUpdate.push(n)},onceEndLateUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endLateUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndLateUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEndLateUpdate&&(this.__cbOnceOwnerUnbindEndLateUpdate=[]),this.__cbOnceOwnerUnbindEndLateUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEndLateUpdate&&(this.__cbOnceOwnerUnbindEndLateUpdate=[]),this.__cbOnceOwnerUnbindEndLateUpdate.push(null);null==this.__cbOnceEndLateUpdate&&(this.__cbOnceEndLateUpdate=[]),this.__cbOnceEndLateUpdate.push(n)},offEndLateUpdate:function(e){if(null!=e){var n;null!=this.__cbOnEndLateUpdate&&-1!=(n=this.__cbOnEndLateUpdate.indexOf(e))&&(this.__cbOnEndLateUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEndLateUpdate[n])&&s(),this.__cbOnOwnerUnbindEndLateUpdate.splice(n,1)),null!=this.__cbOnceEndLateUpdate&&-1!=(n=this.__cbOnceEndLateUpdate.indexOf(e))&&(this.__cbOnceEndLateUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEndLateUpdate[n])&&s(),this.__cbOnceOwnerUnbindEndLateUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndLateUpdate){for(var t=0,i=this.__cbOnOwnerUnbindEndLateUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEndLateUpdate[l])&&s()}this.__cbOnOwnerUnbindEndLateUpdate=null}if(null!=this.__cbOnceOwnerUnbindEndLateUpdate){for(t=0,i=this.__cbOnceOwnerUnbindEndLateUpdate.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindEndLateUpdate[l])&&s()}this.__cbOnceOwnerUnbindEndLateUpdate=null}this.__cbOnEndLateUpdate=null,this.__cbOnceEndLateUpdate=null}},listensEndLateUpdate:function(){return null!=this.__cbOnEndLateUpdate&&this.__cbOnEndLateUpdate.length>0||null!=this.__cbOnceEndLateUpdate&&this.__cbOnceEndLateUpdate.length>0},name:null,autoUpdate:null,earlyUpdateOrder:null,set_earlyUpdateOrder:function(e){return this.earlyUpdateOrder!=e&&(this.earlyUpdateOrder=e,ceramic_App.app.systems.earlyUpdateOrderDirty=!0),e},lateUpdateOrder:null,set_lateUpdateOrder:function(e){return this.lateUpdateOrder!=e&&(this.lateUpdateOrder=e,ceramic_App.app.systems.lateUpdateOrderDirty=!0),e},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),ceramic_App.app.systems.removeSystem(this))},earlyUpdate:function(e){},lateUpdate:function(e){},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offBeginEarlyUpdate(),this.offEndEarlyUpdate(),this.offBeginLateUpdate(),this.offEndLateUpdate()},__class__:ceramic_System,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_lateUpdateOrder:"set_lateUpdateOrder",set_earlyUpdateOrder:"set_earlyUpdateOrder"})});var ceramic_ArcadeSystem=function(){this.autoUpdateWorldBounds=!0,this.groups=new haxe_ds_StringMap,this.world=null,this.worlds=[],this.items=[],this._freezeItems=!1,this._createdItems=[],this._destroyedItems=[],ceramic_System.call(this),this.set_earlyUpdateOrder(2e3),this.set_lateUpdateOrder(2e3),this.world=this.createWorld()};t["ceramic.ArcadeSystem"]=ceramic_ArcadeSystem,ceramic_ArcadeSystem.__name__="ceramic.ArcadeSystem",ceramic_ArcadeSystem.__super__=ceramic_System,ceramic_ArcadeSystem.prototype=$extend(ceramic_System.prototype,{__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnUpdate[a],++l):--n}if(null!=this.__cbOnceUpdate){var c=null,h=null;for(s=0,r=this.__cbOnceUpdate.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null;var u=this.__cbOnceOwnerUnbindUpdate[a];this.__cbOnceOwnerUnbindUpdate[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindUpdate[a]),h.push(this.__cbOnceUpdate[a])}this.__cbOnceOwnerUnbindUpdate=c,this.__cbOnceUpdate=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},_destroyedItems:null,_createdItems:null,_freezeItems:null,items:null,worlds:null,world:null,groups:null,autoUpdateWorldBounds:null,createWorld:function(e){null==e&&(e=!0);var n=new ceramic_ArcadeWorld(0,0,ceramic_App.app.screen.width,ceramic_App.app.screen.height);return e&&this.addWorld(n),n},addWorld:function(e){-1==this.worlds.indexOf(e)?this.worlds.push(e):ceramic_App.app.logger.warning("World already added to ArcadeSystem",{fileName:"/home/sharpcdf/ceramic/plugins/arcade/runtime/src/ceramic/ArcadeSystem.hx",lineNumber:77,className:"ceramic.ArcadeSystem",methodName:"addWorld"})},removeWorld:function(e){HxOverrides.remove(this.worlds,e)||ceramic_App.app.logger.warning("World not removed from ArcadeSystem because it was not added at the first place",{fileName:"/home/sharpcdf/ceramic/plugins/arcade/runtime/src/ceramic/ArcadeSystem.hx",lineNumber:85,className:"ceramic.ArcadeSystem",methodName:"removeWorld"})},updateWorlds:function(e){for(var n=0,t=this.worlds.length;n<t;){var i=n++,l=this.worlds[i];l.elapsed=e,l.elapsedMS=Math.round(1e3*e)}},updateWorld:function(e,n){e.elapsed=n,e.elapsedMS=Math.round(1e3*n)},earlyUpdate:function(e){if(!(e<=0)){if(this.autoUpdateWorldBounds){var n=this.world;n.boundsX=0,n.boundsY=0,n.boundsWidth=ceramic_App.app.screen.width,n.boundsHeight=ceramic_App.app.screen.height}for(var t=0,i=this.worlds.length;t<i;){var l=t++;(d=this.worlds[l]).elapsed=e,d.elapsedMS=Math.round(1e3*e)}this._freezeItems=!0;for(t=0,i=this.items.length;t<i;){l=t++;if((N=this.items[l])._lifecycleState>=0){var s=N.visual;if(null==s)ceramic_App.app.logger.warning("Pre updating arcade body with no visual, destroy item!",{fileName:"/home/sharpcdf/ceramic/plugins/arcade/runtime/src/ceramic/ArcadeSystem.hx",lineNumber:124,className:"ceramic.ArcadeSystem",methodName:"earlyUpdate"}),N.destroy();else if(s._lifecycleState<0)ceramic_App.app.logger.warning("Pre updating arcade body with destroyed visual, destroy item!",{fileName:"/home/sharpcdf/ceramic/plugins/arcade/runtime/src/ceramic/ArcadeSystem.hx",lineNumber:128,className:"ceramic.ArcadeSystem",methodName:"earlyUpdate"}),N.destroy();else{var r=s.scaleX,a=s.scaleY,c=s.anchorX,h=s.anchorY;r<0&&(r=-r,c=1-c),a<0&&(a=-a,h=1-h);var u=s.get_width()*r,o=s.get_height()*a,_=N.body;if(null!=_){var d=N.world,b=s.rotation;if(null==b&&(b=0),_.enable){if(_.dirty=!0,_.wasTouchingNone=_.touchingNone,_.wasTouchingUp=_.touchingUp,_.wasTouchingDown=_.touchingDown,_.wasTouchingLeft=_.touchingLeft,_.wasTouchingRight=_.touchingRight,_.touchingNone=!0,_.touchingUp=!1,_.touchingDown=!1,_.touchingLeft=!1,_.touchingRight=!1,_.blockedNone=!0,_.blockedUp=!1,_.blockedDown=!1,_.blockedLeft=!1,_.blockedRight=!1,_.overlapR=0,_.overlapX=0,_.overlapY=0,_.embedded=!1,_.width==u&&_.height==o||(_.width=u,_.height=o,_.halfWidth=Math.floor(.5*_.width),_.halfHeight=Math.floor(.5*_.height),_._reset=!0),_.x=N.offsetX+s.x-u*c,_.y=N.offsetY+s.y-o*h,_.centerX=_.x+_.halfWidth,_.centerY=_.y+_.halfHeight,_.rotation=b,_.preRotation=_.rotation,_._reset&&(_.prevX=_.x,_.prevY=_.y),_.moves){if(_.allowRotation){var f=_.angularVelocity,O=_.angularAcceleration,p=_.angularDrag,g=_.maxAngularVelocity;null==g&&(g=1e4),0!=O&&(f+=O*d.elapsed),0!=p&&_.allowDrag&&(f-(p*=d.elapsed)>0?f-=p:f+p<0?f+=p:f=0),f>g?f=g:f<-g&&(f=-g);var m=f-_.angularVelocity;_.angularVelocity+=m,_.rotation+=_.angularVelocity*d.elapsed}var v=_.velocityX,y=_.accelerationX,w=_.dragX,U=_.maxVelocityX;null==U&&(U=1e4),_.allowGravity&&(v+=(d.gravityX+_.gravityX)*d.elapsed),0!=y&&(v+=y*d.elapsed),0!=w&&_.allowDrag&&(v-(w*=d.elapsed)>0?v-=w:v+w<0?v+=w:v=0),v>U?v=U:v<-U&&(v=-U),_.velocityX=v;var C=_.velocityY,x=_.accelerationY,D=_.dragY,T=_.maxVelocityY;if(null==T&&(T=1e4),_.allowGravity&&(C+=(d.gravityY+_.gravityY)*d.elapsed),0!=x&&(C+=x*d.elapsed),0!=D&&_.allowDrag&&(C-(D*=d.elapsed)>0?C-=D:C+D<0?C+=D:C=0),C>T?C=T:C<-T&&(C=-T),_.velocityY=C,_.newVelocityX=_.velocityX*d.elapsed,_.newVelocityY=_.velocityY*d.elapsed,_.x+=_.newVelocityX,_.y+=_.newVelocityY,_.centerX=_.x+_.halfWidth,_.centerY=_.y+_.halfHeight,_.x==_.prevX&&_.y==_.prevY||(_.angle=Math.atan2(_.velocityY,_.velocityX)),_.speed=Math.sqrt(_.velocityX*_.velocityX+_.velocityY*_.velocityY),_.collideWorldBounds){_.x,_.y;var A=d.boundsX,S=d.boundsY,E=A+d.boundsWidth,M=S+d.boundsHeight,F=d.checkCollisionUp,P=d.checkCollisionDown,R=d.checkCollisionRight,I=d.checkCollisionLeft,k=_.useWorldBounce?-_.worldBounceX:-_.bounceX,B=_.useWorldBounce?-_.worldBounceY:-_.bounceY;_.x<A&&I?(_.x=A,_.velocityX*=k,_.blockedLeft=!0,_.blockedNone=!1):_.x+_.width>E&&R&&(_.x=E-_.width,_.velocityX*=k,_.blockedRight=!0,_.blockedNone=!1),_.y<S&&F?(_.y=S,_.velocityY*=B,_.blockedUp=!0,_.blockedNone=!1):_.y+_.height>M&&P&&(_.y=M-_.height,_.velocityY*=B,_.blockedDown=!0,_.blockedNone=!1),_.blockedNone||null!=_.onWorldBounds&&_.onWorldBounds(_,_.blockedUp,_.blockedDown,_.blockedLeft,_.blockedRight)}}_._dx=_.x-_.prevX,_._dy=_.y-_.prevY,_._reset=!1}}}}}for(this._freezeItems=!1;this._destroyedItems.length>0;){var N=this._destroyedItems.pop();HxOverrides.remove(this.items,N)}for(;this._createdItems.length>0;){N=this._createdItems.pop();this.items.push(N)}this.emitUpdate(e)}},lateUpdate:function(e){if(!(e<=0)){this._freezeItems=!0;for(var n=0,t=this.items.length;n<t;){var i=n++;if((u=this.items[i])._lifecycleState>=0){var l=u.visual;if(null==l)ceramic_App.app.logger.warning("Post updating arcade body with no visual, destroy item!",{fileName:"/home/sharpcdf/ceramic/plugins/arcade/runtime/src/ceramic/ArcadeSystem.hx",lineNumber:183,className:"ceramic.ArcadeSystem",methodName:"lateUpdate"}),u.destroy();else if(l._lifecycleState<0)ceramic_App.app.logger.warning("Post updating arcade body with destroyed visual, destroy item!",{fileName:"/home/sharpcdf/ceramic/plugins/arcade/runtime/src/ceramic/ArcadeSystem.hx",lineNumber:187,className:"ceramic.ArcadeSystem",methodName:"lateUpdate"}),u.destroy();else{var s=u.body;if(null!=s){if(s.enable&&s.dirty){if(s.isMoving){var r=0,a=0!=s.overlapX||0!=s.overlapY;if(s.moveDuration>0)s.moveTimer+=this.world.elapsedMS,r=s.moveTimer/s.moveDuration;else{s.moveTarget.x2=s.x,s.moveTarget.y2=s.y;var c=s.moveTarget;r=Math.sqrt((c.x2-c.x1)*(c.x2-c.x1)+(c.y2-c.y1)*(c.y2-c.y1))/s.moveDistance}var h=!1;null!=s.movementCallback&&(h=s.movementCallback(s,s.velocityX,s.velocityY,r));(a||r>=1||h)&&(s.isMoving&&(s.isMoving=!1,(r>=1||s.stopVelocityOnCollide&&a)&&(s.velocityX=0,s.velocityY=0),null!=s.onMoveComplete&&s.onMoveComplete(s,0!=s.overlapX||0!=s.overlapY)),!1)}s.dirty=!1,s.x-s.prevX<0?s.facing=1:s.x-s.prevX>0&&(s.facing=2),s.y-s.prevY<0?s.facing=3:s.y-s.prevY>0&&(s.facing=4),s.moves&&(s._dx=s.x-s.prevX,s._dy=s.y-s.prevY,0!=s.maxDeltaX&&0!=s._dx&&(s._dx<0&&s._dx<-s.maxDeltaX?s._dx=-s.maxDeltaX:s._dx>0&&s._dx>s.maxDeltaX&&(s._dx=s.maxDeltaX)),0!=s.maxDeltaY&&0!=s._dy&&(s._dy<0&&s._dy<-s.maxDeltaY?s._dy=-s.maxDeltaY:s._dy>0&&s._dy>s.maxDeltaY&&(s._dy=s.maxDeltaY)),s._reset=!0),s.centerX=s.x+s.halfWidth,s.centerY=s.y+s.halfHeight,s.prevX=s.x,s.prevY=s.y}l.set_x(l.x+s._dx),l.set_y(l.y+s._dy),s.allowRotation&&l.set_rotation(l.rotation+(s.rotation-s.preRotation))}}}}for(this._freezeItems=!1;this._destroyedItems.length>0;){var u=this._destroyedItems.pop();HxOverrides.remove(this.items,u)}for(;this._createdItems.length>0;){u=this._createdItems.pop();this.items.push(u)}}},flushDestroyedItems:function(){for(;this._destroyedItems.length>0;){var e=this._destroyedItems.pop();HxOverrides.remove(this.items,e)}},flushCreatedItems:function(){for(;this._createdItems.length>0;){var e=this._createdItems.pop();this.items.push(e)}},unbindEvents:function(){ceramic_System.prototype.unbindEvents.call(this),this.offUpdate()},__class__:ceramic_ArcadeSystem});var ceramic_ArcadeWorld=function(e,n,t,i){arcade_World.call(this,e,n,t,i)};t["ceramic.ArcadeWorld"]=ceramic_ArcadeWorld,ceramic_ArcadeWorld.__name__="ceramic.ArcadeWorld",ceramic_ArcadeWorld.__super__=arcade_World,ceramic_ArcadeWorld.prototype=$extend(arcade_World.prototype,{getCollidableType:function(e){var n=e.__class__;switch(n){case arcade_Body:return arcade_Body;case arcade_Group:return arcade_Group;case ceramic_Group:return ceramic_Group;case ceramic_Mesh:case ceramic_Quad:case ceramic_Visual:return ceramic_Visual;default:return e instanceof ceramic_Visual?ceramic_Visual:e instanceof ceramic_Group?ceramic_Group:e instanceof arcade_Body?arcade_Body:e instanceof arcade_Group?arcade_Group:n}},overlap:function(e,n,t,i){if(null==n)return this.getCollidableType(e)==ceramic_Group&&this.overlapCeramicGroupVsItself(e,t,i);switch(this.getCollidableType(e)){case arcade_Body:switch(this.getCollidableType(n)){case arcade_Body:return this.overlapBodyVsBody(e,n,t,i);case arcade_Group:return this.overlapBodyVsGroup(e,n,t,i);case ceramic_Group:return this.overlapBodyVsCeramicGroup(e,n,t,i);case ceramic_Visual:var l=n;return this.overlapBodyVsBody(e,null!=l.arcade?l.arcade.body:null,t,i)}break;case arcade_Group:switch(this.getCollidableType(n)){case arcade_Body:return this.overlapBodyVsGroup(n,e,t,i);case arcade_Group:return this.overlapGroupVsGroup(e,n,t,i);case ceramic_Group:return this.overlapCeramicGroupVsArcadeGroup(n,e,t,i);case ceramic_Visual:l=n;return this.overlapBodyVsGroup(null!=l.arcade?l.arcade.body:null,e,t,i)}break;case ceramic_Group:switch(this.getCollidableType(n)){case arcade_Body:return this.overlapBodyVsCeramicGroup(n,e,t,i);case arcade_Group:return this.overlapCeramicGroupVsArcadeGroup(e,n,t,i);case ceramic_Group:return this.overlapCeramicGroupVsCeramicGroup(e,n,t,i);case ceramic_Visual:l=n;return this.overlapBodyVsCeramicGroup(null!=l.arcade?l.arcade.body:null,e,t,i)}break;case ceramic_Visual:switch(this.getCollidableType(n)){case arcade_Body:var s=e;return this.overlapBodyVsBody(null!=s.arcade?s.arcade.body:null,n,t,i);case arcade_Group:s=e;return this.overlapBodyVsGroup(null!=s.arcade?s.arcade.body:null,n,t,i);case ceramic_Group:s=e;return this.overlapBodyVsCeramicGroup(null!=s.arcade?s.arcade.body:null,n,t,i);case ceramic_Visual:s=e,l=n;return this.overlapBodyVsBody(null!=s.arcade?s.arcade.body:null,null!=l.arcade?l.arcade.body:null,t,i)}}return arcade_World.prototype.overlap.call(this,e,n,t,i)},overlapCeramicGroupVsCeramicGroup:function(e,n,t,i){0==e.sortDirection||-1==e.sortDirection&&0==this.sortDirection||this.sortCeramicGroup(e),0==n.sortDirection||-1==n.sortDirection&&0==this.sortDirection||this.sortCeramicGroup(n),this._total=0;for(var l=e.items,s=n.items,r=0,a=l.length;r<a;){var c=l[r++],h=null!=c.arcade?c.arcade.body:null;if(null!=h)for(var u=0,o=s.length;u<o;){var _=s[u++],d=null!=_.arcade?_.arcade.body:null;h!=d&&null!=d&&this.separate(h,d,i,!0)&&(null!=t&&t(h,d),this._total++)}}return this._total>0},overlapCeramicGroupVsArcadeGroup:function(e,n,t,i){0==e.sortDirection||-1==e.sortDirection&&0==this.sortDirection||this.sortCeramicGroup(e),0==n.sortDirection||-1==n.sortDirection&&0==this.sortDirection||this.sort(n),this._total=0;for(var l=e.items,s=n.objects,r=0,a=l.length;r<a;){var c=l[r++],h=null!=c.arcade?c.arcade.body:null;if(null!=h)for(var u=0,o=s.length;u<o;){var _=s[u++];h!=_&&null!=_&&this.separate(h,_,i,!0)&&(null!=t&&t(h,_),this._total++)}}return this._total>0},overlapCeramicGroupVsItself:function(e,n,t){0==e.sortDirection||-1==e.sortDirection&&0==this.sortDirection||this.sortCeramicGroup(e),this._total=0;for(var i=e.items,l=0,s=i.length;l<s;){var r=i[l++],a=null!=r.arcade?r.arcade.body:null;if(null!=a)for(var c=0,h=i.length;c<h;){var u=i[c++],o=null!=u.arcade?u.arcade.body:null;a!=o&&null!=o&&this.separate(a,o,t,!0)&&(null!=n&&n(a,o),this._total++)}}return this._total>0},overlapBodyVsCeramicGroup:function(e,n,t,i){0==n.sortDirection||-1==n.sortDirection&&0==this.sortDirection||this.sortCeramicGroup(n),this._total=0;var l=n.items,s=null,r=null;if(!this.skipQuadTree&&l.length>this.maxObjectsWithoutQuadTree){r=this.getQuadTree();for(var a=0,c=l.length;a<c;){var h=l[_=a++],u=null!=h.arcade?h.arcade.body:null;null!=u&&r.insert(u)}s=r.retrieve(e.x,e.y,e.x+e.width,e.y+e.height)}for(a=0,c=l.length;a<c;){var o,_=a++;if(null!=s)o=s[_];else{var d=l[_];o=null!=d.arcade?d.arcade.body:null}e!=o&&null!=o&&this.separate(e,o,i,!0)&&(null!=t&&t(e,o),this._total++)}return null!=r&&(r.busy=!1),this._total>0},collide:function(e,n,t,i){if(null!=n){switch(this.getCollidableType(e)){case arcade_Body:switch(this.getCollidableType(n)){case arcade_Body:return this.collideBodyVsBody(e,n,t,i);case arcade_Group:return this.collideBodyVsGroup(e,n,t,i);case ceramic_Group:return this.collideBodyVsCeramicGroup(e,n,t,i);case ceramic_Visual:var l=n;return this.collideBodyVsBody(e,null!=l.arcade?l.arcade.body:null,t,i)}break;case arcade_Group:switch(this.getCollidableType(n)){case arcade_Body:return this.collideBodyVsGroup(n,e,t,i);case arcade_Group:return this.collideGroupVsGroup(e,n,t,i);case ceramic_Group:return this.collideCeramicGroupVsArcadeGroup(n,e,t,i);case ceramic_Visual:l=n;return this.collideBodyVsGroup(null!=l.arcade?l.arcade.body:null,e,t,i)}break;case ceramic_Group:switch(this.getCollidableType(n)){case arcade_Body:return this.collideBodyVsCeramicGroup(n,e,t,i);case arcade_Group:return this.collideCeramicGroupVsArcadeGroup(e,n,t,i);case ceramic_Group:return this.collideCeramicGroupVsCeramicGroup(e,n,t,i);case ceramic_Visual:l=n;return this.collideBodyVsCeramicGroup(null!=l.arcade?l.arcade.body:null,e,t,i)}break;case ceramic_Visual:switch(this.getCollidableType(n)){case arcade_Body:var s=e;return this.collideBodyVsBody(null!=s.arcade?s.arcade.body:null,n,t,i);case arcade_Group:s=e;return this.collideBodyVsGroup(e,n,t,i);case ceramic_Group:s=e;return this.collideBodyVsCeramicGroup(null!=s.arcade?s.arcade.body:null,n,t,i);case ceramic_Visual:s=e,l=n;return this.collideBodyVsBody(null!=s.arcade?s.arcade.body:null,null!=l.arcade?l.arcade.body:null,t,i)}}return arcade_World.prototype.collide.call(this,e,n,t,i)}switch(this.getCollidableType(e)){case arcade_Group:return this.collideGroupVsItself(e,t,i);case ceramic_Group:return this.collideCeramicGroupVsItself(e,t,i);default:return!1}},collideCeramicGroupVsCeramicGroup:function(e,n,t,i){0==e.sortDirection||-1==e.sortDirection&&0==this.sortDirection||this.sortCeramicGroup(e),0==n.sortDirection||-1==n.sortDirection&&0==this.sortDirection||this.sortCeramicGroup(n),this._total=0;for(var l=e.items,s=n.items,r=0,a=l.length;r<a;){var c=l[r++],h=null!=c.arcade?c.arcade.body:null;if(null!=h)for(var u=0,o=s.length;u<o;){var _=s[u++],d=null!=_.arcade?_.arcade.body:null;h!=d&&null!=d&&this.separate(h,d,i,!1)&&(null!=t&&t(h,d),this._total++)}}return this._total>0},collideCeramicGroupVsArcadeGroup:function(e,n,t,i){0==e.sortDirection||-1==e.sortDirection&&0==this.sortDirection||this.sortCeramicGroup(e),0==n.sortDirection||-1==n.sortDirection&&0==this.sortDirection||this.sort(n),this._total=0;for(var l=e.items,s=n.objects,r=0,a=l.length;r<a;){var c=l[r++],h=null!=c.arcade?c.arcade.body:null;if(null!=h)for(var u=0,o=s.length;u<o;){var _=s[u++];h!=_&&null!=_&&this.separate(h,_,i,!1)&&(null!=t&&t(h,_),this._total++)}}return this._total>0},collideCeramicGroupVsItself:function(e,n,t){0==e.sortDirection||-1==e.sortDirection&&0==this.sortDirection||this.sortCeramicGroup(e),this._total=0;for(var i=e.items,l=0,s=i.length;l<s;){var r=i[l++],a=null!=r.arcade?r.arcade.body:null;if(null!=a)for(var c=0,h=i.length;c<h;){var u=i[c++],o=null!=u.arcade?u.arcade.body:null;a!=o&&null!=a&&null!=o&&this.separate(a,o,t,!1)&&(null!=n&&n(a,o),this._total++)}}return this._total>0},collideBodyVsCeramicGroup:function(e,n,t,i){0==n.sortDirection||-1==n.sortDirection&&0==this.sortDirection||this.sortCeramicGroup(n),this._total=0;var l=n.items,s=null,r=null;if(!this.skipQuadTree&&l.length>this.maxObjectsWithoutQuadTree){r=this.getQuadTree();for(var a=0,c=l.length;a<c;){var h=l[_=a++],u=null!=h.arcade?h.arcade.body:null;null!=u&&r.insert(u)}s=r.retrieve(e.x,e.y,e.x+e.width,e.y+e.height)}for(a=0,c=l.length;a<c;){var o,_=a++;if(null!=s)o=s[_];else{var d=l[_];o=null!=d.arcade?d.arcade.body:null}e!=o&&null!=o&&this.separate(e,o,i,!1)&&(null!=t&&t(e,o),this._total++)}return null!=r&&(r.busy=!1),this._total>0},sortCeramicGroup:function(e,n){if(null==n&&(n=-1),-1!=e.sortDirection?n=e.sortDirection:-1==n&&(n=this.sortDirection),1==n){var t=e.items;ceramic_ArcadeSortGroupLeftRight.rec(t,0,t.length)}else if(2==n){t=e.items;ceramic_ArcadeSortGroupRightLeft.rec(t,0,t.length)}else if(3==n){t=e.items;ceramic_ArcadeSortGroupTopBottom.rec(t,0,t.length)}else if(4==n){t=e.items;ceramic_ArcadeSortGroupBottomTop.rec(t,0,t.length)}},__class__:ceramic_ArcadeWorld});var ceramic_ArrayPool=function(e){this.nextFree=0,this.arrays=null,this.arrayLengths=e};t["ceramic.ArrayPool"]=ceramic_ArrayPool,ceramic_ArrayPool.__name__="ceramic.ArrayPool",ceramic_ArrayPool.pool=function(e){return e<=10?ceramic_ArrayPool.dynPool10:e<=100?ceramic_ArrayPool.dynPool100:e<=1e3?ceramic_ArrayPool.dynPool1000:e<=1e4?ceramic_ArrayPool.dynPool10000:e<=1e5?ceramic_ArrayPool.dynPool100000:(ceramic_ArrayPool.didNotifyLargePool||(ceramic_ArrayPool.didNotifyLargePool=!0,ceramic_Timer.schedule(null,.5,(function(){ceramic_ArrayPool.didNotifyLargePool=!1}),-1),ceramic_App.app.logger.warning("You should avoid asking a pool for arrays with more than 100000 elements (asked: "+e+") because it needs allocating a temporary one-time pool each time for that.",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ArrayPool.hx",lineNumber:45,className:"ceramic.ArrayPool",methodName:"pool"})),new ceramic_ArrayPool(e))},ceramic_ArrayPool.prototype={arrays:null,nextFree:null,arrayLengths:null,get:function(){if(null==this.arrays)this.arrays=new ceramic_ReusableArray(ceramic_ArrayPool.ALLOC_STEP);else if(this.nextFree>=this.arrays.length){var e=this.arrays;e.set_length(e.length+ceramic_ArrayPool.ALLOC_STEP)}var n=this.arrays.vector[this.nextFree];for(null==n&&(n=new ceramic_ReusableArray(this.arrayLengths),this.arrays.vector[this.nextFree]=n),n._poolIndex=this.nextFree;this.nextFree++,this.nextFree!=this.arrays.length;){var t=this.arrays.vector[this.nextFree];if(null==t)break;if(-1==t._poolIndex)break}return n},release:function(e){var n=e._poolIndex;e._poolIndex=-1,this.nextFree>n&&(this.nextFree=n);for(var t=0,i=e.length;t<i;){var l=t++;e.vector[l]=null}},__class__:ceramic_ArrayPool};var ceramic_Assert=function(){};t["ceramic.Assert"]=ceramic_Assert,ceramic_Assert.__name__="ceramic.Assert";var ceramic_Asset=function(e,n,t){this.hotReload=!1,this.handleTexturesDensityChange=!1,this.unobservedStatus=h.NONE,this.statusAutoruns=null,this.refCount=0,this.assets=null,this.density=1,this.observedDirty=!1,ceramic_Entity.call(this),this.kind=e,this.options=null!=t?t:{},this.set_name(n),this.computePath()};t["ceramic.Asset"]=ceramic_Asset,ceramic_Asset.__name__="ceramic.Asset",ceramic_Asset.__interfaces__=[tracker_Observable],ceramic_Asset.__super__=ceramic_Entity,ceramic_Asset.prototype=$extend(ceramic_Entity.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,a=this.__cbOnObservedDirty.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[c],++s):--t}if(null!=this.__cbOnceObservedDirty){var h=null,u=null;for(r=0,a=this.__cbOnceObservedDirty.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceObservedDirty[c],this.__cbOnceObservedDirty[c]=null;var o=this.__cbOnceOwnerUnbindObservedDirty[c];this.__cbOnceOwnerUnbindObservedDirty[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindObservedDirty[c]),u.push(this.__cbOnceObservedDirty[c])}this.__cbOnceOwnerUnbindObservedDirty=h,this.__cbOnceObservedDirty=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},observedDirty:null,__cbOnComplete:null,__cbOnceComplete:null,__cbOnOwnerUnbindComplete:null,__cbOnceOwnerUnbindComplete:null,emitComplete:function(e){e&&null!=this.owner&&this.owner.emitUpdate(this);var n=0;if(null!=this.__cbOnComplete&&(n+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(n+=this.__cbOnceComplete.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnComplete)for(var s=0,r=this.__cbOnComplete.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnComplete[a],++l):--n}if(null!=this.__cbOnceComplete){var c=null,h=null;for(s=0,r=this.__cbOnceComplete.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceComplete[a],this.__cbOnceComplete[a]=null;var u=this.__cbOnceOwnerUnbindComplete[a];this.__cbOnceOwnerUnbindComplete[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindComplete[a]),h.push(this.__cbOnceComplete[a])}this.__cbOnceOwnerUnbindComplete=c,this.__cbOnceComplete=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(n)},onceComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(n)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(s=this.__cbOnOwnerUnbindComplete[n])&&s(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindComplete[n])&&s(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindComplete[l])&&s()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindComplete[l])&&s()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&this.__cbOnComplete.length>0||null!=this.__cbOnceComplete&&this.__cbOnceComplete.length>0},kind:null,name:null,path:null,allPaths:null,density:null,owner:null,runtimeAssets:null,options:null,assets:null,refCount:null,statusAutoruns:null,get_status:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.statusAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.statusAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedStatus},set_status:function(e){var n=this.unobservedStatus;if(this.unobservedStatus=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n);var t=this.statusAutoruns;if(null!=t){this.statusAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateStatus:function(){var e=this.unobservedStatus;this.emitStatusChange(e,e);var n=this.statusAutoruns;if(null!=n){this.statusAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedStatus:null,__cbOnStatusChange:null,__cbOnceStatusChange:null,__cbOnOwnerUnbindStatusChange:null,__cbOnceOwnerUnbindStatusChange:null,emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnStatusChange)for(var r=0,a=this.__cbOnStatusChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnStatusChange[c],++s):--t}if(null!=this.__cbOnceStatusChange){var h=null,u=null;for(r=0,a=this.__cbOnceStatusChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceStatusChange[c],this.__cbOnceStatusChange[c]=null;var o=this.__cbOnceOwnerUnbindStatusChange[c];this.__cbOnceOwnerUnbindStatusChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindStatusChange[c]),u.push(this.__cbOnceStatusChange[c])}this.__cbOnceOwnerUnbindStatusChange=h,this.__cbOnceStatusChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onStatusChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event statusChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStatusChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(n)},onceStatusChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event statusChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStatusChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(n)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStatusChange[n])&&s(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStatusChange[n])&&s(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStatusChange[l])&&s()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindStatusChange[l])&&s()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&this.__cbOnStatusChange.length>0||null!=this.__cbOnceStatusChange&&this.__cbOnceStatusChange.length>0},handleTexturesDensityChange:null,hotReload:null,load:function(){this.set_status(h.BROKEN),ceramic_App.app.logger.error("This asset as no load implementation.",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Asset.hx",lineNumber:95,className:"ceramic.Asset",methodName:"load"}),this.emitComplete(!1)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.owner&&(this.owner.removeAsset(this),this.owner=null),null!=this.assets&&(this.assets.destroy(),this.assets=null))},computePath:function(n,t,i){if(null==i&&null!=this.runtimeAssets&&(i=this.runtimeAssets),null==n)switch(this.kind){case"atlas":n=["atlas"];break;case"database":n=["csv"];break;case"font":n=["fnt"];break;case"fragments":n=["fragments"];break;case"image":n=["png","jpg","jpeg"];break;case"shader":n=["frag","vert"];break;case"sound":ceramic_App.app.backend.info;if(null!=backend_Info._soundExtensions)n=[].concat(backend_Info._soundExtensions);else{backend_Info._soundExtensions=[];var l=new Audio,s=null!=e.navigator?e.navigator.userAgent:"",r=backend_Info.RE_OPERA.match(s)&&parseInt(backend_Info.RE_OPERA.matched(0).split("/")[1],10)<33,a=-1!=s.indexOf("Safari")&&-1==s.indexOf("Chrome"),c=backend_Info.RE_SAFARI_VERSION.match(s),h=(a&&c&&parseInt(backend_Info.RE_SAFARI_VERSION.matched(1),10),l.canPlayType('audio/ogg; codecs="vorbis"'));null!=h&&"no"!=h&&""!=h&&backend_Info._soundExtensions.push("ogg");var u=l.canPlayType("audio/mpeg;"),o=l.canPlayType("audio/mp3;");!r&&(null!=u&&"no"!=u&&""!=u||null!=o&&"no"!=o&&""!=o)&&backend_Info._soundExtensions.push("mp3");var _=l.canPlayType("audio/x-flac;"),d=l.canPlayType("audio/flac;");(null!=_&&"no"!=_&&""!=_||null!=d&&"no"!=d&&""!=d)&&backend_Info._soundExtensions.push("flac");var b=l.canPlayType('audio/wav; codecs="1"'),f=l.canPlayType("audio/wav;");(null!=b&&"no"!=b&&""!=b||null!=f&&"no"!=f&&""!=f)&&backend_Info._soundExtensions.push("wav"),n=[].concat(backend_Info._soundExtensions)}break;case"text":n=["txt","json","fnt","atlas"];break;default:n=null}if((null==n||null==t)&&Object.prototype.hasOwnProperty.call(ceramic_Assets.customAssetKinds.h,this.kind)){var O=ceramic_Assets.customAssetKinds.h[this.kind];null==n&&(n=O.extensions),null==t&&(t=O.dir)}null==n&&(n=[]),null==t&&(t=!1);var p=ceramic_App.app.screen.get_texturesDensity(),g=null,m=[],v=null,y=t?null!=i?i.getLists().allDirsByName:ceramic_Assets.allDirsByName:null!=i?i.getLists().allByName:ceramic_Assets.allByName,w=this.name;if(null==g&&null!=w&&ceramic_Path.isAbsolute(w)&&(g=w),n.length>0){for(var U=0;U<n.length;){var C=n[U];if(++U,StringTools.endsWith(w,"."+C)){w=HxOverrides.substr(w,0,w.length-C.length-1);break}}var x=!1;if(Object.prototype.hasOwnProperty.call(y.h,w)){var D=y.h[w];for(U=0;U<n.length;){C=n[U];++U;for(var T=99999999999,A=0;A<D.length;){var S=D[A];++A;var E=ceramic_Assets.decodePath(S);if(E.extension==C){if(!x){var M=Math.abs(p-E.density);M<T&&(T=M,E.density,g=E.path,v=E)}m.push(E.path)}}null!=g&&(x=!0)}}}if(null==g&&(g=w),this.allPaths=m,this.set_path(g),null!=v&&null!=v.flags)for(var F=v.flags.h,P=Object.keys(F),R=P.length,I=0;I<R;){var k=P[I++];Object.prototype.hasOwnProperty.call(this.options,k)||(this.options[k]=v.flags.h[k])}},set_path:function(e){return this.path==e||(this.get_status()==h.READY&&this.set_status(h.NONE),this.path=e,this.density=null==e?1:ceramic_Assets.decodePath(e).density),e},set_name:function(e){return this.name==e||(this.name=e,this.id="asset:"+this.kind+":"+e),e},set_runtimeAssets:function(e){return this.runtimeAssets==e||(this.runtimeAssets=e,this.computePath()),e},set_handleTexturesDensityChange:function(e){return this.handleTexturesDensityChange==e||(this.handleTexturesDensityChange=e,e?ceramic_App.app.screen.onTexturesDensityChange(this,$bind(this,this.texturesDensityDidChange)):ceramic_App.app.screen.offTexturesDensityChange($bind(this,this.texturesDensityDidChange))),e},texturesDensityDidChange:function(e,n){},set_hotReload:function(e){return this.hotReload==e||(this.hotReload=e,e?this.owner.onAssetFilesChange(this,$bind(this,this.assetFilesDidChange)):this.owner.offAssetFilesChange($bind(this,this.assetFilesDidChange))),e},assetFilesDidChange:function(e,n){},toString:function(){var e=this.className();return null!=this.path&&""!=StringTools.trim(this.path)?e+"("+this.name+" "+this.path+")":e+"("+this.name+")"},willEmitComplete:function(e){e&&null!=this.owner&&this.owner.emitUpdate(this)},retain:function(){this.refCount++},release:function(){0==this.refCount?ceramic_App.app.logger.warning("Called release() on asset "+Std.string(this)+" when its refCount is already 0 (destroyed="+Std.string(this._lifecycleState<0)+")",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Asset.hx",lineNumber:365,className:"ceramic.Asset",methodName:"release"}):this.refCount--},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange(),this.offComplete()},__class__:ceramic_Asset,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_hotReload:"set_hotReload",set_handleTexturesDensityChange:"set_handleTexturesDensityChange",set_status:"set_status",get_status:"get_status",set_runtimeAssets:"set_runtimeAssets",set_path:"set_path",set_name:"set_name"})});var ceramic_AssetPathInfo=function(e){this.path=e;var n=e.lastIndexOf(".");this.extension=HxOverrides.substr(e,n+1,null).toLowerCase();var t=HxOverrides.substr(e,0,n),i=t.lastIndexOf("@");if(this.density=1,-1==i)i=n;else for(var l=0,s=HxOverrides.substr(t,i+1,null).split("+");l<s.length;){var r=s[l];++l;var a=!0;if(StringTools.endsWith(r,"x")){var c=parseFloat(HxOverrides.substr(r,0,r.length-1));isNaN(c)||(this.density=c,a=!1)}if(a){null==this.flags&&(this.flags=new haxe_ds_StringMap);var h=r.indexOf("=");if(-1==h)this.flags.h[r]=!0;else{var u=HxOverrides.substr(r,0,h),o=HxOverrides.substr(r,h+1,null);this.flags.h[u]=o}}}this.name=HxOverrides.substr(e,0,Math.min(i,n))};t["ceramic.AssetPathInfo"]=ceramic_AssetPathInfo,ceramic_AssetPathInfo.__name__="ceramic.AssetPathInfo",ceramic_AssetPathInfo.prototype={density:null,extension:null,name:null,path:null,flags:null,toString:function(){return""+Std.string({extension:this.extension,name:this.name,path:this.path,density:this.density})},__class__:ceramic_AssetPathInfo};var h=i["ceramic.AssetStatus"]={__ename__:"ceramic.AssetStatus",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"ceramic.AssetStatus",toString:$estr},LOADING:{_hx_name:"LOADING",_hx_index:1,__enum__:"ceramic.AssetStatus",toString:$estr},READY:{_hx_name:"READY",_hx_index:2,__enum__:"ceramic.AssetStatus",toString:$estr},BROKEN:{_hx_name:"BROKEN",_hx_index:3,__enum__:"ceramic.AssetStatus",toString:$estr}};h.__constructs__=[h.NONE,h.LOADING,h.READY,h.BROKEN];var ceramic_AtlasAsset=function(e,n){this.unobservedAtlas=null,this.atlasAutoruns=null,ceramic_Asset.call(this,"atlas",e,n),this.set_handleTexturesDensityChange(!0),this.assets=new ceramic_Assets};t["ceramic.AtlasAsset"]=ceramic_AtlasAsset,ceramic_AtlasAsset.__name__="ceramic.AtlasAsset",ceramic_AtlasAsset.__super__=ceramic_Asset,ceramic_AtlasAsset.prototype=$extend(ceramic_Asset.prototype,{__cbOnReplaceAtlas:null,__cbOnceReplaceAtlas:null,__cbOnOwnerUnbindReplaceAtlas:null,__cbOnceOwnerUnbindReplaceAtlas:null,emitReplaceAtlas:function(e,n){var t=0;if(null!=this.__cbOnReplaceAtlas&&(t+=this.__cbOnReplaceAtlas.length),null!=this.__cbOnceReplaceAtlas&&(t+=this.__cbOnceReplaceAtlas.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnReplaceAtlas)for(var r=0,a=this.__cbOnReplaceAtlas.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnReplaceAtlas[c],++s):--t}if(null!=this.__cbOnceReplaceAtlas){var h=null,u=null;for(r=0,a=this.__cbOnceReplaceAtlas.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceReplaceAtlas[c],this.__cbOnceReplaceAtlas[c]=null;var o=this.__cbOnceOwnerUnbindReplaceAtlas[c];this.__cbOnceOwnerUnbindReplaceAtlas[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindReplaceAtlas[c]),u.push(this.__cbOnceReplaceAtlas[c])}this.__cbOnceOwnerUnbindReplaceAtlas=h,this.__cbOnceReplaceAtlas=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onReplaceAtlas:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceAtlas because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceAtlas(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReplaceAtlas&&(this.__cbOnOwnerUnbindReplaceAtlas=[]),this.__cbOnOwnerUnbindReplaceAtlas.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReplaceAtlas&&(this.__cbOnOwnerUnbindReplaceAtlas=[]),this.__cbOnOwnerUnbindReplaceAtlas.push(null);null==this.__cbOnReplaceAtlas&&(this.__cbOnReplaceAtlas=[]),this.__cbOnReplaceAtlas.push(n)},onceReplaceAtlas:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceAtlas because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceAtlas(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReplaceAtlas&&(this.__cbOnceOwnerUnbindReplaceAtlas=[]),this.__cbOnceOwnerUnbindReplaceAtlas.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReplaceAtlas&&(this.__cbOnceOwnerUnbindReplaceAtlas=[]),this.__cbOnceOwnerUnbindReplaceAtlas.push(null);null==this.__cbOnceReplaceAtlas&&(this.__cbOnceReplaceAtlas=[]),this.__cbOnceReplaceAtlas.push(n)},offReplaceAtlas:function(e){if(null!=e){var n;null!=this.__cbOnReplaceAtlas&&-1!=(n=this.__cbOnReplaceAtlas.indexOf(e))&&(this.__cbOnReplaceAtlas.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplaceAtlas[n])&&s(),this.__cbOnOwnerUnbindReplaceAtlas.splice(n,1)),null!=this.__cbOnceReplaceAtlas&&-1!=(n=this.__cbOnceReplaceAtlas.indexOf(e))&&(this.__cbOnceReplaceAtlas.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplaceAtlas[n])&&s(),this.__cbOnceOwnerUnbindReplaceAtlas.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceAtlas){for(var t=0,i=this.__cbOnOwnerUnbindReplaceAtlas.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplaceAtlas[l])&&s()}this.__cbOnOwnerUnbindReplaceAtlas=null}if(null!=this.__cbOnceOwnerUnbindReplaceAtlas){for(t=0,i=this.__cbOnceOwnerUnbindReplaceAtlas.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindReplaceAtlas[l])&&s()}this.__cbOnceOwnerUnbindReplaceAtlas=null}this.__cbOnReplaceAtlas=null,this.__cbOnceReplaceAtlas=null}},listensReplaceAtlas:function(){return null!=this.__cbOnReplaceAtlas&&this.__cbOnReplaceAtlas.length>0||null!=this.__cbOnceReplaceAtlas&&this.__cbOnceReplaceAtlas.length>0},atlasAutoruns:null,get_atlas:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.atlasAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.atlasAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedAtlas},set_atlas:function(e){var n=this.unobservedAtlas;if(this.unobservedAtlas=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitAtlasChange(e,n);var t=this.atlasAutoruns;if(null!=t){this.atlasAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateAtlas:function(){var e=this.unobservedAtlas;this.emitAtlasChange(e,e);var n=this.atlasAutoruns;if(null!=n){this.atlasAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedAtlas:null,__cbOnAtlasChange:null,__cbOnceAtlasChange:null,__cbOnOwnerUnbindAtlasChange:null,__cbOnceOwnerUnbindAtlasChange:null,emitAtlasChange:function(e,n){var t=0;if(null!=this.__cbOnAtlasChange&&(t+=this.__cbOnAtlasChange.length),null!=this.__cbOnceAtlasChange&&(t+=this.__cbOnceAtlasChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnAtlasChange)for(var r=0,a=this.__cbOnAtlasChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnAtlasChange[c],++s):--t}if(null!=this.__cbOnceAtlasChange){var h=null,u=null;for(r=0,a=this.__cbOnceAtlasChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceAtlasChange[c],this.__cbOnceAtlasChange[c]=null;var o=this.__cbOnceOwnerUnbindAtlasChange[c];this.__cbOnceOwnerUnbindAtlasChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindAtlasChange[c]),u.push(this.__cbOnceAtlasChange[c])}this.__cbOnceOwnerUnbindAtlasChange=h,this.__cbOnceAtlasChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onAtlasChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event atlasChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offAtlasChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindAtlasChange&&(this.__cbOnOwnerUnbindAtlasChange=[]),this.__cbOnOwnerUnbindAtlasChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindAtlasChange&&(this.__cbOnOwnerUnbindAtlasChange=[]),this.__cbOnOwnerUnbindAtlasChange.push(null);null==this.__cbOnAtlasChange&&(this.__cbOnAtlasChange=[]),this.__cbOnAtlasChange.push(n)},onceAtlasChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event atlasChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offAtlasChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindAtlasChange&&(this.__cbOnceOwnerUnbindAtlasChange=[]),this.__cbOnceOwnerUnbindAtlasChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindAtlasChange&&(this.__cbOnceOwnerUnbindAtlasChange=[]),this.__cbOnceOwnerUnbindAtlasChange.push(null);null==this.__cbOnceAtlasChange&&(this.__cbOnceAtlasChange=[]),this.__cbOnceAtlasChange.push(n)},offAtlasChange:function(e){if(null!=e){var n;null!=this.__cbOnAtlasChange&&-1!=(n=this.__cbOnAtlasChange.indexOf(e))&&(this.__cbOnAtlasChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAtlasChange[n])&&s(),this.__cbOnOwnerUnbindAtlasChange.splice(n,1)),null!=this.__cbOnceAtlasChange&&-1!=(n=this.__cbOnceAtlasChange.indexOf(e))&&(this.__cbOnceAtlasChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAtlasChange[n])&&s(),this.__cbOnceOwnerUnbindAtlasChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAtlasChange){for(var t=0,i=this.__cbOnOwnerUnbindAtlasChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAtlasChange[l])&&s()}this.__cbOnOwnerUnbindAtlasChange=null}if(null!=this.__cbOnceOwnerUnbindAtlasChange){for(t=0,i=this.__cbOnceOwnerUnbindAtlasChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindAtlasChange[l])&&s()}this.__cbOnceOwnerUnbindAtlasChange=null}this.__cbOnAtlasChange=null,this.__cbOnceAtlasChange=null}},listensAtlasChange:function(){return null!=this.__cbOnAtlasChange&&this.__cbOnAtlasChange.length>0||null!=this.__cbOnceAtlasChange&&this.__cbOnceAtlasChange.length>0},load:function(){var e=this;null!=this.owner&&(this.assets.inheritRuntimeAssetsFromAssets(this.owner),this.assets.loadMethod=this.owner.loadMethod,this.assets.scheduleMethod=this.owner.scheduleMethod,this.assets.delayBetweenXAssets=this.owner.delayBetweenXAssets);for(var n=[],t=this.assets.iterator();t.hasNext();){var i=t.next();n.push(i)}if(this.set_status(h.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load atlas asset if path is undefined.",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:46,className:"ceramic.AtlasAsset",methodName:"load"}),this.set_status(h.BROKEN),void this.emitComplete(!1);ceramic_App.app.logger.info("Load atlas "+this.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:52,className:"ceramic.AtlasAsset",methodName:"load"}),this.assets.runtimeAssets=this.runtimeAssets,(t=new ceramic_TextAsset(this.name)).set_handleTexturesDensityChange(!1),t.set_path(this.path),this.assets.addAsset(t),this.assets.onceComplete(this,(function(i){var l=t.get_text();if(null!=l)try{var s=ceramic_TextureAtlasParser.parse(l);s.id="atlas:"+e.path;for(var r=[],a=0,c=s.pages.length;a<c;){var u=a++,o=s.pages[u].name,_=ceramic_Path.directory(e.path);null!=_&&_.length>0&&(o=ceramic_Path.join([_,o]));var d=ceramic_Assets.decodePath(o),b=new ceramic_ImageAsset(d.name);b.set_handleTexturesDensityChange(!1),b.set_path(d.path),e.assets.addAsset(b),r.push(b)}e.assets.onceComplete(e,(function(t){if(t){for(var i=0,l=r.length;i<l;){var a=i++,c=r[a];s.pages[a].set_texture(c.get_texture())}s.computeFrames();var u=e.get_atlas();if(s.asset=e,e.set_atlas(s),null!=u){e.emitReplaceAtlas(e.get_atlas(),u);for(i=0,l=[].concat(ceramic_App.app.visuals);i<l.length;){var o=l[i];if(++i,o._lifecycleState>=0&&null!=o.asQuad){var _=o.asQuad;if(null!=_.tile&&_.tile instanceof ceramic_TextureAtlasRegion){var d=_.tile;if(null!=d&&d.atlas==u){var b=d.name;if(null!=b){var f=s.region(b);null!=f?_.set_tile(f):_.set_tile(null)}else _.set_tile(null)}}}}u.asset=null,u.destroy()}for(i=0;i<n.length;){c=n[i];if(++i,c instanceof ceramic_ImageAsset){var O=c;-1==r.indexOf(O)&&c.destroy()}else c.destroy()}e.set_status(h.READY),e.emitComplete(!0),e.handleTexturesDensityChange&&e.checkTexturesDensity()}else e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to load textures for atlas at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:177,className:"ceramic.AtlasAsset",methodName:"load"}),e.emitComplete(!1)})),e.assets.load(null,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:183,className:"ceramic.AtlasAsset",methodName:"load"})}catch(a){e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to decode atlas data at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:187,className:"ceramic.AtlasAsset",methodName:"load"}),e.emitComplete(!1)}else e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to load atlas data at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:193,className:"ceramic.AtlasAsset",methodName:"load"}),e.emitComplete(!1)})),this.assets.load(null,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:198,className:"ceramic.AtlasAsset",methodName:"load"})},texturesDensityDidChange:function(e,n){this.get_status()==h.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e=this.path;this.computePath(),e!=this.path&&(ceramic_App.app.logger.info("Reload atlas ("+e+" -> "+this.path+")",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:219,className:"ceramic.AtlasAsset",methodName:"checkTexturesDensity"}),this.load())},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload atlas (file has changed)",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:240,className:"ceramic.AtlasAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),null!=this.get_atlas()&&(this.get_atlas().destroy(),this.set_atlas(null)))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offReplaceAtlas(),this.offAtlasChange()},__class__:ceramic_AtlasAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_atlas:"set_atlas",get_atlas:"get_atlas"})});var ceramic_Audio=function(){ceramic_Entity.call(this),this.mixers=new ceramic_IntMap,this.mixers.exists(0)||this.mixers.set(0,new ceramic_AudioMixer(0))};t["ceramic.Audio"]=ceramic_Audio,ceramic_Audio.__name__="ceramic.Audio",ceramic_Audio.__super__=ceramic_Entity,ceramic_Audio.prototype=$extend(ceramic_Entity.prototype,{mixers:null,initMixerIfNeeded:function(e){this.mixers.exists(e)||this.mixers.set(e,new ceramic_AudioMixer(e))},mixer:function(e){this.mixers.exists(e)||this.mixers.set(e,new ceramic_AudioMixer(e));var n=this.mixers,t=n._keys.intMap.h[0|e];return(e=null!=t?t:0)>=2?n.values[e-2]:ceramic_IntMap.RET_NULL},__class__:ceramic_Audio});var ceramic_AudioMixer=function(e){this.mute=!1,this.pitch=1,this.pan=0,this.volume=.5,ceramic_Entity.call(this),this.index=e};t["ceramic.AudioMixer"]=ceramic_AudioMixer,ceramic_AudioMixer.__name__="ceramic.AudioMixer",ceramic_AudioMixer.__super__=ceramic_Entity,ceramic_AudioMixer.prototype=$extend(ceramic_Entity.prototype,{volume:null,pan:null,pitch:null,mute:null,index:null,__class__:ceramic_AudioMixer});var ceramic_AutoCollections=function(){};t["ceramic.AutoCollections"]=ceramic_AutoCollections,ceramic_AutoCollections.__name__="ceramic.AutoCollections",ceramic_AutoCollections.__isInterface__=!0;var ceramic_BackgroundQueue=function(e){null==e&&(e=.1),this.pending=[],this.stop=!1,this.runsInBackground=!1,this.checkInterval=.1,ceramic_Entity.call(this),this.checkInterval=.1};t["ceramic.BackgroundQueue"]=ceramic_BackgroundQueue,ceramic_BackgroundQueue.__name__="ceramic.BackgroundQueue",ceramic_BackgroundQueue.__super__=ceramic_Entity,ceramic_BackgroundQueue.prototype=$extend(ceramic_Entity.prototype,{checkInterval:null,runsInBackground:null,stop:null,pending:null,schedule:function(e){ceramic_App.app._onceImmediate(e)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),this.stop=!0)},__class__:ceramic_BackgroundQueue});var ceramic_BezierEasing=function(e,n,t,i){if(this.quadratic=!1,this.cached=!1,this.linearEasing=!1,this.cached&&this.removeFromCache(this.mX1,this.mY1,this.mX2,this.mY2),null==t||null==i?(this.quadratic=!0,this.mQuadraticX1=e,this.mQuadraticX2=t,this.mX1=ceramic_BezierEasing.TWO_THIRD*e,this.mY1=ceramic_BezierEasing.TWO_THIRD*n,this.mX2=1+ceramic_BezierEasing.TWO_THIRD*(e-1),this.mY2=1+ceramic_BezierEasing.TWO_THIRD*(n-1)):(this.quadratic=!1,this.mX1=e,this.mY1=n,this.mX2=t,this.mY2=i),this.mX1==this.mY1&&this.mX2==this.mY2)this.linearEasing=!0;else{this.linearEasing=!1,null==this.sampleValues&&(this.sampleValues=[]);for(var l=0,s=ceramic_BezierEasing.SPLINE_TABLE_SIZE;l<s;){var r=l++,a=r*ceramic_BezierEasing.SAMPLE_STEP_SIZE,c=this.mX1,h=this.mX2;this.sampleValues[r]=(((1-3*h+3*c)*a+(3*h-6*c))*a+3*c)*a}}};t["ceramic.BezierEasing"]=ceramic_BezierEasing,ceramic_BezierEasing.__name__="ceramic.BezierEasing",ceramic_BezierEasing.quadraticToCubicCP1=function(e){return ceramic_BezierEasing.TWO_THIRD*e},ceramic_BezierEasing.quadraticToCubicCP2=function(e){return 1+ceramic_BezierEasing.TWO_THIRD*(e-1)},ceramic_BezierEasing.cacheKey=function(e,n,t,i){return 0|100*e+1e3*n+1e4*t+1e5*i},ceramic_BezierEasing.clearCache=function(){ceramic_BezierEasing.cachedInstances=null,ceramic_BezierEasing.numCachedInstances=0},ceramic_BezierEasing.get=function(e,n,t,i){var l=null==t||null==i,s=l?ceramic_BezierEasing.TWO_THIRD*e:e,r=l?ceramic_BezierEasing.TWO_THIRD*n:n,a=l?1+ceramic_BezierEasing.TWO_THIRD*(e-1):t,c=l?1+ceramic_BezierEasing.TWO_THIRD*(n-1):i,h=null,u=0|100*s+1e3*r+1e4*a+1e5*c;null==ceramic_BezierEasing.cachedInstances&&(ceramic_BezierEasing.cachedInstances=new ceramic_IntMap);var o=ceramic_BezierEasing.cachedInstances,_=o._keys.intMap.h[0|u],d=null!=_?_:0,b=d>=2?o.values[d-2]:ceramic_IntMap.RET_NULL;if(null==b)ceramic_BezierEasing.numCachedInstances>=ceramic_BezierEasing.CACHE_SIZE&&ceramic_BezierEasing.clearCache(),h=new ceramic_BezierEasing(s,r,a,c),ceramic_BezierEasing.cachedInstances.set(u,[h]),ceramic_BezierEasing.numCachedInstances++;else{for(var f=b.length-1;f>=0;){var O=b[f];if(O.mX1==s&&O.mY1==r&&O.mX2==a&&O.mY2==c){h=O;break}--f}null==h&&((h=new ceramic_BezierEasing(e,n,t,i)).cached=!0,b.push(h))}return h},ceramic_BezierEasing.prototype={linearEasing:null,sampleValues:null,cached:null,quadratic:null,mQuadraticX1:null,mQuadraticX2:null,mX1:null,mY1:null,mX2:null,mY2:null,configure:function(e,n,t,i){if(this.cached&&this.removeFromCache(this.mX1,this.mY1,this.mX2,this.mY2),null==t||null==i?(this.quadratic=!0,this.mQuadraticX1=e,this.mQuadraticX2=t,this.mX1=ceramic_BezierEasing.TWO_THIRD*e,this.mY1=ceramic_BezierEasing.TWO_THIRD*n,this.mX2=1+ceramic_BezierEasing.TWO_THIRD*(e-1),this.mY2=1+ceramic_BezierEasing.TWO_THIRD*(n-1)):(this.quadratic=!1,this.mX1=e,this.mY1=n,this.mX2=t,this.mY2=i),this.mX1==this.mY1&&this.mX2==this.mY2)this.linearEasing=!0;else{this.linearEasing=!1,null==this.sampleValues&&(this.sampleValues=[]);for(var l=0,s=ceramic_BezierEasing.SPLINE_TABLE_SIZE;l<s;){var r=l++,a=r*ceramic_BezierEasing.SAMPLE_STEP_SIZE,c=this.mX1,h=this.mX2;this.sampleValues[r]=(((1-3*h+3*c)*a+(3*h-6*c))*a+3*c)*a}}},ease:function(e){if(this.linearEasing)return e;if(0==e)return 0;if(1==e)return 1;for(var n=0,t=1,i=ceramic_BezierEasing.SPLINE_TABLE_SIZE-1;t!=i&&this.sampleValues[t]<=e;)n+=ceramic_BezierEasing.SAMPLE_STEP_SIZE,++t;--t;var l,s=n+(e-this.sampleValues[t])/(this.sampleValues[t+1]-this.sampleValues[t])*ceramic_BezierEasing.SAMPLE_STEP_SIZE,r=this.mX1,a=3*(1-3*(f=this.mX2)+3*r)*s*s+2*(3*f-6*r)*s+3*r;if(a>=ceramic_BezierEasing.NEWTON_MIN_SLOPE)l=this.newtonRaphsonIterate(e,s,this.mX1,this.mX2);else if(0==a)l=s;else{for(var c,h,u=n,o=n+ceramic_BezierEasing.SAMPLE_STEP_SIZE,_=this.mX1,d=this.mX2,b=0;(c=(((1-3*d+3*_)*(h=u+(o-u)/2)+(3*d-6*_))*h+3*_)*h-e)>0?o=h:u=h,Math.abs(c)>ceramic_BezierEasing.SUBDIVISION_PRECISION&&++b<ceramic_BezierEasing.SUBDIVISION_MAX_ITERATIONS;);l=h}var f;r=this.mY1;return(((1-3*(f=this.mY2)+3*r)*l+(3*f-6*r))*l+3*r)*l},getTForX:function(e){for(var n=0,t=1,i=ceramic_BezierEasing.SPLINE_TABLE_SIZE-1;t!=i&&this.sampleValues[t]<=e;)n+=ceramic_BezierEasing.SAMPLE_STEP_SIZE,++t;--t;var l=n+(e-this.sampleValues[t])/(this.sampleValues[t+1]-this.sampleValues[t])*ceramic_BezierEasing.SAMPLE_STEP_SIZE,s=this.mX1,r=this.mX2,a=3*(1-3*r+3*s)*l*l+2*(3*r-6*s)*l+3*s;if(a>=ceramic_BezierEasing.NEWTON_MIN_SLOPE)return this.newtonRaphsonIterate(e,l,this.mX1,this.mX2);if(0==a)return l;for(var c,h,u=n,o=n+ceramic_BezierEasing.SAMPLE_STEP_SIZE,_=this.mX1,d=this.mX2,b=0;(c=(((1-3*d+3*_)*(h=u+(o-u)/2)+(3*d-6*_))*h+3*_)*h-e)>0?o=h:u=h,Math.abs(c)>ceramic_BezierEasing.SUBDIVISION_PRECISION&&++b<ceramic_BezierEasing.SUBDIVISION_MAX_ITERATIONS;);return h},calcBezier:function(e,n,t){return(((1-3*t+3*n)*e+(3*t-6*n))*e+3*n)*e},getSlope:function(e,n,t){return 3*(1-3*t+3*n)*e*e+2*(3*t-6*n)*e+3*n},binarySubdivide:function(e,n,t,i,l){for(var s,r,a=0;(s=(((1-3*l+3*i)*(r=n+(t-n)/2)+(3*l-6*i))*r+3*i)*r-e)>0?t=r:n=r,Math.abs(s)>ceramic_BezierEasing.SUBDIVISION_PRECISION&&++a<ceramic_BezierEasing.SUBDIVISION_MAX_ITERATIONS;);return r},newtonRaphsonIterate:function(e,n,t,i){for(var l=0,s=ceramic_BezierEasing.NEWTON_ITERATIONS;l<s;){l++;var r=3*(1-3*i+3*t)*n*n+2*(3*i-6*t)*n+3*t;if(0==r)return n;n-=((((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n-e)/r}return n},A:function(e,n){return 1-3*n+3*e},B:function(e,n){return 3*n-6*e},C:function(e){return 3*e},removeFromCache:function(e,n,t,i){this.cached=!1;var l=0|100*e+1e3*n+1e4*t+1e5*i;if(null!=ceramic_BezierEasing.cachedInstances){var s=ceramic_BezierEasing.cachedInstances,r=s._keys.intMap.h[0|l],a=null!=r?r:0,c=a>=2?s.values[a-2]:ceramic_IntMap.RET_NULL;null!=c&&(1==c.length&&c[0]==this?ceramic_BezierEasing.cachedInstances.remove(l):HxOverrides.remove(c,this))}},__class__:ceramic_BezierEasing};var ceramic_BinaryAsset=function(e,n){this.unobservedBytes=null,this.bytesAutoruns=null,ceramic_Asset.call(this,"binary",e,n)};t["ceramic.BinaryAsset"]=ceramic_BinaryAsset,ceramic_BinaryAsset.__name__="ceramic.BinaryAsset",ceramic_BinaryAsset.__super__=ceramic_Asset,ceramic_BinaryAsset.prototype=$extend(ceramic_Asset.prototype,{bytesAutoruns:null,get_bytes:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.bytesAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.bytesAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedBytes},set_bytes:function(e){var n=this.unobservedBytes;if(this.unobservedBytes=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBytesChange(e,n);var t=this.bytesAutoruns;if(null!=t){this.bytesAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateBytes:function(){var e=this.unobservedBytes;this.emitBytesChange(e,e);var n=this.bytesAutoruns;if(null!=n){this.bytesAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedBytes:null,__cbOnBytesChange:null,__cbOnceBytesChange:null,__cbOnOwnerUnbindBytesChange:null,__cbOnceOwnerUnbindBytesChange:null,emitBytesChange:function(e,n){var t=0;if(null!=this.__cbOnBytesChange&&(t+=this.__cbOnBytesChange.length),null!=this.__cbOnceBytesChange&&(t+=this.__cbOnceBytesChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnBytesChange)for(var r=0,a=this.__cbOnBytesChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnBytesChange[c],++s):--t}if(null!=this.__cbOnceBytesChange){var h=null,u=null;for(r=0,a=this.__cbOnceBytesChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceBytesChange[c],this.__cbOnceBytesChange[c]=null;var o=this.__cbOnceOwnerUnbindBytesChange[c];this.__cbOnceOwnerUnbindBytesChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindBytesChange[c]),u.push(this.__cbOnceBytesChange[c])}this.__cbOnceOwnerUnbindBytesChange=h,this.__cbOnceBytesChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onBytesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event bytesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBytesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBytesChange&&(this.__cbOnOwnerUnbindBytesChange=[]),this.__cbOnOwnerUnbindBytesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBytesChange&&(this.__cbOnOwnerUnbindBytesChange=[]),this.__cbOnOwnerUnbindBytesChange.push(null);null==this.__cbOnBytesChange&&(this.__cbOnBytesChange=[]),this.__cbOnBytesChange.push(n)},onceBytesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event bytesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBytesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBytesChange&&(this.__cbOnceOwnerUnbindBytesChange=[]),this.__cbOnceOwnerUnbindBytesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBytesChange&&(this.__cbOnceOwnerUnbindBytesChange=[]),this.__cbOnceOwnerUnbindBytesChange.push(null);null==this.__cbOnceBytesChange&&(this.__cbOnceBytesChange=[]),this.__cbOnceBytesChange.push(n)},offBytesChange:function(e){if(null!=e){var n;null!=this.__cbOnBytesChange&&-1!=(n=this.__cbOnBytesChange.indexOf(e))&&(this.__cbOnBytesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBytesChange[n])&&s(),this.__cbOnOwnerUnbindBytesChange.splice(n,1)),null!=this.__cbOnceBytesChange&&-1!=(n=this.__cbOnceBytesChange.indexOf(e))&&(this.__cbOnceBytesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBytesChange[n])&&s(),this.__cbOnceOwnerUnbindBytesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBytesChange){for(var t=0,i=this.__cbOnOwnerUnbindBytesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBytesChange[l])&&s()}this.__cbOnOwnerUnbindBytesChange=null}if(null!=this.__cbOnceOwnerUnbindBytesChange){for(t=0,i=this.__cbOnceOwnerUnbindBytesChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindBytesChange[l])&&s()}this.__cbOnceOwnerUnbindBytesChange=null}this.__cbOnBytesChange=null,this.__cbOnceBytesChange=null}},listensBytesChange:function(){return null!=this.__cbOnBytesChange&&this.__cbOnBytesChange.length>0||null!=this.__cbOnceBytesChange&&this.__cbOnceBytesChange.length>0},load:function(){var e=this;if(this.set_status(h.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load binary asset if path is undefined.",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:21,className:"ceramic.BinaryAsset",methodName:"load"}),this.set_status(h.BROKEN),void this.emitComplete(!1);var n={};if(null!=this.owner&&(n.immediate=this.owner.immediate,n.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=Reflect.fields(this.options);t<i.length;){var l=i[t];++t,n[l]=Reflect.field(this.options,l)}var s=this.path,r=ceramic_Assets.realAssetPath(s,this.runtimeAssets),a=ceramic_Assets.getReloadCount(r);a>0&&(r+="?hot="+a,s+="?hot="+a),ceramic_App.app.logger.info("Load binary "+s,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:47,className:"ceramic.BinaryAsset",methodName:"load"}),ceramic_App.app.backend.binaries.load(r,n,(function(n){null!=n?(e.set_bytes(n),e.set_status(h.READY),e.emitComplete(!0)):(e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to load binary at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:57,className:"ceramic.BinaryAsset",methodName:"load"}),e.emitComplete(!1))}))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload binary (file has changed)",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:80,className:"ceramic.BinaryAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),this.set_bytes(null))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offBytesChange()},__class__:ceramic_BinaryAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_bytes:"set_bytes",get_bytes:"get_bytes"})});var ceramic_BitmapFont=function(e,n){if(this._preRenderingPages=null,this.preRenderedPages=null,this.pageShaders=null,this.pages=new ceramic_IntMap(16,.5,!0),ceramic_Entity.call(this),this.set_fontData(e),null==e)throw haxe_Exception.thrown("BitmapFont: fontData is null");if(null==n)throw haxe_Exception.thrown("BitmapFont: pages is null");null!=e.distanceField&&(this.pageShaders=new haxe_ds_IntMap);for(var t=0,i=e.pages;t<i.length;){var l=i[t];++t;var s=l.file;null!=e.path&&e.path.length>0&&"."!=e.path&&(s=ceramic_Path.join([e.path,l.file]));var r=n.h[s];if(null==r)throw haxe_Exception.thrown("BitmapFont: missing texture for file "+l.file);if(this.pages.set(l.id,r),null!=e.distanceField){var a=ceramic_App.app.assets.shader("shader:msdf").clone();ceramic_App.app.backend.shaders;a.backendItem.uniforms.setFloat("pxRange",e.distanceField.distanceRange);ceramic_App.app.backend.shaders;a.backendItem.uniforms.setVector2("texSize",r.width*r.density,r.height*r.density),this.pageShaders.h[l.id]=a}}};t["ceramic.BitmapFont"]=ceramic_BitmapFont,ceramic_BitmapFont.__name__="ceramic.BitmapFont",ceramic_BitmapFont.__super__=ceramic_Entity,ceramic_BitmapFont.prototype=$extend(ceramic_Entity.prototype,{pages:null,fontData:null,set_fontData:function(e){return this.fontData=e,null!=e&&(this.spaceChar=e.chars.get(32),null==e.chars.get(160)&&e.chars.set(160,this.spaceChar)),e},get_face:function(){return this.fontData.face},set_face:function(e){return this.fontData.face=e},get_pointSize:function(){return this.fontData.pointSize},set_pointSize:function(e){return this.fontData.pointSize=e},get_baseSize:function(){return this.fontData.baseSize},set_baseSize:function(e){return this.fontData.baseSize=e},get_chars:function(){return this.fontData.chars},set_chars:function(e){return this.fontData.chars=e},get_charCount:function(){return this.fontData.charCount},set_charCount:function(e){return this.fontData.charCount=e},get_lineHeight:function(){return this.fontData.lineHeight},set_lineHeight:function(e){return this.fontData.lineHeight=e},get_kernings:function(){return this.fontData.kernings},set_kernings:function(e){return this.fontData.kernings=e},get_msdf:function(){return null!=this.fontData.distanceField&&"msdf"==this.fontData.distanceField.fieldType},spaceChar:null,pageShaders:null,preRenderedPages:null,_preRenderingPages:null,asset:null,destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),null!=this.pages){for(var e=this.pages.iterableKeys,n=0,t=e.length;n<t;){var i=n++;(r=this.pages.get(e[i])).destroy()}this.pages=null}if(null!=this.pageShaders){for(var l=this.pageShaders.iterator();l.hasNext();){l.next().destroy()}this.pageShaders=null}if(null!=this.preRenderedPages){for(var s=this.preRenderedPages.iterator();s.hasNext();)for(var r=s.next().iterator();r.hasNext();){r.next().destroy()}this.preRenderedPages=null}}},needsToPreRenderAtSize:function(e){if(null==this.preRenderedPages||!this.preRenderedPages.h.hasOwnProperty(e))return!0;for(var n=this.preRenderedPages.h[e],t=0,i=this.pages.iterableKeys;t<i.length;){var l=i[t];if(++t,!n.h.hasOwnProperty(l))return!0}return!1},preRenderAtSize:function(e,n){for(var t=0,i=0,l=this.pages.iterableKeys;i<l.length;){var s=l[i];++i,t+=1,this.preRenderPage(s,e,(function(){0==(t-=1)&&(n(),n=null)}))}},preRenderPage:function(e,n,t){var i,l,s=this;if((null==this.preRenderedPages&&(this.preRenderedPages=new haxe_ds_IntMap),null!=this._preRenderingPages)&&null!=(i=this._preRenderingPages.h[n]))return void(null!=(l=i.h[e])&&l.push(t));null==this._preRenderingPages&&(this._preRenderingPages=new haxe_ds_IntMap),null==(i=this._preRenderingPages.h[n])&&(i=new haxe_ds_IntMap,this._preRenderingPages.h[n]=i),null==(l=i.h[e])&&(l=[],i.h[e]=l);var r=this.preRenderedPages.h[n],a=this.pages.get(e);if(null==a)throw haxe_Exception.thrown("Invalid bitmap font page with id "+e);var c=n/this.fontData.pointSize,h=Math.ceil(a.width*a.density*c),u=Math.ceil(a.width*a.density*c),o=new ceramic_RenderTexture(h,u,1);o.clearOnRender=!0,o.autoRender=!1;var _=new ceramic_Quad;_._texture!=a&&_._set_texture(a),_.set_width(h),_.set_height(u),_.set_shader(null!=this.pageShaders?this.pageShaders.h[e]:null),_.set_visible(!1),null!=r&&r.h.hasOwnProperty(e)&&r.h[e].destroy(),o.stamp(_,(function(){for(_.destroy(),_=null,null==r&&(r=new haxe_ds_IntMap,s.preRenderedPages.h[n]=r),r.h[e]=o,t(),t=null,i.remove(e);l.length>0;){var a=l.shift();a(),a=null}}))},kerning:function(e,n){var t=this.fontData.kernings.get(e);if(null!=t&&t.intMap.h.hasOwnProperty(0|n)){var i=t.intMap.h[0|n];return null!=i?i:0}return 0},__class__:ceramic_BitmapFont,__properties__:$extend(ceramic_Entity.prototype.__properties__,{get_msdf:"get_msdf",set_kernings:"set_kernings",get_kernings:"get_kernings",set_lineHeight:"set_lineHeight",get_lineHeight:"get_lineHeight",set_charCount:"set_charCount",get_charCount:"get_charCount",set_chars:"set_chars",get_chars:"get_chars",set_baseSize:"set_baseSize",get_baseSize:"get_baseSize",set_pointSize:"set_pointSize",get_pointSize:"get_pointSize",set_face:"set_face",get_face:"get_face",set_fontData:"set_fontData"})});var ceramic_BitmapFontCharacter=function(e,n,t,i,l,s,r,a,c){this.id=e,this.x=n,this.y=t,this.width=i,this.height=l,this.xOffset=s,this.yOffset=r,this.xAdvance=a,this.page=c};t["ceramic.BitmapFontCharacter"]=ceramic_BitmapFontCharacter,ceramic_BitmapFontCharacter.__name__="ceramic.BitmapFontCharacter",ceramic_BitmapFontCharacter.prototype={id:null,x:null,y:null,width:null,height:null,xOffset:null,yOffset:null,xAdvance:null,page:null,__class__:ceramic_BitmapFontCharacter};var ceramic_BitmapFontData=function(e,n,t,i,l,s,r,a,c,h){this.face=e,this.path=n,this.pointSize=t,this.baseSize=i,this.chars=l,this.charCount=s,this.distanceField=r,this.pages=a,this.lineHeight=c,this.kernings=h};t["ceramic.BitmapFontData"]=ceramic_BitmapFontData,ceramic_BitmapFontData.__name__="ceramic.BitmapFontData",ceramic_BitmapFontData.prototype={face:null,path:null,pointSize:null,baseSize:null,chars:null,charCount:null,distanceField:null,pages:null,lineHeight:null,kernings:null,__class__:ceramic_BitmapFontData};var ceramic_BitmapFontDataPage=function(e,n){this.id=e,this.file=n};t["ceramic.BitmapFontDataPage"]=ceramic_BitmapFontDataPage,ceramic_BitmapFontDataPage.__name__="ceramic.BitmapFontDataPage",ceramic_BitmapFontDataPage.prototype={id:null,file:null,__class__:ceramic_BitmapFontDataPage};var ceramic_BitmapFontDistanceFieldData=function(e,n){this.fieldType=e,this.distanceRange=n};t["ceramic.BitmapFontDistanceFieldData"]=ceramic_BitmapFontDistanceFieldData,ceramic_BitmapFontDistanceFieldData.__name__="ceramic.BitmapFontDistanceFieldData",ceramic_BitmapFontDistanceFieldData.prototype={fieldType:null,distanceRange:null,__class__:ceramic_BitmapFontDistanceFieldData};var ceramic_BitmapFontParser=function(){};t["ceramic.BitmapFontParser"]=ceramic_BitmapFontParser,ceramic_BitmapFontParser.__name__="ceramic.BitmapFontParser",ceramic_BitmapFontParser.parse=function(e){if(0==e.length)throw haxe_Exception.thrown("BitmapFont: fontData is 0 length");if(StringTools.startsWith(StringTools.trim(e),"<"))try{e=ceramic_BitmapFontParser.convertXmlFontData(e)}catch(s){var n=haxe_Exception.caught(s).unwrap();throw haxe_Exception.thrown("BitmapFont: invalid xml font data specified for parser: "+Std.string(n))}var t=new ceramic_BitmapFontData(null,".",0,0,new ceramic_IntMap,0,null,[],0,new ceramic_IntMap),i=StringTools.replace(StringTools.replace(e,"\r",""),"\t"," ").split("\n");if(0==i.length)throw haxe_Exception.thrown("BitmapFont: invalid font data specified for parser.");var l=i[0];if("info"!=HxOverrides.substr(StringTools.ltrim(l),0,4))throw haxe_Exception.thrown("BitmapFont: invalid font data specified for parser. Format should be plain ascii text .fnt file only currently.");for(var s=0;s<i.length;){var r=i[s];++s,ceramic_BitmapFontParser.parseLine(r,t)}return i=null,t},ceramic_BitmapFontParser.convertXmlFontData=function(e){for(var n="",t=Xml.parse(e).firstElement().elements();t.hasNext();){var i=t.next();if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));switch(i.nodeName){case"chars":case"pages":if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));if("chars"==i.nodeName){if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));n+=Std.string(i.nodeName);for(var l=i.attributes();l.hasNext();){var s=l.next(),a=i.get(s);null!=a&&(n+=" ",n+=Std.string(s),n+="=","face"==s||"char"==s||"file"==s||-1!=a.indexOf(" ")||-1!=a.indexOf('"')||-1!=a.indexOf("=")?n+=Std.string(JSON.stringify(a)):n+=Std.string(a))}n+="\n"}for(var c=i.elements();c.hasNext();){var h=c.next();if(h.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==h.nodeType?"null":r.toString(h.nodeType)));n+=Std.string(h.nodeName);for(var u=h.attributes();u.hasNext();){var o=u.next(),_=h.get(o);null!=_&&(n+=" ",n+=Std.string(o),n+="=","face"==o||"char"==o||"file"==o||-1!=_.indexOf(" ")||-1!=_.indexOf('"')||-1!=_.indexOf("=")?n+=Std.string(JSON.stringify(_)):n+=Std.string(_))}n+="\n"}break;default:if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));n+=Std.string(i.nodeName);for(var d=i.attributes();d.hasNext();){var b=d.next(),f=i.get(b);null!=f&&(n+=" ",n+=Std.string(b),n+="=","face"==b||"char"==b||"file"==b||-1!=f.indexOf(" ")||-1!=f.indexOf('"')||-1!=f.indexOf("=")?n+=Std.string(JSON.stringify(f)):n+=Std.string(f))}n+="\n"}}return n},ceramic_BitmapFontParser.parseLine=function(e,n){var t=new haxe_ds_StringMap;switch(ceramic_BitmapFontParser.extractLineTokens(e,t)){case"char":var i=new ceramic_BitmapFontCharacter(Std.parseInt(t.h.id),parseFloat(t.h.x),parseFloat(t.h.y),parseFloat(t.h.width),parseFloat(t.h.height),parseFloat(t.h.xoffset),parseFloat(t.h.yoffset),parseFloat(t.h.xadvance),Std.parseInt(t.h.page));n.chars.set(i.id,i);break;case"chars":n.charCount=Std.parseInt(t.h.count);break;case"common":n.lineHeight=parseFloat(t.h.lineHeight),n.baseSize=parseFloat(t.h.base);break;case"distanceField":var l=t.h.fieldType,s=Std.parseInt(t.h.distanceRange);n.distanceField=new ceramic_BitmapFontDistanceFieldData(l,s);break;case"info":var r=(o=t.h.face).length;34==HxOverrides.cca(o,0)&&34==HxOverrides.cca(o,r-1)&&(o=o.substring(1,r-1)),n.face=o,n.pointSize=parseFloat(t.h.size);break;case"kerning":var a=Std.parseInt(t.h.first),c=Std.parseInt(t.h.second),h=parseFloat(t.h.amount),u=n.kernings.get(a);null==u&&(u=new ceramic_IntFloatMap,n.kernings.set(a,u)),u.set(c,h);break;case"page":var o;r=(o=t.h.file).length;34==HxOverrides.cca(o,0)&&34==HxOverrides.cca(o,r-1)&&(o=o.substring(1,r-1)),n.pages.push(new ceramic_BitmapFontDataPage(Std.parseInt(t.h.id),StringTools.trim(o)))}},ceramic_BitmapFontParser.extractLineTokens=function(e,n){for(var t=0,i=e.length,l=null,s=null,r=null,a=!1;t<i;){var c=HxOverrides.cca(e,t);if(a){if(92==c?(c=HxOverrides.cca(e,t),++t):34==c&&(a=!1),null==r)throw haxe_Exception.thrown("Invalid bitmap font line: "+e);r.b+=Std.string(e.charAt(t))}else if(32==c)null!=r&&(null==l?l=r.b:null==s?(s=r.b,n.h[s]=null):n.h[s]=r.b,s=null,r=null);else if(null==s&&61==c){if(null==r)throw haxe_Exception.thrown("Invalid bitmap font line: "+e);s=r.b,r=null}else 34==c&&(a=!0),null==r&&(r=new StringBuf),r.b+=Std.string(e.charAt(t));++t}return null!=r&&(null==l?l=r.b:null==s?(s=r.b,n.h[s]=null):n.h[s]=r.b,s=null,r=null),l},ceramic_BitmapFontParser.unquote=function(e){var n=e.length;return 34==HxOverrides.cca(e,0)&&34==HxOverrides.cca(e,n-1)&&(e=e.substring(1,n-1)),e};var ceramic_CollectionImpl=function(){this.combinedCollectionLastChanges=null,this.combinedCollections=null,this.filter=null,this.byId=null,this.entriesDirty=!1,this.indexDirty=!0,this.entries=[],this.lastChange=0,this.internalId=ceramic_CollectionImpl._nextInternalId++};t["ceramic.CollectionImpl"]=ceramic_CollectionImpl,ceramic_CollectionImpl.__name__="ceramic.CollectionImpl",ceramic_CollectionImpl.__interfaces__=[tracker_Events],ceramic_CollectionImpl.prototype={internalId:null,lastChange:null,entries:null,indexDirty:null,entriesDirty:null,byId:null,filter:null,combinedCollections:null,combinedCollectionLastChanges:null,get_length:function(){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries.length},pushAll:function(e){for(var n=0;n<e.length;){var t=e[n];++n,this.entries.push(t)}this.indexDirty=!0,this.lastChange=this.lastChange>999999999?-999999999:this.lastChange+1,ceramic_CollectionImpl._lastCheckedCombined=null},clear:function(){var e=this.entries.length;e>0&&this.entries.splice(0,e),this.indexDirty=!0,this.lastChange=this.lastChange>999999999?-999999999:this.lastChange+1,ceramic_CollectionImpl._lastCheckedCombined=null},push:function(e){this.entries.push(e),this.indexDirty=!0,this.lastChange=this.lastChange>999999999?-999999999:this.lastChange+1,ceramic_CollectionImpl._lastCheckedCombined=null},remove:function(e){HxOverrides.remove(this.entries,e),this.indexDirty=!0,this.lastChange=this.lastChange>999999999?-999999999:this.lastChange+1,ceramic_CollectionImpl._lastCheckedCombined=null},synchronize:function(){this.entriesDirty&&this.computeEntries(),this.indexDirty&&this.computeIndex()},get:function(e){if(null==e)throw haxe_Exception.thrown("Cannot get a collection entry with a null id!");if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,l=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=l.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.indexDirty&&this.computeIndex(),this.byId.h[e]},getByIndex:function(e){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,l=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=l.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries[e]},indexOfId:function(e){var n=this.get(e);return null==n?-1:this.indexOf(n)},indexOf:function(e){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,l=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=l.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries.indexOf(e)},iterator:function(){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),new haxe_iterators_ArrayIterator(this.entries)},checkCombined:function(){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}},computeIndex:function(){this.entriesDirty&&this.computeEntries(),this.byId=new haxe_ds_StringMap;for(var e=0,n=this.entries;e<n.length;){var t=n[e];++e,Object.prototype.hasOwnProperty.call(this.byId.h,t.id)||(this.byId.h[t.id]=t)}this.indexDirty=!1},computeEntries:function(){this.entries=[];for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(null!=i.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=i){for(var l=0,s=i.combinedCollections.length;l<s;){var r=l++,a=i.combinedCollections[r];if(i.combinedCollectionLastChanges[r]!=a.lastChange){i.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=i}i.entriesDirty&&i.computeEntries();for(var c=0,h=i.entries;c<h.length;){var u=h[c++];this.entries.push(u)}this.combinedCollectionLastChanges[t]=i.lastChange}null!=this.filter&&(this.entries=this.filter(this.entries)),this.entriesDirty=!1,this.indexDirty=!0,ceramic_CollectionImpl._lastCheckedCombined!=this&&(ceramic_CollectionImpl._lastCheckedCombined=null)},__class__:ceramic_CollectionImpl,__properties__:{get_length:"get_length"}};var ceramic_CollectionEntry=function(e,n){this.index=ceramic_CollectionEntry._nextIndex++,this.id=null!=e?e:"id"+ceramic_CollectionEntry._nextId++,this.name=n};t["ceramic.CollectionEntry"]=ceramic_CollectionEntry,ceramic_CollectionEntry.__name__="ceramic.CollectionEntry",ceramic_CollectionEntry.prototype={id:null,name:null,index:null,setRawData:function(e){for(var n=js_Boot.getClass(this),t=n.__name__,l=ceramic_FieldInfo.types(t),s=l.h,r=Object.keys(s),a=r.length,c=0;c<a;){var h=r[c++],u=l.h[h];if(Object.prototype.hasOwnProperty.call(e,h)){var o=Reflect.field(e,h),_=null;if(this.setRawField(h,o))continue;var d=n.__name__;if(ceramic_FieldMeta._hasMeta(n,d,h,"skipEmpty",!0)){if(null==o)continue;if("string"==typeof o)if(0==o.length)continue}if(null==u){var b=StringTools.trim((""+Std.string(o)).toLowerCase()),f=i[u];if(null!=f){for(var O=0,p=f.__constructs__,g=new Array(p.length),m=0,v=p.length;m<v;){var y=m++;g[y]=p[y]._hx_name}for(var w=g;O<w.length;){var U=w[O];if(++O,U.toLowerCase()==b){_=Type.createEnum(f,U);break}}}}else switch(u){case"Bool":_="boolean"==typeof o?o:""!=(o=StringTools.trim((""+Std.string(o)).toLowerCase()))&&"0"!=o&&"false"!=o&&"no"!=o;break;case"Float":"number"==typeof o&&(0|o)===o||"number"==typeof o?_=o:(null==(_=parseFloat(StringTools.replace(""+Std.string(o),",",".")))||isNaN(_))&&(_=0);break;case"String":_=null==o||"null"==o?null:""+Std.string(o);break;case"Int":case"ceramic.Color":"number"==typeof o&&(0|o)===o||"number"==typeof o?_=0|o:(null==(_=Std.parseInt(""+Std.string(o)))||isNaN(_))&&(_=0);break;default:var C=StringTools.trim((""+Std.string(o)).toLowerCase()),x=i[u];if(null!=x){for(var D=0,T=x.__constructs__,A=new Array(T.length),S=0,E=T.length;S<E;){var M=S++;A[M]=T[M]._hx_name}for(var F=A;D<F.length;){var P=F[D];if(++D,P.toLowerCase()==C){_=Type.createEnum(x,P);break}}}}this[h]=_}}},setRawField:function(e,n){return!1},__class__:ceramic_CollectionEntry};var u={__properties__:{set_lightness:"set_lightness",get_lightness:"get_lightness",set_brightness:"set_brightness",get_brightness:"get_brightness",set_saturation:"set_saturation",get_saturation:"get_saturation",set_hue:"set_hue",get_hue:"get_hue",set_black:"set_black",get_black:"get_black",set_yellow:"set_yellow",get_yellow:"get_yellow",set_magenta:"set_magenta",get_magenta:"get_magenta",set_cyan:"set_cyan",get_cyan:"get_cyan",set_blueFloat:"set_blueFloat",get_blueFloat:"get_blueFloat",set_greenFloat:"set_greenFloat",get_greenFloat:"get_greenFloat",set_redFloat:"set_redFloat",get_redFloat:"get_redFloat",set_blue:"set_blue",get_blue:"get_blue",set_green:"set_green",get_green:"get_green",set_red:"set_red",get_red:"get_red"},toAlphaColor:function(e){var n=(0|e)-16777216;return n&=16777215,e=n|=-16777216},random:function(e,n){null==n&&(n=.5),null==e&&(e=.5);var t=360*Math.random(),i=Math.random()*(1-e)+e,l=Math.random()*(1-n)+n;return u.fromHSB(t,i,l)},fromInt:function(e){return u._new(e)},fromRGB:function(e,n,t){var i=u._new();return i&=65535,i|=(e>255?255:e<0?0:e)<<16,i&=16711935,i|=(n>255?255:n<0?0:n)<<8,i&=16776960,i|=t>255?255:t<0?0:t},fromRGBFloat:function(e,n,t){var i,l=u._new();return l&=65535,l|=((i=Math.round(255*e))>255?255:i<0?0:i)<<16,l&=16711935,l|=((i=Math.round(255*n))>255?255:i<0?0:i)<<8,l&=16776960,l|=(i=Math.round(255*t))>255?255:i<0?0:i},fromCMYK:function(e,n,t,i){var l=u._new(),s=(1-e)*(1-i);l&=65535,l|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-n)*(1-i);l&=16711935,l|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-t)*(1-i);return l&=16776960,l|=(r=Math.round(255*s))>255?255:r<0?0:r},fromHSB:function(e,n,t){var i=u._new(),l=t*n,s=t-l,r=e,a=l,c=(r%=360)/60,h=a*(1-Math.abs(c%2-1))+s;switch(a+=s,0|c){case 0:i&=65535,i|=((o=Math.round(255*a))>255?255:o<0?0:o)<<16,i&=16711935,i|=((o=Math.round(255*h))>255?255:o<0?0:o)<<8,i&=16776960,i|=(o=Math.round(255*s))>255?255:o<0?0:o;break;case 1:i&=65535,i|=((o=Math.round(255*h))>255?255:o<0?0:o)<<16,i&=16711935,i|=((o=Math.round(255*a))>255?255:o<0?0:o)<<8,i&=16776960,i|=(o=Math.round(255*s))>255?255:o<0?0:o;break;case 2:i&=65535,i|=((o=Math.round(255*s))>255?255:o<0?0:o)<<16,i&=16711935,i|=((o=Math.round(255*a))>255?255:o<0?0:o)<<8,i&=16776960,i|=(o=Math.round(255*h))>255?255:o<0?0:o;break;case 3:i&=65535,i|=((o=Math.round(255*s))>255?255:o<0?0:o)<<16,i&=16711935,i|=((o=Math.round(255*h))>255?255:o<0?0:o)<<8,i&=16776960,i|=(o=Math.round(255*a))>255?255:o<0?0:o;break;case 4:i&=65535,i|=((o=Math.round(255*h))>255?255:o<0?0:o)<<16,i&=16711935,i|=((o=Math.round(255*s))>255?255:o<0?0:o)<<8,i&=16776960,i|=(o=Math.round(255*a))>255?255:o<0?0:o;break;case 5:var o;i&=65535,i|=((o=Math.round(255*a))>255?255:o<0?0:o)<<16,i&=16711935,i|=((o=Math.round(255*s))>255?255:o<0?0:o)<<8,i&=16776960,i|=(o=Math.round(255*h))>255?255:o<0?0:o}return i},fromHSL:function(e,n,t){var i=u._new(),l=(1-Math.abs(2*t-1))*n,s=t-l/2,r=e,a=l,c=(r%=360)/60,h=a*(1-Math.abs(c%2-1))+s;switch(a+=s,0|c){case 0:i&=65535,i|=((o=Math.round(255*a))>255?255:o<0?0:o)<<16,i&=16711935,i|=((o=Math.round(255*h))>255?255:o<0?0:o)<<8,i&=16776960,i|=(o=Math.round(255*s))>255?255:o<0?0:o;break;case 1:i&=65535,i|=((o=Math.round(255*h))>255?255:o<0?0:o)<<16,i&=16711935,i|=((o=Math.round(255*a))>255?255:o<0?0:o)<<8,i&=16776960,i|=(o=Math.round(255*s))>255?255:o<0?0:o;break;case 2:i&=65535,i|=((o=Math.round(255*s))>255?255:o<0?0:o)<<16,i&=16711935,i|=((o=Math.round(255*a))>255?255:o<0?0:o)<<8,i&=16776960,i|=(o=Math.round(255*h))>255?255:o<0?0:o;break;case 3:i&=65535,i|=((o=Math.round(255*s))>255?255:o<0?0:o)<<16,i&=16711935,i|=((o=Math.round(255*h))>255?255:o<0?0:o)<<8,i&=16776960,i|=(o=Math.round(255*a))>255?255:o<0?0:o;break;case 4:i&=65535,i|=((o=Math.round(255*h))>255?255:o<0?0:o)<<16,i&=16711935,i|=((o=Math.round(255*s))>255?255:o<0?0:o)<<8,i&=16776960,i|=(o=Math.round(255*a))>255?255:o<0?0:o;break;case 5:var o;i&=65535,i|=((o=Math.round(255*a))>255?255:o<0?0:o)<<16,i&=16711935,i|=((o=Math.round(255*s))>255?255:o<0?0:o)<<8,i&=16776960,i|=(o=Math.round(255*h))>255?255:o<0?0:o}return i},fromString:function(e){var n=null;if(e=StringTools.trim(e),StringTools.startsWith(e,"0x"))n=u._new(Std.parseInt(e.substring(0,8)));else if(StringTools.startsWith(e,"#"))if(e.length>=9){var t="0x"+e.substring(1,9),i=Std.parseInt(t),l=i>>16&255,s=i>>8&255,r=255&i,a=u._new();a&=65535,a|=(l>255?255:l<0?0:l)<<16,a&=16711935,a|=(s>255?255:s<0?0:s)<<8,a&=16776960,n=a|=r>255?255:r<0?0:r}else{t="0x"+e.substring(1,7);n=u._new(Std.parseInt(t))}else{e=e.toUpperCase();for(var c=u.colorLookup.h,h=Object.keys(c),o=h.length,_=0;_<o;){var d=h[_++];if(d==e){n=u._new(u.colorLookup.h[d]);break}}}return n},getHSBColorWheel:function(){for(var e=[],n=0;n<360;){var t=n++;e.push(u.fromHSB(t,1,1))}return e},interpolate:function(e,n,t){null==t&&(t=.5);var i=((n>>16&255)-(e>>16&255))*t+(e>>16&255)|0,l=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0,s=((255&n)-(255&e))*t+(255&e)|0,r=u._new();return r&=65535,r|=(i>255?255:i<0?0:i)<<16,r&=16711935,r|=(l>255?255:l<0?0:l)<<8,r&=16776960,r|=s>255?255:s<0?0:s},gradient:function(e,n,t,i){var l=[];null==i&&(i=function(e){return e});for(var s=0,r=t;s<r;){var a=s++,c=i(a/(t-1));null==c&&(c=.5);var h=((n>>16&255)-(e>>16&255))*c+(e>>16&255)|0,o=((n>>8&255)-(e>>8&255))*c+(e>>8&255)|0,_=((255&n)-(255&e))*c+(255&e)|0,d=u._new();d&=65535,d|=(h>255?255:h<0?0:h)<<16,d&=16711935,d|=(o>255?255:o<0?0:o)<<8,d&=16776960,d|=_>255?255:_<0?0:_,l[a]=d}return l},multiply:function(e,n){var t,i=(e>>16&255)/255*((n>>16&255)/255),l=(e>>8&255)/255*((n>>8&255)/255),s=(255&e)/255*((255&n)/255),r=u._new();return r&=65535,r|=((t=Math.round(255*i))>255?255:t<0?0:t)<<16,r&=16711935,r|=((t=Math.round(255*l))>255?255:t<0?0:t)<<8,r&=16776960,r|=(t=Math.round(255*s))>255?255:t<0?0:t},add:function(e,n){var t=(e>>16&255)+(n>>16&255),i=(e>>8&255)+(n>>8&255),l=(255&e)+(255&n),s=u._new();return s&=65535,s|=(t>255?255:t<0?0:t)<<16,s&=16711935,s|=(i>255?255:i<0?0:i)<<8,s&=16776960,s|=l>255?255:l<0?0:l},subtract:function(e,n){var t=(e>>16&255)-(n>>16&255),i=(e>>8&255)-(n>>8&255),l=(255&e)-(255&n),s=u._new();return s&=65535,s|=(t>255?255:t<0?0:t)<<16,s&=16711935,s|=(i>255?255:i<0?0:i)<<8,s&=16776960,s|=l>255?255:l<0?0:l},toHexString:function(e,n){return null==n&&(n=!0),(n?"0x":"")+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},toWebString:function(e){var n=!1;return null==n&&(n=!0),"#"+(n?"0x":"")+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},getColorInfo:function(e){var n="0x"+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)+"\n";return n+="red: "+(e>>16&255)+" green: "+(e>>8&255)+" blue: "+(255&e)+"\n",n+="hue: "+u.roundDecimal(u.get_hue(e),2)+" saturation: "+u.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" brightness: "+u.roundDecimal(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" lightness: "+u.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2,2)},getDarkened:function(e,n){null==n&&(n=.2);var t=n<0?0:n;n=t>1?1:t;var i=e,l=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2*(1-n),s=u.get_hue(i),r=(1-Math.abs(2*l-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),a=l-r/2,c=s,h=r,o=(c%=360)/60,_=h*(1-Math.abs(o%2-1))+a;switch(h+=a,0|o){case 0:i&=65535,i|=((l=Math.round(255*h))>255?255:l<0?0:l)<<16,i&=16711935,i|=((l=Math.round(255*_))>255?255:l<0?0:l)<<8,i&=16776960,i|=(l=Math.round(255*a))>255?255:l<0?0:l;break;case 1:i&=65535,i|=((l=Math.round(255*_))>255?255:l<0?0:l)<<16,i&=16711935,i|=((l=Math.round(255*h))>255?255:l<0?0:l)<<8,i&=16776960,i|=(l=Math.round(255*a))>255?255:l<0?0:l;break;case 2:i&=65535,i|=((l=Math.round(255*a))>255?255:l<0?0:l)<<16,i&=16711935,i|=((l=Math.round(255*h))>255?255:l<0?0:l)<<8,i&=16776960,i|=(l=Math.round(255*_))>255?255:l<0?0:l;break;case 3:i&=65535,i|=((l=Math.round(255*a))>255?255:l<0?0:l)<<16,i&=16711935,i|=((l=Math.round(255*_))>255?255:l<0?0:l)<<8,i&=16776960,i|=(l=Math.round(255*h))>255?255:l<0?0:l;break;case 4:i&=65535,i|=((l=Math.round(255*_))>255?255:l<0?0:l)<<16,i&=16711935,i|=((l=Math.round(255*a))>255?255:l<0?0:l)<<8,i&=16776960,i|=(l=Math.round(255*h))>255?255:l<0?0:l;break;case 5:i&=65535,i|=((l=Math.round(255*h))>255?255:l<0?0:l)<<16,i&=16711935,i|=((l=Math.round(255*a))>255?255:l<0?0:l)<<8,i&=16776960,i|=(l=Math.round(255*_))>255?255:l<0?0:l}return i},getLightened:function(e,n){null==n&&(n=.2);var t=n<0?0:n;n=t>1?1:t;var i=e,l=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2+(1-(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2)*n,s=u.get_hue(i),r=(1-Math.abs(2*l-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),a=l-r/2,c=s,h=r,o=(c%=360)/60,_=h*(1-Math.abs(o%2-1))+a;switch(h+=a,0|o){case 0:i&=65535,i|=((l=Math.round(255*h))>255?255:l<0?0:l)<<16,i&=16711935,i|=((l=Math.round(255*_))>255?255:l<0?0:l)<<8,i&=16776960,i|=(l=Math.round(255*a))>255?255:l<0?0:l;break;case 1:i&=65535,i|=((l=Math.round(255*_))>255?255:l<0?0:l)<<16,i&=16711935,i|=((l=Math.round(255*h))>255?255:l<0?0:l)<<8,i&=16776960,i|=(l=Math.round(255*a))>255?255:l<0?0:l;break;case 2:i&=65535,i|=((l=Math.round(255*a))>255?255:l<0?0:l)<<16,i&=16711935,i|=((l=Math.round(255*h))>255?255:l<0?0:l)<<8,i&=16776960,i|=(l=Math.round(255*_))>255?255:l<0?0:l;break;case 3:i&=65535,i|=((l=Math.round(255*a))>255?255:l<0?0:l)<<16,i&=16711935,i|=((l=Math.round(255*_))>255?255:l<0?0:l)<<8,i&=16776960,i|=(l=Math.round(255*h))>255?255:l<0?0:l;break;case 4:i&=65535,i|=((l=Math.round(255*_))>255?255:l<0?0:l)<<16,i&=16711935,i|=((l=Math.round(255*a))>255?255:l<0?0:l)<<8,i&=16776960,i|=(l=Math.round(255*h))>255?255:l<0?0:l;break;case 5:i&=65535,i|=((l=Math.round(255*h))>255?255:l<0?0:l)<<16,i&=16711935,i|=((l=Math.round(255*a))>255?255:l<0?0:l)<<8,i&=16776960,i|=(l=Math.round(255*_))>255?255:l<0?0:l}return i},getInverted:function(e){var n=255-(e>>16&255),t=255-(e>>8&255),i=255-(255&e),l=u._new();return l&=65535,l|=(n>255?255:n<0?0:n)<<16,l&=16711935,l|=(t>255?255:t<0?0:t)<<8,l&=16776960,l|=i>255?255:i<0?0:i},setRGB:function(e,n,t,i){return e&=65535,e|=(n>255?255:n<0?0:n)<<16,e&=16711935,e|=(t>255?255:t<0?0:t)<<8,e&=16776960,e|=i>255?255:i<0?0:i},setRGBFloat:function(e,n,t,i){var l;return e&=65535,e|=((l=Math.round(255*n))>255?255:l<0?0:l)<<16,e&=16711935,e|=((l=Math.round(255*t))>255?255:l<0?0:l)<<8,e&=16776960,e|=(l=Math.round(255*i))>255?255:l<0?0:l},setCMYK:function(e,n,t,i,l){var s=(1-n)*(1-l);e&=65535,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-t)*(1-l);e&=16711935,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-i)*(1-l);return e&=16776960,e|=(r=Math.round(255*s))>255?255:r<0?0:r},setHSB:function(e,n,t,i){var l=i*t,s=i-l,r=n,a=l,c=(r%=360)/60,h=a*(1-Math.abs(c%2-1))+s;switch(a+=s,0|c){case 0:e&=65535,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*s))>255?255:u<0?0:u;break;case 1:e&=65535,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*s))>255?255:u<0?0:u;break;case 2:e&=65535,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*h))>255?255:u<0?0:u;break;case 3:e&=65535,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 4:e&=65535,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 5:var u;e&=65535,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*h))>255?255:u<0?0:u}return e},setHSL:function(e,n,t,i){var l=(1-Math.abs(2*i-1))*t,s=i-l/2,r=n,a=l,c=(r%=360)/60,h=a*(1-Math.abs(c%2-1))+s;switch(a+=s,0|c){case 0:e&=65535,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*s))>255?255:u<0?0:u;break;case 1:e&=65535,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*s))>255?255:u<0?0:u;break;case 2:e&=65535,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*h))>255?255:u<0?0:u;break;case 3:e&=65535,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 4:e&=65535,e|=((u=Math.round(255*h))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*a))>255?255:u<0?0:u;break;case 5:var u;e&=65535,e|=((u=Math.round(255*a))>255?255:u<0?0:u)<<16,e&=16711935,e|=((u=Math.round(255*s))>255?255:u<0?0:u)<<8,e&=16776960,e|=(u=Math.round(255*h))>255?255:u<0?0:u}return e},setHSChromaMatch:function(e,n,t,i,l){var s=(n%=360)/60,r=i*(1-Math.abs(s%2-1))+l;switch(i+=l,0|s){case 0:e&=65535,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*r))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*l))>255?255:a<0?0:a;break;case 1:e&=65535,e|=((a=Math.round(255*r))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*l))>255?255:a<0?0:a;break;case 2:e&=65535,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*r))>255?255:a<0?0:a;break;case 3:e&=65535,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*r))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*i))>255?255:a<0?0:a;break;case 4:e&=65535,e|=((a=Math.round(255*r))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*i))>255?255:a<0?0:a;break;case 5:var a;e&=65535,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*r))>255?255:a<0?0:a}return e},_new:function(e){return null==e&&(e=0),e},get_red:function(e){return e>>16&255},get_green:function(e){return e>>8&255},get_blue:function(e){return 255&e},get_redFloat:function(e){return(e>>16&255)/255},get_greenFloat:function(e){return(e>>8&255)/255},get_blueFloat:function(e){return(255&e)/255},set_red:function(e,n){return 65535,(n>255?255:n<0?0:n)<<16,n},set_green:function(e,n){return 16711935,(n>255?255:n<0?0:n)<<8,n},set_blue:function(e,n){return 16776960,n>255?255:n<0?0:n,n},set_redFloat:function(e,n){var t=Math.round(255*n);return 65535,(t>255?255:t<0?0:t)<<16,n},set_greenFloat:function(e,n){var t=Math.round(255*n);return 16711935,(t>255?255:t<0?0:t)<<8,n},set_blueFloat:function(e,n){var t=Math.round(255*n);return 16776960,t>255?255:t<0?0:t,n},get_cyan:function(e){return(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_magenta:function(e){return(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_yellow:function(e){return(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_black:function(e){return 1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},set_cyan:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=(1-n)*(1-l);e&=65535,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-t)*(1-l);e&=16711935,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-i)*(1-l);return e&=16776960,e|=(r=Math.round(255*s))>255?255:r<0?0:r,n},set_magenta:function(e,n){var t=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i);e&=65535,e|=((s=Math.round(255*l))>255?255:s<0?0:s)<<16;l=(1-n)*(1-i);e&=16711935,e|=((s=Math.round(255*l))>255?255:s<0?0:s)<<8;var s;l=(1-t)*(1-i);return e&=16776960,e|=(s=Math.round(255*l))>255?255:s<0?0:s,n},set_yellow:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i);e&=65535,e|=((s=Math.round(255*l))>255?255:s<0?0:s)<<16;l=(1-t)*(1-i);e&=16711935,e|=((s=Math.round(255*l))>255?255:s<0?0:s)<<8;var s;l=(1-n)*(1-i);return e&=16776960,e|=(s=Math.round(255*l))>255?255:s<0?0:s,n},set_black:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-n);e&=65535,e|=((s=Math.round(255*l))>255?255:s<0?0:s)<<16;l=(1-t)*(1-n);e&=16711935,e|=((s=Math.round(255*l))>255?255:s<0?0:s)<<8;var s;l=(1-i)*(1-n);return e&=16776960,e|=(s=Math.round(255*l))>255?255:s<0?0:s,n},get_hue:function(e){var n=0;return 0!=Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255)&&(n=180/Math.PI*Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255)),n<0?n+360:n},get_brightness:function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_saturation:function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_lightness:function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2},set_hue:function(e,n){var t=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=t*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=t-i,s=n,r=i,a=(s%=360)/60,c=r*(1-Math.abs(a%2-1))+l;switch(r+=l,0|a){case 0:e&=65535,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 1:e&=65535,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 2:e&=65535,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*c))>255?255:h<0?0:h;break;case 3:e&=65535,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*r))>255?255:h<0?0:h;break;case 4:e&=65535,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*r))>255?255:h<0?0:h;break;case 5:var h;e&=65535,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*c))>255?255:h<0?0:h}return n},set_saturation:function(e,n){var t=u.get_hue(e),i=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=i*n,s=i-l,r=t,a=l,c=(r%=360)/60,h=a*(1-Math.abs(c%2-1))+s;switch(a+=s,0|c){case 0:e&=65535,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*h))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*s))>255?255:o<0?0:o;break;case 1:e&=65535,e|=((o=Math.round(255*h))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*s))>255?255:o<0?0:o;break;case 2:e&=65535,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*h))>255?255:o<0?0:o;break;case 3:e&=65535,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*h))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*a))>255?255:o<0?0:o;break;case 4:e&=65535,e|=((o=Math.round(255*h))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*a))>255?255:o<0?0:o;break;case 5:var o;e&=65535,e|=((o=Math.round(255*a))>255?255:o<0?0:o)<<16,e&=16711935,e|=((o=Math.round(255*s))>255?255:o<0?0:o)<<8,e&=16776960,e|=(o=Math.round(255*h))>255?255:o<0?0:o}return n},set_brightness:function(e,n){var t=u.get_hue(e),i=n*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=n-i,s=t,r=i,a=(s%=360)/60,c=r*(1-Math.abs(a%2-1))+l;switch(r+=l,0|a){case 0:e&=65535,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 1:e&=65535,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 2:e&=65535,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*c))>255?255:h<0?0:h;break;case 3:e&=65535,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*r))>255?255:h<0?0:h;break;case 4:e&=65535,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*r))>255?255:h<0?0:h;break;case 5:var h;e&=65535,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*c))>255?255:h<0?0:h}return n},set_lightness:function(e,n){var t=u.get_hue(e),i=(1-Math.abs(2*n-1))*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=n-i/2,s=t,r=i,a=(s%=360)/60,c=r*(1-Math.abs(a%2-1))+l;switch(r+=l,0|a){case 0:e&=65535,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 1:e&=65535,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 2:e&=65535,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*c))>255?255:h<0?0:h;break;case 3:e&=65535,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*r))>255?255:h<0?0:h;break;case 4:e&=65535,e|=((h=Math.round(255*c))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*r))>255?255:h<0?0:h;break;case 5:var h;e&=65535,e|=((h=Math.round(255*r))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*c))>255?255:h<0?0:h}return n},maxColor:function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},minColor:function(e){return Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255))},boundChannel:function(e,n){return n>255?255:n<0?0:n},roundDecimal:function(e,n){for(var t=1,i=0,l=n;i<l;){i++;t*=10}return Math.round(e*t)/t},bound:function(e,n,t){var i=null!=n&&e<n?n:e;return null!=t&&i>t?t:i},toString:function(e){return-1==e?"NONE":"0x"+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},fromHSLuv:function(e,n,t){var i=u._new();if(u._hsluvTuple[0]=e,u._hsluvTuple[1]=100*n,u._hsluvTuple[2]=100*t,t>.001){hsluv_Hsluv.hsluvToRgb(u._hsluvTuple,u._hsluvResult);var l=u._hsluvResult[0];l<0&&(l=0),i&=65535,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,(l=u._hsluvResult[1])<0&&(l=0),i&=16711935,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,(l=u._hsluvResult[2])<0&&(l=0),i&=16776960,i|=(_=Math.round(255*l))>255?255:_<0?0:_}else{var s=(1-Math.abs(2*t-1))*n,r=t-s/2,a=e,c=s,h=(a%=360)/60,o=c*(1-Math.abs(h%2-1))+r;switch(c+=r,0|h){case 0:i&=65535,i|=((_=Math.round(255*c))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*r))>255?255:_<0?0:_;break;case 1:i&=65535,i|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*c))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*r))>255?255:_<0?0:_;break;case 2:i&=65535,i|=((_=Math.round(255*r))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*c))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*o))>255?255:_<0?0:_;break;case 3:i&=65535,i|=((_=Math.round(255*r))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*c))>255?255:_<0?0:_;break;case 4:i&=65535,i|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*r))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*c))>255?255:_<0?0:_;break;case 5:var _;i&=65535,i|=((_=Math.round(255*c))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*r))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*o))>255?255:_<0?0:_}}return i},setHSLuv:function(e,n,t,i){if(u._hsluvTuple[0]=n,u._hsluvTuple[1]=100*t,u._hsluvTuple[2]=100*i,i>.001){hsluv_Hsluv.hsluvToRgb(u._hsluvTuple,u._hsluvResult);var l=u._hsluvResult[0];l<0&&(l=0),e&=65535,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,(l=u._hsluvResult[1])<0&&(l=0),e&=16711935,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,(l=u._hsluvResult[2])<0&&(l=0),e&=16776960,e|=(_=Math.round(255*l))>255?255:_<0?0:_}else{var s=(1-Math.abs(2*i-1))*t,r=i-s/2,a=n,c=s,h=(a%=360)/60,o=c*(1-Math.abs(h%2-1))+r;switch(c+=r,0|h){case 0:e&=65535,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*r))>255?255:_<0?0:_;break;case 1:e&=65535,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*r))>255?255:_<0?0:_;break;case 2:e&=65535,e|=((_=Math.round(255*r))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*o))>255?255:_<0?0:_;break;case 3:e&=65535,e|=((_=Math.round(255*r))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*c))>255?255:_<0?0:_;break;case 4:e&=65535,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*r))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*c))>255?255:_<0?0:_;break;case 5:var _;e&=65535,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*r))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*o))>255?255:_<0?0:_}}return e},getHSLuv:function(e,n){return null==n&&(n=[0,0,0]),u._hsluvTuple[0]=(e>>16&255)/255,u._hsluvTuple[1]=(e>>8&255)/255,u._hsluvTuple[2]=(255&e)/255,hsluv_Hsluv.rgbToHsluv(u._hsluvTuple,n),n[1]*=.01,n[2]*=.01,n}},ceramic_Component=function(){};t["ceramic.Component"]=ceramic_Component,ceramic_Component.__name__="ceramic.Component",ceramic_Component.__isInterface__=!0,ceramic_Component.prototype={initializerName:null,setEntity:null,getEntity:null,bindAsComponent:null,__class__:ceramic_Component};var ceramic_ComputeFps=function(e){null==e&&(e=10),this.fps=0,this.index=0,this.size=e,this.frames=[];for(var n=0,t=e;n<t;){n++;this.frames.push(0)}};t["ceramic.ComputeFps"]=ceramic_ComputeFps,ceramic_ComputeFps.__name__="ceramic.ComputeFps",ceramic_ComputeFps.prototype={frames:null,index:null,size:null,fps:null,addFrame:function(e){this.frames[this.index]=e,this.index=(this.index+1)%this.size;for(var n=0,t=0,i=this.size;t<i;){var l=t++;n+=this.frames[l]}n=n>0?this.size/n:0,this.fps=Math.round(Math.min(999,n))},__class__:ceramic_ComputeFps};var ceramic_ConvertField=function(){};t["ceramic.ConvertField"]=ceramic_ConvertField,ceramic_ConvertField.__name__="ceramic.ConvertField",ceramic_ConvertField.__isInterface__=!0,ceramic_ConvertField.prototype={basicToField:null,fieldToBasic:null,__class__:ceramic_ConvertField};var ceramic_ConvertArray=function(){};t["ceramic.ConvertArray"]=ceramic_ConvertArray,ceramic_ConvertArray.__name__="ceramic.ConvertArray",ceramic_ConvertArray.__interfaces__=[ceramic_ConvertField],ceramic_ConvertArray.prototype={basicToField:function(e,n,t,i,l){if(null!=i){var s=[];l(s=s.concat(i))}else l(null)},fieldToBasic:function(e,n,t){if(null==t)return null;var i=[];return i=i.concat(t)},__class__:ceramic_ConvertArray};var ceramic_ConvertComponentMap=function(){};t["ceramic.ConvertComponentMap"]=ceramic_ConvertComponentMap,ceramic_ConvertComponentMap.__name__="ceramic.ConvertComponentMap",ceramic_ConvertComponentMap.__interfaces__=[ceramic_ConvertField],ceramic_ConvertComponentMap.prototype={basicToField:function(e,n,t,i,l){if(null!=i){for(var s=new haxe_ds_StringMap,r=0,a=Reflect.fields(i);r<a.length;){var c=a[r];++r;i[c];ceramic_App.app.logger.error("Not using component initializers anymore. Need to implement event based solution!",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ConvertComponentMap.hx",lineNumber:38,className:"ceramic.ConvertComponentMap",methodName:"basicToField"})}l(s)}else l(null)},fieldToBasic:function(e,n,t){if(null==t)return null;for(var i={},l=t.h,s=Object.keys(l),r=s.length,a=0;a<r;){var c=s[a++],h=t.h[c];null!=h&&null!=h.initializerName&&(i[c]=h.initializerName)}return i},__class__:ceramic_ConvertComponentMap};var ceramic_ConvertFont=function(){};t["ceramic.ConvertFont"]=ceramic_ConvertFont,ceramic_ConvertFont.__name__="ceramic.ConvertFont",ceramic_ConvertFont.__interfaces__=[ceramic_ConvertField],ceramic_ConvertFont.prototype={basicToField:function(e,n,t,i,l){null!=i?i==ceramic_App.app.defaultFont.asset.name?l(ceramic_App.app.defaultFont):t.ensureFont(i,null,(function(e){l(null!=e?e.get_font():null)})):l(null)},fieldToBasic:function(e,n,t){return null==t||null==t.asset?null:t.asset.name},__class__:ceramic_ConvertFont};var ceramic_ConvertFragmentData=function(){};t["ceramic.ConvertFragmentData"]=ceramic_ConvertFragmentData,ceramic_ConvertFragmentData.__name__="ceramic.ConvertFragmentData",ceramic_ConvertFragmentData.__interfaces__=[ceramic_ConvertField],ceramic_ConvertFragmentData.prototype={basicToField:function(e,n,t,i,l){l(i)},fieldToBasic:function(e,n,t){return t},__class__:ceramic_ConvertFragmentData};var ceramic_ConvertIntBoolMap=function(){};t["ceramic.ConvertIntBoolMap"]=ceramic_ConvertIntBoolMap,ceramic_ConvertIntBoolMap.__name__="ceramic.ConvertIntBoolMap",ceramic_ConvertIntBoolMap.__interfaces__=[ceramic_ConvertField],ceramic_ConvertIntBoolMap.prototype={basicToField:function(e,n,t,i,l){if(null!=i){for(var s=new ceramic_IntIntMap(16,.5,!1),r=0,a=Reflect.fields(i);r<a.length;){var c=a[r];++r,s.set(Std.parseInt(c),Reflect.field(i,c)?1:0)}l(s)}else l(null)},fieldToBasic:function(e,n,t){if(null==t)return null;return ceramic_App.app.logger.warning("ConvertIntBoolMap.fieldToBasic() not implemented!",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ConvertIntBoolMap.hx",lineNumber:47,className:"ceramic.ConvertIntBoolMap",methodName:"fieldToBasic"}),{}},__class__:ceramic_ConvertIntBoolMap};var ceramic_ConvertMap=function(){};t["ceramic.ConvertMap"]=ceramic_ConvertMap,ceramic_ConvertMap.__name__="ceramic.ConvertMap",ceramic_ConvertMap.__interfaces__=[ceramic_ConvertField],ceramic_ConvertMap.prototype={basicToField:function(e,n,t,i,l){if(null!=i){for(var s=new haxe_ds_StringMap,r=0,a=Reflect.fields(i);r<a.length;){var c=a[r];++r,s.h[c]=i[c]}l(s)}else l(null)},fieldToBasic:function(e,n,t){if(null==t)return null;for(var i={},l=t.h,s=Object.keys(l),r=s.length,a=0;a<r;){var c=s[a++];i[c]=t.h[c]}return i},__class__:ceramic_ConvertMap};var ceramic_ConvertTexture=function(){};t["ceramic.ConvertTexture"]=ceramic_ConvertTexture,ceramic_ConvertTexture.__name__="ceramic.ConvertTexture",ceramic_ConvertTexture.__interfaces__=[ceramic_ConvertField],ceramic_ConvertTexture.prototype={basicToField:function(e,n,t,i,l){null!=i?t.ensureImage(i,null,(function(e){l(null!=e?e.get_texture():null)})):l(null)},fieldToBasic:function(e,n,t){return null==t||null==t.asset?null:t.asset.name},__class__:ceramic_ConvertTexture};var ceramic_Csv=function(){};t["ceramic.Csv"]=ceramic_Csv,ceramic_Csv.__name__="ceramic.Csv",ceramic_Csv.parse=function(e){for(var n="",t=0,i="",l=(e=StringTools.trim(e)).length,s=!1,r="",a=[];t<l;)if(i=e.charAt(t),s)'"'==i?'""'==i+e.charAt(t+1)?(r+='"',t+=2):(s=!1,++t):(r+=i,++t);else{if("\n"==i){++t;break}""==r&&'"'==i?(s=!0,++t):""==n?(","==i||";"==i?(n=i,a.push(StringTools.replace(r,"\r","")),r=""):r+=i,++t):i==n?(a.push(StringTools.replace(r,"\r","")),r="",++t):(r+=i,++t)}""!=r&&a.push(StringTools.replace(r,"\r","")),s=!1,r="";for(var c={},h=!1,u=[],o=0,_="",d=-1;t<l;)i=e.charAt(t),s?'"'==i?'""'==i+e.charAt(t+1)?(r+='"',t+=2):(s=!1,++t):(r+=i,++t):"\n"==i?(null!=(_=a[o++])?(c[_]=StringTools.replace(r,"\r",""),h=!0):-1==d&&(d=u.length),r="",u.push(c),h=!1,o=0,c={},++t):""==r&&'"'==i?(s=!0,++t):i==n?(null!=(_=a[o++])?(c[_]=StringTools.replace(r,"\r",""),h=!0):-1==d&&(d=u.length),r="",++t):(r+=i,++t);return null!=(_=a[o++])?(c[_]=StringTools.replace(r,"\r",""),h=!0):-1==d&&(ceramic_Csv.warning(c),d=u.length),r="",h&&u.push(c),d>=0&&ceramic_Csv.warning("Malformed CSV: too many columns at row #"+d),u},ceramic_Csv.stringify=function(e,n){if(null==n){n=[];for(var t=Object.create(null),i=0;i<e.length;){var l=e[i];++i;for(var s=0,r=Reflect.fields(l);s<r.length;){var a=r[s];++s,Object.prototype.hasOwnProperty.call(t,a)||(n.push(a),t[a]=!0)}}}var c="",h=0;for(i=0;i<n.length;){a=n[i];if(++i,h++>0&&(c+=","),0!=a.length){c+='"';for(s=0,r=a.length;s<r;){var u=s++;c+='"'==(b=a.charAt(u))?'""':Std.string(b)}c+='"'}}for(i=0;i<e.length;){l=e[i];++i,c+="\n",h=0;for(s=0;s<n.length;){a=n[s];++s,h++>0&&(c+=",");var o=Reflect.field(l,a),_=null!=o?Std.string(o):"";if(0!=_.length){c+='"';r=0;for(var d=_.length;r<d;){var b;u=r++;c+='"'==(b=_.charAt(u))?'""':Std.string(b)}c+='"'}}}return c},ceramic_Csv.warning=function(e){ceramic_App.app.logger.warning(e,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Csv.hx",lineNumber:238,className:"ceramic.Csv",methodName:"warning"})};var ceramic_CustomAssetKind=function(e,n,t,i,l){this.kind=e,this.add=n,this.extensions=t,this.dir=i,this.types=l};t["ceramic.CustomAssetKind"]=ceramic_CustomAssetKind,ceramic_CustomAssetKind.__name__="ceramic.CustomAssetKind",ceramic_CustomAssetKind.prototype={kind:null,add:null,extensions:null,dir:null,types:null,__class__:ceramic_CustomAssetKind};var ceramic_DatabaseAsset=function(e,n){this.unobservedDatabase=null,this.databaseAutoruns=null,ceramic_Asset.call(this,"database",e,n)};t["ceramic.DatabaseAsset"]=ceramic_DatabaseAsset,ceramic_DatabaseAsset.__name__="ceramic.DatabaseAsset",ceramic_DatabaseAsset.__super__=ceramic_Asset,ceramic_DatabaseAsset.prototype=$extend(ceramic_Asset.prototype,{databaseAutoruns:null,get_database:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.databaseAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.databaseAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedDatabase},set_database:function(e){var n=this.unobservedDatabase;if(this.unobservedDatabase=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDatabaseChange(e,n);var t=this.databaseAutoruns;if(null!=t){this.databaseAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateDatabase:function(){var e=this.unobservedDatabase;this.emitDatabaseChange(e,e);var n=this.databaseAutoruns;if(null!=n){this.databaseAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedDatabase:null,__cbOnDatabaseChange:null,__cbOnceDatabaseChange:null,__cbOnOwnerUnbindDatabaseChange:null,__cbOnceOwnerUnbindDatabaseChange:null,emitDatabaseChange:function(e,n){var t=0;if(null!=this.__cbOnDatabaseChange&&(t+=this.__cbOnDatabaseChange.length),null!=this.__cbOnceDatabaseChange&&(t+=this.__cbOnceDatabaseChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDatabaseChange)for(var r=0,a=this.__cbOnDatabaseChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnDatabaseChange[c],++s):--t}if(null!=this.__cbOnceDatabaseChange){var h=null,u=null;for(r=0,a=this.__cbOnceDatabaseChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceDatabaseChange[c],this.__cbOnceDatabaseChange[c]=null;var o=this.__cbOnceOwnerUnbindDatabaseChange[c];this.__cbOnceOwnerUnbindDatabaseChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindDatabaseChange[c]),u.push(this.__cbOnceDatabaseChange[c])}this.__cbOnceOwnerUnbindDatabaseChange=h,this.__cbOnceDatabaseChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onDatabaseChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event databaseChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDatabaseChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDatabaseChange&&(this.__cbOnOwnerUnbindDatabaseChange=[]),this.__cbOnOwnerUnbindDatabaseChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDatabaseChange&&(this.__cbOnOwnerUnbindDatabaseChange=[]),this.__cbOnOwnerUnbindDatabaseChange.push(null);null==this.__cbOnDatabaseChange&&(this.__cbOnDatabaseChange=[]),this.__cbOnDatabaseChange.push(n)},onceDatabaseChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event databaseChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDatabaseChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDatabaseChange&&(this.__cbOnceOwnerUnbindDatabaseChange=[]),this.__cbOnceOwnerUnbindDatabaseChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDatabaseChange&&(this.__cbOnceOwnerUnbindDatabaseChange=[]),this.__cbOnceOwnerUnbindDatabaseChange.push(null);null==this.__cbOnceDatabaseChange&&(this.__cbOnceDatabaseChange=[]),this.__cbOnceDatabaseChange.push(n)},offDatabaseChange:function(e){if(null!=e){var n;null!=this.__cbOnDatabaseChange&&-1!=(n=this.__cbOnDatabaseChange.indexOf(e))&&(this.__cbOnDatabaseChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDatabaseChange[n])&&s(),this.__cbOnOwnerUnbindDatabaseChange.splice(n,1)),null!=this.__cbOnceDatabaseChange&&-1!=(n=this.__cbOnceDatabaseChange.indexOf(e))&&(this.__cbOnceDatabaseChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDatabaseChange[n])&&s(),this.__cbOnceOwnerUnbindDatabaseChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDatabaseChange){for(var t=0,i=this.__cbOnOwnerUnbindDatabaseChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDatabaseChange[l])&&s()}this.__cbOnOwnerUnbindDatabaseChange=null}if(null!=this.__cbOnceOwnerUnbindDatabaseChange){for(t=0,i=this.__cbOnceOwnerUnbindDatabaseChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindDatabaseChange[l])&&s()}this.__cbOnceOwnerUnbindDatabaseChange=null}this.__cbOnDatabaseChange=null,this.__cbOnceDatabaseChange=null}},listensDatabaseChange:function(){return null!=this.__cbOnDatabaseChange&&this.__cbOnDatabaseChange.length>0||null!=this.__cbOnceDatabaseChange&&this.__cbOnceDatabaseChange.length>0},load:function(){var e=this;if(this.set_status(h.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load database asset if path is undefined.",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:21,className:"ceramic.DatabaseAsset",methodName:"load"}),this.set_status(h.BROKEN),void this.emitComplete(!1);var n={};null!=this.owner&&(n.immediate=this.owner.immediate,n.loadMethod=this.owner.loadMethod);var t=this.path,i=ceramic_Assets.realAssetPath(t,this.runtimeAssets),l=ceramic_Assets.getReloadCount(i);l>0&&(i+="?hot="+l,t+="?hot="+l),ceramic_App.app.logger.info("Load database "+t,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:42,className:"ceramic.DatabaseAsset",methodName:"load"}),ceramic_App.app.backend.texts.load(i,n,(function(n){if(null!=n){try{e.set_database(ceramic_Csv.parse(n))}catch(n){return e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to parse database at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:50,className:"ceramic.DatabaseAsset",methodName:"load"}),void e.emitComplete(!1)}e.set_status(h.READY),e.emitComplete(!0)}else e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to load database at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:59,className:"ceramic.DatabaseAsset",methodName:"load"}),e.emitComplete(!1)}))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload database (file has changed)",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:82,className:"ceramic.DatabaseAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),this.set_database(null))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offDatabaseChange()},__class__:ceramic_DatabaseAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_database:"set_database",get_database:"get_database"})});var _=i["ceramic.Easing"]={__ename__:"ceramic.Easing",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"ceramic.Easing",toString:$estr},LINEAR:{_hx_name:"LINEAR",_hx_index:1,__enum__:"ceramic.Easing",toString:$estr},BACK_EASE_IN:{_hx_name:"BACK_EASE_IN",_hx_index:2,__enum__:"ceramic.Easing",toString:$estr},BACK_EASE_IN_OUT:{_hx_name:"BACK_EASE_IN_OUT",_hx_index:3,__enum__:"ceramic.Easing",toString:$estr},BACK_EASE_OUT:{_hx_name:"BACK_EASE_OUT",_hx_index:4,__enum__:"ceramic.Easing",toString:$estr},QUAD_EASE_IN:{_hx_name:"QUAD_EASE_IN",_hx_index:5,__enum__:"ceramic.Easing",toString:$estr},QUAD_EASE_IN_OUT:{_hx_name:"QUAD_EASE_IN_OUT",_hx_index:6,__enum__:"ceramic.Easing",toString:$estr},QUAD_EASE_OUT:{_hx_name:"QUAD_EASE_OUT",_hx_index:7,__enum__:"ceramic.Easing",toString:$estr},CUBIC_EASE_IN:{_hx_name:"CUBIC_EASE_IN",_hx_index:8,__enum__:"ceramic.Easing",toString:$estr},CUBIC_EASE_IN_OUT:{_hx_name:"CUBIC_EASE_IN_OUT",_hx_index:9,__enum__:"ceramic.Easing",toString:$estr},CUBIC_EASE_OUT:{_hx_name:"CUBIC_EASE_OUT",_hx_index:10,__enum__:"ceramic.Easing",toString:$estr},QUART_EASE_IN:{_hx_name:"QUART_EASE_IN",_hx_index:11,__enum__:"ceramic.Easing",toString:$estr},QUART_EASE_IN_OUT:{_hx_name:"QUART_EASE_IN_OUT",_hx_index:12,__enum__:"ceramic.Easing",toString:$estr},QUART_EASE_OUT:{_hx_name:"QUART_EASE_OUT",_hx_index:13,__enum__:"ceramic.Easing",toString:$estr},QUINT_EASE_IN:{_hx_name:"QUINT_EASE_IN",_hx_index:14,__enum__:"ceramic.Easing",toString:$estr},QUINT_EASE_IN_OUT:{_hx_name:"QUINT_EASE_IN_OUT",_hx_index:15,__enum__:"ceramic.Easing",toString:$estr},QUINT_EASE_OUT:{_hx_name:"QUINT_EASE_OUT",_hx_index:16,__enum__:"ceramic.Easing",toString:$estr},BOUNCE_EASE_IN:{_hx_name:"BOUNCE_EASE_IN",_hx_index:17,__enum__:"ceramic.Easing",toString:$estr},BOUNCE_EASE_IN_OUT:{_hx_name:"BOUNCE_EASE_IN_OUT",_hx_index:18,__enum__:"ceramic.Easing",toString:$estr},BOUNCE_EASE_OUT:{_hx_name:"BOUNCE_EASE_OUT",_hx_index:19,__enum__:"ceramic.Easing",toString:$estr},ELASTIC_EASE_IN:{_hx_name:"ELASTIC_EASE_IN",_hx_index:20,__enum__:"ceramic.Easing",toString:$estr},ELASTIC_EASE_IN_OUT:{_hx_name:"ELASTIC_EASE_IN_OUT",_hx_index:21,__enum__:"ceramic.Easing",toString:$estr},ELASTIC_EASE_OUT:{_hx_name:"ELASTIC_EASE_OUT",_hx_index:22,__enum__:"ceramic.Easing",toString:$estr},EXPO_EASE_IN:{_hx_name:"EXPO_EASE_IN",_hx_index:23,__enum__:"ceramic.Easing",toString:$estr},EXPO_EASE_IN_OUT:{_hx_name:"EXPO_EASE_IN_OUT",_hx_index:24,__enum__:"ceramic.Easing",toString:$estr},EXPO_EASE_OUT:{_hx_name:"EXPO_EASE_OUT",_hx_index:25,__enum__:"ceramic.Easing",toString:$estr},SINE_EASE_IN:{_hx_name:"SINE_EASE_IN",_hx_index:26,__enum__:"ceramic.Easing",toString:$estr},SINE_EASE_IN_OUT:{_hx_name:"SINE_EASE_IN_OUT",_hx_index:27,__enum__:"ceramic.Easing",toString:$estr},SINE_EASE_OUT:{_hx_name:"SINE_EASE_OUT",_hx_index:28,__enum__:"ceramic.Easing",toString:$estr},BEZIER:(n=function(e,n,t,i){return{_hx_index:29,x1:e,y1:n,x2:t,y2:i,__enum__:"ceramic.Easing",toString:$estr}},n._hx_name="BEZIER",n.__params__=["x1","y1","x2","y2"],n),CUSTOM:(n=function(e){return{_hx_index:30,easing:e,__enum__:"ceramic.Easing",toString:$estr}},n._hx_name="CUSTOM",n.__params__=["easing"],n)};_.__constructs__=[_.NONE,_.LINEAR,_.BACK_EASE_IN,_.BACK_EASE_IN_OUT,_.BACK_EASE_OUT,_.QUAD_EASE_IN,_.QUAD_EASE_IN_OUT,_.QUAD_EASE_OUT,_.CUBIC_EASE_IN,_.CUBIC_EASE_IN_OUT,_.CUBIC_EASE_OUT,_.QUART_EASE_IN,_.QUART_EASE_IN_OUT,_.QUART_EASE_OUT,_.QUINT_EASE_IN,_.QUINT_EASE_IN_OUT,_.QUINT_EASE_OUT,_.BOUNCE_EASE_IN,_.BOUNCE_EASE_IN_OUT,_.BOUNCE_EASE_OUT,_.ELASTIC_EASE_IN,_.ELASTIC_EASE_IN_OUT,_.ELASTIC_EASE_OUT,_.EXPO_EASE_IN,_.EXPO_EASE_IN_OUT,_.EXPO_EASE_OUT,_.SINE_EASE_IN,_.SINE_EASE_IN_OUT,_.SINE_EASE_OUT,_.BEZIER,_.CUSTOM];var ceramic_EasingUtils=function(){};t["ceramic.EasingUtils"]=ceramic_EasingUtils,ceramic_EasingUtils.__name__="ceramic.EasingUtils",ceramic_EasingUtils.easingFromString=function(e){return Type.createEnum(_,e,ceramic_EasingUtils._emptyArray)},ceramic_EasingUtils.easingToString=function(e){return i[e.__enum__].__constructs__[e._hx_index]._hx_name};var ceramic_Extensions=function(){};t["ceramic.Extensions"]=ceramic_Extensions,ceramic_Extensions.__name__="ceramic.Extensions",ceramic_Extensions.unsafeGet=function(e,n){return e[n]},ceramic_Extensions.unsafeSet=function(e,n,t){e[n]=t},ceramic_Extensions.setArrayLength=function(e,n){e.length!=n&&(e.length>n?e.splice(n,e.length-n):e[n-1]=null)},ceramic_Extensions.randomElement=function(e){return e[Math.floor(.99999*Math.random()*e.length)]},ceramic_Extensions.randomElementExcept=function(e,n,t){if(null==t&&(t=!1),t){for(var i=null;(i=e[Math.floor(.99999*Math.random()*e.length)])==n;);return i}for(var l=[],s=0;s<e.length;){var r=e[s];++s,l.push(r)}ceramic_Extensions.shuffle(l);for(s=0;s<l.length;){r=l[s];if(++s,r!=n)return r}return null},ceramic_Extensions.randomElementMatchingValidator=function(e,n){for(var t=[],i=0;i<e.length;){var l=e[i];++i,t.push(l)}ceramic_Extensions.shuffle(t);for(i=0;i<t.length;){l=t[i];if(++i,n(l))return l}return null},ceramic_Extensions.shuffle=function(e){if(null!=e)for(var n=0,t=e.length;n<t;){var i=n++,l=Math.floor((e.length-1+1)*Math.random()),s=e[i],r=e[l];e[i]=r,e[l]=s}},ceramic_Extensions.swapElements=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ceramic_Extensions.removeNullElements=function(e){for(var n=0,t=0,i=e.length;n<i;){for(;;){if(null!=e[n])break;if(++t,!(++n<i))break}if(0!=t&&n<i)e[n-t]=e[n];++n}var l=i-t;e.length!=l&&(e.length>l?e.splice(l,e.length-l):e[l-1]=null)},ceramic_Extensions.setProperty=function(e,n,t){Reflect.setProperty(e,n,t)},ceramic_Extensions.getProperty=function(e,n){return Reflect.getProperty(e,n)};var ceramic_FieldInfo=function(){};t["ceramic.FieldInfo"]=ceramic_FieldInfo,ceramic_FieldInfo.__name__="ceramic.FieldInfo",ceramic_FieldInfo.types=function(e,n){null==n&&(n=!0);var i=ceramic_FieldInfo.fieldInfoMap.h[e];if(null==i){i=new haxe_ds_StringMap,ceramic_FieldInfo.fieldInfoMap.h[e]=i;for(var l=t[e];null!=l;){var s=Reflect.field(l,"_fieldInfo");if(!1,null!=s)for(var r=s,a=Reflect.fields(s),c=0;c<a.length;){var h=a[c++],u=h,o=r[h];Object.prototype.hasOwnProperty.call(i.h,u)||(i.h[u]=o.type)}if(!n)break;l=l.__super__}}return i},ceramic_FieldInfo.typeOf=function(e,n){return ceramic_FieldInfo.types(e).h[n]};var ceramic_FieldMeta=function(){};t["ceramic.FieldMeta"]=ceramic_FieldMeta,ceramic_FieldMeta.__name__="ceramic.FieldMeta",ceramic_FieldMeta._hasMeta=function(e,n,t,i,l){var s=ceramic_FieldMeta._getMeta(e,n,t,l);return null!=s&&Object.prototype.hasOwnProperty.call(s.h,i)},ceramic_FieldMeta._getMeta=function(e,n,t,i){var l=null,s=i?ceramic_FieldMeta.metaMapRecursive:ceramic_FieldMeta.metaMap;if(Object.prototype.hasOwnProperty.call(s.h,n))l=s.h[n];else{for(l=new haxe_ds_StringMap;null!=e;){var r=haxe_rtti_Meta.getFields(e);if(null!=r)for(var a=0,c=Reflect.fields(r);a<c.length;){var h=c[a];++a;var u=l.h[h];null==u&&(u=new haxe_ds_StringMap,l.h[h]=u);var o=Reflect.field(r,h);if(null!=o)for(var _=0,d=Reflect.fields(o);_<d.length;){var b=d[_];++_,Object.prototype.hasOwnProperty.call(u.h,b)||(u.h[b]=Reflect.field(o,b))}}if(!i)break;e=e.__super__}s.h[n]=l}return Object.prototype.hasOwnProperty.call(l.h,t)?l.h[t]:null};var ceramic_Files=function(){};t["ceramic.Files"]=ceramic_Files,ceramic_Files.__name__="ceramic.Files",ceramic_Files.haveSameContent=function(e,n){return ceramic_App.app.logger.warning("haveSameContent() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:41,className:"ceramic.Files",methodName:"haveSameContent"}),!1},ceramic_Files.haveSameLastModified=function(e,n){return ceramic_App.app.logger.warning("haveSameLastModified() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:78,className:"ceramic.Files",methodName:"haveSameLastModified"}),!1},ceramic_Files.setToSameLastModified=function(e,n){ceramic_App.app.logger.warning("setToSameLastModified() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:103,className:"ceramic.Files",methodName:"setToSameLastModified"})},ceramic_Files.getFlatDirectory=function(e,n,t,i){return null==i&&(i=!0),null==t&&(t=!1),null==n&&(n=!0),[]},ceramic_Files.getLastModified=function(e){return-1},ceramic_Files.removeEmptyDirectories=function(e,n){null==n&&(n=!0),ceramic_App.app.logger.warning("removeEmptyDirectories() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:234,className:"ceramic.Files",methodName:"removeEmptyDirectories"})},ceramic_Files.isEmptyDirectory=function(e,n){return null==n&&(n=!0),ceramic_App.app.logger.warning("isEmptyDirectory() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:255,className:"ceramic.Files",methodName:"isEmptyDirectory"}),!1},ceramic_Files.deleteRecursive=function(e){ceramic_App.app.logger.warning("deleteRecursive() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:299,className:"ceramic.Files",methodName:"deleteRecursive"})},ceramic_Files.getRelativePath=function(e,n){for(var t=HxOverrides.substr(ceramic_Path.normalize(n),1,null).split("/"),i=HxOverrides.substr(ceramic_Path.normalize(e),1,null).split("/"),l=Math.min(t.length,i.length),s=l,r=0,a=l;r<a;){if(t[h=r++]!=i[h]){s=h;break}}var c=[];for(r=s,a=t.length;r<a;){var h=r++;c.push("..")}var u=(c=c.concat(i.slice(s))).join("/");return StringTools.endsWith(e,"/")&&!StringTools.endsWith(u,"/")&&(u+="/"),StringTools.startsWith(u,".")||(u="./"+u),u},ceramic_Files.copyFileWithIntermediateDirs=function(e,n){ceramic_App.app.logger.warning("copyFileWithIntermediateDirs() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:355,className:"ceramic.Files",methodName:"copyFileWithIntermediateDirs"})},ceramic_Files.copyDirectory=function(e,n,t){null==t&&(t=!1),ceramic_App.app.logger.warning("copyDirectory() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:389,className:"ceramic.Files",methodName:"copyDirectory"})},ceramic_Files.deleteFile=function(e){ceramic_App.app.logger.warning("deleteFile() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:415,className:"ceramic.Files",methodName:"deleteFile"})},ceramic_Files.getContent=function(e){return ceramic_App.app.logger.warning("getContent() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:441,className:"ceramic.Files",methodName:"getContent"}),null},ceramic_Files.getBytes=function(e){return ceramic_App.app.logger.warning("getBytes() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:469,className:"ceramic.Files",methodName:"getBytes"}),null},ceramic_Files.saveContent=function(e,n){ceramic_App.app.logger.warning("saveContent() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:495,className:"ceramic.Files",methodName:"saveContent"})},ceramic_Files.saveBytes=function(e,n){ceramic_App.app.logger.warning("saveBytes() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:521,className:"ceramic.Files",methodName:"saveBytes"})},ceramic_Files.createDirectory=function(e){ceramic_App.app.logger.warning("createDirectory() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:546,className:"ceramic.Files",methodName:"createDirectory"})},ceramic_Files.exists=function(e){return ceramic_App.app.logger.warning("exists() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:598,className:"ceramic.Files",methodName:"exists"}),!1},ceramic_Files.isDirectory=function(e){return ceramic_App.app.logger.warning("isDirectory() is not supported on this target",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Files.hx",lineNumber:631,className:"ceramic.Files",methodName:"isDirectory"}),!1};var ceramic_Filter=function(){this.explicitRenderPendingResultCallbacks=null,this.explicitRenderState=0,this.density=-1,this.unobservedRenderTexture=null,this.renderTextureAutoruns=null,this.textureTile=null,this.textureTilePacker=null,this.explicitRender=!1,this.autoRender=!0,this.antialiasing=0,this.stencil=!0,this.depthBuffer=!0,this.textureFilter=y.LINEAR,this.enabled=!0,this.hitVisual=null,this.textureId=null,this.observedDirty=!1,ceramic_Layer.call(this),this.flags&=-17,this.content=new ceramic_Quad,this.content.flags|=16,this.content.color=16777215,this.add(this.content),this.set_hitVisual(this),ceramic_App.app.screen.onTexturesDensityChange(this,$bind(this,this.handleTexturesDensityChange))};t["ceramic.Filter"]=ceramic_Filter,ceramic_Filter.__name__="ceramic.Filter",ceramic_Filter.__interfaces__=[tracker_Observable],ceramic_Filter.__super__=ceramic_Layer,ceramic_Filter.prototype=$extend(ceramic_Layer.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,a=this.__cbOnObservedDirty.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[c],++s):--t}if(null!=this.__cbOnceObservedDirty){var h=null,u=null;for(r=0,a=this.__cbOnceObservedDirty.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceObservedDirty[c],this.__cbOnceObservedDirty[c]=null;var o=this.__cbOnceOwnerUnbindObservedDirty[c];this.__cbOnceOwnerUnbindObservedDirty[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindObservedDirty[c]),u.push(this.__cbOnceObservedDirty[c])}this.__cbOnceOwnerUnbindObservedDirty=h,this.__cbOnceObservedDirty=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},observedDirty:null,textureId:null,set_textureId:function(e){return this.textureId=e,null!=this.get_renderTexture()&&(this.get_renderTexture().id=e),e},content:null,hitVisual:null,set_hitVisual:function(e){return this.hitVisual==e||(null!=this.hitVisual&&ceramic_App.app.screen.removeHitVisual(this.hitVisual),this.hitVisual=e,null!=this.hitVisual&&ceramic_App.app.screen.addHitVisual(this.hitVisual)),e},enabled:null,set_enabled:function(e){if(this.enabled==e)return e;this.enabled=e;var n=!e;return this.flags=n?16|this.flags:-17&this.flags,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,e},textureFilter:null,set_textureFilter:function(e){return this.textureFilter==e||(this.textureFilter=e,null!=this.get_renderTexture()&&this.get_renderTexture().set_filter(e)),e},depthBuffer:null,set_depthBuffer:function(e){return this.depthBuffer==e||(this.depthBuffer=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},stencil:null,set_stencil:function(e){return this.stencil==e||(this.stencil=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},antialiasing:null,set_antialiasing:function(e){return this.antialiasing==e||(this.antialiasing=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},autoRender:null,set_autoRender:function(e){return this.autoRender==e||(this.autoRender=e,null!=this.get_renderTexture()&&(this.get_renderTexture().autoRender=e)),e},explicitRender:null,set_explicitRender:function(e){return this.explicitRender==e||(this.explicitRender=e,this.content.set_active(!e)),e},textureTilePacker:null,set_textureTilePacker:function(e){return this.textureTilePacker==e||(null!=this.textureTile&&null!=this.textureTilePacker&&(this.textureTilePacker.releaseTile(this.textureTile),this.textureTile=null,this.set_tile(null),this.set_tile(null),this.content.set_renderTarget(null)),this.textureTilePacker=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},textureTile:null,renderTextureAutoruns:null,get_renderTexture:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.renderTextureAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.renderTextureAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedRenderTexture},set_renderTexture:function(e){var n=this.unobservedRenderTexture;if(this.unobservedRenderTexture=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitRenderTextureChange(e,n);var t=this.renderTextureAutoruns;if(null!=t){this.renderTextureAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateRenderTexture:function(){var e=this.unobservedRenderTexture;this.emitRenderTextureChange(e,e);var n=this.renderTextureAutoruns;if(null!=n){this.renderTextureAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedRenderTexture:null,__cbOnRenderTextureChange:null,__cbOnceRenderTextureChange:null,__cbOnOwnerUnbindRenderTextureChange:null,__cbOnceOwnerUnbindRenderTextureChange:null,emitRenderTextureChange:function(e,n){var t=0;if(null!=this.__cbOnRenderTextureChange&&(t+=this.__cbOnRenderTextureChange.length),null!=this.__cbOnceRenderTextureChange&&(t+=this.__cbOnceRenderTextureChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnRenderTextureChange)for(var r=0,a=this.__cbOnRenderTextureChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnRenderTextureChange[c],++s):--t}if(null!=this.__cbOnceRenderTextureChange){var h=null,u=null;for(r=0,a=this.__cbOnceRenderTextureChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceRenderTextureChange[c],this.__cbOnceRenderTextureChange[c]=null;var o=this.__cbOnceOwnerUnbindRenderTextureChange[c];this.__cbOnceOwnerUnbindRenderTextureChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindRenderTextureChange[c]),u.push(this.__cbOnceRenderTextureChange[c])}this.__cbOnceOwnerUnbindRenderTextureChange=h,this.__cbOnceRenderTextureChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onRenderTextureChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event renderTextureChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offRenderTextureChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindRenderTextureChange&&(this.__cbOnOwnerUnbindRenderTextureChange=[]),this.__cbOnOwnerUnbindRenderTextureChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindRenderTextureChange&&(this.__cbOnOwnerUnbindRenderTextureChange=[]),this.__cbOnOwnerUnbindRenderTextureChange.push(null);null==this.__cbOnRenderTextureChange&&(this.__cbOnRenderTextureChange=[]),this.__cbOnRenderTextureChange.push(n)},onceRenderTextureChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event renderTextureChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offRenderTextureChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindRenderTextureChange&&(this.__cbOnceOwnerUnbindRenderTextureChange=[]),this.__cbOnceOwnerUnbindRenderTextureChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindRenderTextureChange&&(this.__cbOnceOwnerUnbindRenderTextureChange=[]),this.__cbOnceOwnerUnbindRenderTextureChange.push(null);null==this.__cbOnceRenderTextureChange&&(this.__cbOnceRenderTextureChange=[]),this.__cbOnceRenderTextureChange.push(n)},offRenderTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnRenderTextureChange&&-1!=(n=this.__cbOnRenderTextureChange.indexOf(e))&&(this.__cbOnRenderTextureChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindRenderTextureChange[n])&&s(),this.__cbOnOwnerUnbindRenderTextureChange.splice(n,1)),null!=this.__cbOnceRenderTextureChange&&-1!=(n=this.__cbOnceRenderTextureChange.indexOf(e))&&(this.__cbOnceRenderTextureChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindRenderTextureChange[n])&&s(),this.__cbOnceOwnerUnbindRenderTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindRenderTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindRenderTextureChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindRenderTextureChange[l])&&s()}this.__cbOnOwnerUnbindRenderTextureChange=null}if(null!=this.__cbOnceOwnerUnbindRenderTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindRenderTextureChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindRenderTextureChange[l])&&s()}this.__cbOnceOwnerUnbindRenderTextureChange=null}this.__cbOnRenderTextureChange=null,this.__cbOnceRenderTextureChange=null}},listensRenderTextureChange:function(){return null!=this.__cbOnRenderTextureChange&&this.__cbOnRenderTextureChange.length>0||null!=this.__cbOnceRenderTextureChange&&this.__cbOnceRenderTextureChange.length>0},density:null,set_density:function(e){return this.density==e||(this.density=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},explicitRenderState:null,explicitRenderPendingResultCallbacks:null,handleTexturesDensityChange:function(e,n){e!=n&&-1==this.density&&(this.updateRenderTextureAndContent(Math.ceil(this.get_width()),Math.ceil(this.get_height()),e,this.depthBuffer,this.stencil,this.antialiasing),this.contentDirty=!1)},updateRenderTextureAndContent:function(e,n,t,i,l,s){if(this.enabled){if(null==this.get_renderTexture()||(null==this.textureTilePacker||!this.textureTilePacker.managesTexture(this.get_renderTexture()))&&(this.get_renderTexture().width!=e||this.get_renderTexture().height!=n||-1!=t&&this.get_renderTexture().density!=t||this.get_renderTexture().depth!=i||this.get_renderTexture().stencil!=l||this.get_renderTexture().antialiasing!=s)||null!=this.textureTilePacker&&!this.textureTilePacker.managesTexture(this.get_renderTexture())||null!=this.textureTile&&(this.textureTile.frameWidth!=e||this.textureTile.frameHeight!=n)){if(null!=this.get_renderTexture()&&(null==this.textureTilePacker||!this.textureTilePacker.managesTexture(this.get_renderTexture()))){var r=null;this._texture!=r&&this._set_texture(r),this.get_renderTexture().destroy(),this.set_renderTexture(null)}if(null!=this.textureTile&&null!=this.textureTilePacker&&(this.textureTilePacker.releaseTile(this.textureTile),this.textureTile=null),e>0&&n>0)if(null!=this.textureTilePacker)this.set_renderTexture(this.textureTilePacker.texture),this.textureTile=this.textureTilePacker.allocTile(e,n),this.set_tile(this.textureTile);else{this.set_renderTexture(new ceramic_RenderTexture(e,n,t,i,l,s)),this.get_renderTexture().id=this.textureId,this.get_renderTexture().set_filter(this.textureFilter),this.get_renderTexture().autoRender=this.autoRender,this.set_tile(null);r=this.get_renderTexture();this._texture!=r&&this._set_texture(r)}}}else if(null!=this.get_renderTexture()&&(null==this.textureTilePacker||!this.textureTilePacker.managesTexture(this.get_renderTexture()))){this.set_tile(null);r=null;this._texture!=r&&this._set_texture(r),this.get_renderTexture().destroy(),this.set_renderTexture(null)}if((a=this.content).set_width(e),a.set_height(n),this.content.set_renderTarget(this.get_renderTexture()),null!=this.textureTile){var a=this.content,c=this.textureTile.frameY;a.set_x(this.textureTile.frameX),a.set_y(c)}else{(a=this.content).set_x(0),a.set_y(0)}this.content.contentDirty&&this.content.computeContent()},render:function(e,n){null==e&&(e=!1);var t=this;if(this.explicitRender)if(1!=this.explicitRenderState)if(2!=this.explicitRenderState)if(this.explicitRenderState=1,this.contentDirty&&this.computeContent(),null!=this.get_renderTexture()){if(this.content.set_active(!0),e){var i=ceramic_App.app;i.inUpdate&&(i.shouldUpdateAndDrawAgain=!0)}ceramic_App.app.onceUpdate(null,(function(e){if(t._lifecycleState<0)n=null;else if(t.explicitRenderState=2,t.contentDirty&&t.computeContent(),null!=t.get_renderTexture())t.get_renderTexture().renderDirty=!0,ceramic_App.app.onceFinishDraw(null,(function(){if(t._lifecycleState<0)n=null;else{t.content.set_active(!1),t.explicitRenderState=0;var e=t.explicitRenderPendingResultCallbacks;if(t.explicitRenderPendingResultCallbacks=null,null!=n&&(n(),n=null),null!=e)for(var i=0,l=e.length;i<l;){var s=i++,r=e[s];e[s]=null,r(),r=null}}}));else{t.content.set_active(!1),t.explicitRenderState=0;var i=t.explicitRenderPendingResultCallbacks;if(t.explicitRenderPendingResultCallbacks=null,null!=n&&(n(),n=null),null!=i)for(var l=0,s=i.length;l<s;){var r=l++,a=i[r];i[r]=null,a(),a=null}}}))}else{this.explicitRenderState=0;var l=this.explicitRenderPendingResultCallbacks;if(this.explicitRenderPendingResultCallbacks=null,null!=n&&(n(),n=null),null!=l)for(var s=0,r=l.length;s<r;){var a=s++,c=l[a];l[a]=null,c(),c=null}}else null!=n&&(null==this.explicitRenderPendingResultCallbacks&&(this.explicitRenderPendingResultCallbacks=[]),this.explicitRenderPendingResultCallbacks.push((function(){t.render(e,n),n=null})));else null!=n&&(null==this.explicitRenderPendingResultCallbacks&&(this.explicitRenderPendingResultCallbacks=[]),this.explicitRenderPendingResultCallbacks.push(n),n=null);else ceramic_App.app.logger.warning("Explicit render is disabled on this filter. Ignoring render() call.",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Filter.hx",lineNumber:277,className:"ceramic.Filter",methodName:"render"})},visualInContentHits:function(e,n,t){var i=ceramic_Screen.matchedHitVisual;if(ceramic_Screen.matchedHitVisual=null,this.hitVisual._hits(n,t,!1)){ceramic_Screen.matchedHitVisual=i,e.matrixDirty&&e.computeMatrix(),(o=ceramic_Filter._matrix).a=e.matA,o.b=e.matB,o.c=e.matC,o.d=e.matD,o.tx=e.matTX,o.ty=e.matTY,o.changedDirty=!0;for(var l=this.hitVisual;;){l.matrixDirty&&l.computeMatrix();var s=ceramic_Filter._matrix.a*l.matA+ceramic_Filter._matrix.b*l.matC;ceramic_Filter._matrix.b=ceramic_Filter._matrix.a*l.matB+ceramic_Filter._matrix.b*l.matD,ceramic_Filter._matrix.a=s;var r=ceramic_Filter._matrix.c*l.matA+ceramic_Filter._matrix.d*l.matC;ceramic_Filter._matrix.d=ceramic_Filter._matrix.c*l.matB+ceramic_Filter._matrix.d*l.matD,ceramic_Filter._matrix.c=r;var a=ceramic_Filter._matrix.tx*l.matA+ceramic_Filter._matrix.ty*l.matC+l.matTX;if(ceramic_Filter._matrix.ty=ceramic_Filter._matrix.tx*l.matB+ceramic_Filter._matrix.ty*l.matD+l.matTY,ceramic_Filter._matrix.tx=a,null!=l.computedRenderTarget){var c=!1,h=l.parent;if(null!=h)for(;;){if(null!=h.asQuad&&h instanceof ceramic_Filter){var u=h;if(u.get_renderTexture()==l.computedRenderTarget){l=u.hitVisual,c=!0;break}}if(null==(h=h.parent))break}if(!c)return!1}else l=null;if(null==l)break}var o,_=(o=ceramic_Filter._matrix).a*o.d-o.b*o.c;if(0==_)o.a=o.b=o.c=o.d=0,o.tx=-o.tx,o.ty=-o.ty;else{_=1/_;s=o.d*_;o.d=o.a*_,o.a=s,o.b*=-_,o.c*=-_;a=-o.a*o.tx-o.c*o.ty;o.ty=-o.b*o.tx-o.d*o.ty,o.tx=a}return o.changedDirty=!0,e.hitTest(n,t,ceramic_Filter._matrix)}return ceramic_Screen.matchedHitVisual=i,!1},set_width:function(e){return this.get_width()==e?e:(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,ceramic_Layer.prototype.set_width.call(this,e))},set_height:function(e){return this.get_height()==e?e:(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,ceramic_Layer.prototype.set_height.call(this,e))},computeContent:function(){this.updateRenderTextureAndContent(Math.ceil(this.get_width()),Math.ceil(this.get_height()),this.density,this.depthBuffer,this.stencil,this.antialiasing),this.contentDirty=!1},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this.set_hitVisual(null);null!=this._texture&&this._set_texture(null),null==this.get_renderTexture()||null!=this.textureTilePacker&&this.textureTilePacker.managesTexture(this.get_renderTexture())||(this.get_renderTexture().destroy(),this.set_renderTexture(null)),this.set_textureTilePacker(null),this.set_renderTexture(null),this.explicitRenderPendingResultCallbacks=null,this.content=null,this._lifecycleState=-1,ceramic_Layer.prototype.destroy.call(this)}},unbindEvents:function(){ceramic_Layer.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offRenderTextureChange()},__class__:ceramic_Filter,__properties__:$extend(ceramic_Layer.prototype.__properties__,{set_density:"set_density",set_renderTexture:"set_renderTexture",get_renderTexture:"get_renderTexture",set_textureTilePacker:"set_textureTilePacker",set_explicitRender:"set_explicitRender",set_autoRender:"set_autoRender",set_antialiasing:"set_antialiasing",set_stencil:"set_stencil",set_depthBuffer:"set_depthBuffer",set_textureFilter:"set_textureFilter",set_enabled:"set_enabled",set_hitVisual:"set_hitVisual",set_textureId:"set_textureId"})});var ceramic_FontAsset=function(e,n){this.unobservedFont=null,this.fontAutoruns=null,this.pages=null,this.fontData=null,ceramic_Asset.call(this,"font",e,n),this.set_handleTexturesDensityChange(!0),this.assets=new ceramic_Assets};t["ceramic.FontAsset"]=ceramic_FontAsset,ceramic_FontAsset.__name__="ceramic.FontAsset",ceramic_FontAsset.__super__=ceramic_Asset,ceramic_FontAsset.prototype=$extend(ceramic_Asset.prototype,{__cbOnReplaceFont:null,__cbOnceReplaceFont:null,__cbOnOwnerUnbindReplaceFont:null,__cbOnceOwnerUnbindReplaceFont:null,emitReplaceFont:function(e,n){var t=0;if(null!=this.__cbOnReplaceFont&&(t+=this.__cbOnReplaceFont.length),null!=this.__cbOnceReplaceFont&&(t+=this.__cbOnceReplaceFont.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnReplaceFont)for(var r=0,a=this.__cbOnReplaceFont.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnReplaceFont[c],++s):--t}if(null!=this.__cbOnceReplaceFont){var h=null,u=null;for(r=0,a=this.__cbOnceReplaceFont.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceReplaceFont[c],this.__cbOnceReplaceFont[c]=null;var o=this.__cbOnceOwnerUnbindReplaceFont[c];this.__cbOnceOwnerUnbindReplaceFont[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindReplaceFont[c]),u.push(this.__cbOnceReplaceFont[c])}this.__cbOnceOwnerUnbindReplaceFont=h,this.__cbOnceReplaceFont=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onReplaceFont:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceFont because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceFont(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReplaceFont&&(this.__cbOnOwnerUnbindReplaceFont=[]),this.__cbOnOwnerUnbindReplaceFont.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReplaceFont&&(this.__cbOnOwnerUnbindReplaceFont=[]),this.__cbOnOwnerUnbindReplaceFont.push(null);null==this.__cbOnReplaceFont&&(this.__cbOnReplaceFont=[]),this.__cbOnReplaceFont.push(n)},onceReplaceFont:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceFont because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceFont(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReplaceFont&&(this.__cbOnceOwnerUnbindReplaceFont=[]),this.__cbOnceOwnerUnbindReplaceFont.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReplaceFont&&(this.__cbOnceOwnerUnbindReplaceFont=[]),this.__cbOnceOwnerUnbindReplaceFont.push(null);null==this.__cbOnceReplaceFont&&(this.__cbOnceReplaceFont=[]),this.__cbOnceReplaceFont.push(n)},offReplaceFont:function(e){if(null!=e){var n;null!=this.__cbOnReplaceFont&&-1!=(n=this.__cbOnReplaceFont.indexOf(e))&&(this.__cbOnReplaceFont.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplaceFont[n])&&s(),this.__cbOnOwnerUnbindReplaceFont.splice(n,1)),null!=this.__cbOnceReplaceFont&&-1!=(n=this.__cbOnceReplaceFont.indexOf(e))&&(this.__cbOnceReplaceFont.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplaceFont[n])&&s(),this.__cbOnceOwnerUnbindReplaceFont.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceFont){for(var t=0,i=this.__cbOnOwnerUnbindReplaceFont.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplaceFont[l])&&s()}this.__cbOnOwnerUnbindReplaceFont=null}if(null!=this.__cbOnceOwnerUnbindReplaceFont){for(t=0,i=this.__cbOnceOwnerUnbindReplaceFont.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindReplaceFont[l])&&s()}this.__cbOnceOwnerUnbindReplaceFont=null}this.__cbOnReplaceFont=null,this.__cbOnceReplaceFont=null}},listensReplaceFont:function(){return null!=this.__cbOnReplaceFont&&this.__cbOnReplaceFont.length>0||null!=this.__cbOnceReplaceFont&&this.__cbOnceReplaceFont.length>0},fontData:null,pages:null,fontAutoruns:null,get_font:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.fontAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.fontAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedFont},set_font:function(e){var n=this.unobservedFont;if(this.unobservedFont=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFontChange(e,n);var t=this.fontAutoruns;if(null!=t){this.fontAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateFont:function(){var e=this.unobservedFont;this.emitFontChange(e,e);var n=this.fontAutoruns;if(null!=n){this.fontAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedFont:null,__cbOnFontChange:null,__cbOnceFontChange:null,__cbOnOwnerUnbindFontChange:null,__cbOnceOwnerUnbindFontChange:null,emitFontChange:function(e,n){var t=0;if(null!=this.__cbOnFontChange&&(t+=this.__cbOnFontChange.length),null!=this.__cbOnceFontChange&&(t+=this.__cbOnceFontChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFontChange)for(var r=0,a=this.__cbOnFontChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnFontChange[c],++s):--t}if(null!=this.__cbOnceFontChange){var h=null,u=null;for(r=0,a=this.__cbOnceFontChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceFontChange[c],this.__cbOnceFontChange[c]=null;var o=this.__cbOnceOwnerUnbindFontChange[c];this.__cbOnceOwnerUnbindFontChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindFontChange[c]),u.push(this.__cbOnceFontChange[c])}this.__cbOnceOwnerUnbindFontChange=h,this.__cbOnceFontChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onFontChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fontChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFontChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFontChange&&(this.__cbOnOwnerUnbindFontChange=[]),this.__cbOnOwnerUnbindFontChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFontChange&&(this.__cbOnOwnerUnbindFontChange=[]),this.__cbOnOwnerUnbindFontChange.push(null);null==this.__cbOnFontChange&&(this.__cbOnFontChange=[]),this.__cbOnFontChange.push(n)},onceFontChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fontChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFontChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFontChange&&(this.__cbOnceOwnerUnbindFontChange=[]),this.__cbOnceOwnerUnbindFontChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFontChange&&(this.__cbOnceOwnerUnbindFontChange=[]),this.__cbOnceOwnerUnbindFontChange.push(null);null==this.__cbOnceFontChange&&(this.__cbOnceFontChange=[]),this.__cbOnceFontChange.push(n)},offFontChange:function(e){if(null!=e){var n;null!=this.__cbOnFontChange&&-1!=(n=this.__cbOnFontChange.indexOf(e))&&(this.__cbOnFontChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFontChange[n])&&s(),this.__cbOnOwnerUnbindFontChange.splice(n,1)),null!=this.__cbOnceFontChange&&-1!=(n=this.__cbOnceFontChange.indexOf(e))&&(this.__cbOnceFontChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFontChange[n])&&s(),this.__cbOnceOwnerUnbindFontChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFontChange){for(var t=0,i=this.__cbOnOwnerUnbindFontChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFontChange[l])&&s()}this.__cbOnOwnerUnbindFontChange=null}if(null!=this.__cbOnceOwnerUnbindFontChange){for(t=0,i=this.__cbOnceOwnerUnbindFontChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFontChange[l])&&s()}this.__cbOnceOwnerUnbindFontChange=null}this.__cbOnFontChange=null,this.__cbOnceFontChange=null}},listensFontChange:function(){return null!=this.__cbOnFontChange&&this.__cbOnFontChange.length>0||null!=this.__cbOnceFontChange&&this.__cbOnceFontChange.length>0},load:function(){var e=this;null!=this.owner&&(this.assets.inheritRuntimeAssetsFromAssets(this.owner),this.assets.loadMethod=this.owner.loadMethod,this.assets.scheduleMethod=this.owner.scheduleMethod,this.assets.delayBetweenXAssets=this.owner.delayBetweenXAssets);for(var n=[],t=this.assets.iterator();t.hasNext();){var i=t.next();n.push(i)}if(this.set_status(h.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load font asset if path is undefined.",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:50,className:"ceramic.FontAsset",methodName:"load"}),this.set_status(h.BROKEN),void this.emitComplete(!1);ceramic_App.app.logger.info("Load font "+this.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:56,className:"ceramic.FontAsset",methodName:"load"}),this.assets.runtimeAssets=this.runtimeAssets,(t=new ceramic_TextAsset(this.name)).set_handleTexturesDensityChange(!1),t.set_path(this.path),this.assets.addAsset(t),this.assets.onceComplete(this,(function(i){var l=t.get_text(),s=ceramic_Path.directory(e.path);if(""==s&&(s="."),null!=l)try{e.fontData=ceramic_BitmapFontParser.parse(l),e.fontData.path=s;for(var r=new haxe_ds_StringMap,a=[],c=0,u=e.fontData.pages;c<u.length;){var o=u[c];++c;var _=o.file;""!=s&&(_=ceramic_Path.join([s,_]));var d=ceramic_Assets.decodePath(_),b=new ceramic_ImageAsset(d.name);b.set_handleTexturesDensityChange(!1),b.set_path(d.path),e.assets.addAsset(b),a.push(b)}e.assets.onceComplete(e,(function(t){if(t){for(var i=0;i<a.length;){var l=a[i];++i;var s=l.path,c=l.get_texture();r.h[s]=c}var u=e.get_font(),o=new ceramic_BitmapFont(e.fontData,r);if(o.id="font:"+e.path,o.asset=e,e.set_font(o),null!=u){e.emitReplaceFont(e.get_font(),u),u==ceramic_App.app.defaultFont&&(ceramic_App.app.defaultFont=e.get_font());i=0;for(var _=[].concat(ceramic_App.app.visuals);i<_.length;){var d=_[i];if(++i,d._lifecycleState>=0&&d instanceof ceramic_Text){var b=d;b.font==u&&b.set_font(e.get_font())}}u.asset=null,u.destroy()}for(i=0;i<n.length;){l=n[i];if(++i,l instanceof ceramic_ImageAsset){var f=l;-1==a.indexOf(f)&&l.destroy()}else l.destroy()}e.set_status(h.READY),e.emitComplete(!0),e.handleTexturesDensityChange&&e.checkTexturesDensity()}else e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to load textures for font at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:171,className:"ceramic.FontAsset",methodName:"load"}),e.emitComplete(!1)})),e.assets.load(null,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:177,className:"ceramic.FontAsset",methodName:"load"})}catch(c){e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to decode font data at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:181,className:"ceramic.FontAsset",methodName:"load"}),e.emitComplete(!1)}else e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to load font data at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:187,className:"ceramic.FontAsset",methodName:"load"}),e.emitComplete(!1)})),this.assets.load(null,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:192,className:"ceramic.FontAsset",methodName:"load"})},texturesDensityDidChange:function(e,n){this.get_status()==h.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e=this.path;this.computePath(),e!=this.path&&(ceramic_App.app.logger.info("Reload font ("+e+" -> "+this.path+")",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:213,className:"ceramic.FontAsset",methodName:"checkTexturesDensity"}),this.load())},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload font (file has changed)",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:234,className:"ceramic.FontAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),null!=this.get_font()&&(this.get_font().destroy(),this.set_font(null)),null!=this.pages)){for(var e=this.pages.h,n=Object.keys(e),t=n.length,i=0;i<t;){var l=n[i++];this.pages.h[l].destroy()}this.pages=null}},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offReplaceFont(),this.offFontChange()},__class__:ceramic_FontAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_font:"set_font",get_font:"get_font"})});var ceramic_Value=function(e){null!=e&&(this.value=e)};t["ceramic.Value"]=ceramic_Value,ceramic_Value.__name__="ceramic.Value",ceramic_Value.prototype={value:null,__class__:ceramic_Value};var ceramic_Fragment=function(e,n){null==n&&(n=!1),this.fragmentComponents=null,this.timeline=null,this.pendingLoads=0,this.floatD=0,this.floatC=0,this.floatB=0,this.floatA=0,this.autoUpdateTimeline=!0,this.resizable=!1,this.fragmentData=null,this.fps=30,this.assets=null,this.editedItems=!1,ceramic_Layer.call(this),this.editedItems=n,this.assets=e,this.entities=[],this.items=[]};t["ceramic.Fragment"]=ceramic_Fragment,ceramic_Fragment.__name__="ceramic.Fragment",ceramic_Fragment.cacheData=function(e){ceramic_Fragment.cachedFragmentData.h[e.id]=e},ceramic_Fragment.getData=function(e){return ceramic_Fragment.cachedFragmentData.h[e]},ceramic_Fragment.__super__=ceramic_Layer,ceramic_Fragment.prototype=$extend(ceramic_Layer.prototype,{__cbOnFloatAChange:null,__cbOnceFloatAChange:null,__cbOnOwnerUnbindFloatAChange:null,__cbOnceOwnerUnbindFloatAChange:null,emitFloatAChange:function(e,n){var t=0;if(null!=this.__cbOnFloatAChange&&(t+=this.__cbOnFloatAChange.length),null!=this.__cbOnceFloatAChange&&(t+=this.__cbOnceFloatAChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFloatAChange)for(var r=0,a=this.__cbOnFloatAChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnFloatAChange[c],++s):--t}if(null!=this.__cbOnceFloatAChange){var h=null,u=null;for(r=0,a=this.__cbOnceFloatAChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceFloatAChange[c],this.__cbOnceFloatAChange[c]=null;var o=this.__cbOnceOwnerUnbindFloatAChange[c];this.__cbOnceOwnerUnbindFloatAChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindFloatAChange[c]),u.push(this.__cbOnceFloatAChange[c])}this.__cbOnceOwnerUnbindFloatAChange=h,this.__cbOnceFloatAChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onFloatAChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatAChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatAChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFloatAChange&&(this.__cbOnOwnerUnbindFloatAChange=[]),this.__cbOnOwnerUnbindFloatAChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFloatAChange&&(this.__cbOnOwnerUnbindFloatAChange=[]),this.__cbOnOwnerUnbindFloatAChange.push(null);null==this.__cbOnFloatAChange&&(this.__cbOnFloatAChange=[]),this.__cbOnFloatAChange.push(n)},onceFloatAChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatAChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatAChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFloatAChange&&(this.__cbOnceOwnerUnbindFloatAChange=[]),this.__cbOnceOwnerUnbindFloatAChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFloatAChange&&(this.__cbOnceOwnerUnbindFloatAChange=[]),this.__cbOnceOwnerUnbindFloatAChange.push(null);null==this.__cbOnceFloatAChange&&(this.__cbOnceFloatAChange=[]),this.__cbOnceFloatAChange.push(n)},offFloatAChange:function(e){if(null!=e){var n;null!=this.__cbOnFloatAChange&&-1!=(n=this.__cbOnFloatAChange.indexOf(e))&&(this.__cbOnFloatAChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFloatAChange[n])&&s(),this.__cbOnOwnerUnbindFloatAChange.splice(n,1)),null!=this.__cbOnceFloatAChange&&-1!=(n=this.__cbOnceFloatAChange.indexOf(e))&&(this.__cbOnceFloatAChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFloatAChange[n])&&s(),this.__cbOnceOwnerUnbindFloatAChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFloatAChange){for(var t=0,i=this.__cbOnOwnerUnbindFloatAChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFloatAChange[l])&&s()}this.__cbOnOwnerUnbindFloatAChange=null}if(null!=this.__cbOnceOwnerUnbindFloatAChange){for(t=0,i=this.__cbOnceOwnerUnbindFloatAChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFloatAChange[l])&&s()}this.__cbOnceOwnerUnbindFloatAChange=null}this.__cbOnFloatAChange=null,this.__cbOnceFloatAChange=null}},listensFloatAChange:function(){return null!=this.__cbOnFloatAChange&&this.__cbOnFloatAChange.length>0||null!=this.__cbOnceFloatAChange&&this.__cbOnceFloatAChange.length>0},__cbOnFloatBChange:null,__cbOnceFloatBChange:null,__cbOnOwnerUnbindFloatBChange:null,__cbOnceOwnerUnbindFloatBChange:null,emitFloatBChange:function(e,n){var t=0;if(null!=this.__cbOnFloatBChange&&(t+=this.__cbOnFloatBChange.length),null!=this.__cbOnceFloatBChange&&(t+=this.__cbOnceFloatBChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFloatBChange)for(var r=0,a=this.__cbOnFloatBChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnFloatBChange[c],++s):--t}if(null!=this.__cbOnceFloatBChange){var h=null,u=null;for(r=0,a=this.__cbOnceFloatBChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceFloatBChange[c],this.__cbOnceFloatBChange[c]=null;var o=this.__cbOnceOwnerUnbindFloatBChange[c];this.__cbOnceOwnerUnbindFloatBChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindFloatBChange[c]),u.push(this.__cbOnceFloatBChange[c])}this.__cbOnceOwnerUnbindFloatBChange=h,this.__cbOnceFloatBChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onFloatBChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatBChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatBChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFloatBChange&&(this.__cbOnOwnerUnbindFloatBChange=[]),this.__cbOnOwnerUnbindFloatBChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFloatBChange&&(this.__cbOnOwnerUnbindFloatBChange=[]),this.__cbOnOwnerUnbindFloatBChange.push(null);null==this.__cbOnFloatBChange&&(this.__cbOnFloatBChange=[]),this.__cbOnFloatBChange.push(n)},onceFloatBChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatBChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatBChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFloatBChange&&(this.__cbOnceOwnerUnbindFloatBChange=[]),this.__cbOnceOwnerUnbindFloatBChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFloatBChange&&(this.__cbOnceOwnerUnbindFloatBChange=[]),this.__cbOnceOwnerUnbindFloatBChange.push(null);null==this.__cbOnceFloatBChange&&(this.__cbOnceFloatBChange=[]),this.__cbOnceFloatBChange.push(n)},offFloatBChange:function(e){if(null!=e){var n;null!=this.__cbOnFloatBChange&&-1!=(n=this.__cbOnFloatBChange.indexOf(e))&&(this.__cbOnFloatBChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFloatBChange[n])&&s(),this.__cbOnOwnerUnbindFloatBChange.splice(n,1)),null!=this.__cbOnceFloatBChange&&-1!=(n=this.__cbOnceFloatBChange.indexOf(e))&&(this.__cbOnceFloatBChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFloatBChange[n])&&s(),this.__cbOnceOwnerUnbindFloatBChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFloatBChange){for(var t=0,i=this.__cbOnOwnerUnbindFloatBChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFloatBChange[l])&&s()}this.__cbOnOwnerUnbindFloatBChange=null}if(null!=this.__cbOnceOwnerUnbindFloatBChange){for(t=0,i=this.__cbOnceOwnerUnbindFloatBChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFloatBChange[l])&&s()}this.__cbOnceOwnerUnbindFloatBChange=null}this.__cbOnFloatBChange=null,this.__cbOnceFloatBChange=null}},listensFloatBChange:function(){return null!=this.__cbOnFloatBChange&&this.__cbOnFloatBChange.length>0||null!=this.__cbOnceFloatBChange&&this.__cbOnceFloatBChange.length>0},__cbOnFloatCChange:null,__cbOnceFloatCChange:null,__cbOnOwnerUnbindFloatCChange:null,__cbOnceOwnerUnbindFloatCChange:null,emitFloatCChange:function(e,n){var t=0;if(null!=this.__cbOnFloatCChange&&(t+=this.__cbOnFloatCChange.length),null!=this.__cbOnceFloatCChange&&(t+=this.__cbOnceFloatCChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFloatCChange)for(var r=0,a=this.__cbOnFloatCChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnFloatCChange[c],++s):--t}if(null!=this.__cbOnceFloatCChange){var h=null,u=null;for(r=0,a=this.__cbOnceFloatCChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceFloatCChange[c],this.__cbOnceFloatCChange[c]=null;var o=this.__cbOnceOwnerUnbindFloatCChange[c];this.__cbOnceOwnerUnbindFloatCChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindFloatCChange[c]),u.push(this.__cbOnceFloatCChange[c])}this.__cbOnceOwnerUnbindFloatCChange=h,this.__cbOnceFloatCChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onFloatCChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatCChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatCChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFloatCChange&&(this.__cbOnOwnerUnbindFloatCChange=[]),this.__cbOnOwnerUnbindFloatCChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFloatCChange&&(this.__cbOnOwnerUnbindFloatCChange=[]),this.__cbOnOwnerUnbindFloatCChange.push(null);null==this.__cbOnFloatCChange&&(this.__cbOnFloatCChange=[]),this.__cbOnFloatCChange.push(n)},onceFloatCChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatCChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatCChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFloatCChange&&(this.__cbOnceOwnerUnbindFloatCChange=[]),this.__cbOnceOwnerUnbindFloatCChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFloatCChange&&(this.__cbOnceOwnerUnbindFloatCChange=[]),this.__cbOnceOwnerUnbindFloatCChange.push(null);null==this.__cbOnceFloatCChange&&(this.__cbOnceFloatCChange=[]),this.__cbOnceFloatCChange.push(n)},offFloatCChange:function(e){if(null!=e){var n;null!=this.__cbOnFloatCChange&&-1!=(n=this.__cbOnFloatCChange.indexOf(e))&&(this.__cbOnFloatCChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFloatCChange[n])&&s(),this.__cbOnOwnerUnbindFloatCChange.splice(n,1)),null!=this.__cbOnceFloatCChange&&-1!=(n=this.__cbOnceFloatCChange.indexOf(e))&&(this.__cbOnceFloatCChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFloatCChange[n])&&s(),this.__cbOnceOwnerUnbindFloatCChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFloatCChange){for(var t=0,i=this.__cbOnOwnerUnbindFloatCChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFloatCChange[l])&&s()}this.__cbOnOwnerUnbindFloatCChange=null}if(null!=this.__cbOnceOwnerUnbindFloatCChange){for(t=0,i=this.__cbOnceOwnerUnbindFloatCChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFloatCChange[l])&&s()}this.__cbOnceOwnerUnbindFloatCChange=null}this.__cbOnFloatCChange=null,this.__cbOnceFloatCChange=null}},listensFloatCChange:function(){return null!=this.__cbOnFloatCChange&&this.__cbOnFloatCChange.length>0||null!=this.__cbOnceFloatCChange&&this.__cbOnceFloatCChange.length>0},__cbOnFloatDChange:null,__cbOnceFloatDChange:null,__cbOnOwnerUnbindFloatDChange:null,__cbOnceOwnerUnbindFloatDChange:null,emitFloatDChange:function(e,n){var t=0;if(null!=this.__cbOnFloatDChange&&(t+=this.__cbOnFloatDChange.length),null!=this.__cbOnceFloatDChange&&(t+=this.__cbOnceFloatDChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFloatDChange)for(var r=0,a=this.__cbOnFloatDChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnFloatDChange[c],++s):--t}if(null!=this.__cbOnceFloatDChange){var h=null,u=null;for(r=0,a=this.__cbOnceFloatDChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceFloatDChange[c],this.__cbOnceFloatDChange[c]=null;var o=this.__cbOnceOwnerUnbindFloatDChange[c];this.__cbOnceOwnerUnbindFloatDChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindFloatDChange[c]),u.push(this.__cbOnceFloatDChange[c])}this.__cbOnceOwnerUnbindFloatDChange=h,this.__cbOnceFloatDChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onFloatDChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatDChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatDChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFloatDChange&&(this.__cbOnOwnerUnbindFloatDChange=[]),this.__cbOnOwnerUnbindFloatDChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFloatDChange&&(this.__cbOnOwnerUnbindFloatDChange=[]),this.__cbOnOwnerUnbindFloatDChange.push(null);null==this.__cbOnFloatDChange&&(this.__cbOnFloatDChange=[]),this.__cbOnFloatDChange.push(n)},onceFloatDChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatDChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatDChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFloatDChange&&(this.__cbOnceOwnerUnbindFloatDChange=[]),this.__cbOnceOwnerUnbindFloatDChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFloatDChange&&(this.__cbOnceOwnerUnbindFloatDChange=[]),this.__cbOnceOwnerUnbindFloatDChange.push(null);null==this.__cbOnceFloatDChange&&(this.__cbOnceFloatDChange=[]),this.__cbOnceFloatDChange.push(n)},offFloatDChange:function(e){if(null!=e){var n;null!=this.__cbOnFloatDChange&&-1!=(n=this.__cbOnFloatDChange.indexOf(e))&&(this.__cbOnFloatDChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFloatDChange[n])&&s(),this.__cbOnOwnerUnbindFloatDChange.splice(n,1)),null!=this.__cbOnceFloatDChange&&-1!=(n=this.__cbOnceFloatDChange.indexOf(e))&&(this.__cbOnceFloatDChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFloatDChange[n])&&s(),this.__cbOnceOwnerUnbindFloatDChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFloatDChange){for(var t=0,i=this.__cbOnOwnerUnbindFloatDChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFloatDChange[l])&&s()}this.__cbOnOwnerUnbindFloatDChange=null}if(null!=this.__cbOnceOwnerUnbindFloatDChange){for(t=0,i=this.__cbOnceOwnerUnbindFloatDChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFloatDChange[l])&&s()}this.__cbOnceOwnerUnbindFloatDChange=null}this.__cbOnFloatDChange=null,this.__cbOnceFloatDChange=null}},listensFloatDChange:function(){return null!=this.__cbOnFloatDChange&&this.__cbOnFloatDChange.length>0||null!=this.__cbOnceFloatDChange&&this.__cbOnceFloatDChange.length>0},__cbOnLocation:null,__cbOnceLocation:null,__cbOnOwnerUnbindLocation:null,__cbOnceOwnerUnbindLocation:null,emitLocation:function(e){var n=0;if(null!=this.__cbOnLocation&&(n+=this.__cbOnLocation.length),null!=this.__cbOnceLocation&&(n+=this.__cbOnceLocation.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnLocation)for(var s=0,r=this.__cbOnLocation.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnLocation[a],++l):--n}if(null!=this.__cbOnceLocation){var c=null,h=null;for(s=0,r=this.__cbOnceLocation.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceLocation[a],this.__cbOnceLocation[a]=null;var u=this.__cbOnceOwnerUnbindLocation[a];this.__cbOnceOwnerUnbindLocation[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindLocation[a]),h.push(this.__cbOnceLocation[a])}this.__cbOnceOwnerUnbindLocation=c,this.__cbOnceLocation=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onLocation:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event location because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offLocation(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindLocation&&(this.__cbOnOwnerUnbindLocation=[]),this.__cbOnOwnerUnbindLocation.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindLocation&&(this.__cbOnOwnerUnbindLocation=[]),this.__cbOnOwnerUnbindLocation.push(null);null==this.__cbOnLocation&&(this.__cbOnLocation=[]),this.__cbOnLocation.push(n)},onceLocation:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event location because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offLocation(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindLocation&&(this.__cbOnceOwnerUnbindLocation=[]),this.__cbOnceOwnerUnbindLocation.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindLocation&&(this.__cbOnceOwnerUnbindLocation=[]),this.__cbOnceOwnerUnbindLocation.push(null);null==this.__cbOnceLocation&&(this.__cbOnceLocation=[]),this.__cbOnceLocation.push(n)},offLocation:function(e){if(null!=e){var n;null!=this.__cbOnLocation&&-1!=(n=this.__cbOnLocation.indexOf(e))&&(this.__cbOnLocation.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLocation[n])&&s(),this.__cbOnOwnerUnbindLocation.splice(n,1)),null!=this.__cbOnceLocation&&-1!=(n=this.__cbOnceLocation.indexOf(e))&&(this.__cbOnceLocation.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLocation[n])&&s(),this.__cbOnceOwnerUnbindLocation.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLocation){for(var t=0,i=this.__cbOnOwnerUnbindLocation.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLocation[l])&&s()}this.__cbOnOwnerUnbindLocation=null}if(null!=this.__cbOnceOwnerUnbindLocation){for(t=0,i=this.__cbOnceOwnerUnbindLocation.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindLocation[l])&&s()}this.__cbOnceOwnerUnbindLocation=null}this.__cbOnLocation=null,this.__cbOnceLocation=null}},listensLocation:function(){return null!=this.__cbOnLocation&&this.__cbOnLocation.length>0||null!=this.__cbOnceLocation&&this.__cbOnceLocation.length>0},editedItems:null,assets:null,entities:null,items:null,tracks:null,fps:null,fragmentData:null,resizable:null,autoUpdateTimeline:null,set_autoUpdateTimeline:function(e){return this.autoUpdateTimeline!=e&&(this.autoUpdateTimeline=e,null!=this.timeline&&this.timeline.set_autoUpdate(e)),e},floatA:null,set_floatA:function(e){if(this.floatA!=e){var n=this.floatA;this.floatA=e,this.emitFloatAChange(e,n)}return e},floatB:null,set_floatB:function(e){if(this.floatB!=e){var n=this.floatB;this.floatB=e,this.emitFloatBChange(e,n)}return e},floatC:null,set_floatC:function(e){if(this.floatC!=e){var n=this.floatC;this.floatC=e,this.emitFloatCChange(e,n)}return e},floatD:null,set_floatD:function(e){if(this.floatD!=e){var n=this.floatD;this.floatD=e,this.emitFloatDChange(e,n)}return e},pendingLoads:null,timeline:null,__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var l=0,s=this.__cbOnReady.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnReady[r],++i):--e}if(null!=this.__cbOnceReady){var a=null,c=null;for(l=0,s=this.__cbOnceReady.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceReady[r],this.__cbOnceReady[r]=null;var h=this.__cbOnceOwnerUnbindReady[r];this.__cbOnceOwnerUnbindReady[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindReady[r]),c.push(this.__cbOnceReady[r])}this.__cbOnceOwnerUnbindReady=a,this.__cbOnceReady=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(n)},onceReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(n)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReady[n])&&s(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReady[n])&&s(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReady[l])&&s()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindReady[l])&&s()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&this.__cbOnReady.length>0||null!=this.__cbOnceReady&&this.__cbOnceReady.length>0},set_fragmentData:function(e){var n=this;this.pendingLoads++,this.fragmentData=e;var t=Object.create(null);if(null!=e){if(this.set_width(e.width),this.set_height(e.height),null!=e.color?this.color=e.color:this.color=0,null!=e.transparent){var i=e.transparent;this.flags=i?16|this.flags:-17&this.flags}else this.flags|=16;if(null!=e.items)for(var l=0,s=e.items;l<s.length;){var r=s[l];++l,this.putItem(r),t[r.id]=!0}}if(null==e||Object.prototype.hasOwnProperty.call(e,"items")){var a=null;for(l=0,s=this.entities;l<s.length;){var c=s[l];++l,Object.prototype.hasOwnProperty.call(t,c.id)||(null==a&&(a=[]),a.push(c.id))}if(null!=a)for(l=0;l<a.length;){var h=a[l];++l,this.removeItem(h)}}null!=e&&(this.pendingLoads++,ceramic_App.app.converters.h["ceramic.ReadOnlyMap<String,ceramic.Component>"].basicToField(this,"components",this.assets,e.components,(function(e){n._lifecycleState<0||(n.pendingLoads--,n.onceReady(n,(function(){n.set_fragmentComponents(e)})),0==n.pendingLoads&&n.emitReady())})));null!=e&&null!=e.fps&&this.set_fps(e.fps);var u=null;if(null!=e&&null!=e.tracks){for(l=0,s=e.tracks;l<s.length;){var o=s[l];++l,null==u&&(u=new haxe_ds_StringMap),u.h[o.entity+"#"+o.field]=!0,this.putTrack(null,o)}if(null!=this.timeline&&this.timeline.tracks.length>0)for(l=0,s=[].concat(this.timeline.tracks);l<s.length;){var _=s[l];if(++l,null==u||!Object.prototype.hasOwnProperty.call(u.h,_.id)){var d=_.id.split("#");2==d.length?this.removeTrack(d[0],d[1]):ceramic_App.app.logger.warning("Cannot remove track with unhandled id: "+_.id,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:312,className:"ceramic.Fragment",methodName:"set_fragmentData"})}}}var b=null;if(null!=e&&null!=e.labels){var f=e.labels;for(l=0,s=Reflect.fields(f);l<s.length;){var O=s[l];++l,null==b&&(b=new haxe_ds_StringMap),b.h[O]=!0;var p=f[O];this.putLabel(p,O)}if(null!=this.timeline&&null!=this.timeline.labels)for(l=0,s=[].concat(this.timeline.labels);l<s.length;){var g=s[l];++l,null!=b&&Object.prototype.hasOwnProperty.call(b.h,g)||this.timeline.removeLabel(g)}}return this.pendingLoads--,0==this.pendingLoads&&this.emitReady(),e},set_fps:function(e){if(this.fps!=e&&(this.fps=e,null!=this.timeline&&(this.timeline.fps=e),null!=this.tracks))for(var n=0,t=this.tracks;n<t.length;){var i=t[n];++n,this.putTrack(null,i)}return e},putItem:function(e){var n=this.get(e.id),l=!1;if(null!=n){l=n instanceof ceramic_Visual;var s=js_Boot.getClass(n);e.entity!=s.__name__&&(this.removeItem(e.id),n=null)}else this.items.push(e);var r=e.entity,a=t[r],c=null!=n?n:null,h="ceramic.Fragment"==e.entity;if(null==c){var u=[];h&&(u.push(this.assets),u.push(!1)),c=Type.createInstance(a,u)}if(null==c)throw haxe_Exception.thrown("Failed to create instance of "+e.entity);(c.id=e.id,h)&&c.set_depthRange(1);if(null==c.get_data().name&&null!=e.name&&(c.get_data().name=e.name),null!=e.data&&null!=c.get_data())for(var o=0,_=Reflect.fields(e.data);o<_.length;){var d=_[o];++o,c.get_data()[d]=Reflect.field(e.data,d)}if(null!=e.props){var b=Reflect.fields(e.props);haxe_ds_ArraySort.sort(b,(function(e,n){return 0}));for(o=0;o<b.length;){var f=b[o];++o;var O=ceramic_FieldInfo.typeOf(e.entity,f),p=Reflect.field(e.props,f);if(null!=(x=null!=O?ceramic_App.app.converters.h[O]:null))this.putItemField(h,e,c,f,p,x);else{if(!Object.prototype.hasOwnProperty.call(ceramic_Fragment.basicTypes.h,O)){var g=i[O];if(null!=g){_=0;for(var m=g.__constructs__,v=new Array(m.length),y=0,w=m.length;y<w;){var U=y++;v[U]=m[U]._hx_name}for(var C=v;_<C.length;){r=C[_];if(++_,r.toLowerCase()==p.toLowerCase()){p=Type.createEnum(g,r);break}}}}Reflect.setProperty(c,f,p)}}var x;O=ceramic_FieldInfo.typeOf(e.entity,"components"),p=e.components;null!=(x=null!=O?ceramic_App.app.converters.h[O]:null)?this.putItemField(h,e,c,"components",p,x):ceramic_App.app.logger.warning("No converter found for field: components (type: "+O+")",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:472,className:"ceramic.Fragment",methodName:"putItem"})}return null==n&&("ceramic.Assets"==ceramic_FieldInfo.typeOf(e.entity,"assets")&&Reflect.setProperty(c,"assets",this.assets),this.entities.push(c)),c instanceof ceramic_Visual&&!l&&this.add(c),null==n&&this.putTracksForItem(e.id),c},putItemField:function(e,n,t,i,l,s){var r=this;this.pendingLoads++,s.basicToField(t,i,this.assets,l,(function(n){if(r.pendingLoads--,!(r._lifecycleState<0)){if(t._lifecycleState>=0)if(e&&"fragmentData"==i){var l=t;r.pendingLoads++,l.onceReady(r,(function(){r.pendingLoads--,r._lifecycleState<0||0==r.pendingLoads&&r.emitReady()})),l.set_fragmentData(n)}else"components"!=i?Reflect.setProperty(t,i,n):r.onceReady(r,(function(){var e=null;if(null!=n&&null!=(e=n))for(var i=e.h,l=Object.keys(i),s=l.length,r=0;r<s;){var a=l[r++],c=e.h[a];null!=c&&t.component(a,c)}}));0==r.pendingLoads&&r.emitReady()}}))},get:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},getItemInstanceByName:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.get_data().name==e)return i}return null},getItem:function(e){for(var n=0,t=this.items;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},getItemByName:function(e){for(var n=0,t=this.items;n<t.length;){var i=t[n];if(++n,i.name==e)return i}return null},typeOfItem:function(e){var n=this.getItem(e);return null!=n?n.entity:(ceramic_App.app.logger.warning("Failed to resolve entity type for item "+e,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:685,className:"ceramic.Fragment",methodName:"typeOfItem"}),null)},removeItem:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e){HxOverrides.remove(this.entities,i),i.destroy();break}}for(n=0,t=this.items;n<t.length;){var l=t[n];if(++n,l.id==e){HxOverrides.remove(this.items,l);break}}},removeAllItems:function(){for(var e=0,n=[].concat(this.entities);e<n.length;){var t=n[e];++e,HxOverrides.remove(this.entities,t),t.destroy()}for(e=0,n=[].concat(this.items);e<n.length;){var i=n[e];++e,HxOverrides.remove(this.items,i)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Layer.prototype.destroy.call(this),null!=this.timeline&&(this.timeline.destroy(),this.timeline=null),this.removeAllItems())},set_components:function(e){if(this._components==e)return e;if(null!=this._components){l=this._components.h;for(var n=(s=Object.keys(l)).length,t=0;t<n;){var i=s[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||null!=this.fragmentComponents&&Object.prototype.hasOwnProperty.call(this.fragmentComponents.h,i)||this.removeComponent(i)}}if(null!=e){var l,s;for(l=e.h,n=(s=Object.keys(l)).length,t=0;t<n;){i=s[t++];var r=e.h[i];if(null!=this._components){var a=this._components.h[i];null!=a?a!=r&&(this.removeComponent(i),this.component(i,r)):this.component(i,r)}else this.component(i,r)}}return this._components=e,e},fragmentComponents:null,set_fragmentComponents:function(e){if(this.fragmentComponents==e)return e;if(null!=this.fragmentComponents){l=this.fragmentComponents.h;for(var n=(s=Object.keys(l)).length,t=0;t<n;){var i=s[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||this.removeComponent(i)}}if(null!=e){var l,s;for(l=e.h,n=(s=Object.keys(l)).length,t=0;t<n;){i=s[t++];var r=e.h[i];if(null!=this.fragmentComponents){var a=this.fragmentComponents.h[i];null!=a?a!=r&&(this.removeComponent(i),this.component(i,r)):this.component(i,r)}else this.component(i,r)}}return this.fragmentComponents=e,e},isManagedComponent:function(){},putTrack:function(e,n){var t=null;if(null==(m=this.getTrack(n.entity,n.field)))null==this.tracks&&(this.tracks=[]),this.tracks.push(n);else{t=new haxe_ds_IntMap;for(var i=0,l=m.keyframes;i<l.length;){var s=l[i];++i,t.h[s.index]=!0}var r=this.tracks.indexOf(m);this.tracks[r]=n}var a=n.entity,c=this.get(a);if(null!=n.keyframes&&n.keyframes.length>0){this.createTimelineIfNeeded();var h=n.field,u=a+"#"+h,o=n.options;if(null==e&&(e=this.typeOfItem(n.entity)),null==e)return void ceramic_App.app.logger.warning("Cannot update timeline track "+u+": failed to resolve entity type",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1011,className:"ceramic.Fragment",methodName:"putTrack"});var _=ceramic_FieldInfo.types(e),d=null!=_?_.h[h]:null;if(null==d)return void ceramic_App.app.logger.warning("Cannot update timeline track "+u+": failed to resolve info for "+h+" of entity type "+e,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1017,className:"ceramic.Fragment",methodName:"putTrack"});var b=this.timeline.get(u);if(null==b){if(null==c)return void ceramic_App.app.logger.warning("Failed to create timeline track "+u+" because there is no entity with id "+n.entity,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1025,className:"ceramic.Fragment",methodName:"putTrack"});if(ceramic_Fragment._trackResult.value=null,ceramic_App.app.timelines.emitCreateTrack(d,o,ceramic_Fragment._trackResult),null==(b=ceramic_Fragment._trackResult.value))return void ceramic_App.app.logger.warning("Failed to create timeline track "+u+" for "+h+" of entity type "+e,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1033,className:"ceramic.Fragment",methodName:"putTrack"});c.onDestroy(b,(function(e){b.destroy()})),b.id=u,ceramic_App.app.timelines.emitBindTrack(d,o,b,c,h),this.timeline.add(b)}if(b.loop=n.loop,ceramic_Fragment._usedKeyframes.length>0){for(i=0,l=ceramic_Fragment._usedKeyframes.length;i<l;){var f=i++;ceramic_Fragment._usedKeyframes[f]=null}if(0!=(C=ceramic_Fragment._usedKeyframes).length)if(C.length>0)C.splice(0,C.length);else C[-1]=null}var O=-1,p=!0;for(i=0,l=n.keyframes;i<l.length;){s=l[i];++i;var g=s.index;g<O&&(p=!1),O=g;var m=b.findKeyframeAtIndex(g);if(ceramic_Fragment._keyframeResult.value=null,ceramic_App.app.timelines.emitCreateKeyframe(d,o,s.value,g,ceramic_EasingUtils.easingFromString(s.easing),m,ceramic_Fragment._keyframeResult),null==(U=ceramic_Fragment._keyframeResult.value))return void ceramic_App.app.logger.warning("Failed to create or update keyframe #"+Std.string($bind(this,this.frame))+" of track "+u+" for field "+h+" of entity type "+e,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1090,className:"ceramic.Fragment",methodName:"putTrack"});ceramic_Fragment._usedKeyframes.push(U),null!=m?m!=U&&(b.remove(m),b.add(U)):b.add(U)}var v=null,y=b.keyframes;if(p){var w=0;for(i=0,l=y.length;i<l;){var U=y[f=i++];ceramic_Fragment._usedKeyframes[w]==U?++w:(null==v&&(v=[]),v.push(U))}}else{ceramic_App.app.logger.warning("Input keyframe array should be sorted by time in ascending order!",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1120,className:"ceramic.Fragment",methodName:"putTrack"});for(i=0,l=y.length;i<l;){U=y[f=i++];-1==ceramic_Fragment._usedKeyframes.indexOf(U)&&(null==v&&(v=[]),v.push(U))}}if(null!=v){for(i=0;i<v.length;){U=v[i];++i,b.remove(U)}v=null}if(ceramic_Fragment._usedKeyframes.length>0){for(i=0,l=ceramic_Fragment._usedKeyframes.length;i<l;){f=i++;ceramic_Fragment._usedKeyframes[f]=null}var C;if(0!=(C=ceramic_Fragment._usedKeyframes).length)if(C.length>0)C.splice(0,C.length);else C[-1]=null}b.apply()}},putTracksForItem:function(e){if(null!=this.tracks)for(var n=0,t=this.tracks.length;n<t;){var i=n++,l=this.tracks[i];l.entity==e&&this.putTrack(null,l)}},getTrack:function(e,n){if(null!=this.tracks)for(var t=0,i=this.tracks;t<i.length;){var l=i[t];if(++t,l.entity==e&&l.field==n)return l}return null},removeTrack:function(e,n){if(null!=this.tracks){for(var t=-1,i=0,l=this.tracks.length;i<l;){var s=i++,r=this.tracks[s];if(r.entity==e&&r.field==n){t=s;break}}if(-1!=t&&(this.tracks.splice(t,1),null!=this.timeline)){var a=e+"#"+n,c=this.timeline.get(a);null!=c&&(this.timeline.remove(c),c.destroy())}}},createTimelineIfNeeded:function(){null==this.timeline&&(this.timeline=new ceramic_Timeline,this.timeline.fps=this.fps,this.timeline.set_autoUpdate(this.autoUpdateTimeline))},putLabel:function(e,n){this.createTimelineIfNeeded(),this.timeline.setLabel(e,n)},indexOfLabel:function(e){return null!=this.timeline?this.timeline.indexOfLabel(e):-1},labelAtIndex:function(e){return null!=this.timeline?this.timeline.labelAtIndex(e):null},removeLabel:function(e){null!=this.timeline&&this.timeline.removeLabel(e)},removeLabelAtIndex:function(e){null!=this.timeline&&this.timeline.removeLabelAtIndex(e)},get_paused:function(){return null!=this.timeline&&this.timeline.paused},set_paused:function(e){return(null!=this.timeline&&this.timeline.paused)!=e&&(this.createTimelineIfNeeded(),this.timeline.set_paused(e)),e},unbindEvents:function(){ceramic_Layer.prototype.unbindEvents.call(this),this.offFloatAChange(),this.offFloatBChange(),this.offFloatCChange(),this.offFloatDChange(),this.offLocation(),this.offReady()},__class__:ceramic_Fragment,__properties__:$extend(ceramic_Layer.prototype.__properties__,{set_paused:"set_paused",get_paused:"get_paused",set_fragmentComponents:"set_fragmentComponents",set_floatD:"set_floatD",set_floatC:"set_floatC",set_floatB:"set_floatB",set_floatA:"set_floatA",set_autoUpdateTimeline:"set_autoUpdateTimeline",set_fragmentData:"set_fragmentData",set_fps:"set_fps"})});var ceramic_FragmentsAsset=function(e,n){this.unobservedFragments=null,this.fragmentsAutoruns=null,ceramic_Asset.call(this,"fragments",e,n)};t["ceramic.FragmentsAsset"]=ceramic_FragmentsAsset,ceramic_FragmentsAsset.__name__="ceramic.FragmentsAsset",ceramic_FragmentsAsset.__super__=ceramic_Asset,ceramic_FragmentsAsset.prototype=$extend(ceramic_Asset.prototype,{fragmentsAutoruns:null,get_fragments:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.fragmentsAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.fragmentsAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedFragments},set_fragments:function(e){var n=this.unobservedFragments;if(this.unobservedFragments=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFragmentsChange(e,n);var t=this.fragmentsAutoruns;if(null!=t){this.fragmentsAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateFragments:function(){var e=this.unobservedFragments;this.emitFragmentsChange(e,e);var n=this.fragmentsAutoruns;if(null!=n){this.fragmentsAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedFragments:null,__cbOnFragmentsChange:null,__cbOnceFragmentsChange:null,__cbOnOwnerUnbindFragmentsChange:null,__cbOnceOwnerUnbindFragmentsChange:null,emitFragmentsChange:function(e,n){var t=0;if(null!=this.__cbOnFragmentsChange&&(t+=this.__cbOnFragmentsChange.length),null!=this.__cbOnceFragmentsChange&&(t+=this.__cbOnceFragmentsChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFragmentsChange)for(var r=0,a=this.__cbOnFragmentsChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnFragmentsChange[c],++s):--t}if(null!=this.__cbOnceFragmentsChange){var h=null,u=null;for(r=0,a=this.__cbOnceFragmentsChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceFragmentsChange[c],this.__cbOnceFragmentsChange[c]=null;var o=this.__cbOnceOwnerUnbindFragmentsChange[c];this.__cbOnceOwnerUnbindFragmentsChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindFragmentsChange[c]),u.push(this.__cbOnceFragmentsChange[c])}this.__cbOnceOwnerUnbindFragmentsChange=h,this.__cbOnceFragmentsChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onFragmentsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fragmentsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFragmentsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFragmentsChange&&(this.__cbOnOwnerUnbindFragmentsChange=[]),this.__cbOnOwnerUnbindFragmentsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFragmentsChange&&(this.__cbOnOwnerUnbindFragmentsChange=[]),this.__cbOnOwnerUnbindFragmentsChange.push(null);null==this.__cbOnFragmentsChange&&(this.__cbOnFragmentsChange=[]),this.__cbOnFragmentsChange.push(n)},onceFragmentsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fragmentsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFragmentsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFragmentsChange&&(this.__cbOnceOwnerUnbindFragmentsChange=[]),this.__cbOnceOwnerUnbindFragmentsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFragmentsChange&&(this.__cbOnceOwnerUnbindFragmentsChange=[]),this.__cbOnceOwnerUnbindFragmentsChange.push(null);null==this.__cbOnceFragmentsChange&&(this.__cbOnceFragmentsChange=[]),this.__cbOnceFragmentsChange.push(n)},offFragmentsChange:function(e){if(null!=e){var n;null!=this.__cbOnFragmentsChange&&-1!=(n=this.__cbOnFragmentsChange.indexOf(e))&&(this.__cbOnFragmentsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFragmentsChange[n])&&s(),this.__cbOnOwnerUnbindFragmentsChange.splice(n,1)),null!=this.__cbOnceFragmentsChange&&-1!=(n=this.__cbOnceFragmentsChange.indexOf(e))&&(this.__cbOnceFragmentsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFragmentsChange[n])&&s(),this.__cbOnceOwnerUnbindFragmentsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFragmentsChange){for(var t=0,i=this.__cbOnOwnerUnbindFragmentsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFragmentsChange[l])&&s()}this.__cbOnOwnerUnbindFragmentsChange=null}if(null!=this.__cbOnceOwnerUnbindFragmentsChange){for(t=0,i=this.__cbOnceOwnerUnbindFragmentsChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFragmentsChange[l])&&s()}this.__cbOnceOwnerUnbindFragmentsChange=null}this.__cbOnFragmentsChange=null,this.__cbOnceFragmentsChange=null}},listensFragmentsChange:function(){return null!=this.__cbOnFragmentsChange&&this.__cbOnFragmentsChange.length>0||null!=this.__cbOnceFragmentsChange&&this.__cbOnceFragmentsChange.length>0},load:function(){var e=this;if(this.set_status(h.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load fragments asset if path is undefined.",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:22,className:"ceramic.FragmentsAsset",methodName:"load"}),this.set_status(h.BROKEN),void this.emitComplete(!1);var n=this.path,t=ceramic_Assets.realAssetPath(n,this.runtimeAssets),i=ceramic_Assets.getReloadCount(t);i>0&&(t+="?hot="+i,n+="?hot="+i);var l={};null!=this.owner&&(l.immediate=this.owner.immediate,l.loadMethod=this.owner.loadMethod),ceramic_App.app.logger.info("Load fragments "+n,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:43,className:"ceramic.FragmentsAsset",methodName:"load"}),ceramic_App.app.backend.texts.load(t,l,(function(n){if(null!=n){try{e.set_fragments(JSON.parse(n))}catch(n){return e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to parse fragments at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:51,className:"ceramic.FragmentsAsset",methodName:"load"}),void e.emitComplete(!1)}e.set_status(h.READY),e.emitComplete(!0)}else e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to load fragments at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:60,className:"ceramic.FragmentsAsset",methodName:"load"}),e.emitComplete(!1)}))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload fragments (file has changed)",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:83,className:"ceramic.FragmentsAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),this.set_fragments(null))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offFragmentsChange()},__class__:ceramic_FragmentsAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_fragments:"set_fragments",get_fragments:"get_fragments"})});var d={toString:function(e){switch(e){case 0:return"LEFT_X";case 1:return"LEFT_Y";case 2:return"RIGHT_X";case 3:return"RIGHT_Y";case 4:return"LEFT_TRIGGER";case 5:return"RIGHT_TRIGGER";default:return""+e}}},b={toString:function(e){switch(e){case 0:return"A";case 1:return"B";case 2:return"X";case 3:return"Y";case 4:return"L1";case 5:return"R1";case 6:return"L2";case 7:return"R2";case 8:return"SELECT";case 9:return"START";case 10:return"L3";case 11:return"R3";case 12:return"DPAD_UP";case 13:return"DPAD_DOWN";case 14:return"DPAD_LEFT";case 15:return"DPAD_RIGHT";default:return""+e}}},ceramic_GeometryUtils=function(){};t["ceramic.GeometryUtils"]=ceramic_GeometryUtils,ceramic_GeometryUtils.__name__="ceramic.GeometryUtils",ceramic_GeometryUtils.pointInTriangle=function(e,n,t,i,l,s,r,a){var c=(e-l)*(i-s)-(t-l)*(n-s),h=(e-r)*(s-a)-(l-r)*(n-a),u=(e-t)*(a-i)-(r-t)*(n-i);return!((c<0||h<0||u<0)&&(c>0||h>0||u>0))},ceramic_GeometryUtils.pointInRectangle=function(e,n,t,i,l,s){return!(e<t)&&(!(n<i)&&(!(e>=t+l)&&!(n>=i+s)))},ceramic_GeometryUtils.pointInCircle=function(e,n,t,i,l){return(e-t)*(e-t)+(n-i)*(n-i)<=l*l},ceramic_GeometryUtils.distance=function(e,n,t,i){var l=t-e,s=i-n;return Math.sqrt(l*l+s*s)},ceramic_GeometryUtils.squareDistance=function(e,n,t,i){var l=t-e,s=i-n;return l*l+s*s},ceramic_GeometryUtils.angleTo=function(e,n,t,i){var l=57.29577951308232*Math.atan2(i-n,t-e)+90;return l<0?l+=360:l>=360&&(l-=360),l},ceramic_GeometryUtils.angleDelta=function(e,n){for(var t=e;t<0;)t+=360;for(;t>=360;)t-=360;e=t;for(t=n;t<0;)t+=360;for(;t>=360;)t-=360;var i=(n=t)-e;return i>180?n-=360:i<-180&&(n+=360),n-e},ceramic_GeometryUtils.clampDegrees=function(e){for(;e<0;)e+=360;for(;e>=360;)e-=360;return e},ceramic_GeometryUtils.angleDirection=function(e,n){var t=.017453292519943295*(e-90);return n.x=Math.cos(t),n.y=Math.sin(t),n};var ceramic_GlyphQuad=function(){this.glyphAdvance=-1,this.glyphY=-1,this.glyphX=-1,this.code=-1,this.line=-1,this.posInLine=-1,this.index=-1,this.glyph=null,this.char=null,ceramic_Quad.call(this)};t["ceramic.GlyphQuad"]=ceramic_GlyphQuad,ceramic_GlyphQuad.__name__="ceramic.GlyphQuad",ceramic_GlyphQuad.__super__=ceramic_Quad,ceramic_GlyphQuad.prototype=$extend(ceramic_Quad.prototype,{__cbOnClear:null,__cbOnceClear:null,__cbOnOwnerUnbindClear:null,__cbOnceOwnerUnbindClear:null,emitClear:function(e){var n=0;if(null!=this.__cbOnClear&&(n+=this.__cbOnClear.length),null!=this.__cbOnceClear&&(n+=this.__cbOnceClear.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnClear)for(var s=0,r=this.__cbOnClear.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnClear[a],++l):--n}if(null!=this.__cbOnceClear){var c=null,h=null;for(s=0,r=this.__cbOnceClear.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceClear[a],this.__cbOnceClear[a]=null;var u=this.__cbOnceOwnerUnbindClear[a];this.__cbOnceOwnerUnbindClear[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindClear[a]),h.push(this.__cbOnceClear[a])}this.__cbOnceOwnerUnbindClear=c,this.__cbOnceClear=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onClear:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event clear because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offClear(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindClear&&(this.__cbOnOwnerUnbindClear=[]),this.__cbOnOwnerUnbindClear.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindClear&&(this.__cbOnOwnerUnbindClear=[]),this.__cbOnOwnerUnbindClear.push(null);null==this.__cbOnClear&&(this.__cbOnClear=[]),this.__cbOnClear.push(n)},onceClear:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event clear because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offClear(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindClear&&(this.__cbOnceOwnerUnbindClear=[]),this.__cbOnceOwnerUnbindClear.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindClear&&(this.__cbOnceOwnerUnbindClear=[]),this.__cbOnceOwnerUnbindClear.push(null);null==this.__cbOnceClear&&(this.__cbOnceClear=[]),this.__cbOnceClear.push(n)},offClear:function(e){if(null!=e){var n;null!=this.__cbOnClear&&-1!=(n=this.__cbOnClear.indexOf(e))&&(this.__cbOnClear.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClear[n])&&s(),this.__cbOnOwnerUnbindClear.splice(n,1)),null!=this.__cbOnceClear&&-1!=(n=this.__cbOnceClear.indexOf(e))&&(this.__cbOnceClear.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClear[n])&&s(),this.__cbOnceOwnerUnbindClear.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClear){for(var t=0,i=this.__cbOnOwnerUnbindClear.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClear[l])&&s()}this.__cbOnOwnerUnbindClear=null}if(null!=this.__cbOnceOwnerUnbindClear){for(t=0,i=this.__cbOnceOwnerUnbindClear.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindClear[l])&&s()}this.__cbOnceOwnerUnbindClear=null}this.__cbOnClear=null,this.__cbOnceClear=null}},listensClear:function(){return null!=this.__cbOnClear&&this.__cbOnClear.length>0||null!=this.__cbOnceClear&&this.__cbOnceClear.length>0},char:null,glyph:null,index:null,posInLine:null,line:null,code:null,glyphX:null,glyphY:null,glyphAdvance:null,toString:function(){return"GlyphQuad(c="+this.char+",i="+this.index+",l="+this.line+",x="+this.glyphX+",y="+this.glyphY+")"},clear:function(){this.emitClear(this),ceramic_Quad.prototype.clear.call(this)},unbindEvents:function(){ceramic_Quad.prototype.unbindEvents.call(this),this.offClear()},__class__:ceramic_GlyphQuad});var ceramic_Group=function(e){this.items=[],ceramic_Entity.call(this),null!=e&&(this.id=e),ceramic_App.app.groups.push(this)};t["ceramic.Group"]=ceramic_Group,ceramic_Group.__name__="ceramic.Group",ceramic_Group.__interfaces__=[arcade_Collidable],ceramic_Group.__super__=ceramic_Entity,ceramic_Group.prototype=$extend(ceramic_Entity.prototype,{sortDirection:null,items:null,add:function(e){var n=this.items;-1!=n.indexOf(e)?ceramic_App.app.logger.warning("Cannot add item "+Std.string(e)+" to group, already inside group",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Group.hx",lineNumber:42,className:"ceramic.Group",methodName:"add"}):(n.push(e),e.onDestroy(this,$bind(this,this.itemDestroyed)))},remove:function(e){var n=this.items,t=n.indexOf(e);-1!=t?(n.splice(t,1),e.offDestroy($bind(this,this.itemDestroyed))):ceramic_App.app.logger.warning("Cannot remove item "+Std.string(e)+" from group, index is -1",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Group.hx",lineNumber:61,className:"ceramic.Group",methodName:"remove"})},contains:function(e){return-1!=this.items.indexOf(e)},itemDestroyed:function(e){this.remove(e)},clear:function(){var e=this.items;if(e.length>0){for(var n=e.length,t=ceramic_ArrayPool.pool(n),i=t.get(),l=0,s=n;l<s;){var r=l++;i.vector[r]=e[r]}for(l=0,s=n;l<s;){r=l++;var a=i.vector[r];a.offDestroy($bind(this,this.itemDestroyed)),a.destroy()}if(0!=e.length)if(e.length>0)e.splice(0,e.length);else e[-1]=null;t.release(i)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),HxOverrides.remove(ceramic_App.app.groups,this),this.clear())},__class__:ceramic_Group});var ceramic_HashedString=function(){};t["ceramic.HashedString"]=ceramic_HashedString,ceramic_HashedString.__name__="ceramic.HashedString",ceramic_HashedString.encode=function(e){return haxe_crypto_Md5.encode(e)+""+e.length+";"+e},ceramic_HashedString.append=function(e,n){return e+ceramic_HashedString.encode(n)},ceramic_HashedString.decode=function(e){ceramic_HashedString._lastDecodeIncomplete=!1;for(var n=0,t=e.length,i=null;n<t;){for(var l=e.substring(n,n+32),s=n+=32;s<t&&59!=HxOverrides.cca(e,s);)++s;var r=Std.parseInt(e.substring(n,s));if(null==r||r<=0){ceramic_App.app.logger.warning("Failed to parse all encoded string: invalid section length",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:63,className:"ceramic.HashedString",methodName:"decode"}),ceramic_HashedString._lastDecodeIncomplete=!0;break}n=s+1;var a=e.substring(n,n+r);if(null==a){ceramic_App.app.logger.warning("Failed to parse all encoded string: null section",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:72,className:"ceramic.HashedString",methodName:"decode"}),ceramic_HashedString._lastDecodeIncomplete=!0;break}if(haxe_crypto_Md5.encode(a)!=l){ceramic_App.app.logger.warning("Failed to parse all encoded string: section hash mismatch",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:77,className:"ceramic.HashedString",methodName:"decode"}),ceramic_HashedString._lastDecodeIncomplete=!0;break}n+=r,null==i&&(i=new StringBuf),i.b+=null==a?"null":""+a}return null!=i?i.b:(ceramic_App.app.logger.error("Invalid encoded string",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:95,className:"ceramic.HashedString",methodName:"decode"}),ceramic_HashedString._lastDecodeIncomplete=!0,null)},ceramic_HashedString.prototype={isLastDecodeIncomplete:function(){return ceramic_HashedString._lastDecodeIncomplete},__class__:ceramic_HashedString};var ceramic_ImageAsset=function(e,n){this.reloadBecauseOfDensityChange=!1,this.defaultImageOptions=null,this.unobservedTexture=null,this.textureAutoruns=null,ceramic_Asset.call(this,"image",e,n),this.set_handleTexturesDensityChange(!0)};t["ceramic.ImageAsset"]=ceramic_ImageAsset,ceramic_ImageAsset.__name__="ceramic.ImageAsset",ceramic_ImageAsset.__super__=ceramic_Asset,ceramic_ImageAsset.prototype=$extend(ceramic_Asset.prototype,{__cbOnReplaceTexture:null,__cbOnceReplaceTexture:null,__cbOnOwnerUnbindReplaceTexture:null,__cbOnceOwnerUnbindReplaceTexture:null,emitReplaceTexture:function(e,n){var t=0;if(null!=this.__cbOnReplaceTexture&&(t+=this.__cbOnReplaceTexture.length),null!=this.__cbOnceReplaceTexture&&(t+=this.__cbOnceReplaceTexture.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnReplaceTexture)for(var r=0,a=this.__cbOnReplaceTexture.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnReplaceTexture[c],++s):--t}if(null!=this.__cbOnceReplaceTexture){var h=null,u=null;for(r=0,a=this.__cbOnceReplaceTexture.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceReplaceTexture[c],this.__cbOnceReplaceTexture[c]=null;var o=this.__cbOnceOwnerUnbindReplaceTexture[c];this.__cbOnceOwnerUnbindReplaceTexture[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindReplaceTexture[c]),u.push(this.__cbOnceReplaceTexture[c])}this.__cbOnceOwnerUnbindReplaceTexture=h,this.__cbOnceReplaceTexture=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onReplaceTexture:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceTexture because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceTexture(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReplaceTexture&&(this.__cbOnOwnerUnbindReplaceTexture=[]),this.__cbOnOwnerUnbindReplaceTexture.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReplaceTexture&&(this.__cbOnOwnerUnbindReplaceTexture=[]),this.__cbOnOwnerUnbindReplaceTexture.push(null);null==this.__cbOnReplaceTexture&&(this.__cbOnReplaceTexture=[]),this.__cbOnReplaceTexture.push(n)},onceReplaceTexture:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceTexture because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceTexture(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReplaceTexture&&(this.__cbOnceOwnerUnbindReplaceTexture=[]),this.__cbOnceOwnerUnbindReplaceTexture.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReplaceTexture&&(this.__cbOnceOwnerUnbindReplaceTexture=[]),this.__cbOnceOwnerUnbindReplaceTexture.push(null);null==this.__cbOnceReplaceTexture&&(this.__cbOnceReplaceTexture=[]),this.__cbOnceReplaceTexture.push(n)},offReplaceTexture:function(e){if(null!=e){var n;null!=this.__cbOnReplaceTexture&&-1!=(n=this.__cbOnReplaceTexture.indexOf(e))&&(this.__cbOnReplaceTexture.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplaceTexture[n])&&s(),this.__cbOnOwnerUnbindReplaceTexture.splice(n,1)),null!=this.__cbOnceReplaceTexture&&-1!=(n=this.__cbOnceReplaceTexture.indexOf(e))&&(this.__cbOnceReplaceTexture.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplaceTexture[n])&&s(),this.__cbOnceOwnerUnbindReplaceTexture.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceTexture){for(var t=0,i=this.__cbOnOwnerUnbindReplaceTexture.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplaceTexture[l])&&s()}this.__cbOnOwnerUnbindReplaceTexture=null}if(null!=this.__cbOnceOwnerUnbindReplaceTexture){for(t=0,i=this.__cbOnceOwnerUnbindReplaceTexture.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindReplaceTexture[l])&&s()}this.__cbOnceOwnerUnbindReplaceTexture=null}this.__cbOnReplaceTexture=null,this.__cbOnceReplaceTexture=null}},listensReplaceTexture:function(){return null!=this.__cbOnReplaceTexture&&this.__cbOnReplaceTexture.length>0||null!=this.__cbOnceReplaceTexture&&this.__cbOnceReplaceTexture.length>0},textureAutoruns:null,get_texture:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.textureAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.textureAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedTexture},set_texture:function(e){var n=this.unobservedTexture;if(this.unobservedTexture=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextureChange(e,n);var t=this.textureAutoruns;if(null!=t){this.textureAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTexture:function(){var e=this.unobservedTexture;this.emitTextureChange(e,e);var n=this.textureAutoruns;if(null!=n){this.textureAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedTexture:null,__cbOnTextureChange:null,__cbOnceTextureChange:null,__cbOnOwnerUnbindTextureChange:null,__cbOnceOwnerUnbindTextureChange:null,emitTextureChange:function(e,n){var t=0;if(null!=this.__cbOnTextureChange&&(t+=this.__cbOnTextureChange.length),null!=this.__cbOnceTextureChange&&(t+=this.__cbOnceTextureChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTextureChange)for(var r=0,a=this.__cbOnTextureChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnTextureChange[c],++s):--t}if(null!=this.__cbOnceTextureChange){var h=null,u=null;for(r=0,a=this.__cbOnceTextureChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceTextureChange[c],this.__cbOnceTextureChange[c]=null;var o=this.__cbOnceOwnerUnbindTextureChange[c];this.__cbOnceOwnerUnbindTextureChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindTextureChange[c]),u.push(this.__cbOnceTextureChange[c])}this.__cbOnceOwnerUnbindTextureChange=h,this.__cbOnceTextureChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onTextureChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textureChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextureChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(null);null==this.__cbOnTextureChange&&(this.__cbOnTextureChange=[]),this.__cbOnTextureChange.push(n)},onceTextureChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textureChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextureChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(null);null==this.__cbOnceTextureChange&&(this.__cbOnceTextureChange=[]),this.__cbOnceTextureChange.push(n)},offTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnTextureChange&&-1!=(n=this.__cbOnTextureChange.indexOf(e))&&(this.__cbOnTextureChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTextureChange[n])&&s(),this.__cbOnOwnerUnbindTextureChange.splice(n,1)),null!=this.__cbOnceTextureChange&&-1!=(n=this.__cbOnceTextureChange.indexOf(e))&&(this.__cbOnceTextureChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTextureChange[n])&&s(),this.__cbOnceOwnerUnbindTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindTextureChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTextureChange[l])&&s()}this.__cbOnOwnerUnbindTextureChange=null}if(null!=this.__cbOnceOwnerUnbindTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindTextureChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTextureChange[l])&&s()}this.__cbOnceOwnerUnbindTextureChange=null}this.__cbOnTextureChange=null,this.__cbOnceTextureChange=null}},listensTextureChange:function(){return null!=this.__cbOnTextureChange&&this.__cbOnTextureChange.length>0||null!=this.__cbOnceTextureChange&&this.__cbOnceTextureChange.length>0},defaultImageOptions:null,reloadBecauseOfDensityChange:null,load:function(){var e=this;this.set_status(h.LOADING);var n=this.reloadBecauseOfDensityChange;if(this.reloadBecauseOfDensityChange=!1,null==this.path)return ceramic_App.app.logger.warning("Cannot load image asset if path is undefined.",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:41,className:"ceramic.ImageAsset",methodName:"load"}),this.set_status(h.BROKEN),void this.emitComplete(!1);var t={};if(null!=this.owner&&(t.immediate=this.owner.immediate,t.loadMethod=this.owner.loadMethod),null!=this.defaultImageOptions)for(var i=0,l=Reflect.fields(this.defaultImageOptions);i<l.length;){var s=l[i];++i,t[s]=Reflect.field(this.defaultImageOptions,s)}if(null!=this.options)for(i=0,l=Reflect.fields(this.options);i<l.length;){s=l[i];++i,t[s]=Reflect.field(this.options,s)}var r=this.path,a=ceramic_Assets.realAssetPath(r,this.runtimeAssets),c=ceramic_Assets.getReloadCount(a);c>0&&(a+="?hot="+c,r+="?hot="+c),ceramic_App.app.logger.info("Load image "+r+" (density="+this.density+")",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:72,className:"ceramic.ImageAsset",methodName:"load"}),ceramic_App.app.backend.textures.load(a,t,(function(t){if(null!=t){var i=e.get_texture(),l=new ceramic_Texture(t,e.density);if(l.id="texture:"+r,e.set_texture(l),e.get_texture().asset=e,null!=i){e.get_texture().set_filter(i.filter),e.emitReplaceTexture(e.get_texture(),i);for(var s=0,a=[].concat(ceramic_App.app.visuals);s<a.length;){var c=a[s];if(++s,c._lifecycleState>=0)if(null!=c.asQuad){var u=c.asQuad;if(u._texture==i){var o=u.frameX,_=u.frameY,d=u.frameWidth,b=u.frameHeight,f=e.get_texture();u._texture!=f&&u._set_texture(f),(n||0!=o||0!=_||d!=i.width||b!=i.height)&&(u.frameX=o,u.frameY=_,u.frameWidth!=d&&(u.frameWidth=d,-1!=d&&u.set_width(d)),u.frameHeight!=b&&(u.frameHeight=b,-1!=b&&u.set_height(b)))}}else if(null!=c.asMesh){var O=c.asMesh;if(O.texture==i){var p=e.get_texture();O.texture!=p&&(null!=O.texture&&(O.texture.offDestroy($bind(O,O.textureDestroyed)),null!=O.texture.asset&&O.texture.asset.release()),O.texture=p,null!=O.texture&&(O.texture.onDestroy(O,$bind(O,O.textureDestroyed)),null!=O.texture.asset&&O.texture.asset.retain()))}}}i.asset=null,i.destroy()}e.set_status(h.READY),e.emitComplete(!0),e.handleTexturesDensityChange&&e.checkTexturesDensity()}else e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to load texture at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:150,className:"ceramic.ImageAsset",methodName:"load"}),e.emitComplete(!1)}))},texturesDensityDidChange:function(e,n){this.get_status()==h.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e=this.path;this.computePath(),e!=this.path&&(ceramic_App.app.logger.info("Reload texture ("+e+" -> "+this.path+")",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:175,className:"ceramic.ImageAsset",methodName:"checkTexturesDensity"}),this.reloadBecauseOfDensityChange=!0,this.load())},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload texture (file has changed)",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:197,className:"ceramic.ImageAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),null!=this.get_texture()&&(this.get_texture().destroy(),this.set_texture(null)))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offReplaceTexture(),this.offTextureChange()},__class__:ceramic_ImageAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_texture:"set_texture",get_texture:"get_texture"})});var ceramic_Immediate=function(){this.immediateCallbacksLen=0,this.immediateCallbacksCapacity=0,this.immediateCallbacks=[]};t["ceramic.Immediate"]=ceramic_Immediate,ceramic_Immediate.__name__="ceramic.Immediate",ceramic_Immediate.prototype={immediateCallbacks:null,immediateCallbacksCapacity:null,immediateCallbacksLen:null,push:function(e){if(null==e)throw haxe_Exception.thrown("Immediate callback should not be null!");this.immediateCallbacksLen<this.immediateCallbacksCapacity?(this.immediateCallbacks[this.immediateCallbacksLen]=e,this.immediateCallbacksLen++):(this.immediateCallbacks[this.immediateCallbacksLen++]=e,this.immediateCallbacksCapacity++)},flush:function(){for(var e=!1;this.immediateCallbacksLen>0;){e=!0;var n=ceramic_ArrayPool.pool(this.immediateCallbacksLen),t=n.get(),i=this.immediateCallbacksLen;this.immediateCallbacksLen=0;for(var l=0,s=i;l<s;){var r=l++;t.vector[r]=this.immediateCallbacks[r],this.immediateCallbacks[r]=null}for(var a=0,c=i;a<c;){var h=a++;(0,t.vector[h])()}n.release(t)}return e},__class__:ceramic_Immediate};var ceramic_InitSettings=function(e){this.settings=e};t["ceramic.InitSettings"]=ceramic_InitSettings,ceramic_InitSettings.__name__="ceramic.InitSettings",ceramic_InitSettings.prototype={settings:null,get_targetWidth:function(){return this.settings.get_targetWidth()},set_targetWidth:function(e){return this.settings.set_targetWidth(e)},get_targetHeight:function(){return this.settings.get_targetHeight()},set_targetHeight:function(e){return this.settings.set_targetHeight(e)},targetSize:function(e,n){this.settings.set_targetWidth(e),this.settings.set_targetHeight(n)},get_windowWidth:function(){return this.settings.get_windowWidth()},set_windowWidth:function(e){return this.settings.set_windowWidth(e)},get_windowHeight:function(){return this.settings.get_windowHeight()},set_windowHeight:function(e){return this.settings.set_windowHeight(e)},windowSize:function(e,n){this.settings.set_windowWidth(e),this.settings.set_windowHeight(n)},get_targetDensity:function(){return this.settings.get_targetDensity()},set_targetDensity:function(e){return this.settings.set_targetDensity(e)},get_background:function(){return this.settings.get_background()},set_background:function(e){return this.settings.set_background(e)},get_scaling:function(){return this.settings.get_scaling()},set_scaling:function(e){return this.settings.set_scaling(e)},get_title:function(){return this.settings.get_title()},set_title:function(e){return this.settings.set_title(e)},get_fullscreen:function(){return this.settings.get_fullscreen()},set_fullscreen:function(e){return this.settings.set_fullscreen(e)},get_targetFps:function(){return this.settings.get_targetFps()},set_targetFps:function(e){return this.settings.set_targetFps(e)},get_maxDelta:function(){return this.settings.get_maxDelta()},set_maxDelta:function(e){return this.settings.set_maxDelta(e)},get_overrideDelta:function(){return this.settings.get_overrideDelta()},set_overrideDelta:function(e){return this.settings.set_overrideDelta(e)},get_orientation:function(){return this.settings.orientation},set_orientation:function(e){return this.settings.orientation=e},get_antialiasing:function(){return this.settings.antialiasing},set_antialiasing:function(e){return this.settings.antialiasing=e},get_collections:function(){return this.settings.collections},set_collections:function(e){return this.settings.collections=e},get_appInfo:function(){return this.settings.appInfo},set_appInfo:function(e){return this.settings.appInfo=e},get_resizable:function(){return this.settings.resizable},set_resizable:function(e){return this.settings.resizable=e},get_assetsPath:function(){return this.settings.assetsPath},set_assetsPath:function(e){return this.settings.assetsPath=e},get_backend:function(){return this.settings.backend},set_backend:function(e){return this.settings.backend=e},get_defaultFont:function(){return this.settings.defaultFont},set_defaultFont:function(e){return this.settings.defaultFont=e},get_defaultShader:function(){return this.settings.defaultShader},set_defaultShader:function(e){return this.settings.defaultShader=e},__class__:ceramic_InitSettings,__properties__:{set_defaultShader:"set_defaultShader",get_defaultShader:"get_defaultShader",set_defaultFont:"set_defaultFont",get_defaultFont:"get_defaultFont",set_backend:"set_backend",get_backend:"get_backend",set_assetsPath:"set_assetsPath",get_assetsPath:"get_assetsPath",set_resizable:"set_resizable",get_resizable:"get_resizable",set_appInfo:"set_appInfo",get_appInfo:"get_appInfo",set_collections:"set_collections",get_collections:"get_collections",set_antialiasing:"set_antialiasing",get_antialiasing:"get_antialiasing",set_orientation:"set_orientation",get_orientation:"get_orientation",set_overrideDelta:"set_overrideDelta",get_overrideDelta:"get_overrideDelta",set_maxDelta:"set_maxDelta",get_maxDelta:"get_maxDelta",set_targetFps:"set_targetFps",get_targetFps:"get_targetFps",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_title:"set_title",get_title:"get_title",set_scaling:"set_scaling",get_scaling:"get_scaling",set_background:"set_background",get_background:"get_background",set_targetDensity:"set_targetDensity",get_targetDensity:"get_targetDensity",set_windowHeight:"set_windowHeight",get_windowHeight:"get_windowHeight",set_windowWidth:"set_windowWidth",get_windowWidth:"get_windowWidth",set_targetHeight:"set_targetHeight",get_targetHeight:"get_targetHeight",set_targetWidth:"set_targetWidth",get_targetWidth:"get_targetWidth"}};var ceramic_Input=function(){this.activeGamepads=[],this.gamepadNames=new ceramic_IntMap,this.gamepadGyroKeys=[],this.gamepadGyroDeltas=new ceramic_IntMap,this.gamepadAxisValues=new ceramic_IntFloatMap(16,.5,!1),this.pressedGamepadButtons=new ceramic_IntIntMap(16,.5,!1),this.pressedKeyCodes=new ceramic_IntIntMap(16,.5,!1),this.pressedScanCodes=new ceramic_IntIntMap(16,.5,!1),ceramic_Entity.call(this)};t["ceramic.Input"]=ceramic_Input,ceramic_Input.__name__="ceramic.Input",ceramic_Input.__super__=ceramic_Entity,ceramic_Input.prototype=$extend(ceramic_Entity.prototype,{__cbOnKeyDown:null,__cbOnceKeyDown:null,__cbOnOwnerUnbindKeyDown:null,__cbOnceOwnerUnbindKeyDown:null,emitKeyDown:function(e){this.willEmitKeyDown(e);var n=0;if(null!=this.__cbOnKeyDown&&(n+=this.__cbOnKeyDown.length),null!=this.__cbOnceKeyDown&&(n+=this.__cbOnceKeyDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyDown)for(var s=0,r=this.__cbOnKeyDown.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnKeyDown[a],++l):--n}if(null!=this.__cbOnceKeyDown){var c=null,h=null;for(s=0,r=this.__cbOnceKeyDown.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceKeyDown[a],this.__cbOnceKeyDown[a]=null;var u=this.__cbOnceOwnerUnbindKeyDown[a];this.__cbOnceOwnerUnbindKeyDown[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindKeyDown[a]),h.push(this.__cbOnceKeyDown[a])}this.__cbOnceOwnerUnbindKeyDown=c,this.__cbOnceKeyDown=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onKeyDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(null);null==this.__cbOnKeyDown&&(this.__cbOnKeyDown=[]),this.__cbOnKeyDown.push(n)},onceKeyDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(null);null==this.__cbOnceKeyDown&&(this.__cbOnceKeyDown=[]),this.__cbOnceKeyDown.push(n)},offKeyDown:function(e){if(null!=e){var n;null!=this.__cbOnKeyDown&&-1!=(n=this.__cbOnKeyDown.indexOf(e))&&(this.__cbOnKeyDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindKeyDown[n])&&s(),this.__cbOnOwnerUnbindKeyDown.splice(n,1)),null!=this.__cbOnceKeyDown&&-1!=(n=this.__cbOnceKeyDown.indexOf(e))&&(this.__cbOnceKeyDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindKeyDown[n])&&s(),this.__cbOnceOwnerUnbindKeyDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyDown){for(var t=0,i=this.__cbOnOwnerUnbindKeyDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindKeyDown[l])&&s()}this.__cbOnOwnerUnbindKeyDown=null}if(null!=this.__cbOnceOwnerUnbindKeyDown){for(t=0,i=this.__cbOnceOwnerUnbindKeyDown.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindKeyDown[l])&&s()}this.__cbOnceOwnerUnbindKeyDown=null}this.__cbOnKeyDown=null,this.__cbOnceKeyDown=null}},listensKeyDown:function(){return null!=this.__cbOnKeyDown&&this.__cbOnKeyDown.length>0||null!=this.__cbOnceKeyDown&&this.__cbOnceKeyDown.length>0},__cbOnKeyUp:null,__cbOnceKeyUp:null,__cbOnOwnerUnbindKeyUp:null,__cbOnceOwnerUnbindKeyUp:null,emitKeyUp:function(e){this.willEmitKeyUp(e);var n=0;if(null!=this.__cbOnKeyUp&&(n+=this.__cbOnKeyUp.length),null!=this.__cbOnceKeyUp&&(n+=this.__cbOnceKeyUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyUp)for(var s=0,r=this.__cbOnKeyUp.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnKeyUp[a],++l):--n}if(null!=this.__cbOnceKeyUp){var c=null,h=null;for(s=0,r=this.__cbOnceKeyUp.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceKeyUp[a],this.__cbOnceKeyUp[a]=null;var u=this.__cbOnceOwnerUnbindKeyUp[a];this.__cbOnceOwnerUnbindKeyUp[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindKeyUp[a]),h.push(this.__cbOnceKeyUp[a])}this.__cbOnceOwnerUnbindKeyUp=c,this.__cbOnceKeyUp=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onKeyUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(null);null==this.__cbOnKeyUp&&(this.__cbOnKeyUp=[]),this.__cbOnKeyUp.push(n)},onceKeyUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(null);null==this.__cbOnceKeyUp&&(this.__cbOnceKeyUp=[]),this.__cbOnceKeyUp.push(n)},offKeyUp:function(e){if(null!=e){var n;null!=this.__cbOnKeyUp&&-1!=(n=this.__cbOnKeyUp.indexOf(e))&&(this.__cbOnKeyUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindKeyUp[n])&&s(),this.__cbOnOwnerUnbindKeyUp.splice(n,1)),null!=this.__cbOnceKeyUp&&-1!=(n=this.__cbOnceKeyUp.indexOf(e))&&(this.__cbOnceKeyUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindKeyUp[n])&&s(),this.__cbOnceOwnerUnbindKeyUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyUp){for(var t=0,i=this.__cbOnOwnerUnbindKeyUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindKeyUp[l])&&s()}this.__cbOnOwnerUnbindKeyUp=null}if(null!=this.__cbOnceOwnerUnbindKeyUp){for(t=0,i=this.__cbOnceOwnerUnbindKeyUp.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindKeyUp[l])&&s()}this.__cbOnceOwnerUnbindKeyUp=null}this.__cbOnKeyUp=null,this.__cbOnceKeyUp=null}},listensKeyUp:function(){return null!=this.__cbOnKeyUp&&this.__cbOnKeyUp.length>0||null!=this.__cbOnceKeyUp&&this.__cbOnceKeyUp.length>0},__cbOnGamepadAxis:null,__cbOnceGamepadAxis:null,__cbOnOwnerUnbindGamepadAxis:null,__cbOnceOwnerUnbindGamepadAxis:null,emitGamepadAxis:function(e,n,t){var i=32*e+n;this.gamepadAxisValues.set(i,t);var l=0;if(null!=this.__cbOnGamepadAxis&&(l+=this.__cbOnGamepadAxis.length),null!=this.__cbOnceGamepadAxis&&(l+=this.__cbOnceGamepadAxis.length),l>0){var s=ceramic_ArrayPool.pool(l),r=s.get(),a=0;if(null!=this.__cbOnGamepadAxis)for(var c=0,h=this.__cbOnGamepadAxis.length;c<h;){var u=c++;!0?(r.vector[a]=this.__cbOnGamepadAxis[u],++a):--l}if(null!=this.__cbOnceGamepadAxis){var o=null,_=null;for(c=0,h=this.__cbOnceGamepadAxis.length;c<h;){u=c++;if(!0){r.vector[a]=this.__cbOnceGamepadAxis[u],this.__cbOnceGamepadAxis[u]=null;var d=this.__cbOnceOwnerUnbindGamepadAxis[u];this.__cbOnceOwnerUnbindGamepadAxis[u]=null,null!=d&&d(),++a}else--l,null==o&&(o=[],_=[],[]),o.push(this.__cbOnceOwnerUnbindGamepadAxis[u]),_.push(this.__cbOnceGamepadAxis[u])}this.__cbOnceOwnerUnbindGamepadAxis=o,this.__cbOnceGamepadAxis=_}for(c=0,h=l;c<h;){a=c++;(0,r.vector[a])(e,n,t)}s.release(r),r=null}},onGamepadAxis:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadAxis(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(null);null==this.__cbOnGamepadAxis&&(this.__cbOnGamepadAxis=[]),this.__cbOnGamepadAxis.push(n)},onceGamepadAxis:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadAxis(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(null);null==this.__cbOnceGamepadAxis&&(this.__cbOnceGamepadAxis=[]),this.__cbOnceGamepadAxis.push(n)},offGamepadAxis:function(e){if(null!=e){var n;null!=this.__cbOnGamepadAxis&&-1!=(n=this.__cbOnGamepadAxis.indexOf(e))&&(this.__cbOnGamepadAxis.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadAxis[n])&&s(),this.__cbOnOwnerUnbindGamepadAxis.splice(n,1)),null!=this.__cbOnceGamepadAxis&&-1!=(n=this.__cbOnceGamepadAxis.indexOf(e))&&(this.__cbOnceGamepadAxis.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadAxis[n])&&s(),this.__cbOnceOwnerUnbindGamepadAxis.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadAxis){for(var t=0,i=this.__cbOnOwnerUnbindGamepadAxis.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadAxis[l])&&s()}this.__cbOnOwnerUnbindGamepadAxis=null}if(null!=this.__cbOnceOwnerUnbindGamepadAxis){for(t=0,i=this.__cbOnceOwnerUnbindGamepadAxis.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadAxis[l])&&s()}this.__cbOnceOwnerUnbindGamepadAxis=null}this.__cbOnGamepadAxis=null,this.__cbOnceGamepadAxis=null}},listensGamepadAxis:function(){return null!=this.__cbOnGamepadAxis&&this.__cbOnGamepadAxis.length>0||null!=this.__cbOnceGamepadAxis&&this.__cbOnceGamepadAxis.length>0},__cbOnGamepadDown:null,__cbOnceGamepadDown:null,__cbOnOwnerUnbindGamepadDown:null,__cbOnceOwnerUnbindGamepadDown:null,emitGamepadDown:function(e,n){this.willEmitGamepadDown(e,n);var t=0;if(null!=this.__cbOnGamepadDown&&(t+=this.__cbOnGamepadDown.length),null!=this.__cbOnceGamepadDown&&(t+=this.__cbOnceGamepadDown.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadDown)for(var r=0,a=this.__cbOnGamepadDown.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnGamepadDown[c],++s):--t}if(null!=this.__cbOnceGamepadDown){var h=null,u=null;for(r=0,a=this.__cbOnceGamepadDown.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceGamepadDown[c],this.__cbOnceGamepadDown[c]=null;var o=this.__cbOnceOwnerUnbindGamepadDown[c];this.__cbOnceOwnerUnbindGamepadDown[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindGamepadDown[c]),u.push(this.__cbOnceGamepadDown[c])}this.__cbOnceOwnerUnbindGamepadDown=h,this.__cbOnceGamepadDown=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onGamepadDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(null);null==this.__cbOnGamepadDown&&(this.__cbOnGamepadDown=[]),this.__cbOnGamepadDown.push(n)},onceGamepadDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(null);null==this.__cbOnceGamepadDown&&(this.__cbOnceGamepadDown=[]),this.__cbOnceGamepadDown.push(n)},offGamepadDown:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDown&&-1!=(n=this.__cbOnGamepadDown.indexOf(e))&&(this.__cbOnGamepadDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadDown[n])&&s(),this.__cbOnOwnerUnbindGamepadDown.splice(n,1)),null!=this.__cbOnceGamepadDown&&-1!=(n=this.__cbOnceGamepadDown.indexOf(e))&&(this.__cbOnceGamepadDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadDown[n])&&s(),this.__cbOnceOwnerUnbindGamepadDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDown){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadDown[l])&&s()}this.__cbOnOwnerUnbindGamepadDown=null}if(null!=this.__cbOnceOwnerUnbindGamepadDown){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDown.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadDown[l])&&s()}this.__cbOnceOwnerUnbindGamepadDown=null}this.__cbOnGamepadDown=null,this.__cbOnceGamepadDown=null}},listensGamepadDown:function(){return null!=this.__cbOnGamepadDown&&this.__cbOnGamepadDown.length>0||null!=this.__cbOnceGamepadDown&&this.__cbOnceGamepadDown.length>0},__cbOnGamepadUp:null,__cbOnceGamepadUp:null,__cbOnOwnerUnbindGamepadUp:null,__cbOnceOwnerUnbindGamepadUp:null,emitGamepadUp:function(e,n){this.willEmitGamepadUp(e,n);var t=0;if(null!=this.__cbOnGamepadUp&&(t+=this.__cbOnGamepadUp.length),null!=this.__cbOnceGamepadUp&&(t+=this.__cbOnceGamepadUp.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadUp)for(var r=0,a=this.__cbOnGamepadUp.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnGamepadUp[c],++s):--t}if(null!=this.__cbOnceGamepadUp){var h=null,u=null;for(r=0,a=this.__cbOnceGamepadUp.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceGamepadUp[c],this.__cbOnceGamepadUp[c]=null;var o=this.__cbOnceOwnerUnbindGamepadUp[c];this.__cbOnceOwnerUnbindGamepadUp[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindGamepadUp[c]),u.push(this.__cbOnceGamepadUp[c])}this.__cbOnceOwnerUnbindGamepadUp=h,this.__cbOnceGamepadUp=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onGamepadUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(null);null==this.__cbOnGamepadUp&&(this.__cbOnGamepadUp=[]),this.__cbOnGamepadUp.push(n)},onceGamepadUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(null);null==this.__cbOnceGamepadUp&&(this.__cbOnceGamepadUp=[]),this.__cbOnceGamepadUp.push(n)},offGamepadUp:function(e){if(null!=e){var n;null!=this.__cbOnGamepadUp&&-1!=(n=this.__cbOnGamepadUp.indexOf(e))&&(this.__cbOnGamepadUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadUp[n])&&s(),this.__cbOnOwnerUnbindGamepadUp.splice(n,1)),null!=this.__cbOnceGamepadUp&&-1!=(n=this.__cbOnceGamepadUp.indexOf(e))&&(this.__cbOnceGamepadUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadUp[n])&&s(),this.__cbOnceOwnerUnbindGamepadUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadUp){for(var t=0,i=this.__cbOnOwnerUnbindGamepadUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadUp[l])&&s()}this.__cbOnOwnerUnbindGamepadUp=null}if(null!=this.__cbOnceOwnerUnbindGamepadUp){for(t=0,i=this.__cbOnceOwnerUnbindGamepadUp.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadUp[l])&&s()}this.__cbOnceOwnerUnbindGamepadUp=null}this.__cbOnGamepadUp=null,this.__cbOnceGamepadUp=null}},listensGamepadUp:function(){return null!=this.__cbOnGamepadUp&&this.__cbOnGamepadUp.length>0||null!=this.__cbOnceGamepadUp&&this.__cbOnceGamepadUp.length>0},__cbOnGamepadGyro:null,__cbOnceGamepadGyro:null,__cbOnOwnerUnbindGamepadGyro:null,__cbOnceOwnerUnbindGamepadGyro:null,emitGamepadGyro:function(e,n,t,i){this.willEmitGamepadGyro(e,n,t,i);var l=0;if(null!=this.__cbOnGamepadGyro&&(l+=this.__cbOnGamepadGyro.length),null!=this.__cbOnceGamepadGyro&&(l+=this.__cbOnceGamepadGyro.length),l>0){var s=ceramic_ArrayPool.pool(l),r=s.get(),a=0;if(null!=this.__cbOnGamepadGyro)for(var c=0,h=this.__cbOnGamepadGyro.length;c<h;){var u=c++;!0?(r.vector[a]=this.__cbOnGamepadGyro[u],++a):--l}if(null!=this.__cbOnceGamepadGyro){var o=null,_=null;for(c=0,h=this.__cbOnceGamepadGyro.length;c<h;){u=c++;if(!0){r.vector[a]=this.__cbOnceGamepadGyro[u],this.__cbOnceGamepadGyro[u]=null;var d=this.__cbOnceOwnerUnbindGamepadGyro[u];this.__cbOnceOwnerUnbindGamepadGyro[u]=null,null!=d&&d(),++a}else--l,null==o&&(o=[],_=[],[]),o.push(this.__cbOnceOwnerUnbindGamepadGyro[u]),_.push(this.__cbOnceGamepadGyro[u])}this.__cbOnceOwnerUnbindGamepadGyro=o,this.__cbOnceGamepadGyro=_}for(c=0,h=l;c<h;){a=c++;(0,r.vector[a])(e,n,t,i)}s.release(r),r=null}},onGamepadGyro:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadGyro(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(null);null==this.__cbOnGamepadGyro&&(this.__cbOnGamepadGyro=[]),this.__cbOnGamepadGyro.push(n)},onceGamepadGyro:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadGyro(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(null);null==this.__cbOnceGamepadGyro&&(this.__cbOnceGamepadGyro=[]),this.__cbOnceGamepadGyro.push(n)},offGamepadGyro:function(e){if(null!=e){var n;null!=this.__cbOnGamepadGyro&&-1!=(n=this.__cbOnGamepadGyro.indexOf(e))&&(this.__cbOnGamepadGyro.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadGyro[n])&&s(),this.__cbOnOwnerUnbindGamepadGyro.splice(n,1)),null!=this.__cbOnceGamepadGyro&&-1!=(n=this.__cbOnceGamepadGyro.indexOf(e))&&(this.__cbOnceGamepadGyro.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadGyro[n])&&s(),this.__cbOnceOwnerUnbindGamepadGyro.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadGyro){for(var t=0,i=this.__cbOnOwnerUnbindGamepadGyro.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadGyro[l])&&s()}this.__cbOnOwnerUnbindGamepadGyro=null}if(null!=this.__cbOnceOwnerUnbindGamepadGyro){for(t=0,i=this.__cbOnceOwnerUnbindGamepadGyro.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadGyro[l])&&s()}this.__cbOnceOwnerUnbindGamepadGyro=null}this.__cbOnGamepadGyro=null,this.__cbOnceGamepadGyro=null}},listensGamepadGyro:function(){return null!=this.__cbOnGamepadGyro&&this.__cbOnGamepadGyro.length>0||null!=this.__cbOnceGamepadGyro&&this.__cbOnceGamepadGyro.length>0},__cbOnGamepadEnable:null,__cbOnceGamepadEnable:null,__cbOnOwnerUnbindGamepadEnable:null,__cbOnceOwnerUnbindGamepadEnable:null,emitGamepadEnable:function(e,n){this.willEmitGamepadEnable(e,n);var t=0;if(null!=this.__cbOnGamepadEnable&&(t+=this.__cbOnGamepadEnable.length),null!=this.__cbOnceGamepadEnable&&(t+=this.__cbOnceGamepadEnable.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadEnable)for(var r=0,a=this.__cbOnGamepadEnable.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnGamepadEnable[c],++s):--t}if(null!=this.__cbOnceGamepadEnable){var h=null,u=null;for(r=0,a=this.__cbOnceGamepadEnable.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceGamepadEnable[c],this.__cbOnceGamepadEnable[c]=null;var o=this.__cbOnceOwnerUnbindGamepadEnable[c];this.__cbOnceOwnerUnbindGamepadEnable[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindGamepadEnable[c]),u.push(this.__cbOnceGamepadEnable[c])}this.__cbOnceOwnerUnbindGamepadEnable=h,this.__cbOnceGamepadEnable=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onGamepadEnable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadEnable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(null);null==this.__cbOnGamepadEnable&&(this.__cbOnGamepadEnable=[]),this.__cbOnGamepadEnable.push(n)},onceGamepadEnable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadEnable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(null);null==this.__cbOnceGamepadEnable&&(this.__cbOnceGamepadEnable=[]),this.__cbOnceGamepadEnable.push(n)},offGamepadEnable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadEnable&&-1!=(n=this.__cbOnGamepadEnable.indexOf(e))&&(this.__cbOnGamepadEnable.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadEnable[n])&&s(),this.__cbOnOwnerUnbindGamepadEnable.splice(n,1)),null!=this.__cbOnceGamepadEnable&&-1!=(n=this.__cbOnceGamepadEnable.indexOf(e))&&(this.__cbOnceGamepadEnable.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadEnable[n])&&s(),this.__cbOnceOwnerUnbindGamepadEnable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadEnable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadEnable.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadEnable[l])&&s()}this.__cbOnOwnerUnbindGamepadEnable=null}if(null!=this.__cbOnceOwnerUnbindGamepadEnable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadEnable.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadEnable[l])&&s()}this.__cbOnceOwnerUnbindGamepadEnable=null}this.__cbOnGamepadEnable=null,this.__cbOnceGamepadEnable=null}},listensGamepadEnable:function(){return null!=this.__cbOnGamepadEnable&&this.__cbOnGamepadEnable.length>0||null!=this.__cbOnceGamepadEnable&&this.__cbOnceGamepadEnable.length>0},__cbOnGamepadDisable:null,__cbOnceGamepadDisable:null,__cbOnOwnerUnbindGamepadDisable:null,__cbOnceOwnerUnbindGamepadDisable:null,emitGamepadDisable:function(e){this.willEmitGamepadDisable(e);var n=0;if(null!=this.__cbOnGamepadDisable&&(n+=this.__cbOnGamepadDisable.length),null!=this.__cbOnceGamepadDisable&&(n+=this.__cbOnceGamepadDisable.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnGamepadDisable)for(var s=0,r=this.__cbOnGamepadDisable.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnGamepadDisable[a],++l):--n}if(null!=this.__cbOnceGamepadDisable){var c=null,h=null;for(s=0,r=this.__cbOnceGamepadDisable.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceGamepadDisable[a],this.__cbOnceGamepadDisable[a]=null;var u=this.__cbOnceOwnerUnbindGamepadDisable[a];this.__cbOnceOwnerUnbindGamepadDisable[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindGamepadDisable[a]),h.push(this.__cbOnceGamepadDisable[a])}this.__cbOnceOwnerUnbindGamepadDisable=c,this.__cbOnceGamepadDisable=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onGamepadDisable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDisable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(null);null==this.__cbOnGamepadDisable&&(this.__cbOnGamepadDisable=[]),this.__cbOnGamepadDisable.push(n)},onceGamepadDisable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDisable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(null);null==this.__cbOnceGamepadDisable&&(this.__cbOnceGamepadDisable=[]),this.__cbOnceGamepadDisable.push(n)},offGamepadDisable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDisable&&-1!=(n=this.__cbOnGamepadDisable.indexOf(e))&&(this.__cbOnGamepadDisable.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadDisable[n])&&s(),this.__cbOnOwnerUnbindGamepadDisable.splice(n,1)),null!=this.__cbOnceGamepadDisable&&-1!=(n=this.__cbOnceGamepadDisable.indexOf(e))&&(this.__cbOnceGamepadDisable.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadDisable[n])&&s(),this.__cbOnceOwnerUnbindGamepadDisable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDisable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDisable.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadDisable[l])&&s()}this.__cbOnOwnerUnbindGamepadDisable=null}if(null!=this.__cbOnceOwnerUnbindGamepadDisable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDisable.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadDisable[l])&&s()}this.__cbOnceOwnerUnbindGamepadDisable=null}this.__cbOnGamepadDisable=null,this.__cbOnceGamepadDisable=null}},listensGamepadDisable:function(){return null!=this.__cbOnGamepadDisable&&this.__cbOnGamepadDisable.length>0||null!=this.__cbOnceGamepadDisable&&this.__cbOnceGamepadDisable.length>0},pressedScanCodes:null,pressedKeyCodes:null,pressedGamepadButtons:null,gamepadAxisValues:null,gamepadGyroDeltas:null,gamepadGyroKeys:null,gamepadNames:null,activeGamepads:null,resetDeltas:function(){for(;this.gamepadGyroKeys.length>0;){var e=this.gamepadGyroKeys.pop(),n=this.gamepadGyroDeltas.get(e);null!=n&&(n[0]=0,n[1]=0,n[2]=0)}},willEmitKeyDown:function(e){var n,t=this,i=null!=(n=this.pressedScanCodes.intMap.h[0|e.scanCode])?n:0,l=null!=(n=this.pressedKeyCodes.intMap.h[0|e.keyCode])?n:0;-1==i&&(i=0,l=0),this.pressedScanCodes.set(e.scanCode,i+1),this.pressedKeyCodes.set(e.keyCode,l+1),0==i&&ceramic_App.app.beginUpdateCallbacks.push((function(){var n;1==(null!=(n=t.pressedScanCodes.intMap.h[0|e.scanCode])?n:0)&&t.pressedScanCodes.set(e.scanCode,2),1==(null!=(n=t.pressedKeyCodes.intMap.h[0|e.keyCode])?n:0)&&t.pressedKeyCodes.set(e.keyCode,2)}))},willEmitKeyUp:function(e){var n=this,t=this.pressedScanCodes.intMap.h[0|e.scanCode];0!=(null!=t?t:0)&&(this.pressedScanCodes.set(e.scanCode,-1),this.pressedKeyCodes.set(e.keyCode,-1),ceramic_App.app.beginUpdateCallbacks.push((function(){var t;-1==(null!=(t=n.pressedScanCodes.intMap.h[0|e.scanCode])?t:0)&&n.pressedScanCodes.set(e.scanCode,0),-1==(null!=(t=n.pressedKeyCodes.intMap.h[0|e.keyCode])?t:0)&&n.pressedKeyCodes.set(e.keyCode,0)})))},_keyPressed:function(e){var n=this.pressedKeyCodes.intMap.h[0|e];return(null!=n?n:0)>0},_keyJustPressed:function(e){var n=this.pressedKeyCodes.intMap.h[0|e];return 1==(null!=n?n:0)},_keyJustReleased:function(e){var n=this.pressedKeyCodes.intMap.h[0|e];return-1==(null!=n?n:0)},_scanPressed:function(e){var n=this.pressedScanCodes.intMap.h[0|e];return(null!=n?n:0)>0},_scanJustPressed:function(e){var n=this.pressedScanCodes.intMap.h[0|e];return 1==(null!=n?n:0)},_scanJustReleased:function(e){var n=this.pressedScanCodes.intMap.h[0|e];return-1==(null!=n?n:0)},willEmitGamepadEnable:function(e,n){for(var t=32*e,i=0;i<32;){var l=t+i++;this.pressedGamepadButtons.set(l,0),this.gamepadAxisValues.set(l,0)}-1==this.activeGamepads.indexOf(e)&&this.activeGamepads.push(e),this.gamepadNames.set(e,n)},willEmitGamepadDisable:function(e){for(var n=32*e,t=0;t<32;){var i=t++,l=n+i,s=this.pressedGamepadButtons.intMap.h[0|l];(null!=s?s:0)>0&&this.emitGamepadUp(e,i);var r=this.gamepadAxisValues.intMap.h[0|l],a=null!=r?r:0;0!=a&&this.emitGamepadAxis(e,i,a)}var c=this.activeGamepads.indexOf(e);-1!=c&&this.activeGamepads.splice(c,1),this.gamepadNames.remove(e)},willEmitGamepadDown:function(e,n){var t=this,i=32*e+n,l=this.pressedGamepadButtons.intMap.h[0|i],s=null!=l?l:0;-1==s&&(s=0),this.pressedGamepadButtons.set(i,s+1),0==s&&ceramic_App.app.beginUpdateCallbacks.push((function(){var e=t.pressedGamepadButtons.intMap.h[0|i];1==(null!=e?e:0)&&t.pressedGamepadButtons.set(i,2)}))},willEmitGamepadUp:function(e,n){var t=this,i=32*e+n;this.pressedGamepadButtons.set(i,-1),ceramic_App.app.beginUpdateCallbacks.push((function(){var e=t.pressedGamepadButtons.intMap.h[0|i];-1==(null!=e?e:0)&&t.pressedGamepadButtons.set(i,0)}))},willEmitGamepadGyro:function(e,n,t,i){var l=e,s=this.gamepadGyroDeltas.get(l);null==s&&(s=[0,0,0],this.gamepadGyroDeltas.set(l,s)),-1==this.gamepadGyroKeys.indexOf(l)&&this.gamepadGyroKeys.push(l),s[0]+=n,s[1]+=t,s[2]+=i},_gamepadPressed:function(e,n){var t=32*e+n,i=this.pressedGamepadButtons.intMap.h[0|t];return(null!=i?i:0)>0},_gamepadJustPressed:function(e,n){var t=32*e+n,i=this.pressedGamepadButtons.intMap.h[0|t];return 1==(null!=i?i:0)},_gamepadJustReleased:function(e,n){var t=32*e+n,i=this.pressedGamepadButtons.intMap.h[0|t];return-1==(null!=i?i:0)},willEmitGamepadAxis:function(e,n,t){var i=32*e+n;this.gamepadAxisValues.set(i,t)},gamepadAxisValue:function(e,n){var t=32*e+n,i=this.gamepadAxisValues.intMap.h[0|t];return null!=i?i:0},gamepadGyroDeltaX:function(e){var n=e,t=this.gamepadGyroDeltas.get(n);return null!=t?t[0]:0},gamepadGyroDeltaY:function(e){var n=e,t=this.gamepadGyroDeltas.get(n);return null!=t?t[1]:0},gamepadGyroDeltaZ:function(e){var n=e,t=this.gamepadGyroDeltas.get(n);return null!=t?t[2]:0},startGamepadRumble:function(e,n,t,i){ceramic_App.app.backend.input.startGamepadRumble(e,t,i,n)},stopGamepadRumble:function(e){ceramic_App.app.backend.input.stopGamepadRumble(e)},gamepadName:function(e){return this.gamepadNames.get(e)},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offKeyDown(),this.offKeyUp(),this.offGamepadAxis(),this.offGamepadDown(),this.offGamepadUp(),this.offGamepadGyro(),this.offGamepadEnable(),this.offGamepadDisable()},__class__:ceramic_Input});var f={__properties__:{get_iterableKeys:"get_iterableKeys",get_size:"get_size"},get_size:function(e){return e.size},get_iterableKeys:function(e){return e.iterableKeys},_asIntBoolMap:function(e){return e},_new:function(e,n,t){return null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),new ceramic_IntIntMap(e,n,t)},exists:function(e,n){return e.intMap.h.hasOwnProperty(0|n)},existsInline:function(e,n){return e.intMap.h.hasOwnProperty(0|n)},get:function(e,n){var t=e.intMap.h[0|n];return 0!=(null!=t?t:0)},getInline:function(e,n){var t=e.intMap.h[0|n];return 0!=(null!=t?t:0)},set:function(e,n,t){e.set(n,t?1:0)},remove:function(e,n){return 0!=e.remove(n)},clear:function(e){e.clear()},copy:function(e){var n=new ceramic_IntIntMap;return n.intMap=e.intMap.copy(),n.size=e.size,n.iterableKeys=null!=e.iterableKeys?e.iterableKeys.slice():null,n.iterableKeysUsed=null!=e.iterableKeysUsed?f.copy(e.iterableKeysUsed):null,n},iterator:function(e){return new ceramic_IntBoolMapIterator(e)},keys:function(e){return new ceramic_IntBoolMapKeyIterator(e)},keyValueIterator:function(e){return new ceramic_IntBoolMapKeyValueIterator(e)}},ceramic_IntBoolMapIterator=function(e){this.intBoolMap=e,this.i=0;var n=this.intBoolMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntBoolMapIterator"]=ceramic_IntBoolMapIterator,ceramic_IntBoolMapIterator.__name__="ceramic.IntBoolMapIterator",ceramic_IntBoolMapIterator.prototype={intBoolMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intBoolMap.iterableKeys[e],t=this.intBoolMap.intMap.h[0|n];return 0!=(null!=t?t:0)},__class__:ceramic_IntBoolMapIterator};var ceramic_IntBoolMapKeyIterator=function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1};t["ceramic.IntBoolMapKeyIterator"]=ceramic_IntBoolMapKeyIterator,ceramic_IntBoolMapKeyIterator.__name__="ceramic.IntBoolMapKeyIterator",ceramic_IntBoolMapKeyIterator.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:ceramic_IntBoolMapKeyIterator};var ceramic_IntBoolMapKeyValueIterator=function(e){this.intBoolMap=e,this.i=0;var n=this.intBoolMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntBoolMapKeyValueIterator"]=ceramic_IntBoolMapKeyValueIterator,ceramic_IntBoolMapKeyValueIterator.__name__="ceramic.IntBoolMapKeyValueIterator",ceramic_IntBoolMapKeyValueIterator.prototype={intBoolMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intBoolMap.iterableKeys[e],t=this.intBoolMap.intMap.h[0|n];return{key:n,value:0!=(null!=t?t:0)}},__class__:ceramic_IntBoolMapKeyValueIterator};var ceramic_IntFloatMap=function(e,n,t){if(null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.size=0,this.iterableKeysUsed=null,this.iterableKeys=null,this.intMap=new haxe_ds_IntMap,t){this.iterableKeys=[];var i=new ceramic_IntIntMap(16,.5,!1);this.iterableKeysUsed=i}};t["ceramic.IntFloatMap"]=ceramic_IntFloatMap,ceramic_IntFloatMap.__name__="ceramic.IntFloatMap",ceramic_IntFloatMap.prototype={intMap:null,iterableKeys:null,iterableKeysUsed:null,size:null,clear:function(){if(this.intMap.h={},this.size=0,null!=this.iterableKeys){this.iterableKeys=[];var e=new ceramic_IntIntMap(16,.5,!1);this.iterableKeysUsed=e}},exists:function(e){return this.intMap.h.hasOwnProperty(0|e)},set:function(e,n){var t;if(null!=this.iterableKeys){var i=this.iterableKeysUsed.intMap.h[0|e];t=0==(null!=i?i:0)}else t=!1;t&&(this.iterableKeysUsed.set(e,1),this.iterableKeys.push(e));var l=0|e;return this.intMap.h.hasOwnProperty(l)||this.size++,this.intMap.h[l]=n,n},get:function(e){var n=this.intMap.h[0|e];return null!=n?n:0},remove:function(e){var n,t=0|e,i=0;if(null!=this.iterableKeys){var l=this.iterableKeysUsed.intMap.h[0|e];n=0!=(null!=l?l:0)}else n=!1;return n&&(this.iterableKeysUsed.set(e,0),this.iterableKeys.splice(this.iterableKeys.indexOf(e),1)),this.intMap.h.hasOwnProperty(t)&&(i=this.intMap.h[t],this.size--),this.intMap.remove(t),i},getInline:function(e){var n=this.intMap.h[0|e];return null!=n?n:0},existsInline:function(e){return this.intMap.h.hasOwnProperty(0|e)},copy:function(){var e=new ceramic_IntFloatMap;return e.intMap=this.intMap.copy(),e.size=this.size,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null,e.iterableKeysUsed=null!=this.iterableKeysUsed?f.copy(this.iterableKeysUsed):null,e},iterator:function(){return new ceramic_IntFloatMapIterator(this)},keys:function(){return new ceramic_IntFloatMapKeyIterator(this)},keyValueIterator:function(){return new ceramic_IntFloatMapKeyValueIterator(this)},__class__:ceramic_IntFloatMap};var ceramic_IntFloatMapIterator=function(e){this.intFloatMap=e,this.i=0;var n=this.intFloatMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntFloatMapIterator"]=ceramic_IntFloatMapIterator,ceramic_IntFloatMapIterator.__name__="ceramic.IntFloatMapIterator",ceramic_IntFloatMapIterator.prototype={intFloatMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intFloatMap.iterableKeys[e],t=this.intFloatMap.intMap.h[0|n];return null!=t?t:0},__class__:ceramic_IntFloatMapIterator};var ceramic_IntFloatMapKeyIterator=function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1};t["ceramic.IntFloatMapKeyIterator"]=ceramic_IntFloatMapKeyIterator,ceramic_IntFloatMapKeyIterator.__name__="ceramic.IntFloatMapKeyIterator",ceramic_IntFloatMapKeyIterator.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:ceramic_IntFloatMapKeyIterator};var ceramic_IntFloatMapKeyValueIterator=function(e){this.intFloatMap=e,this.i=0;var n=this.intFloatMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntFloatMapKeyValueIterator"]=ceramic_IntFloatMapKeyValueIterator,ceramic_IntFloatMapKeyValueIterator.__name__="ceramic.IntFloatMapKeyValueIterator",ceramic_IntFloatMapKeyValueIterator.prototype={intFloatMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intFloatMap.iterableKeys[e],t=this.intFloatMap.intMap.h[0|n];return{key:n,value:null!=t?t:0}},__class__:ceramic_IntFloatMapKeyValueIterator};var ceramic_IntIntMap=function(e,n,t){if(null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.size=0,this.iterableKeysUsed=null,this.iterableKeys=null,this.intMap=new haxe_ds_IntMap,t){this.iterableKeys=[];var i=new ceramic_IntIntMap(16,.5,!1);this.iterableKeysUsed=i}};t["ceramic.IntIntMap"]=ceramic_IntIntMap,ceramic_IntIntMap.__name__="ceramic.IntIntMap",ceramic_IntIntMap.prototype={intMap:null,iterableKeys:null,iterableKeysUsed:null,size:null,clear:function(){if(this.intMap.h={},this.size=0,null!=this.iterableKeys){this.iterableKeys=[];var e=new ceramic_IntIntMap(16,.5,!1);this.iterableKeysUsed=e}},exists:function(e){return this.intMap.h.hasOwnProperty(0|e)},set:function(e,n){var t;if(null!=this.iterableKeys){var i=this.iterableKeysUsed.intMap.h[0|e];t=0==(null!=i?i:0)}else t=!1;t&&(this.iterableKeysUsed.set(e,1),this.iterableKeys.push(e));var l=0|e;return this.intMap.h.hasOwnProperty(l)||this.size++,this.intMap.h[l]=0|n,n},get:function(e){var n=this.intMap.h[0|e];return null!=n?n:0},remove:function(e){var n,t=0|e,i=0;if(null!=this.iterableKeys){var l=this.iterableKeysUsed.intMap.h[0|e];n=0!=(null!=l?l:0)}else n=!1;return n&&(this.iterableKeysUsed.set(e,0),this.iterableKeys.splice(this.iterableKeys.indexOf(e),1)),this.intMap.h.hasOwnProperty(t)&&(i=this.intMap.h[t],this.size--),this.intMap.remove(t),i},getInline:function(e){var n=this.intMap.h[0|e];return null!=n?n:0},existsInline:function(e){return this.intMap.h.hasOwnProperty(0|e)},copy:function(){var e=new ceramic_IntIntMap;return e.intMap=this.intMap.copy(),e.size=this.size,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null,e.iterableKeysUsed=null!=this.iterableKeysUsed?f.copy(this.iterableKeysUsed):null,e},iterator:function(){return new ceramic_IntIntMapIterator(this)},keys:function(){return new ceramic_IntIntMapKeyIterator(this)},keyValueIterator:function(){return new ceramic_IntIntMapKeyValueIterator(this)},__class__:ceramic_IntIntMap};var ceramic_IntIntMapIterator=function(e){this.intIntMap=e,this.i=0;var n=this.intIntMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntIntMapIterator"]=ceramic_IntIntMapIterator,ceramic_IntIntMapIterator.__name__="ceramic.IntIntMapIterator",ceramic_IntIntMapIterator.prototype={intIntMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intIntMap.iterableKeys[e],t=this.intIntMap.intMap.h[0|n];return null!=t?t:0},__class__:ceramic_IntIntMapIterator};var ceramic_IntIntMapKeyIterator=function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1};t["ceramic.IntIntMapKeyIterator"]=ceramic_IntIntMapKeyIterator,ceramic_IntIntMapKeyIterator.__name__="ceramic.IntIntMapKeyIterator",ceramic_IntIntMapKeyIterator.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:ceramic_IntIntMapKeyIterator};var ceramic_IntIntMapKeyValueIterator=function(e){this.intIntMap=e,this.i=0;var n=this.intIntMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntIntMapKeyValueIterator"]=ceramic_IntIntMapKeyValueIterator,ceramic_IntIntMapKeyValueIterator.__name__="ceramic.IntIntMapKeyValueIterator",ceramic_IntIntMapKeyValueIterator.prototype={intIntMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intIntMap.iterableKeys[e],t=this.intIntMap.intMap.h[0|n];return{key:n,value:null!=t?t:0}},__class__:ceramic_IntIntMapKeyValueIterator};var ceramic_IntMap=function(e,n,t){null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.iterableKeys=null,this.nextFreeIndex=0,this.initialSize=e,this.initialFillFactor=n,this._keys=new ceramic_IntIntMap(e,n);var i=new Array(e);this.values=i,t&&(this.iterableKeys=[])};t["ceramic.IntMap"]=ceramic_IntMap,ceramic_IntMap.__name__="ceramic.IntMap",ceramic_IntMap.prototype={_keys:null,nextFreeIndex:null,initialSize:null,initialFillFactor:null,iterableKeys:null,values:null,get:function(e){var n=this._keys.intMap.h[0|e],t=null!=n?n:0;return t>=2?this.values[t-2]:ceramic_IntMap.RET_NULL},getInline:function(e){var n=this._keys.intMap.h[0|e],t=null!=n?n:0;return t>=2?this.values[t-2]:ceramic_IntMap.RET_NULL},exists:function(e){return this._keys.intMap.h.hasOwnProperty(0|e)},existsInline:function(e){return this._keys.intMap.h.hasOwnProperty(0|e)},set:function(e,n){var t=this._keys.intMap.h[0|e],i=null!=t?t:0;if(i>=2)i-=2,null!=n?this.values[i]=n:(this.values[i]=null,this.nextFreeIndex>i&&(this.nextFreeIndex=i),this._keys.set(e,1));else if(null==n)1!=i&&(this._keys.set(e,1),null!=this.iterableKeys&&this.iterableKeys.push(e));else{var l=this.values.length;for(this.nextFreeIndex>=l&&this.resizeValues(2*this.values.length),this.values[this.nextFreeIndex]=n,this._keys.set(e,this.nextFreeIndex+2),1!=i&&null!=this.iterableKeys&&this.iterableKeys.push(e);this.nextFreeIndex++,this.nextFreeIndex<l&&null!=this.values[this.nextFreeIndex];);}},remove:function(e){var n=this._keys.intMap.h[0|e],t=null!=n?n:0;0!=t&&(1!=t&&(t-=2,this.values[t]=null,this.nextFreeIndex>t&&(this.nextFreeIndex=t)),this._keys.remove(e),null!=this.iterableKeys&&this.iterableKeys.splice(this.iterableKeys.indexOf(e),1))},copy:function(){var e=new ceramic_IntMap;e.initialSize=this.initialSize,e.initialFillFactor=this.initialFillFactor;var n=this._keys,t=new ceramic_IntIntMap;t.intMap=n.intMap.copy(),t.size=n.size,t.iterableKeys=null!=n.iterableKeys?n.iterableKeys.slice():null,t.iterableKeysUsed=null!=n.iterableKeysUsed?f.copy(n.iterableKeysUsed):null,e._keys=t,e.nextFreeIndex=this.nextFreeIndex,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null;var i=this.values,l=new Array(i.length);return k.blit(i,0,l,0,i.length),e.values=l,e},clear:function(){this._keys=new ceramic_IntIntMap(this.initialSize,this.initialFillFactor);var e=new Array(this.initialSize);if(this.values=e,this.nextFreeIndex=0,null!=this.iterableKeys){var n=this.iterableKeys;if(0!=n.length)if(n.length>0)n.splice(0,n.length);else n[-1]=null}},iterator:function(){return new ceramic_IntMapIterator(this)},keys:function(){return new ceramic_IntMapKeyIterator(this)},keyValueIterator:function(){return new ceramic_IntMapKeyValueIterator(this)},resizeValues:function(e){var n=this.values,t=new Array(e);this.values=t;for(var i=0,l=n.length;i<l;){var s=i++;this.values[s]=n[s]}},__class__:ceramic_IntMap};var ceramic_IntMapIterator=function(e){this.intMap=e,this.i=0;var n=this.intMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntMapIterator"]=ceramic_IntMapIterator,ceramic_IntMapIterator.__name__="ceramic.IntMapIterator",ceramic_IntMapIterator.prototype={intMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intMap.iterableKeys[e];return this.intMap.get(n)},__class__:ceramic_IntMapIterator};var ceramic_IntMapKeyIterator=function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1};t["ceramic.IntMapKeyIterator"]=ceramic_IntMapKeyIterator,ceramic_IntMapKeyIterator.__name__="ceramic.IntMapKeyIterator",ceramic_IntMapKeyIterator.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:ceramic_IntMapKeyIterator};var ceramic_IntMapKeyValueIterator=function(e){this.intMap=e,this.i=0;var n=this.intMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntMapKeyValueIterator"]=ceramic_IntMapKeyValueIterator,ceramic_IntMapKeyValueIterator.__name__="ceramic.IntMapKeyValueIterator",ceramic_IntMapKeyValueIterator.prototype={intMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intMap.iterableKeys[e];return{key:n,value:this.intMap.get(n)}},__class__:ceramic_IntMapKeyValueIterator};var ceramic_Key=function(e,n){this.keyCode=e,this.scanCode=n};t["ceramic.Key"]=ceramic_Key,ceramic_Key.__name__="ceramic.Key",ceramic_Key.prototype={keyCode:null,keyCodeName:null,get_keyCodeName:function(){return O.$name(this.keyCode)},scanCode:null,scanCodeName:null,get_scanCodeName:function(){return p.$name(this.scanCode)},toString:function(){return"Key("+this.keyCode+" "+O.$name(this.keyCode)+" / "+this.scanCode+" "+p.$name(this.scanCode)+")"},__class__:ceramic_Key,__properties__:{get_scanCodeName:"get_scanCodeName",get_keyCodeName:"get_keyCodeName"}};var O={$name:function(e){if(0!=(e&p.MASK))return p.$name(e&~p.MASK);switch(e){case 8:return p.$name(42);case 9:return p.$name(43);case 13:return p.$name(40);case 27:return p.$name(41);case 32:return p.$name(44);case 97:return p.$name(4);case 98:return p.$name(5);case 99:return p.$name(6);case 100:return p.$name(7);case 101:return p.$name(8);case 102:return p.$name(9);case 103:return p.$name(10);case 104:return p.$name(11);case 105:return p.$name(12);case 106:return p.$name(13);case 107:return p.$name(14);case 108:return p.$name(15);case 109:return p.$name(16);case 110:return p.$name(17);case 111:return p.$name(18);case 112:return p.$name(19);case 113:return p.$name(20);case 114:return p.$name(21);case 115:return p.$name(22);case 116:return p.$name(23);case 117:return p.$name(24);case 118:return p.$name(25);case 119:return p.$name(26);case 120:return p.$name(27);case 121:return p.$name(28);case 122:return p.$name(29);case 127:return p.$name(76);default:return String.fromCodePoint(e)}},toString:function(e){return"KeyCode("+e+" "+O.$name(e)+")"}},ceramic_Logger=function(){this.indentPrefix="",ceramic_Entity.call(this),ceramic_Logger.didInitOnce||(ceramic_Logger.didInitOnce=!0)};t["ceramic.Logger"]=ceramic_Logger,ceramic_Logger.__name__="ceramic.Logger",ceramic_Logger.__super__=ceramic_Entity,ceramic_Logger.prototype=$extend(ceramic_Entity.prototype,{__cbOnInfo:null,__cbOnceInfo:null,__cbOnOwnerUnbindInfo:null,__cbOnceOwnerUnbindInfo:null,emitInfo:function(e,n){var t=0;if(null!=this.__cbOnInfo&&(t+=this.__cbOnInfo.length),null!=this.__cbOnceInfo&&(t+=this.__cbOnceInfo.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInfo)for(var r=0,a=this.__cbOnInfo.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnInfo[c],++s):--t}if(null!=this.__cbOnceInfo){var h=null,u=null;for(r=0,a=this.__cbOnceInfo.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceInfo[c],this.__cbOnceInfo[c]=null;var o=this.__cbOnceOwnerUnbindInfo[c];this.__cbOnceOwnerUnbindInfo[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindInfo[c]),u.push(this.__cbOnceInfo[c])}this.__cbOnceOwnerUnbindInfo=h,this.__cbOnceInfo=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onInfo:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event info because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offInfo(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindInfo&&(this.__cbOnOwnerUnbindInfo=[]),this.__cbOnOwnerUnbindInfo.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindInfo&&(this.__cbOnOwnerUnbindInfo=[]),this.__cbOnOwnerUnbindInfo.push(null);null==this.__cbOnInfo&&(this.__cbOnInfo=[]),this.__cbOnInfo.push(n)},onceInfo:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event info because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offInfo(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindInfo&&(this.__cbOnceOwnerUnbindInfo=[]),this.__cbOnceOwnerUnbindInfo.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindInfo&&(this.__cbOnceOwnerUnbindInfo=[]),this.__cbOnceOwnerUnbindInfo.push(null);null==this.__cbOnceInfo&&(this.__cbOnceInfo=[]),this.__cbOnceInfo.push(n)},offInfo:function(e){if(null!=e){var n;null!=this.__cbOnInfo&&-1!=(n=this.__cbOnInfo.indexOf(e))&&(this.__cbOnInfo.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInfo[n])&&s(),this.__cbOnOwnerUnbindInfo.splice(n,1)),null!=this.__cbOnceInfo&&-1!=(n=this.__cbOnceInfo.indexOf(e))&&(this.__cbOnceInfo.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInfo[n])&&s(),this.__cbOnceOwnerUnbindInfo.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInfo){for(var t=0,i=this.__cbOnOwnerUnbindInfo.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInfo[l])&&s()}this.__cbOnOwnerUnbindInfo=null}if(null!=this.__cbOnceOwnerUnbindInfo){for(t=0,i=this.__cbOnceOwnerUnbindInfo.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindInfo[l])&&s()}this.__cbOnceOwnerUnbindInfo=null}this.__cbOnInfo=null,this.__cbOnceInfo=null}},listensInfo:function(){return null!=this.__cbOnInfo&&this.__cbOnInfo.length>0||null!=this.__cbOnceInfo&&this.__cbOnceInfo.length>0},__cbOnDebug:null,__cbOnceDebug:null,__cbOnOwnerUnbindDebug:null,__cbOnceOwnerUnbindDebug:null,emitDebug:function(e,n){var t=0;if(null!=this.__cbOnDebug&&(t+=this.__cbOnDebug.length),null!=this.__cbOnceDebug&&(t+=this.__cbOnceDebug.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDebug)for(var r=0,a=this.__cbOnDebug.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnDebug[c],++s):--t}if(null!=this.__cbOnceDebug){var h=null,u=null;for(r=0,a=this.__cbOnceDebug.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceDebug[c],this.__cbOnceDebug[c]=null;var o=this.__cbOnceOwnerUnbindDebug[c];this.__cbOnceOwnerUnbindDebug[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindDebug[c]),u.push(this.__cbOnceDebug[c])}this.__cbOnceOwnerUnbindDebug=h,this.__cbOnceDebug=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onDebug:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event debug because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDebug(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDebug&&(this.__cbOnOwnerUnbindDebug=[]),this.__cbOnOwnerUnbindDebug.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDebug&&(this.__cbOnOwnerUnbindDebug=[]),this.__cbOnOwnerUnbindDebug.push(null);null==this.__cbOnDebug&&(this.__cbOnDebug=[]),this.__cbOnDebug.push(n)},onceDebug:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event debug because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDebug(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDebug&&(this.__cbOnceOwnerUnbindDebug=[]),this.__cbOnceOwnerUnbindDebug.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDebug&&(this.__cbOnceOwnerUnbindDebug=[]),this.__cbOnceOwnerUnbindDebug.push(null);null==this.__cbOnceDebug&&(this.__cbOnceDebug=[]),this.__cbOnceDebug.push(n)},offDebug:function(e){if(null!=e){var n;null!=this.__cbOnDebug&&-1!=(n=this.__cbOnDebug.indexOf(e))&&(this.__cbOnDebug.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDebug[n])&&s(),this.__cbOnOwnerUnbindDebug.splice(n,1)),null!=this.__cbOnceDebug&&-1!=(n=this.__cbOnceDebug.indexOf(e))&&(this.__cbOnceDebug.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDebug[n])&&s(),this.__cbOnceOwnerUnbindDebug.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDebug){for(var t=0,i=this.__cbOnOwnerUnbindDebug.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDebug[l])&&s()}this.__cbOnOwnerUnbindDebug=null}if(null!=this.__cbOnceOwnerUnbindDebug){for(t=0,i=this.__cbOnceOwnerUnbindDebug.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindDebug[l])&&s()}this.__cbOnceOwnerUnbindDebug=null}this.__cbOnDebug=null,this.__cbOnceDebug=null}},listensDebug:function(){return null!=this.__cbOnDebug&&this.__cbOnDebug.length>0||null!=this.__cbOnceDebug&&this.__cbOnceDebug.length>0},__cbOnSuccess:null,__cbOnceSuccess:null,__cbOnOwnerUnbindSuccess:null,__cbOnceOwnerUnbindSuccess:null,emitSuccess:function(e,n){var t=0;if(null!=this.__cbOnSuccess&&(t+=this.__cbOnSuccess.length),null!=this.__cbOnceSuccess&&(t+=this.__cbOnceSuccess.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSuccess)for(var r=0,a=this.__cbOnSuccess.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnSuccess[c],++s):--t}if(null!=this.__cbOnceSuccess){var h=null,u=null;for(r=0,a=this.__cbOnceSuccess.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceSuccess[c],this.__cbOnceSuccess[c]=null;var o=this.__cbOnceOwnerUnbindSuccess[c];this.__cbOnceOwnerUnbindSuccess[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindSuccess[c]),u.push(this.__cbOnceSuccess[c])}this.__cbOnceOwnerUnbindSuccess=h,this.__cbOnceSuccess=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onSuccess:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event success because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSuccess(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindSuccess&&(this.__cbOnOwnerUnbindSuccess=[]),this.__cbOnOwnerUnbindSuccess.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindSuccess&&(this.__cbOnOwnerUnbindSuccess=[]),this.__cbOnOwnerUnbindSuccess.push(null);null==this.__cbOnSuccess&&(this.__cbOnSuccess=[]),this.__cbOnSuccess.push(n)},onceSuccess:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event success because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSuccess(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindSuccess&&(this.__cbOnceOwnerUnbindSuccess=[]),this.__cbOnceOwnerUnbindSuccess.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindSuccess&&(this.__cbOnceOwnerUnbindSuccess=[]),this.__cbOnceOwnerUnbindSuccess.push(null);null==this.__cbOnceSuccess&&(this.__cbOnceSuccess=[]),this.__cbOnceSuccess.push(n)},offSuccess:function(e){if(null!=e){var n;null!=this.__cbOnSuccess&&-1!=(n=this.__cbOnSuccess.indexOf(e))&&(this.__cbOnSuccess.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSuccess[n])&&s(),this.__cbOnOwnerUnbindSuccess.splice(n,1)),null!=this.__cbOnceSuccess&&-1!=(n=this.__cbOnceSuccess.indexOf(e))&&(this.__cbOnceSuccess.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSuccess[n])&&s(),this.__cbOnceOwnerUnbindSuccess.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSuccess){for(var t=0,i=this.__cbOnOwnerUnbindSuccess.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSuccess[l])&&s()}this.__cbOnOwnerUnbindSuccess=null}if(null!=this.__cbOnceOwnerUnbindSuccess){for(t=0,i=this.__cbOnceOwnerUnbindSuccess.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindSuccess[l])&&s()}this.__cbOnceOwnerUnbindSuccess=null}this.__cbOnSuccess=null,this.__cbOnceSuccess=null}},listensSuccess:function(){return null!=this.__cbOnSuccess&&this.__cbOnSuccess.length>0||null!=this.__cbOnceSuccess&&this.__cbOnceSuccess.length>0},__cbOnWarning:null,__cbOnceWarning:null,__cbOnOwnerUnbindWarning:null,__cbOnceOwnerUnbindWarning:null,emitWarning:function(e,n){var t=0;if(null!=this.__cbOnWarning&&(t+=this.__cbOnWarning.length),null!=this.__cbOnceWarning&&(t+=this.__cbOnceWarning.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWarning)for(var r=0,a=this.__cbOnWarning.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnWarning[c],++s):--t}if(null!=this.__cbOnceWarning){var h=null,u=null;for(r=0,a=this.__cbOnceWarning.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceWarning[c],this.__cbOnceWarning[c]=null;var o=this.__cbOnceOwnerUnbindWarning[c];this.__cbOnceOwnerUnbindWarning[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindWarning[c]),u.push(this.__cbOnceWarning[c])}this.__cbOnceOwnerUnbindWarning=h,this.__cbOnceWarning=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onWarning:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event warning because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWarning(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindWarning&&(this.__cbOnOwnerUnbindWarning=[]),this.__cbOnOwnerUnbindWarning.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindWarning&&(this.__cbOnOwnerUnbindWarning=[]),this.__cbOnOwnerUnbindWarning.push(null);null==this.__cbOnWarning&&(this.__cbOnWarning=[]),this.__cbOnWarning.push(n)},onceWarning:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event warning because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWarning(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindWarning&&(this.__cbOnceOwnerUnbindWarning=[]),this.__cbOnceOwnerUnbindWarning.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindWarning&&(this.__cbOnceOwnerUnbindWarning=[]),this.__cbOnceOwnerUnbindWarning.push(null);null==this.__cbOnceWarning&&(this.__cbOnceWarning=[]),this.__cbOnceWarning.push(n)},offWarning:function(e){if(null!=e){var n;null!=this.__cbOnWarning&&-1!=(n=this.__cbOnWarning.indexOf(e))&&(this.__cbOnWarning.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWarning[n])&&s(),this.__cbOnOwnerUnbindWarning.splice(n,1)),null!=this.__cbOnceWarning&&-1!=(n=this.__cbOnceWarning.indexOf(e))&&(this.__cbOnceWarning.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWarning[n])&&s(),this.__cbOnceOwnerUnbindWarning.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWarning){for(var t=0,i=this.__cbOnOwnerUnbindWarning.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWarning[l])&&s()}this.__cbOnOwnerUnbindWarning=null}if(null!=this.__cbOnceOwnerUnbindWarning){for(t=0,i=this.__cbOnceOwnerUnbindWarning.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindWarning[l])&&s()}this.__cbOnceOwnerUnbindWarning=null}this.__cbOnWarning=null,this.__cbOnceWarning=null}},listensWarning:function(){return null!=this.__cbOnWarning&&this.__cbOnWarning.length>0||null!=this.__cbOnceWarning&&this.__cbOnceWarning.length>0},__cbOnError:null,__cbOnceError:null,__cbOnOwnerUnbindError:null,__cbOnceOwnerUnbindError:null,emitError:function(e,n){var t=0;if(null!=this.__cbOnError&&(t+=this.__cbOnError.length),null!=this.__cbOnceError&&(t+=this.__cbOnceError.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnError)for(var r=0,a=this.__cbOnError.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnError[c],++s):--t}if(null!=this.__cbOnceError){var h=null,u=null;for(r=0,a=this.__cbOnceError.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceError[c],this.__cbOnceError[c]=null;var o=this.__cbOnceOwnerUnbindError[c];this.__cbOnceOwnerUnbindError[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindError[c]),u.push(this.__cbOnceError[c])}this.__cbOnceOwnerUnbindError=h,this.__cbOnceError=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onError:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event error because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offError(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindError&&(this.__cbOnOwnerUnbindError=[]),this.__cbOnOwnerUnbindError.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindError&&(this.__cbOnOwnerUnbindError=[]),this.__cbOnOwnerUnbindError.push(null);null==this.__cbOnError&&(this.__cbOnError=[]),this.__cbOnError.push(n)},onceError:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event error because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offError(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindError&&(this.__cbOnceOwnerUnbindError=[]),this.__cbOnceOwnerUnbindError.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindError&&(this.__cbOnceOwnerUnbindError=[]),this.__cbOnceOwnerUnbindError.push(null);null==this.__cbOnceError&&(this.__cbOnceError=[]),this.__cbOnceError.push(n)},offError:function(e){if(null!=e){var n;null!=this.__cbOnError&&-1!=(n=this.__cbOnError.indexOf(e))&&(this.__cbOnError.splice(n,1),null!=(s=this.__cbOnOwnerUnbindError[n])&&s(),this.__cbOnOwnerUnbindError.splice(n,1)),null!=this.__cbOnceError&&-1!=(n=this.__cbOnceError.indexOf(e))&&(this.__cbOnceError.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindError[n])&&s(),this.__cbOnceOwnerUnbindError.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindError){for(var t=0,i=this.__cbOnOwnerUnbindError.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindError[l])&&s()}this.__cbOnOwnerUnbindError=null}if(null!=this.__cbOnceOwnerUnbindError){for(t=0,i=this.__cbOnceOwnerUnbindError.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindError[l])&&s()}this.__cbOnceOwnerUnbindError=null}this.__cbOnError=null,this.__cbOnceError=null}},listensError:function(){return null!=this.__cbOnError&&this.__cbOnError.length>0||null!=this.__cbOnceError&&this.__cbOnceError.length>0},indentPrefix:null,debug:function(e,n){this.emitDebug(e,n),haxe_Log.trace(this.prefixLines("[debug] ",e),n)},info:function(e,n){this.emitInfo(e,n),haxe_Log.trace(this.prefixLines("[info] ",e),n)},success:function(e,n){this.emitSuccess(e,n),haxe_Log.trace(this.prefixLines("[success] ",e),n)},warning:function(e,n){this.emitWarning(e,n),ceramic_Logger._hasElectronRunner?haxe_Log.trace(this.prefixLines("[warning] ",e),n):console.warn(e)},error:function(e,n){this.emitError(e,n),ceramic_Logger._hasElectronRunner?haxe_Log.trace(this.prefixLines("[error] ",e),n):console.error(e)},pushIndent:function(){this.indentPrefix+="    "},popIndent:function(){this.indentPrefix=this.indentPrefix.substring(0,this.indentPrefix.length-4)},prefixLines:function(e,n){for(var t=[],i=0,l=Std.string(n).split("\n");i<l.length;){var s=l[i];++i,t.push(e+this.indentPrefix+s)}return t.join("\n")},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offInfo(),this.offDebug(),this.offSuccess(),this.offWarning(),this.offError()},__class__:ceramic_Logger});var ceramic_Mesh=function(){this.uvs=[],this.texture=null,this.colors=[],this.indices=[],this.vertices=[],this.complexHit=!1,this.customFloatAttributesSize=0,this.colorMapping=0,ceramic_Visual.call(this),this.asMesh=this};t["ceramic.Mesh"]=ceramic_Mesh,ceramic_Mesh.__name__="ceramic.Mesh",ceramic_Mesh.__super__=ceramic_Visual,ceramic_Mesh.prototype=$extend(ceramic_Visual.prototype,{colorMapping:null,customFloatAttributesSize:null,complexHit:null,destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2;null!=this.texture&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=null,null!=this.texture&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.retain())),this._lifecycleState=-1,ceramic_Visual.prototype.destroy.call(this)}},get_color:function(){if(null==this.colors||0==this.colors.length)return 16777215;var e=this.colors[0],n=e>>16&255,t=e>>8&255,i=255&e,l=u._new();return l&=65535,l|=(n>255?255:n<0?0:n)<<16,l&=16711935,l|=(t>255?255:t<0?0:t)<<8,l&=16776960,l|=i>255?255:i<0?0:i},set_color:function(e){if(null==this.colors&&(this.colors=[]),0==this.colors.length){null==(i=255)&&(i=255);var n=(0|e)-16777216;n&=16777215;var t=n|=(i>255?255:i<0?0:i)<<24;this.colors.push(t)}else{var i;null==(i=255)&&(i=255);n=(0|e)-16777216;n&=16777215;t=n|=(i>255?255:i<0?0:i)<<24;this.colors[0]=t}return e},vertices:null,indices:null,colors:null,texture:null,set_texture:function(e){return this.texture==e||(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=e,null!=this.texture&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.retain())),e},uvs:null,textureDestroyed:function(e){null!=this.texture&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=null,null!=this.texture&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.retain()))},hitTest:function(e,n,t){if(this.complexHit){for(var i,l,s,r,a,c,h,u,o,_,d=e*t.a+n*t.c+t.tx,b=e*t.b+n*t.d+t.ty,f=2+this.customFloatAttributesSize,O=0,p=0,g=this.indices.length/3|0;O<g;){l=this.indices[p],++p,s=this.indices[p],++p,r=this.indices[p],++p,i=l*f,a=this.vertices[i],++i,c=this.vertices[i],i=s*f,h=this.vertices[i],++i,u=this.vertices[i],i=r*f,o=this.vertices[i],++i;var m=(d-h)*(c-u)-(a-h)*(b-u),v=(d-o)*(u-(_=this.vertices[i]))-(h-o)*(b-_),y=(d-a)*(_-c)-(o-a)*(b-c);if(!(m<0||v<0||y<0)||!(m>0||v>0||y>0))return!0;++O}return!1}return ceramic_Visual.prototype.hitTest.call(this,e,n,t)},set_shader:function(e){return this.shader=e,null!=e&&(this.customFloatAttributesSize=e.customFloatAttributesSize),e},computeSize:function(){if(null!=this.vertices&&this.vertices.length>=2){var e=0,n=0,t=0,i=this.vertices.length-1;if(this.customFloatAttributesSize>0)for(;t<i;){(l=this.vertices[t])>e&&(e=l),++t,(s=this.vertices[t])>n&&(n=s),t+=1+this.customFloatAttributesSize}else for(;t<i;){var l,s;(l=this.vertices[t])>e&&(e=l),++t,(s=this.vertices[t])>n&&(n=s),++t}var r=Math.round(1e3*n)/1e3;this.set_width(Math.round(1e3*e)/1e3),this.set_height(r)}else this.set_width(0),this.set_height(0)},grid:function(e,n,t,i){null==i&&(i=-1),null==t&&(t=-1),-1==t&&(t=this._width),-1==i&&(i=this._height);for(var l,s=t/e,r=i/n,a=0,c=0,h=0,u=n+1;h<u;)for(var o=h++,_=o*r,d=0,b=e+1;d<b;){var f=d++;if(this.vertices[a]=f*s,++a,this.vertices[a]=_,++a,o>0&&f>0){var O=(o-1)*(e+1)+f-1;this.indices[c]=O,++c,this.indices[c]=O+1,++c,this.indices[c]=O+(e+1),++c,this.indices[c]=O+1,++c,this.indices[c]=O+(e+1),++c,this.indices[c]=O+(e+1)+1,++c}}this.vertices.length>a&&((l=this.vertices).length!=a&&(l.length>a?l.splice(a,l.length-a):l[a-1]=null));this.indices.length>c&&((l=this.indices).length!=c&&(l.length>c?l.splice(c,l.length-c):l[c-1]=null))},gridFromTexture:function(e,n,t){null==t&&(t=this.texture),this.grid(e,n,t.width,t.height);for(var i=0,l=1/e,s=1/n,r=0,a=n+1;r<a;){var c=r++*s;this.uvs[i]=0,++i,this.uvs[i]=c,++i;for(var h=1,u=e+1;h<u;){var o=h++;this.uvs[i]=o*l,++i,this.uvs[i]=c,++i}}if(this.uvs.length>i){var _=this.uvs;if(_.length!=i)if(_.length>i)_.splice(i,_.length-i);else _[i-1]=null}},__class__:ceramic_Mesh,__properties__:$extend(ceramic_Visual.prototype.__properties__,{set_texture:"set_texture",set_color:"set_color",get_color:"get_color"})});var ceramic_Path=function(e){switch(e){case".":case"..":return this.dir=e,void(this.file="")}var n=e.lastIndexOf("/"),t=e.lastIndexOf("\\");n<t?(this.dir=HxOverrides.substr(e,0,t),e=HxOverrides.substr(e,t+1,null),this.backslash=!0):t<n?(this.dir=HxOverrides.substr(e,0,n),e=HxOverrides.substr(e,n+1,null)):this.dir=null;var i=e.lastIndexOf(".");-1!=i?(this.ext=HxOverrides.substr(e,i+1,null),this.file=HxOverrides.substr(e,0,i)):(this.ext=null,this.file=e)};t["ceramic.Path"]=ceramic_Path,ceramic_Path.__name__="ceramic.Path",ceramic_Path.withoutExtension=function(e){var n=new ceramic_Path(e);return n.ext=null,n.toString()},ceramic_Path.withoutDirectory=function(e){var n=new ceramic_Path(e);return n.dir=null,n.toString()},ceramic_Path.directory=function(e){var n=new ceramic_Path(e);return null==n.dir?"":n.dir},ceramic_Path.extension=function(e){var n=new ceramic_Path(e);return null==n.ext?"":n.ext},ceramic_Path.withExtension=function(e,n){var t=new ceramic_Path(e);return t.ext=n,t.toString()},ceramic_Path.join=function(e){for(var n=[],t=0,i=e;t<i.length;){var l=i[t];++t,null!=l&&""!=l&&n.push(l)}if(0==(e=n).length)return"";var s=e[0];for(n=1,t=e.length;n<t;){var r=n++;s=ceramic_Path.addTrailingSlash(s),s+=e[r]}return ceramic_Path.normalize(s)},ceramic_Path.normalize=function(e){var n="/";if((e=e.split("\\").join(n))==n)return n;for(var t=[],i=0,l=e.split(n);i<l.length;){var s=l[i];++i,".."==s&&t.length>0&&".."!=t[t.length-1]?t.pop():"."!=s&&t.push(s)}for(var r=t.join(n),a=-1;-1!=(a=r.indexOf("//"));)r=r.substring(0,a)+r.substring(a+1);var c="",h=!1,u=!1;for(i=0,l=r.length;i<l;){var o=i++,_=r.charCodeAt(o);switch(_){case 47:if(h){var d=_;h=!1,u&&(c+="/",u=!1),c+=String.fromCodePoint(d)}else u=!0;break;case 58:c+=":",h=!0;break;default:var b=_;h=!1,u&&(c+="/",u=!1),c+=String.fromCodePoint(b)}}return c},ceramic_Path.addTrailingSlash=function(e){if(0==e.length)return"/";var n=e.lastIndexOf("/"),t=e.lastIndexOf("\\");return n<t?t!=e.length-1?e+"\\":e:n!=e.length-1?e+"/":e},ceramic_Path.removeTrailingSlashes=function(e){e:for(;;){var n=HxOverrides.cca(e,e.length-1);if(null==n)break;switch(n){case 47:case 92:e=HxOverrides.substr(e,0,-1);break;default:break e}}return e},ceramic_Path.isAbsolute=function(e){return!!StringTools.startsWith(e,"/")||(":"==e.charAt(1)||!!StringTools.startsWith(e,"\\\\"))},ceramic_Path.prototype={dir:null,file:null,ext:null,backslash:null,toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:ceramic_Path};var ceramic_PersistentData=function(e){this.id=e;var n=ceramic_App.app.backend.io.readString("persistent_"+e);if(null!=n)try{var t=new haxe_Unserializer(n);this.internalData=t.unserialize()}catch(n){ceramic_App.app.logger.warning("Failed to read persistent data with id "+e,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/PersistentData.hx",lineNumber:22,className:"ceramic.PersistentData",methodName:"new"})}null==this.internalData&&(this.internalData={})};t["ceramic.PersistentData"]=ceramic_PersistentData,ceramic_PersistentData.__name__="ceramic.PersistentData",ceramic_PersistentData.prototype={internalData:null,id:null,get:function(e){return this.internalData[e]},set:function(e,n){this.internalData[e]=n},remove:function(e){Reflect.deleteField(this.internalData,e)},clear:function(){for(var e=0,n=Reflect.fields(this.internalData);e<n.length;){var t=n[e];++e,Reflect.deleteField(this.internalData,t)}},exists:function(e){return Object.prototype.hasOwnProperty.call(this.internalData,e)},keys:function(){return Reflect.fields(this.internalData)},save:function(){var e=new haxe_Serializer;e.serialize(this.internalData);var n=e.toString();ceramic_App.app.backend.io.saveString("persistent_"+this.id,n)},__class__:ceramic_PersistentData};var ceramic_PlatformSpecific=function(){};t["ceramic.PlatformSpecific"]=ceramic_PlatformSpecific,ceramic_PlatformSpecific.__name__="ceramic.PlatformSpecific",ceramic_PlatformSpecific.postAppInit=function(){},ceramic_PlatformSpecific.readStringFromAsset=function(e){return null},ceramic_PlatformSpecific.readBytesFromAsset=function(e){return null},ceramic_PlatformSpecific.getAssetsPath=function(){return null},ceramic_PlatformSpecific.getRtti=function(e){return haxe_rtti_Rtti.getRtti(e)},ceramic_PlatformSpecific.nodeRequire=function(e){return null},ceramic_PlatformSpecific.quit=function(){clay_Clay.app.shutdown()};var ceramic_PremultiplyAlpha=function(){};t["ceramic.PremultiplyAlpha"]=ceramic_PremultiplyAlpha,ceramic_PremultiplyAlpha.__name__="ceramic.PremultiplyAlpha",ceramic_PremultiplyAlpha.premultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],s=e[t+2],r=e[t+3]/255;e[t]=i*r|0,e[t+1]=l*r|0,e[t+2]=s*r|0,t+=4}},ceramic_PremultiplyAlpha.reversePremultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],s=e[t+2],r=e[t+3]/255;r>0&&(e[t]=i/r|0,e[t+1]=l/r|0,e[t+2]=s/r|0),t+=4}};var ceramic_Texture=function(e,n){null==n&&(n=-1),this.asset=null,this.filter=y.LINEAR,this.asRenderTexture=null,this.isRenderTexture=!1,this.index=ceramic_Texture._nextIndex++,ceramic_Entity.call(this),-1==n&&(n=ceramic_App.app.screen.get_texturesDensity()),this.backendItem=e,this.set_density(n)};t["ceramic.Texture"]=ceramic_Texture,ceramic_Texture.__name__="ceramic.Texture",ceramic_Texture.fromPixels=function(e,n,t,i){null==i&&(i=1);var l=ceramic_App.app.backend.textures.createTexture(Math.round(e*i),Math.round(n*i),t);return new ceramic_Texture(l,i)},ceramic_Texture.__super__=ceramic_Entity,ceramic_Texture.prototype=$extend(ceramic_Entity.prototype,{index:null,isRenderTexture:null,asRenderTexture:null,get_textureId:function(){return this.backendItem.textureId},get_nativeWidth:function(){return this.backendItem.width},get_nativeHeight:function(){return this.backendItem.height},get_nativeWidthActual:function(){return this.backendItem.widthActual},get_nativeHeightActual:function(){return this.backendItem.heightActual},width:null,height:null,density:null,set_density:function(e){return this.density==e||(this.density=e,this.width=this.backendItem.width/e,this.height=this.backendItem.height/e),e},filter:null,set_filter:function(e){if(this.filter==e)return e;this.filter=e;ceramic_App.app.backend.textures;var n=this.backendItem;switch(e._hx_index){case 0:n.set_filterMin(9729),n.set_filterMag(9729);break;case 1:n.set_filterMin(9728),n.set_filterMag(9728)}return e},backendItem:null,asset:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),ceramic_App.app.backend.textures.destroyTexture(this.backendItem),this.backendItem=null)},fetchPixels:function(e){return ceramic_App.app.backend.textures.fetchTexturePixels(this.backendItem,e)},submitPixels:function(e){ceramic_App.app.backend.textures.submitTexturePixels(this.backendItem,e)},_toPng:function(e,n,t){null==n&&(n=!0),ceramic_App.app.backend.textures.textureToPng(this.backendItem,n,e,t)},toString:function(){if(null!=this.id){var e=this.id;return StringTools.startsWith(e,"texture:")&&(e=HxOverrides.substr(e,8,null)),"Texture("+e+" "+this.width+" "+this.height+" "+this.density+" #"+this.index+")"}return"Texture("+this.width+" "+this.height+" "+this.density+" #"+this.index+")"},__class__:ceramic_Texture,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_filter:"set_filter",set_density:"set_density",get_nativeHeightActual:"get_nativeHeightActual",get_nativeWidthActual:"get_nativeWidthActual",get_nativeHeight:"get_nativeHeight",get_nativeWidth:"get_nativeWidth",get_textureId:"get_textureId"})});var ceramic_RenderTexture=function(e,n,t,i,l,s){null==s&&(s=0),null==l&&(l=!0),null==i&&(i=!0),null==t&&(t=-1),this._initialClearQuad=null,this._renderedOnce=!1,this._usedInRendering=!1,this.priority=0,this.dependingTextures=null,this.antialiasing=0,this.stencil=!0,this.depth=!0,this.renderDirty=!1,this.clearOnRender=!0,this.autoRender=!0,-1==t&&(t=ceramic_App.app.screen.get_texturesDensity()),this.depth=i,this.stencil=l,this.antialiasing=s;var r=ceramic_App.app.backend.textures,a=Math.round(e*t),c=Math.round(n*t),h="render:"+r.nextRenderIndex++,u=clay_Clay.app.runtime.webglVersion,o=new clay_graphics_RenderTexture;o.id=h,o.width=a,o.height=c,o.depth=i,o.stencil=l,o.antialiasing=u>=2?s:0,o.init(),r.loadedTexturesRetainCount.h[h]=1;var _=o;ceramic_Texture.call(this,_,t),this.isRenderTexture=!0,this.asRenderTexture=this,ceramic_App.app.renderTextures.push(this),this._initialClearQuad=new ceramic_Quad,(r=this._initialClearQuad).set_x(0),r.set_y(0),(r=this._initialClearQuad).set_width(0),r.set_height(0),(r=this._initialClearQuad).flags&=-17,this._initialClearQuad.set_renderTarget(this),this.renderDirty=!0};t["ceramic.RenderTexture"]=ceramic_RenderTexture,ceramic_RenderTexture.__name__="ceramic.RenderTexture",ceramic_RenderTexture.__super__=ceramic_Texture,ceramic_RenderTexture.prototype=$extend(ceramic_Texture.prototype,{autoRender:null,clearOnRender:null,renderDirty:null,depth:null,stencil:null,antialiasing:null,dependingTextures:null,priority:null,_usedInRendering:null,_renderedOnce:null,set__renderedOnce:function(e){return this._renderedOnce=e,e&&null!=this._initialClearQuad&&(this._initialClearQuad.destroy(),this._initialClearQuad=null),e},_initialClearQuad:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Texture.prototype.destroy.call(this),null!=this._initialClearQuad&&(this._initialClearQuad.destroy(),this._initialClearQuad=null),HxOverrides.remove(ceramic_App.app.renderTextures,this))},stamp:function(e,n){this._stamp(e,n)},_stamp:function(e,n){var t=this,i=e.parent,l=e.renderTarget,s=e.visible;null!=i&&i.remove(e),e.set_renderTarget(this),e.set_visible(!0),ceramic_App.app.oncePreUpdate(this,(function(r){t.renderDirty=!0,ceramic_App.app.onceFinishDraw(t,(function(){e.set_visible(s),e.set_renderTarget(l),null!=i&&(i.add(e),i=null),e=null,l=null,n(),n=null}))}))},clear:function(e,n,t,i,l,s,r){(null==s&&(s=-1),null==l&&(l=-1),null==i&&(i=-1),null==t&&(t=-1),null==n&&(n=0),null==e&&(e=16777215),null==ceramic_RenderTexture._clearQuad)&&(ceramic_RenderTexture._clearQuad=new ceramic_Quad,ceramic_RenderTexture._clearQuad.set_active(!1),ceramic_RenderTexture._clearQuad.set_blending(4),(a=ceramic_RenderTexture._clearQuad).set_anchorX(0),a.set_anchorY(0));if(ceramic_RenderTexture._clearQuad.color=e,ceramic_RenderTexture._clearQuad.set_alpha(n),ceramic_RenderTexture._clearQuad.set_depth(-1),-1!=t&&-1!=i&&-1!=l&&-1!=s){(a=ceramic_RenderTexture._clearQuad).set_width(l),a.set_height(s),(a=ceramic_RenderTexture._clearQuad).set_x(t),a.set_y(i)}else{var a=ceramic_RenderTexture._clearQuad,c=this.height;a.set_width(this.width),a.set_height(c),(a=ceramic_RenderTexture._clearQuad).set_x(0),a.set_y(0)}this.stamp(ceramic_RenderTexture._clearQuad,r)},dependsOnTexture:function(e){if(null!=this.dependingTextures){var n=this.dependingTextures.intMap.h[0|e.index];return(null!=n?n:0)>0}return!1},dependsOnTextureCount:function(e){if(null!=this.dependingTextures){var n=this.dependingTextures.intMap.h[0|e.index];return null!=n?n:0}return 0},incrementDependingTextureCount:function(e){null==this.dependingTextures&&(this.dependingTextures=new ceramic_IntIntMap);var n=this.dependingTextures.intMap.h[0|e.index],t=null!=n?n:0;this.dependingTextures.set(e.index,t+1)},resetDependingTextureCounts:function(){null!=this.dependingTextures&&this.dependingTextures.clear()},toString:function(){if(null!=this.id){var e=this.id;return StringTools.startsWith(e,"texture:")&&(e=HxOverrides.substr(e,8,null)),"RenderTexture("+e+" "+this.width+" "+this.height+" "+this.density+" #"+this.index+"/"+this.priority+")"}return"RenderTexture("+this.width+" "+this.height+" "+this.density+" #"+this.index+"/"+this.priority+")"},__class__:ceramic_RenderTexture,__properties__:$extend(ceramic_Texture.prototype.__properties__,{set__renderedOnce:"set__renderedOnce"})});var ceramic_Renderer=function(){this.usedRenderTarget=null,this.activeShaderCanBatchMultipleTextures=!1,this.maxUsableTexturesInBatch=-1,this.usedTextures=0,this.usedTextureIndexes=[],this.z=0,this.stateDirty=!0,this.mesh=null,this.quad=null,this.defaultWhiteTexture=null,this.defaultTexturedShader=null,this.texHeightActual=0,this.texWidthActual=0,this.texHeight=0,this.texWidth=0,this.activeTextureSlot=0,this.lastClipIsRegular=!1,this.lastClip=null,this.lastComputedBlending=1,this.lastRenderTarget=null,this.lastShader=null,this.lastTextureId=null,this.lastTexture=null,this.stencilClip=!1,this.customFloatAttributesSize=0,this.activeShader=null,this.drawCalls=0,ceramic_Entity.call(this)};t["ceramic.Renderer"]=ceramic_Renderer,ceramic_Renderer.__name__="ceramic.Renderer",ceramic_Renderer.__super__=ceramic_Entity,ceramic_Renderer.prototype=$extend(ceramic_Entity.prototype,{drawCalls:null,activeShader:null,customFloatAttributesSize:null,stencilClip:null,lastTexture:null,lastTextureId:null,lastShader:null,lastRenderTarget:null,lastComputedBlending:null,lastClip:null,lastClipIsRegular:null,activeTextureSlot:null,backendTextures:null,backendShaders:null,texWidth:null,texHeight:null,texWidthActual:null,texHeightActual:null,defaultTexturedShader:null,defaultWhiteTexture:null,quad:null,mesh:null,stateDirty:null,z:null,usedTextureIndexes:null,usedTextures:null,maxUsableTexturesInBatch:null,activeShaderCanBatchMultipleTextures:null,usedRenderTarget:null,render:function(e,n){var t=ceramic_App.app.backend.draw;for(this.backendTextures=ceramic_App.app.backend.textures,this.backendShaders=ceramic_App.app.backend.shaders,this.defaultTexturedShader=ceramic_App.app.defaultTexturedShader.backendItem,this.defaultWhiteTexture=ceramic_App.app.defaultWhiteTexture,this.maxUsableTexturesInBatch=0|Math.min(this.backendTextures.maxTexturesByBatch(),this.backendShaders.maxIfStatementsByFragmentShader());this.usedTextureIndexes.length<this.maxUsableTexturesInBatch;)this.usedTextureIndexes.push(0);this.usedRenderTarget=null,this.drawCalls=0,backend_Draw._activeTextureSlot=0,backend_Draw._buffersIndex=-1,t.prepareNextBuffers(),this.quad=null,this.mesh=null,this.lastTexture=null,this.lastTextureId=null,this.lastShader=null,this.lastRenderTarget=null,this.lastComputedBlending=1,this.lastClip=null,this.usedTextures=0,this.texWidth=0,this.texHeight=0,this.texWidthActual=0,this.texHeightActual=0,this.stencilClip=!1,this.z=0,this.stateDirty=!0;ceramic_App.app.defaultTexturedShader.backendItem;for(var i=0,l=(u=ceramic_App.app.renderTextures).length;i<l;){(o=u[i++])._usedInRendering=!1,o.autoRender&&(o.renderDirty=!0)}if(clay_opengl_web_GL.gl.enableVertexAttribArray(0),clay_opengl_web_GL.gl.enableVertexAttribArray(1),clay_opengl_web_GL.gl.enableVertexAttribArray(2),this.usedTextures=this.maxUsableTexturesInBatch,this.unbindUsedTextures(t),backend_Draw._activeTextureSlot=0,0!=clay_opengl_GLGraphics._activeTextureSlot){for(clay_opengl_GLGraphics._activeTextureSlot=0;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984)}this.activeTextureSlot=0,t.setRenderTarget(null,!0);var s=ceramic_App.app.settings.get_background();if(clay_opengl_web_GL.gl.clearColor((s>>16&255)/255,(s>>8&255)/255,(255&s)/255,1),clay_Clay.app.config.render.depth>0?(clay_opengl_web_GL.gl.clear(16640),clay_opengl_web_GL.gl.clearDepth(1)):clay_opengl_web_GL.gl.clear(16384),null!=backend_Draw._currentRenderTarget&&(backend_Draw._didUpdateCurrentRenderTarget=!0),clay_opengl_web_GL.gl.enable(3042),this.activeShader=null,this.lastShader=null,this.useShader(t,null),clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.disable(2960),null!=n){for(i=0,l=n.length;i<l;){var r=n[i++],a=r.asQuad,c=r.asMesh;if(r.computedVisible&&(null==r.computedRenderTarget||r.computedRenderTarget.renderDirty)){var h=r.computedClip;h!=this.lastClip&&(this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0,null!=this.lastClip&&(this.lastClipIsRegular?clay_opengl_web_GL.gl.disable(3089):(this.lastRenderTarget=this.lastClip.computedRenderTarget,this.useRenderTarget(t,this.lastRenderTarget),clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.disable(2960))),this.lastClip=h,null!=this.lastClip&&(this.lastRenderTarget=this.lastClip.computedRenderTarget,this.useRenderTarget(t,this.lastRenderTarget),null!=this.lastClip.asQuad&&this.lastClip.asQuad.isRegular()?(this.lastClipIsRegular=!0,this.scissorWithQuad(t,this.lastClip.asQuad)):(this.lastClipIsRegular=!1,backend_Draw._drawingInStencilBuffer=!0,clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.clearStencil(255),clay_opengl_web_GL.gl.clear(1024),clay_opengl_web_GL.gl.enable(2960),clay_opengl_web_GL.gl.stencilOp(7680,7680,7681),clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!1,!1,!1,!1),null!=this.lastClip.asQuad?(a=this.lastClip.asQuad,this.stencilClip=!0,this.drawQuad(t,a),this.stencilClip=!1,a=r.asQuad):null!=this.lastClip.asMesh&&(c=this.lastClip.asMesh,this.stencilClip=!0,this.drawMesh(t,c),this.stencilClip=!1,c=r.asMesh),this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0,backend_Draw._drawingInStencilBuffer=!1,clay_opengl_web_GL.gl.stencilFunc(514,1,255),clay_opengl_web_GL.gl.stencilMask(0),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.enable(2960)))),null!=a&&16!=(16&a.flags)?this.drawQuad(t,a):null!=c&&this.drawMesh(t,c)}}this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0}var u;for(i=0,l=(u=ceramic_App.app.renderTextures).length;i<l;){var o;(o=u[i++]).renderDirty=!1}if(backend_Draw._activeTextureSlot=0,0!=clay_opengl_GLGraphics._activeTextureSlot){for(clay_opengl_GLGraphics._activeTextureSlot=0;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984)}this.activeTextureSlot=0,t.setRenderTarget(null,!0),clay_opengl_web_GL.gl.enable(3042),this.activeShader=null,this.lastShader=null,this.useShader(t,null),clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771)},drawQuad:function(e,n){var t=this;if(this.stencilClip)this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1;else{var i=null;if(!this.stateDirty){var l=this.computeQuadBlending(n);this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||l!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty||n._texture!=this.lastTexture&&(null!=n._texture&&null!=this.lastTexture?n._texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n._texture)?i=n._texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n._texture)?i=null!=n._texture?n._texture:this.defaultWhiteTexture:this.stateDirty=!0)}this.stateDirty?(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n._texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeQuadBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1):null!=i&&this.useTextureInSameBatch(e,i)}(backend_Draw._numPos+4>backend_Draw._maxVerts||backend_Draw._numIndices+6>16384)&&(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n._texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeQuadBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1);var s,r,a,c,h=n.get_width(),u=n.get_height(),o=n.matA,_=n.matB,d=n.matC,b=n.matD,f=n.matTX,O=n.matTY,p=this.z,g=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1;if(0==this.customFloatAttributesSize)if(-1!=g){var m=backend_Draw._numPos,v=f+o*h+d*u,y=O+_*h+b*u;backend_Draw._posList[backend_Draw._posIndex]=v,backend_Draw._posList[backend_Draw._posIndex+1]=y,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=f+d*u,backend_Draw._posList[backend_Draw._posIndex+1]=O+b*u,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=f,backend_Draw._posList[backend_Draw._posIndex+1]=O,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=f+o*h,backend_Draw._posList[backend_Draw._posIndex+1]=O+_*h,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+1,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+3,backend_Draw._numIndices++}else{m=backend_Draw._numPos,v=f+o*h+d*u,y=O+_*h+b*u;backend_Draw._posList[backend_Draw._posIndex]=v,backend_Draw._posList[backend_Draw._posIndex+1]=y,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posIndex+=3,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=f+d*u,backend_Draw._posList[backend_Draw._posIndex+1]=O+b*u,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posIndex+=3,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=f,backend_Draw._posList[backend_Draw._posIndex+1]=O,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posIndex+=3,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=f+o*h,backend_Draw._posList[backend_Draw._posIndex+1]=O+_*h,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posIndex+=3,backend_Draw._numPos++,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+1,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+3,backend_Draw._numIndices++}else if(-1!=g){m=backend_Draw._numPos,v=f+o*h+d*u,y=O+_*h+b*u;backend_Draw._posList[backend_Draw._posIndex]=v,backend_Draw._posList[backend_Draw._posIndex+1]=y,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++;for(var w=0,U=t.customFloatAttributesSize;w<U;){var C=w++;backend_Draw._posList[backend_Draw._posIndex+C]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=f+d*u,backend_Draw._posList[backend_Draw._posIndex+1]=O+b*u,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++;for(w=0,U=t.customFloatAttributesSize;w<U;){C=w++;backend_Draw._posList[backend_Draw._posIndex+C]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=f,backend_Draw._posList[backend_Draw._posIndex+1]=O,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++;for(w=0,U=t.customFloatAttributesSize;w<U;){C=w++;backend_Draw._posList[backend_Draw._posIndex+C]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=f+o*h,backend_Draw._posList[backend_Draw._posIndex+1]=O+_*h,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++;for(w=0,U=t.customFloatAttributesSize;w<U;){C=w++;backend_Draw._posList[backend_Draw._posIndex+C]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+1,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+3,backend_Draw._numIndices++}else{m=backend_Draw._numPos,v=f+o*h+d*u,y=O+_*h+b*u;backend_Draw._posList[backend_Draw._posIndex]=v,backend_Draw._posList[backend_Draw._posIndex+1]=y,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posIndex+=3,backend_Draw._numPos++;for(w=0,U=t.customFloatAttributesSize;w<U;){C=w++;backend_Draw._posList[backend_Draw._posIndex+C]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=f+d*u,backend_Draw._posList[backend_Draw._posIndex+1]=O+b*u,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posIndex+=3,backend_Draw._numPos++;for(w=0,U=t.customFloatAttributesSize;w<U;){C=w++;backend_Draw._posList[backend_Draw._posIndex+C]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=f,backend_Draw._posList[backend_Draw._posIndex+1]=O,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posIndex+=3,backend_Draw._numPos++;for(w=0,U=t.customFloatAttributesSize;w<U;){C=w++;backend_Draw._posList[backend_Draw._posIndex+C]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=f+o*h,backend_Draw._posList[backend_Draw._posIndex+1]=O+_*h,backend_Draw._posList[backend_Draw._posIndex+2]=p,backend_Draw._posIndex+=3,backend_Draw._numPos++;for(w=0,U=t.customFloatAttributesSize;w<U;){C=w++;backend_Draw._posList[backend_Draw._posIndex+C]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+1,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=m+3,backend_Draw._numIndices++}this.stencilClip?(c=1,s=1,r=0,a=0):3==this.lastComputedBlending?(c=n.computedAlpha,s=(n.color>>16&255)/255,r=(n.color>>8&255)/255,a=(255&n.color)/255,2==n.blending&&2!=this.lastComputedBlending&&(c=0)):(c=n.computedAlpha,s=(n.color>>16&255)/255*c,r=(n.color>>8&255)/255*c,a=(255&n.color)/255*c,2==n.blending&&2!=this.lastComputedBlending&&(c=0));for(var x=0;x<4;)backend_Draw._colorList[backend_Draw._colorIndex]=s,backend_Draw._colorList[backend_Draw._colorIndex+1]=r,backend_Draw._colorList[backend_Draw._colorIndex+2]=a,backend_Draw._colorList[backend_Draw._colorIndex+3]=c,backend_Draw._colorIndex+=4,backend_Draw._numColors++,++x;var D=0,T=0,A=0,S=0;if(null!=n._texture){var E=this.texWidthActual,M=this.texHeightActual,F=n._texture.density;D=n.frameX*F/E,T=n.frameY*F/M,32==(32&n.flags)?(A=n.frameHeight*F/E,S=n.frameWidth*F/M,backend_Draw._uvList[backend_Draw._uvIndex]=D+A,backend_Draw._uvList[backend_Draw._uvIndex+1]=T,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=D+A,backend_Draw._uvList[backend_Draw._uvIndex+1]=T+S,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=D,backend_Draw._uvList[backend_Draw._uvIndex+1]=T+S,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=D,backend_Draw._uvList[backend_Draw._uvIndex+1]=T,backend_Draw._uvIndex+=2,backend_Draw._numUVs++):(A=n.frameWidth*F/E,S=n.frameHeight*F/M,backend_Draw._uvList[backend_Draw._uvIndex]=D+A,backend_Draw._uvList[backend_Draw._uvIndex+1]=T+S,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=D,backend_Draw._uvList[backend_Draw._uvIndex+1]=T+S,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=D,backend_Draw._uvList[backend_Draw._uvIndex+1]=T,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=D+A,backend_Draw._uvList[backend_Draw._uvIndex+1]=T,backend_Draw._uvIndex+=2,backend_Draw._numUVs++)}else backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++;this.z=p+.001},drawMesh:function(e,n){var t=this;if(this.stencilClip)this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1;else{var i=null;if(!this.stateDirty){var l=this.computeMeshBlending(n);this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||l!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?i=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?i=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0)}this.stateDirty?(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n.texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeMeshBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1):null!=i&&this.useTextureInSameBatch(e,i)}var s=n.matA,r=n.matB,a=n.matC,c=n.matD,h=n.matTX,u=n.matTY,o=this.z,_=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,d=n.colors,b=this.stencilClip||0==n.colorMapping,f=!this.stencilClip&&1==n.colorMapping,O=n.uvs,p=n.vertices,g=n.indices,m=g.length,v=this.customFloatAttributesSize,y=n.customFloatAttributesSize,w=0,U=null!=n.texture&&n.texture.isRenderTexture,C=m;(backend_Draw._numPos+m>backend_Draw._maxVerts||backend_Draw._numIndices+m>16384)&&(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n.texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeMeshBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1,_=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,(m>backend_Draw._maxVerts-backend_Draw._numPos||m>16384-backend_Draw._numIndices)&&(C=3*((C=0|Math.min(backend_Draw._maxVerts-backend_Draw._numPos,16384-backend_Draw._numIndices))/3|0)));var x=n.texture,D=0,T=0;for(null!=x&&(D=this.texWidth/this.texWidthActual,T=this.texHeight/this.texHeightActual);;){var A=0,S=0,E=0,M=0;if(b)if(t.stencilClip)A=1,S=1,E=0,M=0;else if(3==t.lastComputedBlending){var F=d[0];A=n.computedAlpha*((F>>24&255)/255),S=(F>>16&255)/255,E=(F>>8&255)/255,M=(255&F)/255,2==n.blending&&2!=t.lastComputedBlending&&(A=0)}else{var P=d[0];S=(P>>16&255)/255*(A=n.computedAlpha*((P>>24&255)/255)),E=(P>>8&255)/255*A,M=(255&P)/255*A,2==n.blending&&2!=t.lastComputedBlending&&(A=0)}for(var R=w,I=backend_Draw._numPos;R<C;){var k=g[R],B=2*k,N=k*(2+y),L=p[N++],G=p[N++];if(backend_Draw._indiceList[backend_Draw._numIndices]=I,backend_Draw._numIndices++,++I,-1!=_?(backend_Draw._posList[backend_Draw._posIndex]=h+s*L+a*G,backend_Draw._posList[backend_Draw._posIndex+1]=u+r*L+c*G,backend_Draw._posList[backend_Draw._posIndex+2]=o,backend_Draw._posList[backend_Draw._posIndex+3]=_,backend_Draw._posIndex+=4,backend_Draw._numPos++):(backend_Draw._posList[backend_Draw._posIndex]=h+s*L+a*G,backend_Draw._posList[backend_Draw._posIndex+1]=u+r*L+c*G,backend_Draw._posList[backend_Draw._posIndex+2]=o,backend_Draw._posIndex+=3,backend_Draw._numPos++),!b){var W=f?d[R]:d[k];U||3==t.lastComputedBlending?(A=n.computedAlpha*((W>>24&255)/255),S=(W>>16&255)/255,E=(W>>8&255)/255,M=(255&W)/255,2==n.blending&&2!=t.lastComputedBlending&&(A=0)):(S=(W>>16&255)/255*(A=n.computedAlpha*((W>>24&255)/255)),E=(W>>8&255)/255*A,M=(255&W)/255*A,2==n.blending&&2!=t.lastComputedBlending&&(A=0))}if(backend_Draw._colorList[backend_Draw._colorIndex]=S,backend_Draw._colorList[backend_Draw._colorIndex+1]=E,backend_Draw._colorList[backend_Draw._colorIndex+2]=M,backend_Draw._colorList[backend_Draw._colorIndex+3]=A,backend_Draw._colorIndex+=4,backend_Draw._numColors++,null!=x){var K=O[B]*D,z=O[B+1]*T;backend_Draw._uvList[backend_Draw._uvIndex]=K,backend_Draw._uvList[backend_Draw._uvIndex+1]=z,backend_Draw._uvIndex+=2,backend_Draw._numUVs++}else backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++;if(0!=v){for(var V=0,Y=v;V<Y;){var H=V++;backend_Draw._posList[backend_Draw._posIndex+H]=H<y?p[N++]:0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize}++R}if(C==m)break;t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n.texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeMeshBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1,_=t.activeShaderCanBatchMultipleTextures?t.activeTextureSlot:-1,(C=3*((C=(w=C)+(0|Math.min(backend_Draw._maxVerts-backend_Draw._numPos,16384-backend_Draw._numIndices)))/3|0))>m&&(C=m)}this.z=o+.001},flush:function(e){if(backend_Draw._numPos<=0)return!1;var n=backend_Draw._batchMultiTexture,t=new Float32Array(backend_Draw._posList.buffer,0,4*backend_Draw._posIndex/4|0),i=new Float32Array(backend_Draw._uvList.buffer,0,4*backend_Draw._uvIndex/4|0),l=new Float32Array(backend_Draw._colorList.buffer,0,4*backend_Draw._colorIndex/4|0),s=new Uint16Array(backend_Draw._indiceList.buffer,0,2*backend_Draw._numIndices/2|0),r=clay_opengl_web_GL.gl.createBuffer(),a=clay_opengl_web_GL.gl.createBuffer(),c=clay_opengl_web_GL.gl.createBuffer(),h=clay_opengl_web_GL.gl.createBuffer();clay_opengl_web_GL.gl.enableVertexAttribArray(0),clay_opengl_web_GL.gl.enableVertexAttribArray(1),clay_opengl_web_GL.gl.enableVertexAttribArray(2),clay_opengl_web_GL.gl.bindBuffer(34962,r),clay_opengl_web_GL.gl.vertexAttribPointer(0,3,5126,!1,4*backend_Draw._posSize,0),clay_opengl_web_GL.gl.bufferData(34962,t,35040),clay_opengl_web_GL.gl.bindBuffer(34962,c),clay_opengl_web_GL.gl.vertexAttribPointer(1,2,5126,!1,0,0),clay_opengl_web_GL.gl.bufferData(34962,i,35040),clay_opengl_web_GL.gl.bindBuffer(34962,a),clay_opengl_web_GL.gl.vertexAttribPointer(2,4,5126,!1,0,0),clay_opengl_web_GL.gl.bufferData(34962,l,35040);var u=3,o=3,_=0;if(n){var d=clay_opengl_web_GL.gl.createBuffer();backend_Draw._customGLBuffers[_++]=d,clay_opengl_web_GL.gl.enableVertexAttribArray(o),clay_opengl_web_GL.gl.bindBuffer(34962,d),clay_opengl_web_GL.gl.vertexAttribPointer(o,1,5126,!1,4*backend_Draw._posSize,4*u),clay_opengl_web_GL.gl.bufferData(34962,t,35040),++o,++u}if(null!=backend_Draw._activeShader&&null!=backend_Draw._activeShader.customAttributes){var b=backend_Draw._activeShader.customAttributes,f=_,O=f+b.length;_+=b.length;for(var p=f,g=O;p<g;){var m=b[(v=p++)-f];d=clay_opengl_web_GL.gl.createBuffer();backend_Draw._customGLBuffers[v]=d,clay_opengl_web_GL.gl.enableVertexAttribArray(o),clay_opengl_web_GL.gl.bindBuffer(34962,d),clay_opengl_web_GL.gl.vertexAttribPointer(o,m.size,5126,!1,4*backend_Draw._posSize,4*u),clay_opengl_web_GL.gl.bufferData(34962,t,35040),++o,u+=m.size}}if(clay_opengl_web_GL.gl.bindBuffer(34963,h),clay_opengl_web_GL.gl.bufferData(34963,s,35040),clay_opengl_web_GL.gl.drawElements(4,backend_Draw._numIndices,5123,0),clay_opengl_web_GL.gl.deleteBuffer(r),clay_opengl_web_GL.gl.deleteBuffer(a),clay_opengl_web_GL.gl.deleteBuffer(c),_>0)for(o=3,p=0,g=_;p<g;){var v=p++;d=backend_Draw._customGLBuffers[v];clay_opengl_web_GL.gl.deleteBuffer(d),clay_opengl_web_GL.gl.disableVertexAttribArray(o),++o}return clay_opengl_web_GL.gl.bindBuffer(34963,null),clay_opengl_web_GL.gl.deleteBuffer(h),null!=backend_Draw._currentRenderTarget&&(backend_Draw._didUpdateCurrentRenderTarget=!0),t=null,i=null,l=null,s=null,backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0,e.prepareNextBuffers(),this.drawCalls++,!0},computeQuadBlending:function(e){var n=e.blending;return 0!=n&&2!=n||(n=null!=e.computedRenderTarget?5:1),n},computeMeshBlending:function(e){var n=e.blending;return 0!=n&&2!=n||(n=null!=e.computedRenderTarget?5:1),n},isSameShader:function(e,n){return(null!=e?e.backendItem:this.defaultTexturedShader)==(null!=n?n.backendItem:this.defaultTexturedShader)},useShader:function(e,n){null==n&&(n=this.defaultTexturedShader),this.activeShader=n,backend_Draw._activeShader=n,n.uniforms.setMatrix4("projectionMatrix",backend_Draw._projectionMatrix),n.uniforms.setMatrix4("modelViewMatrix",backend_Draw._modelViewMatrix);var t=ceramic_App.app.backend.shaders,i=0;if(null!=(r=backend_Draw._activeShader.customAttributes))for(var l=0,s=r.length;l<s;){i+=r[l++].size}backend_Draw._floatAttributesSize=i,backend_Draw._batchMultiTexture=t.canBatchWithMultipleTextures(backend_Draw._activeShader),backend_Draw._vertexSize=3+backend_Draw._floatAttributesSize+(backend_Draw._batchMultiTexture?1:0),backend_Draw._posSize=backend_Draw._vertexSize,backend_Draw._vertexSize<4&&(backend_Draw._vertexSize=4),backend_Draw._maxVerts=0|Math.floor(65536/backend_Draw._vertexSize),n.activate(),0==backend_Draw._numPos&&(backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0),this.activeShaderCanBatchMultipleTextures=this.backendShaders.canBatchWithMultipleTextures(n);var r;this.backendShaders,i=0;if(null!=(r=n.customAttributes))for(l=0,s=r.length;l<s;){i+=r[l++].size}this.customFloatAttributesSize=i},useBlending:function(e,n){switch(n){case 0:throw haxe_Exception.thrown("Cannot apply AUTO blending. Needs to be computed to an actual blending function.");case 1:clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771);break;case 2:clay_opengl_web_GL.gl.blendFuncSeparate(1,1,1,1);break;case 3:clay_opengl_web_GL.gl.blendFuncSeparate(770,771,1,771);break;case 4:clay_opengl_web_GL.gl.blendFuncSeparate(1,770,1,770);break;case 5:clay_opengl_web_GL.gl.blendFuncSeparate(1,771,773,1);break;case 6:clay_opengl_web_GL.gl.blendFuncSeparate(770,771,773,1)}},scissorWithQuad:function(e,n){e.enableScissor(n.matTX,n.matTY,n.matA*n.get_width(),n.matD*n.get_height())},isNotRenderedRenderTexture:function(e){var n=e.asRenderTexture;return!(null==n||n._renderedOnce||!n.renderDirty)&&!n._usedInRendering},useRenderTarget:function(e,n){this.usedRenderTarget=n,null!=n?(n._usedInRendering=!0,n.set__renderedOnce(!0),e.setRenderTarget(n)):e.setRenderTarget(null)},useFirstTextureInBatch:function(e,n){null==n&&(n=this.defaultWhiteTexture),this.usedTextures=1;var t=n.backendItem.index;if(this.usedTextureIndexes[0]=t,backend_Draw._activeTextureSlot=0,0!=clay_opengl_GLGraphics._activeTextureSlot){for(clay_opengl_GLGraphics._activeTextureSlot=0;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984)}this.activeTextureSlot=0,this.useTexture(e,n,!1)},useTexture:function(e,n,t){if(null!=n){if(this.lastTexture=n,this.lastTextureId=n.backendItem.textureId,this.texWidth=n.backendItem.width,this.texHeight=n.backendItem.height,this.texWidthActual=n.backendItem.widthActual,this.texHeightActual=n.backendItem.heightActual,!t){var i=n.backendItem.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=i&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=i,clay_opengl_web_GL.gl.bindTexture(3553,i))}}else{this.lastTexture=null,this.lastTextureId=null;i=ceramic_App.app.defaultWhiteTexture.backendItem.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=i&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=i,clay_opengl_web_GL.gl.bindTexture(3553,i))}},canUseTextureInSameBatch:function(e,n){var t=!1;if(null==n&&(n=this.defaultWhiteTexture),this.usedTextures>0)if(this.activeShaderCanBatchMultipleTextures){for(var i=n.backendItem.index,l=0,s=this.usedTextures;l<s;){var r=l++;if(i==this.usedTextureIndexes[r]){t=!0;break}}!t&&this.usedTextures<this.maxUsableTexturesInBatch&&(t=!0)}else this.lastTexture==n&&(t=!0);return t},useTextureInSameBatch:function(e,n){var t=!1;if(null==n&&(n=this.defaultWhiteTexture),this.activeShaderCanBatchMultipleTextures){for(var i=n.backendItem.index,l=0,s=this.usedTextures;l<s;){var r=l++;if(i==this.usedTextureIndexes[r]){if(backend_Draw._activeTextureSlot=r,clay_opengl_GLGraphics._activeTextureSlot!=r){for(clay_opengl_GLGraphics._activeTextureSlot=r;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+r)}this.activeTextureSlot=r,this.useTexture(e,n,!0),t=!0;break}}if(!t&&this.usedTextures<this.maxUsableTexturesInBatch){r=this.usedTextures++;if(this.usedTextureIndexes[r]=i,backend_Draw._activeTextureSlot=r,clay_opengl_GLGraphics._activeTextureSlot!=r){for(clay_opengl_GLGraphics._activeTextureSlot=r;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+r)}this.activeTextureSlot=r,this.useTexture(e,n,!1)}}},unbindUsedTextures:function(e){for(;this.usedTextures>0;){this.usedTextures--;var n=this.usedTextures;if(backend_Draw._activeTextureSlot=n,clay_opengl_GLGraphics._activeTextureSlot!=n){for(clay_opengl_GLGraphics._activeTextureSlot=n;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+n)}var t=ceramic_App.app.defaultWhiteTexture.backendItem.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=t&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=t,clay_opengl_web_GL.gl.bindTexture(3553,t))}if(backend_Draw._activeTextureSlot=0,0!=clay_opengl_GLGraphics._activeTextureSlot){for(clay_opengl_GLGraphics._activeTextureSlot=0;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984)}this.activeTextureSlot=0,this.useTexture(e,null,!1)},__class__:ceramic_Renderer});var ceramic_ReusableArray=function(e){this._poolIndex=-1,this.set_length(e)};t["ceramic.ReusableArray"]=ceramic_ReusableArray,ceramic_ReusableArray.__name__="ceramic.ReusableArray",ceramic_ReusableArray.prototype={_poolIndex:null,vector:null,length:null,set_length:function(e){if(null==this.vector){var n=new Array(e);return this.vector=n,this.length=e,e}if(e==this.length)return e;if(e>this.vector.length){for(var t=n=new Array(e),i=0,l=this.length;i<l;){t[s=i++]=this.vector[s],this.vector[s]=null}this.vector=t;for(i=this.length,l=e;i<l;){var s=i++;this.vector[s]=null}}else for(i=e,l=this.length;i<l;){s=i++;this.vector[s]=null}return this.length=e,e},get:function(e){return this.vector[e]},set:function(e,n){this.vector[e]=n},__class__:ceramic_ReusableArray,__properties__:{set_length:"set_length"}};var ceramic_Runner=function(){};t["ceramic.Runner"]=ceramic_Runner,ceramic_Runner.__name__="ceramic.Runner",ceramic_Runner.currentIsMainThread=function(){return!0},ceramic_Runner.init=function(){},ceramic_Runner.tick=function(){},ceramic_Runner.isEmulatingBackgroundWithMain=function(){return!0},ceramic_Runner.runInMain=function(e){ceramic_App.app._onceImmediate(e)},ceramic_Runner.runInBackground=function(e){ceramic_App.app._onceImmediate(e)};var ceramic_RuntimeAssets=function(e,n){this.path=null,this.cachedLists=null,this.cachedNames=new haxe_ds_StringMap,this.assetDirsByBaseName=null,this.assetsByBaseName=null,this.allAssetDirs=null,this.allAssets=null,this.allAssets=e,this.path=n,this.initData()};t["ceramic.RuntimeAssets"]=ceramic_RuntimeAssets,ceramic_RuntimeAssets.__name__="ceramic.RuntimeAssets",ceramic_RuntimeAssets.fromPath=function(e){return null},ceramic_RuntimeAssets.toAssetConstName=function(e){for(var n="",t=e.length,i=0,l=!1;i<t;){var s=e.charAt(i);if("/"==s)n+="__",l=!1;else if("."==s)n+="_",l=!1;else if(ceramic_RuntimeAssets.isAsciiChar(s)){var r=s.toUpperCase(),a=s==r;l&&a&&(n+="_",l=!1),n+=null==r?"null":""+r,l=!a}else n+="_",l=!1;++i}var c=n;return StringTools.endsWith(c,"_")&&(c=HxOverrides.substr(c,0,c.length-1)),c},ceramic_RuntimeAssets.isAsciiChar=function(e){var n=HxOverrides.cca(e,0);return n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122},ceramic_RuntimeAssets.prototype={allAssets:null,allAssetDirs:null,assetsByBaseName:null,assetDirsByBaseName:null,cachedNames:null,cachedLists:null,path:null,reset:function(e,n){this.allAssets=e,this.path=n,this.allAssetDirs=null,this.assetsByBaseName=null,this.assetDirsByBaseName=null,this.cachedNames=new haxe_ds_StringMap,this.cachedLists=null,this.initData()},getNames:function(n,t,i){null==i&&(i=!1);var l=n+"|"+(null!=t?t.join(","):"")+(i?"|1":"|0"),s=this.cachedNames.h[l];if(null!=s)return s;var r,a=[];switch(null==t&&(t=[]),n){case"atlas":r=["atlas"];break;case"database":r=["csv"];break;case"font":r=["fnt"];break;case"fragments":r=["fragments"];break;case"image":r=["png","jpg","jpeg"];break;case"shader":r=["frag","vert"];break;case"sound":ceramic_App.app.backend.info;if(null!=backend_Info._soundExtensions)r=[].concat(backend_Info._soundExtensions);else{backend_Info._soundExtensions=[];var c=new Audio,h=null!=e.navigator?e.navigator.userAgent:"",u=backend_Info.RE_OPERA.match(h)&&parseInt(backend_Info.RE_OPERA.matched(0).split("/")[1],10)<33,o=-1!=h.indexOf("Safari")&&-1==h.indexOf("Chrome"),_=backend_Info.RE_SAFARI_VERSION.match(h),d=(o&&_&&parseInt(backend_Info.RE_SAFARI_VERSION.matched(1),10),c.canPlayType('audio/ogg; codecs="vorbis"'));null!=d&&"no"!=d&&""!=d&&backend_Info._soundExtensions.push("ogg");var b=c.canPlayType("audio/mpeg;"),f=c.canPlayType("audio/mp3;");!u&&(null!=b&&"no"!=b&&""!=b||null!=f&&"no"!=f&&""!=f)&&backend_Info._soundExtensions.push("mp3");var O=c.canPlayType("audio/x-flac;"),p=c.canPlayType("audio/flac;");(null!=O&&"no"!=O&&""!=O||null!=p&&"no"!=p&&""!=p)&&backend_Info._soundExtensions.push("flac");var g=c.canPlayType('audio/wav; codecs="1"'),m=c.canPlayType("audio/wav;");(null!=g&&"no"!=g&&""!=g||null!=m&&"no"!=m&&""!=m)&&backend_Info._soundExtensions.push("wav"),r=[].concat(backend_Info._soundExtensions)}break;case"text":r=["txt","json","fnt","atlas"];break;default:r=[]}if(0==(t=t.concat(r)).length)return a;for(var v=Object.create(null),y=i?this.allAssetDirs:this.allAssets,w=0;w<t.length;){var U=t[w];++w;for(var C=0;C<y.length;){var x=y[C];++C;var D=x.toLowerCase(),T=D.lastIndexOf("."),A=null,S=null,E=null;if(-1!=T&&(A=HxOverrides.substr(D,T+1,null))==U){var M=HxOverrides.substr(x,0,T).lastIndexOf("@");-1==M&&(M=T),S=HxOverrides.substr(x,0,Math.min(M,T)),null==(E=ceramic_RuntimeAssets.toAssetConstName(S))||Object.prototype.hasOwnProperty.call(v,E)||null==A||(v[E]=S)}}}for(var F=i?this.assetDirsByBaseName:this.assetsByBaseName,P=v,R=Object.keys(P),I=R.length,k=0;k<I;){v[E=R[k++]];var B=[],N=F.h[v[E]];for(w=0;w<N.length;){var L=N[w];++w;for(C=0;C<t.length;){U=t[C];if(++C,StringTools.endsWith(L,"."+U)){B.push(L);break}}}var G={name:v[E],constName:E,paths:B};a.push(G)}return this.cachedNames.h[l]=a,a},getLists:function(){if(null!=this.cachedLists)return this.cachedLists;for(var e={all:[],allDirs:[],allByName:new haxe_ds_StringMap,allDirsByName:new haxe_ds_StringMap},n=0,t=this.allAssets;n<t.length;){var i=t[n];++n,e.all.push(i)}for(n=0,t=this.allAssetDirs;n<t.length;){i=t[n];++n,e.allDirs.push(i)}c=this.assetsByBaseName.h;for(var l=(h=Object.keys(c)).length,s=0;s<l;){var r=h[s++],a=[].concat(this.assetsByBaseName.h[r]);e.allByName.h[r]=a}var c,h;for(c=this.assetDirsByBaseName.h,l=(h=Object.keys(c)).length,s=0;s<l;){r=h[s++],a=[].concat(this.assetDirsByBaseName.h[r]);e.allDirsByName.h[r]=a}return this.cachedLists=e,e},getEncodableLists:function(){for(var e=this.getLists(),n={},t=(l=e.allByName.h,(s=Object.keys(l)).length),i=0;i<t;){n[a=s[i++]]=e.allByName.h[a]}var l,s,r={};for(l=e.allDirsByName.h,t=(s=Object.keys(l)).length,i=0;i<t;){var a;r[a=s[i++]]=e.allDirsByName.h[a]}return{all:e.all,allDirs:e.allDirs,allByName:n,allDirsByName:r}},initData:function(){for(var e=Object.create(null),n=0,t=this.allAssets;n<t.length;){var i=t[n];++n,e[i]=!0}var l=Object.create(null);this.allAssetDirs=[];for(n=0,t=this.allAssets;n<t.length;){i=t[n];++n;var s=i.lastIndexOf("/");if(-1!=s)for(var r=HxOverrides.substr(i,0,s);!Object.prototype.hasOwnProperty.call(l,r)&&(this.allAssetDirs.push(r),l[r]=!0,-1!=(s=r.lastIndexOf("/")));)r=HxOverrides.substr(r,0,s)}if(null==this.assetsByBaseName){this.assetsByBaseName=new haxe_ds_StringMap;for(n=0,t=this.allAssets;n<t.length;){var a=t[n];++n;var c=a.lastIndexOf(".");-1==(u=HxOverrides.substr(a,0,c).lastIndexOf("@"))&&(u=c);var h=HxOverrides.substr(a,0,Math.min(u,c));Object.prototype.hasOwnProperty.call(this.assetsByBaseName.h,h)||(this.assetsByBaseName.h[h]=[]),this.assetsByBaseName.h[h].push(a)}}if(null==this.assetDirsByBaseName){this.assetDirsByBaseName=new haxe_ds_StringMap;for(n=0,t=this.allAssetDirs;n<t.length;){a=t[n];++n;var u;c=a.lastIndexOf(".");-1==(u=HxOverrides.substr(a,0,c).lastIndexOf("@"))&&(u=c);h=HxOverrides.substr(a,0,Math.min(u,c));Object.prototype.hasOwnProperty.call(this.assetDirsByBaseName.h,h)||(this.assetDirsByBaseName.h[h]=[]),this.assetDirsByBaseName.h[h].push(a)}}},__class__:ceramic_RuntimeAssets};var p={$name:function(e){var n=null;return e>=0&&e<p.scanCodeNames.length&&(n=p.scanCodeNames[e]),null!=n?n:""},toString:function(e){return"ScanCode("+e+" "+p.$name(e)+")"}},g={toString:function(e){switch(e){case 0:return"NONE";case 1:return"PRELOAD";case 2:return"LOAD";case 3:return"CREATE";case 4:return"FADE_IN";case 5:return"READY";case 6:return"FADE_OUT";case 7:return"DISABLED";default:return"_"}}},ceramic_SceneSystem=function(){this.rootScenes=new haxe_ds_StringMap,this.filter=null,this.autoScaleFilter=!0,this.autoDestroyFilter=!0,this.main=null,this.fadeOutWhenNextMainCanFadeIn=!0,this.bindMainToScreenSize=!0,this.keepAssetsForNextMain=!1,this._updatingScenes=[],this.all=[],ceramic_System.call(this),this.set_lateUpdateOrder(5e3)};t["ceramic.SceneSystem"]=ceramic_SceneSystem,ceramic_SceneSystem.__name__="ceramic.SceneSystem",ceramic_SceneSystem.__properties__={set_shared:"set_shared",get_shared:"get_shared"},ceramic_SceneSystem.get_shared=function(){return ceramic_SceneSystem.lazyShared&&(ceramic_SceneSystem.lazyShared=!1,ceramic_SceneSystem.shared=new ceramic_SceneSystem),ceramic_SceneSystem.shared},ceramic_SceneSystem.set_shared=function(e){return ceramic_SceneSystem.shared=e},ceramic_SceneSystem.__super__=ceramic_System,ceramic_SceneSystem.prototype=$extend(ceramic_System.prototype,{all:null,_updatingScenes:null,keepAssetsForNextMain:null,bindMainToScreenSize:null,fadeOutWhenNextMainCanFadeIn:null,main:null,autoDestroyFilter:null,autoScaleFilter:null,filter:null,set_filter:function(e){if(this.filter!=e){var n=this.filter;if(null!=n){for(var t=o=this.rootScenes.h,i=(_=Object.keys(o)).length,l=0;l<i;){(d=t[_[l++]]).parent==n.content&&(n.content.remove(d),d.set_scaleX(1),d.set_scaleY(1))}if(null!=n.content.children){for(var s=null,r=0,a=n.content.children.length;r<a;){var c=r++,h=n.content.children[c];if(h instanceof ceramic_Scene)(u=h).isRootScene&&(null==s&&(s=[]),s.push(u))}if(null!=s)for(r=0,a=s.length;r<a;){var u=s[c=r++];n.content.remove(u),u.set_active(!1)}}this.autoDestroyFilter?n.destroy():(n.set_scaleX(1),n.set_scaleY(1))}if(this.filter=e,null!=e){this.autoScaleFilter&&this.scaleFilter();var o,_;for(t=o=this.rootScenes.h,i=(_=Object.keys(o)).length,l=0;l<i;){var d;(d=t[_[l++]]).parent!=e.content&&e.content.add(d)}}}return e},scaleFilter:function(){var e=this.filter,n=ceramic_App.app.screen.width/this.filter.get_width();null==(t=ceramic_App.app.screen.height/this.filter.get_height())&&(t=-1),e.set_scaleX(n),e.set_scaleY(-1!=t?t:n);var t;e=this.filter.content,n=this.filter.get_width()/ceramic_App.app.screen.width;null==(t=this.filter.get_height()/ceramic_App.app.screen.height)&&(t=-1),e.set_scaleX(n),e.set_scaleY(-1!=t?t:n)},rootScenes:null,set_main:function(e){return this.main!=e&&(this.main=e,this.set("main",e,this.bindMainToScreenSize,this.keepAssetsForNextMain)),e},set:function(e,n,t,i){null==i&&(i=!1),null==t&&(t=!0);var l=this,s=this.rootScenes.h[e];if(n!=s)if(null==n){var r=this.rootScenes;if(Object.prototype.hasOwnProperty.call(r.h,e)&&delete r.h[e],"main"==e&&this.set_main(null),s._lifecycleState>=0)switch(s.get_status()){case 0:case 1:case 2:case 3:case 4:s.scheduleOnceReady(s,$bind(s,s.destroy));break;case 5:s.fadeOut($bind(s,s.destroy));break;case 6:case 7:s.destroy()}}else{if(n._lifecycleState<0)throw haxe_Exception.thrown("Cannot assign a destroyed scene as root scene!");n.isRootScene=!0;var a=null;if(this.rootScenes.h[e]=n,"main"==e&&this.set_main(n),n.onDestroy(this,(function(n){if(n==l.rootScenes.h[e]){var t=l.rootScenes;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e],"main"==e&&l.set_main(null)}})),null!=s){i&&(a=s._assets);var fadeOutDone=function(){i&&(s._assets=null),s.destroy(),s=null};if(this.fadeOutWhenNextMainCanFadeIn){var c=null;switch(n.get_status()){case 0:case 1:case 2:case 3:c=function(e,t){switch(e){case 0:case 1:case 2:case 3:break;case 4:case 5:case 6:case 7:switch(n.offStatusChange(c),s.get_status()){case 0:case 1:case 2:case 3:case 4:case 6:case 7:fadeOutDone();break;case 5:s.fadeOut(fadeOutDone)}}},n.onStatusChange(s,c);break;case 4:case 5:case 6:case 7:switch(s.get_status()){case 0:case 1:case 2:case 3:case 4:case 6:case 7:fadeOutDone();break;case 5:s.fadeOut(fadeOutDone)}}}else switch(s.get_status()){case 0:case 1:case 2:case 3:case 4:case 6:case 7:fadeOutDone();break;case 5:s.fadeOut(fadeOutDone)}}n._assets=a,t&&n.bindToScreenSize(),null!=this.filter&&this.filter.content.add(n),n._boot()}},get:function(e){return this.rootScenes.h[e]},setCurrentScene:function(e,n){null==n&&(n=!1),this.keepAssetsForNextMain=n,this.set_main(e)},lateUpdate:function(e){for(var n=this.all.length,t=0,i=n;t<i;){var l=t++;this._updatingScenes[l]=this.all[l]}for(t=0,i=n;t<i;){l=t++;var s=this._updatingScenes[l];if((1!=(1&s.flags)||s.autoUpdateWhenInactive)&&(!(s._lifecycleState<0)&&(0==s.get_status()&&null!=s.parent&&s._boot(),!s.paused&&s.autoUpdate)))switch(s.get_status()){case 0:case 1:case 2:case 3:case 7:break;case 4:case 5:case 6:s.update(e)}}for(t=0,i=n;t<i;){l=t++;this._updatingScenes[l]=null}this.autoScaleFilter&&null!=this.filter&&this.scaleFilter()},__class__:ceramic_SceneSystem,__properties__:$extend(ceramic_System.prototype.__properties__,{set_filter:"set_filter",set_main:"set_main"})});var ceramic_Screen=function(){this.hitVisuals=[],this.matchedOverListeners=new haxe_ds_IntMap,this.matchedDownListeners=new haxe_ds_IntMap,this.maxTouchIndex=-1,this.prevMouseY=0,this.prevMouseX=0,this.prevTouchPositions=new ceramic_IntFloatMap(16,.5,!1),this.pressedTouches=new ceramic_IntIntMap(16,.5,!1),this.pressedMouseButtons=new ceramic_IntIntMap(16,.5,!1),this._numPointerDown=0,this.resizing=!1,this.reverseMatrix=new ceramic_Transform,this.matrix=new ceramic_Transform,this.unobservedTexturesDensity=1,this.texturesDensityAutoruns=null,this.unobservedFocusedVisual=null,this.focusedVisualAutoruns=null;var e=new ceramic_IntMap(8,.5,!1);this.touches=e,this.mouseWheelDeltaY=0,this.mouseWheelDeltaX=0,this.mouseDeltaY=0,this.mouseDeltaX=0,this.mouseY=0,this.mouseX=0,this.pointerDeltaY=0,this.pointerDeltaX=0,this.pointerY=0,this.pointerX=0,this.offsetY=0,this.offsetX=0,this.actualHeight=0,this.actualWidth=0,this.height=0,this.width=0,this.density=1,this.observedDirty=!1,ceramic_Entity.call(this)};t["ceramic.Screen"]=ceramic_Screen,ceramic_Screen.__name__="ceramic.Screen",ceramic_Screen.__interfaces__=[tracker_Observable],ceramic_Screen.__super__=ceramic_Entity,ceramic_Screen.prototype=$extend(ceramic_Entity.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,a=this.__cbOnObservedDirty.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[c],++s):--t}if(null!=this.__cbOnceObservedDirty){var h=null,u=null;for(r=0,a=this.__cbOnceObservedDirty.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceObservedDirty[c],this.__cbOnceObservedDirty[c]=null;var o=this.__cbOnceOwnerUnbindObservedDirty[c];this.__cbOnceOwnerUnbindObservedDirty[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindObservedDirty[c]),u.push(this.__cbOnceObservedDirty[c])}this.__cbOnceOwnerUnbindObservedDirty=h,this.__cbOnceObservedDirty=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},observedDirty:null,density:null,width:null,height:null,actualWidth:null,actualHeight:null,offsetX:null,offsetY:null,nativeWidth:null,get_nativeWidth:function(){return clay_Clay.app.screenWidth},nativeHeight:null,get_nativeHeight:function(){return clay_Clay.app.screenHeight},nativeDensity:null,get_nativeDensity:function(){return clay_Clay.app.screenDensity},pointerX:null,pointerY:null,pointerDeltaX:null,pointerDeltaY:null,mouseX:null,mouseY:null,mouseDeltaX:null,mouseDeltaY:null,mouseWheelDeltaX:null,mouseWheelDeltaY:null,touches:null,focusedVisualAutoruns:null,get_focusedVisual:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.focusedVisualAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.focusedVisualAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedFocusedVisual},set_focusedVisual:function(e){var n=this.unobservedFocusedVisual;if(this.set_unobservedFocusedVisual(e),n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedVisualChange(e,n);var t=this.focusedVisualAutoruns;if(null!=t){this.focusedVisualAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateFocusedVisual:function(){var e=this.unobservedFocusedVisual;this.emitFocusedVisualChange(e,e);var n=this.focusedVisualAutoruns;if(null!=n){this.focusedVisualAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedFocusedVisual:null,__cbOnFocusedVisualChange:null,__cbOnceFocusedVisualChange:null,__cbOnOwnerUnbindFocusedVisualChange:null,__cbOnceOwnerUnbindFocusedVisualChange:null,emitFocusedVisualChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedVisualChange&&(t+=this.__cbOnFocusedVisualChange.length),null!=this.__cbOnceFocusedVisualChange&&(t+=this.__cbOnceFocusedVisualChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedVisualChange)for(var r=0,a=this.__cbOnFocusedVisualChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnFocusedVisualChange[c],++s):--t}if(null!=this.__cbOnceFocusedVisualChange){var h=null,u=null;for(r=0,a=this.__cbOnceFocusedVisualChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceFocusedVisualChange[c],this.__cbOnceFocusedVisualChange[c]=null;var o=this.__cbOnceOwnerUnbindFocusedVisualChange[c];this.__cbOnceOwnerUnbindFocusedVisualChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindFocusedVisualChange[c]),u.push(this.__cbOnceFocusedVisualChange[c])}this.__cbOnceOwnerUnbindFocusedVisualChange=h,this.__cbOnceFocusedVisualChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onFocusedVisualChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focusedVisualChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocusedVisualChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFocusedVisualChange&&(this.__cbOnOwnerUnbindFocusedVisualChange=[]),this.__cbOnOwnerUnbindFocusedVisualChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFocusedVisualChange&&(this.__cbOnOwnerUnbindFocusedVisualChange=[]),this.__cbOnOwnerUnbindFocusedVisualChange.push(null);null==this.__cbOnFocusedVisualChange&&(this.__cbOnFocusedVisualChange=[]),this.__cbOnFocusedVisualChange.push(n)},onceFocusedVisualChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focusedVisualChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocusedVisualChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFocusedVisualChange&&(this.__cbOnceOwnerUnbindFocusedVisualChange=[]),this.__cbOnceOwnerUnbindFocusedVisualChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFocusedVisualChange&&(this.__cbOnceOwnerUnbindFocusedVisualChange=[]),this.__cbOnceOwnerUnbindFocusedVisualChange.push(null);null==this.__cbOnceFocusedVisualChange&&(this.__cbOnceFocusedVisualChange=[]),this.__cbOnceFocusedVisualChange.push(n)},offFocusedVisualChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedVisualChange&&-1!=(n=this.__cbOnFocusedVisualChange.indexOf(e))&&(this.__cbOnFocusedVisualChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedVisualChange[n])&&s(),this.__cbOnOwnerUnbindFocusedVisualChange.splice(n,1)),null!=this.__cbOnceFocusedVisualChange&&-1!=(n=this.__cbOnceFocusedVisualChange.indexOf(e))&&(this.__cbOnceFocusedVisualChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedVisualChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedVisualChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedVisualChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedVisualChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedVisualChange[l])&&s()}this.__cbOnOwnerUnbindFocusedVisualChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedVisualChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedVisualChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedVisualChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedVisualChange=null}this.__cbOnFocusedVisualChange=null,this.__cbOnceFocusedVisualChange=null}},listensFocusedVisualChange:function(){return null!=this.__cbOnFocusedVisualChange&&this.__cbOnFocusedVisualChange.length>0||null!=this.__cbOnceFocusedVisualChange&&this.__cbOnceFocusedVisualChange.length>0},set_unobservedFocusedVisual:function(e){if(this.unobservedFocusedVisual==e)return e;var n=this.unobservedFocusedVisual;return this.unobservedFocusedVisual=e,null!=n&&(this.emitBlur(n),n.emitBlur()),null!=e&&(this.emitFocus(e),e.emitFocus()),e},texturesDensityAutoruns:null,get_texturesDensity:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.texturesDensityAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.texturesDensityAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedTexturesDensity},set_texturesDensity:function(e){var n=this.unobservedTexturesDensity;if(this.unobservedTexturesDensity=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTexturesDensityChange(e,n);var t=this.texturesDensityAutoruns;if(null!=t){this.texturesDensityAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTexturesDensity:function(){var e=this.unobservedTexturesDensity;this.emitTexturesDensityChange(e,e);var n=this.texturesDensityAutoruns;if(null!=n){this.texturesDensityAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedTexturesDensity:null,__cbOnTexturesDensityChange:null,__cbOnceTexturesDensityChange:null,__cbOnOwnerUnbindTexturesDensityChange:null,__cbOnceOwnerUnbindTexturesDensityChange:null,emitTexturesDensityChange:function(e,n){var t=0;if(null!=this.__cbOnTexturesDensityChange&&(t+=this.__cbOnTexturesDensityChange.length),null!=this.__cbOnceTexturesDensityChange&&(t+=this.__cbOnceTexturesDensityChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTexturesDensityChange)for(var r=0,a=this.__cbOnTexturesDensityChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnTexturesDensityChange[c],++s):--t}if(null!=this.__cbOnceTexturesDensityChange){var h=null,u=null;for(r=0,a=this.__cbOnceTexturesDensityChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceTexturesDensityChange[c],this.__cbOnceTexturesDensityChange[c]=null;var o=this.__cbOnceOwnerUnbindTexturesDensityChange[c];this.__cbOnceOwnerUnbindTexturesDensityChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindTexturesDensityChange[c]),u.push(this.__cbOnceTexturesDensityChange[c])}this.__cbOnceOwnerUnbindTexturesDensityChange=h,this.__cbOnceTexturesDensityChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onTexturesDensityChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event texturesDensityChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTexturesDensityChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTexturesDensityChange&&(this.__cbOnOwnerUnbindTexturesDensityChange=[]),this.__cbOnOwnerUnbindTexturesDensityChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTexturesDensityChange&&(this.__cbOnOwnerUnbindTexturesDensityChange=[]),this.__cbOnOwnerUnbindTexturesDensityChange.push(null);null==this.__cbOnTexturesDensityChange&&(this.__cbOnTexturesDensityChange=[]),this.__cbOnTexturesDensityChange.push(n)},onceTexturesDensityChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event texturesDensityChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTexturesDensityChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTexturesDensityChange&&(this.__cbOnceOwnerUnbindTexturesDensityChange=[]),this.__cbOnceOwnerUnbindTexturesDensityChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTexturesDensityChange&&(this.__cbOnceOwnerUnbindTexturesDensityChange=[]),this.__cbOnceOwnerUnbindTexturesDensityChange.push(null);null==this.__cbOnceTexturesDensityChange&&(this.__cbOnceTexturesDensityChange=[]),this.__cbOnceTexturesDensityChange.push(n)},offTexturesDensityChange:function(e){if(null!=e){var n;null!=this.__cbOnTexturesDensityChange&&-1!=(n=this.__cbOnTexturesDensityChange.indexOf(e))&&(this.__cbOnTexturesDensityChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTexturesDensityChange[n])&&s(),this.__cbOnOwnerUnbindTexturesDensityChange.splice(n,1)),null!=this.__cbOnceTexturesDensityChange&&-1!=(n=this.__cbOnceTexturesDensityChange.indexOf(e))&&(this.__cbOnceTexturesDensityChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTexturesDensityChange[n])&&s(),this.__cbOnceOwnerUnbindTexturesDensityChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTexturesDensityChange){for(var t=0,i=this.__cbOnOwnerUnbindTexturesDensityChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTexturesDensityChange[l])&&s()}this.__cbOnOwnerUnbindTexturesDensityChange=null}if(null!=this.__cbOnceOwnerUnbindTexturesDensityChange){for(t=0,i=this.__cbOnceOwnerUnbindTexturesDensityChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTexturesDensityChange[l])&&s()}this.__cbOnceOwnerUnbindTexturesDensityChange=null}this.__cbOnTexturesDensityChange=null,this.__cbOnceTexturesDensityChange=null}},listensTexturesDensityChange:function(){return null!=this.__cbOnTexturesDensityChange&&this.__cbOnTexturesDensityChange.length>0||null!=this.__cbOnceTexturesDensityChange&&this.__cbOnceTexturesDensityChange.length>0},matrix:null,reverseMatrix:null,resizing:null,isPointerDown:null,_numPointerDown:null,get_isPointerDown:function(){return this._numPointerDown>0},pressedMouseButtons:null,pressedTouches:null,prevTouchPositions:null,prevMouseX:null,prevMouseY:null,maxTouchIndex:null,__cbOnResize:null,__cbOnceResize:null,__cbOnOwnerUnbindResize:null,__cbOnceOwnerUnbindResize:null,emitResize:function(){var e=0;if(null!=this.__cbOnResize&&(e+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(e+=this.__cbOnceResize.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnResize)for(var l=0,s=this.__cbOnResize.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnResize[r],++i):--e}if(null!=this.__cbOnceResize){var a=null,c=null;for(l=0,s=this.__cbOnceResize.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceResize[r],this.__cbOnceResize[r]=null;var h=this.__cbOnceOwnerUnbindResize[r];this.__cbOnceOwnerUnbindResize[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindResize[r]),c.push(this.__cbOnceResize[r])}this.__cbOnceOwnerUnbindResize=a,this.__cbOnceResize=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(n)},onceResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(n)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindResize[n])&&s(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindResize[n])&&s(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindResize[l])&&s()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindResize[l])&&s()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&this.__cbOnResize.length>0||null!=this.__cbOnceResize&&this.__cbOnceResize.length>0},__cbOnMouseDown:null,__cbOnceMouseDown:null,__cbOnOwnerUnbindMouseDown:null,__cbOnceOwnerUnbindMouseDown:null,emitMouseDown:function(e,n,t){this.willEmitMouseDown(e,n,t);var i=0;if(null!=this.__cbOnMouseDown&&(i+=this.__cbOnMouseDown.length),null!=this.__cbOnceMouseDown&&(i+=this.__cbOnceMouseDown.length),i>0){var l=ceramic_ArrayPool.pool(i),s=l.get(),r=0;if(null!=this.__cbOnMouseDown)for(var a=0,c=this.__cbOnMouseDown.length;a<c;){var h=a++;!0?(s.vector[r]=this.__cbOnMouseDown[h],++r):--i}if(null!=this.__cbOnceMouseDown){var u=null,o=null;for(a=0,c=this.__cbOnceMouseDown.length;a<c;){h=a++;if(!0){s.vector[r]=this.__cbOnceMouseDown[h],this.__cbOnceMouseDown[h]=null;var _=this.__cbOnceOwnerUnbindMouseDown[h];this.__cbOnceOwnerUnbindMouseDown[h]=null,null!=_&&_(),++r}else--i,null==u&&(u=[],o=[],[]),u.push(this.__cbOnceOwnerUnbindMouseDown[h]),o.push(this.__cbOnceMouseDown[h])}this.__cbOnceOwnerUnbindMouseDown=u,this.__cbOnceMouseDown=o}for(a=0,c=i;a<c;){r=a++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}var d=this.matchFirstDownListener(n,t,-1,e);null!=d&&(d._numPointerDown++,(1==d._numPointerDown||d.multiTouch)&&(ceramic_App.app.screen.set_focusedVisual(d),d.emitPointerDown(new ceramic_TouchInfo(-1,e,n,t,!0))));var b=1e4+e;this.matchedDownListeners.h[b]=d},onMouseDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(null);null==this.__cbOnMouseDown&&(this.__cbOnMouseDown=[]),this.__cbOnMouseDown.push(n)},onceMouseDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(null);null==this.__cbOnceMouseDown&&(this.__cbOnceMouseDown=[]),this.__cbOnceMouseDown.push(n)},offMouseDown:function(e){if(null!=e){var n;null!=this.__cbOnMouseDown&&-1!=(n=this.__cbOnMouseDown.indexOf(e))&&(this.__cbOnMouseDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseDown[n])&&s(),this.__cbOnOwnerUnbindMouseDown.splice(n,1)),null!=this.__cbOnceMouseDown&&-1!=(n=this.__cbOnceMouseDown.indexOf(e))&&(this.__cbOnceMouseDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseDown[n])&&s(),this.__cbOnceOwnerUnbindMouseDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseDown){for(var t=0,i=this.__cbOnOwnerUnbindMouseDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseDown[l])&&s()}this.__cbOnOwnerUnbindMouseDown=null}if(null!=this.__cbOnceOwnerUnbindMouseDown){for(t=0,i=this.__cbOnceOwnerUnbindMouseDown.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseDown[l])&&s()}this.__cbOnceOwnerUnbindMouseDown=null}this.__cbOnMouseDown=null,this.__cbOnceMouseDown=null}},listensMouseDown:function(){return null!=this.__cbOnMouseDown&&this.__cbOnMouseDown.length>0||null!=this.__cbOnceMouseDown&&this.__cbOnceMouseDown.length>0},__cbOnMouseUp:null,__cbOnceMouseUp:null,__cbOnOwnerUnbindMouseUp:null,__cbOnceOwnerUnbindMouseUp:null,emitMouseUp:function(e,n,t){this.willEmitMouseUp(e,n,t);var i=0;if(null!=this.__cbOnMouseUp&&(i+=this.__cbOnMouseUp.length),null!=this.__cbOnceMouseUp&&(i+=this.__cbOnceMouseUp.length),i>0){var l=ceramic_ArrayPool.pool(i),s=l.get(),r=0;if(null!=this.__cbOnMouseUp)for(var a=0,c=this.__cbOnMouseUp.length;a<c;){var h=a++;!0?(s.vector[r]=this.__cbOnMouseUp[h],++r):--i}if(null!=this.__cbOnceMouseUp){var u=null,o=null;for(a=0,c=this.__cbOnceMouseUp.length;a<c;){h=a++;if(!0){s.vector[r]=this.__cbOnceMouseUp[h],this.__cbOnceMouseUp[h]=null;var _=this.__cbOnceOwnerUnbindMouseUp[h];this.__cbOnceOwnerUnbindMouseUp[h]=null,null!=_&&_(),++r}else--i,null==u&&(u=[],o=[],[]),u.push(this.__cbOnceOwnerUnbindMouseUp[h]),o.push(this.__cbOnceMouseUp[h])}this.__cbOnceOwnerUnbindMouseUp=u,this.__cbOnceMouseUp=o}for(a=0,c=i;a<c;){r=a++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}var d=1e4+e,b=this.matchedDownListeners.h[d];null!=b&&b._lifecycleState>=0&&b._numPointerDown>0&&(b._numPointerDown--,(0==b._numPointerDown||b.multiTouch)&&b.emitPointerUp(new ceramic_TouchInfo(-1,e,n,t,b._hits(n,t,!1)))),this.matchedDownListeners.remove(d)},onMouseUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(null);null==this.__cbOnMouseUp&&(this.__cbOnMouseUp=[]),this.__cbOnMouseUp.push(n)},onceMouseUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(null);null==this.__cbOnceMouseUp&&(this.__cbOnceMouseUp=[]),this.__cbOnceMouseUp.push(n)},offMouseUp:function(e){if(null!=e){var n;null!=this.__cbOnMouseUp&&-1!=(n=this.__cbOnMouseUp.indexOf(e))&&(this.__cbOnMouseUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseUp[n])&&s(),this.__cbOnOwnerUnbindMouseUp.splice(n,1)),null!=this.__cbOnceMouseUp&&-1!=(n=this.__cbOnceMouseUp.indexOf(e))&&(this.__cbOnceMouseUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseUp[n])&&s(),this.__cbOnceOwnerUnbindMouseUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseUp){for(var t=0,i=this.__cbOnOwnerUnbindMouseUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseUp[l])&&s()}this.__cbOnOwnerUnbindMouseUp=null}if(null!=this.__cbOnceOwnerUnbindMouseUp){for(t=0,i=this.__cbOnceOwnerUnbindMouseUp.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseUp[l])&&s()}this.__cbOnceOwnerUnbindMouseUp=null}this.__cbOnMouseUp=null,this.__cbOnceMouseUp=null}},listensMouseUp:function(){return null!=this.__cbOnMouseUp&&this.__cbOnMouseUp.length>0||null!=this.__cbOnceMouseUp&&this.__cbOnceMouseUp.length>0},__cbOnMouseWheel:null,__cbOnceMouseWheel:null,__cbOnOwnerUnbindMouseWheel:null,__cbOnceOwnerUnbindMouseWheel:null,emitMouseWheel:function(e,n){this.willEmitMouseWheel(e,n);var t=0;if(null!=this.__cbOnMouseWheel&&(t+=this.__cbOnMouseWheel.length),null!=this.__cbOnceMouseWheel&&(t+=this.__cbOnceMouseWheel.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMouseWheel)for(var r=0,a=this.__cbOnMouseWheel.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnMouseWheel[c],++s):--t}if(null!=this.__cbOnceMouseWheel){var h=null,u=null;for(r=0,a=this.__cbOnceMouseWheel.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceMouseWheel[c],this.__cbOnceMouseWheel[c]=null;var o=this.__cbOnceOwnerUnbindMouseWheel[c];this.__cbOnceOwnerUnbindMouseWheel[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindMouseWheel[c]),u.push(this.__cbOnceMouseWheel[c])}this.__cbOnceOwnerUnbindMouseWheel=h,this.__cbOnceMouseWheel=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onMouseWheel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseWheel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseWheel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(null);null==this.__cbOnMouseWheel&&(this.__cbOnMouseWheel=[]),this.__cbOnMouseWheel.push(n)},onceMouseWheel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseWheel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseWheel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(null);null==this.__cbOnceMouseWheel&&(this.__cbOnceMouseWheel=[]),this.__cbOnceMouseWheel.push(n)},offMouseWheel:function(e){if(null!=e){var n;null!=this.__cbOnMouseWheel&&-1!=(n=this.__cbOnMouseWheel.indexOf(e))&&(this.__cbOnMouseWheel.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseWheel[n])&&s(),this.__cbOnOwnerUnbindMouseWheel.splice(n,1)),null!=this.__cbOnceMouseWheel&&-1!=(n=this.__cbOnceMouseWheel.indexOf(e))&&(this.__cbOnceMouseWheel.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseWheel[n])&&s(),this.__cbOnceOwnerUnbindMouseWheel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseWheel){for(var t=0,i=this.__cbOnOwnerUnbindMouseWheel.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseWheel[l])&&s()}this.__cbOnOwnerUnbindMouseWheel=null}if(null!=this.__cbOnceOwnerUnbindMouseWheel){for(t=0,i=this.__cbOnceOwnerUnbindMouseWheel.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseWheel[l])&&s()}this.__cbOnceOwnerUnbindMouseWheel=null}this.__cbOnMouseWheel=null,this.__cbOnceMouseWheel=null}},listensMouseWheel:function(){return null!=this.__cbOnMouseWheel&&this.__cbOnMouseWheel.length>0||null!=this.__cbOnceMouseWheel&&this.__cbOnceMouseWheel.length>0},__cbOnMouseMove:null,__cbOnceMouseMove:null,__cbOnOwnerUnbindMouseMove:null,__cbOnceOwnerUnbindMouseMove:null,emitMouseMove:function(e,n){this.willEmitMouseMove(e,n);var t=0;if(null!=this.__cbOnMouseMove&&(t+=this.__cbOnMouseMove.length),null!=this.__cbOnceMouseMove&&(t+=this.__cbOnceMouseMove.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMouseMove)for(var r=0,a=this.__cbOnMouseMove.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnMouseMove[c],++s):--t}if(null!=this.__cbOnceMouseMove){var h=null,u=null;for(r=0,a=this.__cbOnceMouseMove.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceMouseMove[c],this.__cbOnceMouseMove[c]=null;var o=this.__cbOnceOwnerUnbindMouseMove[c];this.__cbOnceOwnerUnbindMouseMove[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindMouseMove[c]),u.push(this.__cbOnceMouseMove[c])}this.__cbOnceOwnerUnbindMouseMove=h,this.__cbOnceMouseMove=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onMouseMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(null);null==this.__cbOnMouseMove&&(this.__cbOnMouseMove=[]),this.__cbOnMouseMove.push(n)},onceMouseMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(null);null==this.__cbOnceMouseMove&&(this.__cbOnceMouseMove=[]),this.__cbOnceMouseMove.push(n)},offMouseMove:function(e){if(null!=e){var n;null!=this.__cbOnMouseMove&&-1!=(n=this.__cbOnMouseMove.indexOf(e))&&(this.__cbOnMouseMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseMove[n])&&s(),this.__cbOnOwnerUnbindMouseMove.splice(n,1)),null!=this.__cbOnceMouseMove&&-1!=(n=this.__cbOnceMouseMove.indexOf(e))&&(this.__cbOnceMouseMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseMove[n])&&s(),this.__cbOnceOwnerUnbindMouseMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseMove){for(var t=0,i=this.__cbOnOwnerUnbindMouseMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseMove[l])&&s()}this.__cbOnOwnerUnbindMouseMove=null}if(null!=this.__cbOnceOwnerUnbindMouseMove){for(t=0,i=this.__cbOnceOwnerUnbindMouseMove.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseMove[l])&&s()}this.__cbOnceOwnerUnbindMouseMove=null}this.__cbOnMouseMove=null,this.__cbOnceMouseMove=null}},listensMouseMove:function(){return null!=this.__cbOnMouseMove&&this.__cbOnMouseMove.length>0||null!=this.__cbOnceMouseMove&&this.__cbOnceMouseMove.length>0},__cbOnTouchDown:null,__cbOnceTouchDown:null,__cbOnOwnerUnbindTouchDown:null,__cbOnceOwnerUnbindTouchDown:null,emitTouchDown:function(e,n,t){this.willEmitTouchDown(e,n,t);var i=0;if(null!=this.__cbOnTouchDown&&(i+=this.__cbOnTouchDown.length),null!=this.__cbOnceTouchDown&&(i+=this.__cbOnceTouchDown.length),i>0){var l=ceramic_ArrayPool.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchDown)for(var a=0,c=this.__cbOnTouchDown.length;a<c;){var h=a++;!0?(s.vector[r]=this.__cbOnTouchDown[h],++r):--i}if(null!=this.__cbOnceTouchDown){var u=null,o=null;for(a=0,c=this.__cbOnceTouchDown.length;a<c;){h=a++;if(!0){s.vector[r]=this.__cbOnceTouchDown[h],this.__cbOnceTouchDown[h]=null;var _=this.__cbOnceOwnerUnbindTouchDown[h];this.__cbOnceOwnerUnbindTouchDown[h]=null,null!=_&&_(),++r}else--i,null==u&&(u=[],o=[],[]),u.push(this.__cbOnceOwnerUnbindTouchDown[h]),o.push(this.__cbOnceTouchDown[h])}this.__cbOnceOwnerUnbindTouchDown=u,this.__cbOnceTouchDown=o}for(a=0,c=i;a<c;){r=a++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}var d=this.matchFirstDownListener(n,t,e,-1);null!=d&&(d._numPointerDown++,(1==d._numPointerDown||d.multiTouch)&&(ceramic_App.app.screen.set_focusedVisual(d),d.emitPointerDown(new ceramic_TouchInfo(e,-1,n,t,!0))));var b=2e4+e;this.matchedDownListeners.h[b]=d},onTouchDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(null);null==this.__cbOnTouchDown&&(this.__cbOnTouchDown=[]),this.__cbOnTouchDown.push(n)},onceTouchDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(null);null==this.__cbOnceTouchDown&&(this.__cbOnceTouchDown=[]),this.__cbOnceTouchDown.push(n)},offTouchDown:function(e){if(null!=e){var n;null!=this.__cbOnTouchDown&&-1!=(n=this.__cbOnTouchDown.indexOf(e))&&(this.__cbOnTouchDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchDown[n])&&s(),this.__cbOnOwnerUnbindTouchDown.splice(n,1)),null!=this.__cbOnceTouchDown&&-1!=(n=this.__cbOnceTouchDown.indexOf(e))&&(this.__cbOnceTouchDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchDown[n])&&s(),this.__cbOnceOwnerUnbindTouchDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchDown){for(var t=0,i=this.__cbOnOwnerUnbindTouchDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchDown[l])&&s()}this.__cbOnOwnerUnbindTouchDown=null}if(null!=this.__cbOnceOwnerUnbindTouchDown){for(t=0,i=this.__cbOnceOwnerUnbindTouchDown.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchDown[l])&&s()}this.__cbOnceOwnerUnbindTouchDown=null}this.__cbOnTouchDown=null,this.__cbOnceTouchDown=null}},listensTouchDown:function(){return null!=this.__cbOnTouchDown&&this.__cbOnTouchDown.length>0||null!=this.__cbOnceTouchDown&&this.__cbOnceTouchDown.length>0},__cbOnTouchUp:null,__cbOnceTouchUp:null,__cbOnOwnerUnbindTouchUp:null,__cbOnceOwnerUnbindTouchUp:null,emitTouchUp:function(e,n,t){this.willEmitTouchUp(e,n,t);var i=0;if(null!=this.__cbOnTouchUp&&(i+=this.__cbOnTouchUp.length),null!=this.__cbOnceTouchUp&&(i+=this.__cbOnceTouchUp.length),i>0){var l=ceramic_ArrayPool.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchUp)for(var a=0,c=this.__cbOnTouchUp.length;a<c;){var h=a++;!0?(s.vector[r]=this.__cbOnTouchUp[h],++r):--i}if(null!=this.__cbOnceTouchUp){var u=null,o=null;for(a=0,c=this.__cbOnceTouchUp.length;a<c;){h=a++;if(!0){s.vector[r]=this.__cbOnceTouchUp[h],this.__cbOnceTouchUp[h]=null;var _=this.__cbOnceOwnerUnbindTouchUp[h];this.__cbOnceOwnerUnbindTouchUp[h]=null,null!=_&&_(),++r}else--i,null==u&&(u=[],o=[],[]),u.push(this.__cbOnceOwnerUnbindTouchUp[h]),o.push(this.__cbOnceTouchUp[h])}this.__cbOnceOwnerUnbindTouchUp=u,this.__cbOnceTouchUp=o}for(a=0,c=i;a<c;){r=a++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}var d=2e4+e,b=this.matchedDownListeners.h[d];null!=b&&b._lifecycleState>=0&&b._numPointerDown>0&&(b._numPointerDown--,(0==b._numPointerDown||b.multiTouch)&&b.emitPointerUp(new ceramic_TouchInfo(e,-1,n,t,b._hits(n,t,!1)))),this.matchedDownListeners.remove(d)},onTouchUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(null);null==this.__cbOnTouchUp&&(this.__cbOnTouchUp=[]),this.__cbOnTouchUp.push(n)},onceTouchUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(null);null==this.__cbOnceTouchUp&&(this.__cbOnceTouchUp=[]),this.__cbOnceTouchUp.push(n)},offTouchUp:function(e){if(null!=e){var n;null!=this.__cbOnTouchUp&&-1!=(n=this.__cbOnTouchUp.indexOf(e))&&(this.__cbOnTouchUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchUp[n])&&s(),this.__cbOnOwnerUnbindTouchUp.splice(n,1)),null!=this.__cbOnceTouchUp&&-1!=(n=this.__cbOnceTouchUp.indexOf(e))&&(this.__cbOnceTouchUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchUp[n])&&s(),this.__cbOnceOwnerUnbindTouchUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchUp){for(var t=0,i=this.__cbOnOwnerUnbindTouchUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchUp[l])&&s()}this.__cbOnOwnerUnbindTouchUp=null}if(null!=this.__cbOnceOwnerUnbindTouchUp){for(t=0,i=this.__cbOnceOwnerUnbindTouchUp.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchUp[l])&&s()}this.__cbOnceOwnerUnbindTouchUp=null}this.__cbOnTouchUp=null,this.__cbOnceTouchUp=null}},listensTouchUp:function(){return null!=this.__cbOnTouchUp&&this.__cbOnTouchUp.length>0||null!=this.__cbOnceTouchUp&&this.__cbOnceTouchUp.length>0},__cbOnTouchMove:null,__cbOnceTouchMove:null,__cbOnOwnerUnbindTouchMove:null,__cbOnceOwnerUnbindTouchMove:null,emitTouchMove:function(e,n,t){this.willEmitTouchMove(e,n,t);var i=0;if(null!=this.__cbOnTouchMove&&(i+=this.__cbOnTouchMove.length),null!=this.__cbOnceTouchMove&&(i+=this.__cbOnceTouchMove.length),i>0){var l=ceramic_ArrayPool.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchMove)for(var a=0,c=this.__cbOnTouchMove.length;a<c;){var h=a++;!0?(s.vector[r]=this.__cbOnTouchMove[h],++r):--i}if(null!=this.__cbOnceTouchMove){var u=null,o=null;for(a=0,c=this.__cbOnceTouchMove.length;a<c;){h=a++;if(!0){s.vector[r]=this.__cbOnceTouchMove[h],this.__cbOnceTouchMove[h]=null;var _=this.__cbOnceOwnerUnbindTouchMove[h];this.__cbOnceOwnerUnbindTouchMove[h]=null,null!=_&&_(),++r}else--i,null==u&&(u=[],o=[],[]),u.push(this.__cbOnceOwnerUnbindTouchMove[h]),o.push(this.__cbOnceTouchMove[h])}this.__cbOnceOwnerUnbindTouchMove=u,this.__cbOnceTouchMove=o}for(a=0,c=i;a<c;){r=a++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}},onTouchMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(null);null==this.__cbOnTouchMove&&(this.__cbOnTouchMove=[]),this.__cbOnTouchMove.push(n)},onceTouchMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(null);null==this.__cbOnceTouchMove&&(this.__cbOnceTouchMove=[]),this.__cbOnceTouchMove.push(n)},offTouchMove:function(e){if(null!=e){var n;null!=this.__cbOnTouchMove&&-1!=(n=this.__cbOnTouchMove.indexOf(e))&&(this.__cbOnTouchMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchMove[n])&&s(),this.__cbOnOwnerUnbindTouchMove.splice(n,1)),null!=this.__cbOnceTouchMove&&-1!=(n=this.__cbOnceTouchMove.indexOf(e))&&(this.__cbOnceTouchMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchMove[n])&&s(),this.__cbOnceOwnerUnbindTouchMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchMove){for(var t=0,i=this.__cbOnOwnerUnbindTouchMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchMove[l])&&s()}this.__cbOnOwnerUnbindTouchMove=null}if(null!=this.__cbOnceOwnerUnbindTouchMove){for(t=0,i=this.__cbOnceOwnerUnbindTouchMove.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchMove[l])&&s()}this.__cbOnceOwnerUnbindTouchMove=null}this.__cbOnTouchMove=null,this.__cbOnceTouchMove=null}},listensTouchMove:function(){return null!=this.__cbOnTouchMove&&this.__cbOnTouchMove.length>0||null!=this.__cbOnceTouchMove&&this.__cbOnceTouchMove.length>0},__cbOnPointerDown:null,__cbOncePointerDown:null,__cbOnOwnerUnbindPointerDown:null,__cbOnceOwnerUnbindPointerDown:null,emitPointerDown:function(e){var n=0;if(null!=this.__cbOnPointerDown&&(n+=this.__cbOnPointerDown.length),null!=this.__cbOncePointerDown&&(n+=this.__cbOncePointerDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerDown)for(var s=0,r=this.__cbOnPointerDown.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnPointerDown[a],++l):--n}if(null!=this.__cbOncePointerDown){var c=null,h=null;for(s=0,r=this.__cbOncePointerDown.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOncePointerDown[a],this.__cbOncePointerDown[a]=null;var u=this.__cbOnceOwnerUnbindPointerDown[a];this.__cbOnceOwnerUnbindPointerDown[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindPointerDown[a]),h.push(this.__cbOncePointerDown[a])}this.__cbOnceOwnerUnbindPointerDown=c,this.__cbOncePointerDown=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onPointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(null);null==this.__cbOnPointerDown&&(this.__cbOnPointerDown=[]),this.__cbOnPointerDown.push(n)},oncePointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(null);null==this.__cbOncePointerDown&&(this.__cbOncePointerDown=[]),this.__cbOncePointerDown.push(n)},offPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnPointerDown&&-1!=(n=this.__cbOnPointerDown.indexOf(e))&&(this.__cbOnPointerDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerDown[n])&&s(),this.__cbOnOwnerUnbindPointerDown.splice(n,1)),null!=this.__cbOncePointerDown&&-1!=(n=this.__cbOncePointerDown.indexOf(e))&&(this.__cbOncePointerDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerDown[n])&&s(),this.__cbOnceOwnerUnbindPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindPointerDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerDown[l])&&s()}this.__cbOnOwnerUnbindPointerDown=null}if(null!=this.__cbOnceOwnerUnbindPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindPointerDown.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerDown[l])&&s()}this.__cbOnceOwnerUnbindPointerDown=null}this.__cbOnPointerDown=null,this.__cbOncePointerDown=null}},listensPointerDown:function(){return null!=this.__cbOnPointerDown&&this.__cbOnPointerDown.length>0||null!=this.__cbOncePointerDown&&this.__cbOncePointerDown.length>0},__cbOnPointerUp:null,__cbOncePointerUp:null,__cbOnOwnerUnbindPointerUp:null,__cbOnceOwnerUnbindPointerUp:null,emitPointerUp:function(e){var n=0;if(null!=this.__cbOnPointerUp&&(n+=this.__cbOnPointerUp.length),null!=this.__cbOncePointerUp&&(n+=this.__cbOncePointerUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerUp)for(var s=0,r=this.__cbOnPointerUp.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnPointerUp[a],++l):--n}if(null!=this.__cbOncePointerUp){var c=null,h=null;for(s=0,r=this.__cbOncePointerUp.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOncePointerUp[a],this.__cbOncePointerUp[a]=null;var u=this.__cbOnceOwnerUnbindPointerUp[a];this.__cbOnceOwnerUnbindPointerUp[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindPointerUp[a]),h.push(this.__cbOncePointerUp[a])}this.__cbOnceOwnerUnbindPointerUp=c,this.__cbOncePointerUp=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onPointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(null);null==this.__cbOnPointerUp&&(this.__cbOnPointerUp=[]),this.__cbOnPointerUp.push(n)},oncePointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(null);null==this.__cbOncePointerUp&&(this.__cbOncePointerUp=[]),this.__cbOncePointerUp.push(n)},offPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnPointerUp&&-1!=(n=this.__cbOnPointerUp.indexOf(e))&&(this.__cbOnPointerUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerUp[n])&&s(),this.__cbOnOwnerUnbindPointerUp.splice(n,1)),null!=this.__cbOncePointerUp&&-1!=(n=this.__cbOncePointerUp.indexOf(e))&&(this.__cbOncePointerUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerUp[n])&&s(),this.__cbOnceOwnerUnbindPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindPointerUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerUp[l])&&s()}this.__cbOnOwnerUnbindPointerUp=null}if(null!=this.__cbOnceOwnerUnbindPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindPointerUp.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerUp[l])&&s()}this.__cbOnceOwnerUnbindPointerUp=null}this.__cbOnPointerUp=null,this.__cbOncePointerUp=null}},listensPointerUp:function(){return null!=this.__cbOnPointerUp&&this.__cbOnPointerUp.length>0||null!=this.__cbOncePointerUp&&this.__cbOncePointerUp.length>0},__cbOnPointerMove:null,__cbOncePointerMove:null,__cbOnOwnerUnbindPointerMove:null,__cbOnceOwnerUnbindPointerMove:null,emitPointerMove:function(e){var n=0;if(null!=this.__cbOnPointerMove&&(n+=this.__cbOnPointerMove.length),null!=this.__cbOncePointerMove&&(n+=this.__cbOncePointerMove.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerMove)for(var s=0,r=this.__cbOnPointerMove.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnPointerMove[a],++l):--n}if(null!=this.__cbOncePointerMove){var c=null,h=null;for(s=0,r=this.__cbOncePointerMove.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOncePointerMove[a],this.__cbOncePointerMove[a]=null;var u=this.__cbOnceOwnerUnbindPointerMove[a];this.__cbOnceOwnerUnbindPointerMove[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindPointerMove[a]),h.push(this.__cbOncePointerMove[a])}this.__cbOnceOwnerUnbindPointerMove=c,this.__cbOncePointerMove=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onPointerMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerMove&&(this.__cbOnOwnerUnbindPointerMove=[]),this.__cbOnOwnerUnbindPointerMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerMove&&(this.__cbOnOwnerUnbindPointerMove=[]),this.__cbOnOwnerUnbindPointerMove.push(null);null==this.__cbOnPointerMove&&(this.__cbOnPointerMove=[]),this.__cbOnPointerMove.push(n)},oncePointerMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerMove&&(this.__cbOnceOwnerUnbindPointerMove=[]),this.__cbOnceOwnerUnbindPointerMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerMove&&(this.__cbOnceOwnerUnbindPointerMove=[]),this.__cbOnceOwnerUnbindPointerMove.push(null);null==this.__cbOncePointerMove&&(this.__cbOncePointerMove=[]),this.__cbOncePointerMove.push(n)},offPointerMove:function(e){if(null!=e){var n;null!=this.__cbOnPointerMove&&-1!=(n=this.__cbOnPointerMove.indexOf(e))&&(this.__cbOnPointerMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerMove[n])&&s(),this.__cbOnOwnerUnbindPointerMove.splice(n,1)),null!=this.__cbOncePointerMove&&-1!=(n=this.__cbOncePointerMove.indexOf(e))&&(this.__cbOncePointerMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerMove[n])&&s(),this.__cbOnceOwnerUnbindPointerMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerMove){for(var t=0,i=this.__cbOnOwnerUnbindPointerMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerMove[l])&&s()}this.__cbOnOwnerUnbindPointerMove=null}if(null!=this.__cbOnceOwnerUnbindPointerMove){for(t=0,i=this.__cbOnceOwnerUnbindPointerMove.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerMove[l])&&s()}this.__cbOnceOwnerUnbindPointerMove=null}this.__cbOnPointerMove=null,this.__cbOncePointerMove=null}},listensPointerMove:function(){return null!=this.__cbOnPointerMove&&this.__cbOnPointerMove.length>0||null!=this.__cbOncePointerMove&&this.__cbOncePointerMove.length>0},__cbOnMultiTouchPointerDown:null,__cbOnceMultiTouchPointerDown:null,__cbOnOwnerUnbindMultiTouchPointerDown:null,__cbOnceOwnerUnbindMultiTouchPointerDown:null,emitMultiTouchPointerDown:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerDown&&(n+=this.__cbOnMultiTouchPointerDown.length),null!=this.__cbOnceMultiTouchPointerDown&&(n+=this.__cbOnceMultiTouchPointerDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnMultiTouchPointerDown)for(var s=0,r=this.__cbOnMultiTouchPointerDown.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnMultiTouchPointerDown[a],++l):--n}if(null!=this.__cbOnceMultiTouchPointerDown){var c=null,h=null;for(s=0,r=this.__cbOnceMultiTouchPointerDown.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceMultiTouchPointerDown[a],this.__cbOnceMultiTouchPointerDown[a]=null;var u=this.__cbOnceOwnerUnbindMultiTouchPointerDown[a];this.__cbOnceOwnerUnbindMultiTouchPointerDown[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindMultiTouchPointerDown[a]),h.push(this.__cbOnceMultiTouchPointerDown[a])}this.__cbOnceOwnerUnbindMultiTouchPointerDown=c,this.__cbOnceMultiTouchPointerDown=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onMultiTouchPointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMultiTouchPointerDown&&(this.__cbOnOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnOwnerUnbindMultiTouchPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMultiTouchPointerDown&&(this.__cbOnOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnOwnerUnbindMultiTouchPointerDown.push(null);null==this.__cbOnMultiTouchPointerDown&&(this.__cbOnMultiTouchPointerDown=[]),this.__cbOnMultiTouchPointerDown.push(n)},onceMultiTouchPointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMultiTouchPointerDown&&(this.__cbOnceOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnceOwnerUnbindMultiTouchPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMultiTouchPointerDown&&(this.__cbOnceOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnceOwnerUnbindMultiTouchPointerDown.push(null);null==this.__cbOnceMultiTouchPointerDown&&(this.__cbOnceMultiTouchPointerDown=[]),this.__cbOnceMultiTouchPointerDown.push(n)},offMultiTouchPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerDown&&-1!=(n=this.__cbOnMultiTouchPointerDown.indexOf(e))&&(this.__cbOnMultiTouchPointerDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerDown[n])&&s(),this.__cbOnOwnerUnbindMultiTouchPointerDown.splice(n,1)),null!=this.__cbOnceMultiTouchPointerDown&&-1!=(n=this.__cbOnceMultiTouchPointerDown.indexOf(e))&&(this.__cbOnceMultiTouchPointerDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerDown[n])&&s(),this.__cbOnceOwnerUnbindMultiTouchPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerDown[l])&&s()}this.__cbOnOwnerUnbindMultiTouchPointerDown=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerDown.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerDown[l])&&s()}this.__cbOnceOwnerUnbindMultiTouchPointerDown=null}this.__cbOnMultiTouchPointerDown=null,this.__cbOnceMultiTouchPointerDown=null}},listensMultiTouchPointerDown:function(){return null!=this.__cbOnMultiTouchPointerDown&&this.__cbOnMultiTouchPointerDown.length>0||null!=this.__cbOnceMultiTouchPointerDown&&this.__cbOnceMultiTouchPointerDown.length>0},__cbOnMultiTouchPointerUp:null,__cbOnceMultiTouchPointerUp:null,__cbOnOwnerUnbindMultiTouchPointerUp:null,__cbOnceOwnerUnbindMultiTouchPointerUp:null,emitMultiTouchPointerUp:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerUp&&(n+=this.__cbOnMultiTouchPointerUp.length),null!=this.__cbOnceMultiTouchPointerUp&&(n+=this.__cbOnceMultiTouchPointerUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnMultiTouchPointerUp)for(var s=0,r=this.__cbOnMultiTouchPointerUp.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnMultiTouchPointerUp[a],++l):--n}if(null!=this.__cbOnceMultiTouchPointerUp){var c=null,h=null;for(s=0,r=this.__cbOnceMultiTouchPointerUp.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceMultiTouchPointerUp[a],this.__cbOnceMultiTouchPointerUp[a]=null;var u=this.__cbOnceOwnerUnbindMultiTouchPointerUp[a];this.__cbOnceOwnerUnbindMultiTouchPointerUp[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindMultiTouchPointerUp[a]),h.push(this.__cbOnceMultiTouchPointerUp[a])}this.__cbOnceOwnerUnbindMultiTouchPointerUp=c,this.__cbOnceMultiTouchPointerUp=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onMultiTouchPointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMultiTouchPointerUp&&(this.__cbOnOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnOwnerUnbindMultiTouchPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMultiTouchPointerUp&&(this.__cbOnOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnOwnerUnbindMultiTouchPointerUp.push(null);null==this.__cbOnMultiTouchPointerUp&&(this.__cbOnMultiTouchPointerUp=[]),this.__cbOnMultiTouchPointerUp.push(n)},onceMultiTouchPointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMultiTouchPointerUp&&(this.__cbOnceOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnceOwnerUnbindMultiTouchPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMultiTouchPointerUp&&(this.__cbOnceOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnceOwnerUnbindMultiTouchPointerUp.push(null);null==this.__cbOnceMultiTouchPointerUp&&(this.__cbOnceMultiTouchPointerUp=[]),this.__cbOnceMultiTouchPointerUp.push(n)},offMultiTouchPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerUp&&-1!=(n=this.__cbOnMultiTouchPointerUp.indexOf(e))&&(this.__cbOnMultiTouchPointerUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerUp[n])&&s(),this.__cbOnOwnerUnbindMultiTouchPointerUp.splice(n,1)),null!=this.__cbOnceMultiTouchPointerUp&&-1!=(n=this.__cbOnceMultiTouchPointerUp.indexOf(e))&&(this.__cbOnceMultiTouchPointerUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerUp[n])&&s(),this.__cbOnceOwnerUnbindMultiTouchPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerUp[l])&&s()}this.__cbOnOwnerUnbindMultiTouchPointerUp=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerUp.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerUp[l])&&s()}this.__cbOnceOwnerUnbindMultiTouchPointerUp=null}this.__cbOnMultiTouchPointerUp=null,this.__cbOnceMultiTouchPointerUp=null}},listensMultiTouchPointerUp:function(){return null!=this.__cbOnMultiTouchPointerUp&&this.__cbOnMultiTouchPointerUp.length>0||null!=this.__cbOnceMultiTouchPointerUp&&this.__cbOnceMultiTouchPointerUp.length>0},__cbOnMultiTouchPointerMove:null,__cbOnceMultiTouchPointerMove:null,__cbOnOwnerUnbindMultiTouchPointerMove:null,__cbOnceOwnerUnbindMultiTouchPointerMove:null,emitMultiTouchPointerMove:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerMove&&(n+=this.__cbOnMultiTouchPointerMove.length),null!=this.__cbOnceMultiTouchPointerMove&&(n+=this.__cbOnceMultiTouchPointerMove.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnMultiTouchPointerMove)for(var s=0,r=this.__cbOnMultiTouchPointerMove.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnMultiTouchPointerMove[a],++l):--n}if(null!=this.__cbOnceMultiTouchPointerMove){var c=null,h=null;for(s=0,r=this.__cbOnceMultiTouchPointerMove.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceMultiTouchPointerMove[a],this.__cbOnceMultiTouchPointerMove[a]=null;var u=this.__cbOnceOwnerUnbindMultiTouchPointerMove[a];this.__cbOnceOwnerUnbindMultiTouchPointerMove[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindMultiTouchPointerMove[a]),h.push(this.__cbOnceMultiTouchPointerMove[a])}this.__cbOnceOwnerUnbindMultiTouchPointerMove=c,this.__cbOnceMultiTouchPointerMove=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onMultiTouchPointerMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMultiTouchPointerMove&&(this.__cbOnOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnOwnerUnbindMultiTouchPointerMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMultiTouchPointerMove&&(this.__cbOnOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnOwnerUnbindMultiTouchPointerMove.push(null);null==this.__cbOnMultiTouchPointerMove&&(this.__cbOnMultiTouchPointerMove=[]),this.__cbOnMultiTouchPointerMove.push(n)},onceMultiTouchPointerMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMultiTouchPointerMove&&(this.__cbOnceOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnceOwnerUnbindMultiTouchPointerMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMultiTouchPointerMove&&(this.__cbOnceOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnceOwnerUnbindMultiTouchPointerMove.push(null);null==this.__cbOnceMultiTouchPointerMove&&(this.__cbOnceMultiTouchPointerMove=[]),this.__cbOnceMultiTouchPointerMove.push(n)},offMultiTouchPointerMove:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerMove&&-1!=(n=this.__cbOnMultiTouchPointerMove.indexOf(e))&&(this.__cbOnMultiTouchPointerMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerMove[n])&&s(),this.__cbOnOwnerUnbindMultiTouchPointerMove.splice(n,1)),null!=this.__cbOnceMultiTouchPointerMove&&-1!=(n=this.__cbOnceMultiTouchPointerMove.indexOf(e))&&(this.__cbOnceMultiTouchPointerMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerMove[n])&&s(),this.__cbOnceOwnerUnbindMultiTouchPointerMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerMove){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerMove[l])&&s()}this.__cbOnOwnerUnbindMultiTouchPointerMove=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerMove){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerMove.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerMove[l])&&s()}this.__cbOnceOwnerUnbindMultiTouchPointerMove=null}this.__cbOnMultiTouchPointerMove=null,this.__cbOnceMultiTouchPointerMove=null}},listensMultiTouchPointerMove:function(){return null!=this.__cbOnMultiTouchPointerMove&&this.__cbOnMultiTouchPointerMove.length>0||null!=this.__cbOnceMultiTouchPointerMove&&this.__cbOnceMultiTouchPointerMove.length>0},__cbOnFocus:null,__cbOnceFocus:null,__cbOnOwnerUnbindFocus:null,__cbOnceOwnerUnbindFocus:null,emitFocus:function(e){var n=0;if(null!=this.__cbOnFocus&&(n+=this.__cbOnFocus.length),null!=this.__cbOnceFocus&&(n+=this.__cbOnceFocus.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnFocus)for(var s=0,r=this.__cbOnFocus.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnFocus[a],++l):--n}if(null!=this.__cbOnceFocus){var c=null,h=null;for(s=0,r=this.__cbOnceFocus.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceFocus[a],this.__cbOnceFocus[a]=null;var u=this.__cbOnceOwnerUnbindFocus[a];this.__cbOnceOwnerUnbindFocus[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindFocus[a]),h.push(this.__cbOnceFocus[a])}this.__cbOnceOwnerUnbindFocus=c,this.__cbOnceFocus=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onFocus:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focus because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocus(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(null);null==this.__cbOnFocus&&(this.__cbOnFocus=[]),this.__cbOnFocus.push(n)},onceFocus:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focus because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocus(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(null);null==this.__cbOnceFocus&&(this.__cbOnceFocus=[]),this.__cbOnceFocus.push(n)},offFocus:function(e){if(null!=e){var n;null!=this.__cbOnFocus&&-1!=(n=this.__cbOnFocus.indexOf(e))&&(this.__cbOnFocus.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocus[n])&&s(),this.__cbOnOwnerUnbindFocus.splice(n,1)),null!=this.__cbOnceFocus&&-1!=(n=this.__cbOnceFocus.indexOf(e))&&(this.__cbOnceFocus.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocus[n])&&s(),this.__cbOnceOwnerUnbindFocus.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocus){for(var t=0,i=this.__cbOnOwnerUnbindFocus.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocus[l])&&s()}this.__cbOnOwnerUnbindFocus=null}if(null!=this.__cbOnceOwnerUnbindFocus){for(t=0,i=this.__cbOnceOwnerUnbindFocus.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFocus[l])&&s()}this.__cbOnceOwnerUnbindFocus=null}this.__cbOnFocus=null,this.__cbOnceFocus=null}},listensFocus:function(){return null!=this.__cbOnFocus&&this.__cbOnFocus.length>0||null!=this.__cbOnceFocus&&this.__cbOnceFocus.length>0},__cbOnBlur:null,__cbOnceBlur:null,__cbOnOwnerUnbindBlur:null,__cbOnceOwnerUnbindBlur:null,emitBlur:function(e){var n=0;if(null!=this.__cbOnBlur&&(n+=this.__cbOnBlur.length),null!=this.__cbOnceBlur&&(n+=this.__cbOnceBlur.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnBlur)for(var s=0,r=this.__cbOnBlur.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnBlur[a],++l):--n}if(null!=this.__cbOnceBlur){var c=null,h=null;for(s=0,r=this.__cbOnceBlur.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceBlur[a],this.__cbOnceBlur[a]=null;var u=this.__cbOnceOwnerUnbindBlur[a];this.__cbOnceOwnerUnbindBlur[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindBlur[a]),h.push(this.__cbOnceBlur[a])}this.__cbOnceOwnerUnbindBlur=c,this.__cbOnceBlur=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onBlur:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event blur because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBlur(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(null);null==this.__cbOnBlur&&(this.__cbOnBlur=[]),this.__cbOnBlur.push(n)},onceBlur:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event blur because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBlur(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(null);null==this.__cbOnceBlur&&(this.__cbOnceBlur=[]),this.__cbOnceBlur.push(n)},offBlur:function(e){if(null!=e){var n;null!=this.__cbOnBlur&&-1!=(n=this.__cbOnBlur.indexOf(e))&&(this.__cbOnBlur.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBlur[n])&&s(),this.__cbOnOwnerUnbindBlur.splice(n,1)),null!=this.__cbOnceBlur&&-1!=(n=this.__cbOnceBlur.indexOf(e))&&(this.__cbOnceBlur.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBlur[n])&&s(),this.__cbOnceOwnerUnbindBlur.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBlur){for(var t=0,i=this.__cbOnOwnerUnbindBlur.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBlur[l])&&s()}this.__cbOnOwnerUnbindBlur=null}if(null!=this.__cbOnceOwnerUnbindBlur){for(t=0,i=this.__cbOnceOwnerUnbindBlur.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindBlur[l])&&s()}this.__cbOnceOwnerUnbindBlur=null}this.__cbOnBlur=null,this.__cbOnceBlur=null}},listensBlur:function(){return null!=this.__cbOnBlur&&this.__cbOnBlur.length>0||null!=this.__cbOnceBlur&&this.__cbOnceBlur.length>0},backendReady:function(){var e=this;ceramic_App.app.backend.screen.onResize(this,$bind(this,this.resize)),this.resize(),ceramic_App.app.settings.onBackgroundChange(this,(function(e,n){ceramic_App.app.backend.screen.setBackground(e)})),ceramic_App.app.settings.onTitleChange(this,(function(e,n){ceramic_App.app.backend.screen.setWindowTitle(e)})),ceramic_App.app.settings.onFullscreenChange(this,(function(e,n){ceramic_App.app.backend.screen.setWindowFullscreen(e)})),ceramic_App.app.settings.onScalingChange(this,(function(n,t){e.resize()})),ceramic_App.app.settings.onTargetWidthChange(this,(function(n,t){e.resize()})),ceramic_App.app.settings.onTargetHeightChange(this,(function(n,t){e.resize()})),ceramic_App.app.settings.onTargetDensityChange(this,(function(n,t){e.updateTexturesDensity()})),this.matrix.onChange(this,(function(){(n=e.reverseMatrix).a=1,n.b=0,n.c=0,n.d=1,n.tx=0,n.ty=0,n.changedDirty=!0;var n=e.reverseMatrix,t=e.matrix,i=n.a*t.a+n.b*t.c;n.b=n.a*t.b+n.b*t.d,n.a=i;var l=n.c*t.a+n.d*t.c;n.d=n.c*t.b+n.d*t.d,n.c=l;var s=n.tx*t.a+n.ty*t.c+t.tx;n.ty=n.tx*t.b+n.ty*t.d+t.ty,n.tx=s,n.changedDirty=!0;var r=(n=e.reverseMatrix).a*n.d-n.b*n.c;if(0==r)n.a=n.b=n.c=n.d=0,n.tx=-n.tx,n.ty=-n.ty;else{r=1/r;i=n.d*r;n.d=n.a*r,n.a=i,n.b*=-r,n.c*=-r;s=-n.a*n.tx-n.c*n.ty;n.ty=-n.b*n.tx-n.d*n.ty,n.tx=s}n.changedDirty=!0,e.reverseMatrix.emitChange()})),ceramic_App.app.backend.screen.onMouseDown(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var l,s=t*clay_Clay.app.screenDensity,r=i*clay_Clay.app.screenDensity,a=s*(l=e.reverseMatrix).a+r*l.c+l.tx,c=s*(l=e.reverseMatrix).b+r*l.d+l.ty,h=new ceramic_TouchInfo(-1,n,a,c,a>=0&&a<=e.width&&c>=0&&c<=e.height);(-1!=h.buttonId&&(e.mouseX=h.x,e.mouseY=h.y),-1!=h.touchIndex)&&(null==(g=e.touches.get(h.touchIndex))?(g=new ceramic_Touch(h.touchIndex,h.x,h.y,0,0),e.touches.set(h.touchIndex,g)):(g.x=h.x,g.y=h.y));for(var u=e.pointerX,o=e.pointerY,_=0,d=0,b=0,f=e.touches,O=0,p=f.values.length;;){for(;O<p&&null==f.values[O];)++O;if(!(O<p))break;var g,m=O++;++_,d+=(g=f.values[m]).x,b+=g.y}_>0?(e.pointerX=d/_,e.pointerY=b/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-u,e.pointerDeltaY+=e.pointerY-o,e.emitMouseDown(n,a,c),e._numPointerDown++,e.emitMultiTouchPointerDown(h),1==e._numPointerDown&&e.emitPointerDown(h)}))})),ceramic_App.app.backend.screen.onMouseUp(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var l,s=t*clay_Clay.app.screenDensity,r=i*clay_Clay.app.screenDensity,a=s*(l=e.reverseMatrix).a+r*l.c+l.tx,c=s*(l=e.reverseMatrix).b+r*l.d+l.ty,h=new ceramic_TouchInfo(-1,n,a,c,a>=0&&a<=e.width&&c>=0&&c<=e.height);(-1!=h.buttonId&&(e.mouseX=h.x,e.mouseY=h.y),-1!=h.touchIndex)&&(null==(g=e.touches.get(h.touchIndex))?(g=new ceramic_Touch(h.touchIndex,h.x,h.y,0,0),e.touches.set(h.touchIndex,g)):(g.x=h.x,g.y=h.y));for(var u=e.pointerX,o=e.pointerY,_=0,d=0,b=0,f=e.touches,O=0,p=f.values.length;;){for(;O<p&&null==f.values[O];)++O;if(!(O<p))break;var g,m=O++;++_,d+=(g=f.values[m]).x,b+=g.y}_>0?(e.pointerX=d/_,e.pointerY=b/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-u,e.pointerDeltaY+=e.pointerY-o,-1!=h.touchIndex&&e.touches.set(h.touchIndex,null),e.emitMouseUp(n,a,c),e._numPointerDown--,e.emitMultiTouchPointerUp(h),0==e._numPointerDown&&e.emitPointerUp(h)}))})),ceramic_App.app.backend.screen.onMouseMove(this,(function(n,t){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var i,l=n*clay_Clay.app.screenDensity,s=t*clay_Clay.app.screenDensity,r=l*(i=e.reverseMatrix).a+s*i.c+i.tx,a=l*(i=e.reverseMatrix).b+s*i.d+i.ty,c=new ceramic_TouchInfo(-1,-1,r,a,r>=0&&r<=e.width&&a>=0&&a<=e.height);(e.mouseX=c.x,e.mouseY=c.y,-1!=c.touchIndex)&&(null==(p=e.touches.get(c.touchIndex))?(p=new ceramic_Touch(c.touchIndex,c.x,c.y,0,0),e.touches.set(c.touchIndex,p)):(p.x=c.x,p.y=c.y));for(var h=e.pointerX,u=e.pointerY,o=0,_=0,d=0,b=e.touches,f=0,O=b.values.length;;){for(;f<O&&null==b.values[f];)++f;if(!(f<O))break;var p,g=f++;++o,_+=(p=b.values[g]).x,d+=p.y}o>0?(e.pointerX=_/o,e.pointerY=d/o):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-h,e.pointerDeltaY+=e.pointerY-u,e.emitMouseMove(r,a),e.emitMultiTouchPointerMove(c),e.emitPointerMove(c)}))})),ceramic_App.app.backend.screen.onMouseWheel(this,(function(n,t){ceramic_App.app.beginUpdateCallbacks.push((function(){e.emitMouseWheel(n,t)}))})),ceramic_App.app.backend.screen.onTouchDown(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var l,s=t*clay_Clay.app.screenDensity,r=i*clay_Clay.app.screenDensity,a=s*(l=e.reverseMatrix).a+r*l.c+l.tx,c=s*(l=e.reverseMatrix).b+r*l.d+l.ty,h=new ceramic_TouchInfo(n,-1,a,c,a>=0&&a<=e.width&&c>=0&&c<=e.height);(-1!=h.buttonId&&(e.mouseX=h.x,e.mouseY=h.y),-1!=h.touchIndex)&&(null==(g=e.touches.get(h.touchIndex))?(g=new ceramic_Touch(h.touchIndex,h.x,h.y,0,0),e.touches.set(h.touchIndex,g)):(g.x=h.x,g.y=h.y));for(var u=e.pointerX,o=e.pointerY,_=0,d=0,b=0,f=e.touches,O=0,p=f.values.length;;){for(;O<p&&null==f.values[O];)++O;if(!(O<p))break;var g,m=O++;++_,d+=(g=f.values[m]).x,b+=g.y}_>0?(e.pointerX=d/_,e.pointerY=b/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-u,e.pointerDeltaY+=e.pointerY-o,e.emitTouchDown(n,a,c),e._numPointerDown++,e.emitMultiTouchPointerDown(h),1==e._numPointerDown&&e.emitPointerDown(h)}))})),ceramic_App.app.backend.screen.onTouchUp(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var l,s=t*clay_Clay.app.screenDensity,r=i*clay_Clay.app.screenDensity,a=s*(l=e.reverseMatrix).a+r*l.c+l.tx,c=s*(l=e.reverseMatrix).b+r*l.d+l.ty,h=new ceramic_TouchInfo(n,-1,a,c,a>=0&&a<=e.width&&c>=0&&c<=e.height);(-1!=h.buttonId&&(e.mouseX=h.x,e.mouseY=h.y),-1!=h.touchIndex)&&(null==(g=e.touches.get(h.touchIndex))?(g=new ceramic_Touch(h.touchIndex,h.x,h.y,0,0),e.touches.set(h.touchIndex,g)):(g.x=h.x,g.y=h.y));for(var u=e.pointerX,o=e.pointerY,_=0,d=0,b=0,f=e.touches,O=0,p=f.values.length;;){for(;O<p&&null==f.values[O];)++O;if(!(O<p))break;var g,m=O++;++_,d+=(g=f.values[m]).x,b+=g.y}_>0?(e.pointerX=d/_,e.pointerY=b/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-u,e.pointerDeltaY+=e.pointerY-o,-1!=h.touchIndex&&e.touches.set(h.touchIndex,null),e.emitTouchUp(n,a,c),e._numPointerDown--,e.emitMultiTouchPointerUp(h),0==e._numPointerDown&&e.emitPointerUp(h)}))})),ceramic_App.app.backend.screen.onTouchMove(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var l,s=t*clay_Clay.app.screenDensity,r=i*clay_Clay.app.screenDensity,a=s*(l=e.reverseMatrix).a+r*l.c+l.tx,c=s*(l=e.reverseMatrix).b+r*l.d+l.ty,h=new ceramic_TouchInfo(n,-1,a,c,a>=0&&a<=e.width&&c>=0&&c<=e.height);-1!=h.touchIndex&&(null==(g=e.touches.get(h.touchIndex))?(g=new ceramic_Touch(h.touchIndex,h.x,h.y,0,0),e.touches.set(h.touchIndex,g)):(g.x=h.x,g.y=h.y));for(var u=e.pointerX,o=e.pointerY,_=0,d=0,b=0,f=e.touches,O=0,p=f.values.length;;){for(;O<p&&null==f.values[O];)++O;if(!(O<p))break;var g,m=O++;++_,d+=(g=f.values[m]).x,b+=g.y}_>0?(e.pointerX=d/_,e.pointerY=b/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-u,e.pointerDeltaY+=e.pointerY-o,e.emitTouchMove(n,a,c),e.emitMultiTouchPointerMove(h),e._numPointerDown>0&&e.emitPointerMove(h)}))}))},updatePointerOverState:function(e){var n=this.mouseX,t=this.mouseY,i=1e4,l=this.matchedOverListeners.h[i];(c=this.matchFirstOverListener(n,t))!=l&&(null!=c?this.matchedOverListeners.h[i]=c:this.matchedOverListeners.remove(i)),null!=l&&l!=c&&l._lifecycleState>=0&&l._numPointerOver>0&&(l._numPointerOver--,(0==l._numPointerOver||l.multiTouch)&&l.emitPointerOut(new ceramic_TouchInfo(-1,-1,n,t,!1))),null!=c&&l!=c&&(c._numPointerOver++,(1==c._numPointerOver||c.multiTouch)&&c.emitPointerOver(new ceramic_TouchInfo(-1,-1,n,t,!0)));for(var s=this.touches,r=0,a=s.values.length;;){for(;r<a&&null==s.values[r];)++r;if(!(r<a))break;var c,h=r++,u=s.values[h];n=u.x,t=u.y,i=2e4+u.index,l=this.matchedOverListeners.h[i];(c=this.matchFirstOverListener(n,t))!=l&&(null!=c?this.matchedOverListeners.h[i]=c:this.matchedOverListeners.remove(i)),null!=l&&l!=c&&l._lifecycleState>=0&&l._numPointerOver>0&&(l._numPointerOver--,(0==l._numPointerOver||l.multiTouch)&&l.emitPointerOut(new ceramic_TouchInfo(-1,-1,n,t,!1))),null!=c&&l!=c&&(c._numPointerOver++,(1==c._numPointerOver||c.multiTouch)&&c.emitPointerOver(new ceramic_TouchInfo(-1,-1,n,t,!0)))}},resize:function(){if(!this.resizing){this.resizing=!0,this.updateScaling();var e=ceramic_App.app.settings.get_scaling(),n=ceramic_App.app.settings.get_targetWidth(),t=ceramic_App.app.settings.get_targetHeight();this.emitResize(),e==ceramic_App.app.settings.get_scaling()&&n==ceramic_App.app.settings.get_targetWidth()&&t==ceramic_App.app.settings.get_targetHeight()||this.updateScaling(),this.updateTransform(),this.updateTexturesDensity(),this.resizing=!1}},updateTexturesDensity:function(){if(ceramic_App.app.settings.get_targetDensity()>0)this.set_texturesDensity(ceramic_App.app.settings.get_targetDensity());else{var e=this.density;e=e<1?1:Math.round(e),this.set_texturesDensity(e)}},updateScaling:function(){var e,n=ceramic_App.app.settings.get_targetWidth()>0?ceramic_App.app.settings.get_targetWidth():clay_Clay.app.screenWidth,t=ceramic_App.app.settings.get_targetHeight()>0?ceramic_App.app.settings.get_targetHeight():clay_Clay.app.screenHeight;switch(ceramic_App.app.settings.get_scaling()._hx_index){case 0:e=Math.max(n/(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity),t/(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity));break;case 1:e=Math.min(n/(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity),t/(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity));break;case 2:n=clay_Clay.app.screenWidth,t=clay_Clay.app.screenHeight,e=Math.max(n/(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity),t/(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity));break;case 3:var i=clay_Clay.app.screenHeight/clay_Clay.app.screenWidth,l=t/n;i>l?t=n*i:i<l&&(n=t/i),n=Math.ceil(n),t=Math.ceil(t),e=Math.max(n/(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity),t/(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity))}switch(this.actualWidth=Math.ceil(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity*e),this.actualHeight=Math.ceil(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity*e),this.density=1/e,ceramic_App.app.settings.get_scaling()._hx_index){case 0:case 1:this.offsetX=.5*(this.actualWidth-n),this.offsetY=.5*(this.actualHeight-t);break;case 2:case 3:this.offsetX=0,this.offsetY=0}this.width=n,this.height=t},updateTransform:function(){var e=ceramic_App.app.settings.get_targetWidth()>0?ceramic_App.app.settings.get_targetWidth()*this.density:clay_Clay.app.screenWidth*clay_Clay.app.screenDensity,n=ceramic_App.app.settings.get_targetHeight()>0?ceramic_App.app.settings.get_targetHeight()*this.density:clay_Clay.app.screenHeight*clay_Clay.app.screenDensity;switch(ceramic_App.app.settings.get_scaling()._hx_index){case 2:e=clay_Clay.app.screenWidth*clay_Clay.app.screenDensity,n=clay_Clay.app.screenHeight*clay_Clay.app.screenDensity;break;case 3:var t=clay_Clay.app.screenHeight/clay_Clay.app.screenWidth,i=n/e;t>i?n=e*t:t<i&&(e=n/t)}(l=this.matrix).a=1,l.b=0,l.c=0,l.d=1,l.tx=0,l.ty=0,l.changedDirty=!0;var l=this.matrix,s=this.density,r=this.density;l.a*=s,l.b*=r,l.c*=s,l.d*=r,l.tx*=s,l.ty*=r,l.changedDirty=!0;var a=.5*(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity-e),c=.5*(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity-n);(l=this.matrix).tx+=a,l.ty+=c,l.changedDirty=!0},matchFirstDownListener:function(e,n,t,i){null==i&&(i=-1),null==t&&(t=-1),ceramic_App.app.computeHierarchy();for(var l=0;l<2;){var s=l++;ceramic_Screen.matchedHitVisual=null;for(var r=0==s,a=ceramic_App.app.visuals,c=a.length-1;c>=0;){var h=a[c];if(h._lifecycleState>=0&&h.computedTouchable){var u=null!=h.__cbOnPointerDown&&h.__cbOnPointerDown.length>0||null!=h.__cbOncePointerDown&&h.__cbOncePointerDown.length>0,o=!1,_=!1;if(u&&(o=h._hits(e,n,!1))&&(_=h.interceptPointerDown(h,e,n,t,i)),o&&!_||r&&this.isHitVisual(h)&&h._hits(e,n,!1)){var d=!1;if(u)for(var b=h.parent;null!=b&&!(d=b.interceptPointerDown(h,e,n,t,i));)b=b.parent;if(!d){if(u||!r||!this.isHitVisual(h))return ceramic_Screen.matchedHitVisual=null,h;ceramic_Screen.matchedHitVisual=h}}}--c}}return ceramic_Screen.matchedHitVisual=null,null},matchFirstOverListener:function(e,n){ceramic_App.app.computeHierarchy();for(var t=0;t<2;){var i=t++;ceramic_Screen.matchedHitVisual=null;for(var l=0==i,s=ceramic_App.app.visuals,r=s.length-1;r>=0;){var a=s[r];if(a._lifecycleState>=0&&a.computedTouchable){var c=null!=a.__cbOnPointerOver&&a.__cbOnPointerOver.length>0||null!=a.__cbOncePointerOver&&a.__cbOncePointerOver.length>0,h=!1,u=!1;if(c&&(h=a._hits(e,n,!1))&&(u=a.interceptPointerOver(a,e,n)),h&&!u||l&&this.isHitVisual(a)&&a._hits(e,n,!1)){var o=!1;if(c)for(var _=a.parent;null!=_&&!(o=_.interceptPointerOver(a,e,n));)_=_.parent;if(!o){if(c||!l||!this.isHitVisual(a))return ceramic_Screen.matchedHitVisual=null,a;ceramic_Screen.matchedHitVisual=a}}}--r}}return ceramic_Screen.matchedHitVisual=null,null},prepareMultiTouchPointerDown:function(e){(-1!=e.buttonId&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex)&&(null==(h=this.touches.get(e.touchIndex))?(h=new ceramic_Touch(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,h)):(h.x=e.x,h.y=e.y));for(var n=this.pointerX,t=this.pointerY,i=0,l=0,s=0,r=this.touches,a=0,c=r.values.length;;){for(;a<c&&null==r.values[a];)++a;if(!(a<c))break;var h,u=a++;++i,l+=(h=r.values[u]).x,s+=h.y}i>0?(this.pointerX=l/i,this.pointerY=s/i):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-n,this.pointerDeltaY+=this.pointerY-t},prepareMultiTouchPointerUp:function(e){(-1!=e.buttonId&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex)&&(null==(h=this.touches.get(e.touchIndex))?(h=new ceramic_Touch(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,h)):(h.x=e.x,h.y=e.y));for(var n=this.pointerX,t=this.pointerY,i=0,l=0,s=0,r=this.touches,a=0,c=r.values.length;;){for(;a<c&&null==r.values[a];)++a;if(!(a<c))break;var h,u=a++;++i,l+=(h=r.values[u]).x,s+=h.y}i>0?(this.pointerX=l/i,this.pointerY=s/i):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-n,this.pointerDeltaY+=this.pointerY-t,-1!=e.touchIndex&&this.touches.set(e.touchIndex,null)},prepareMultiTouchPointerMove:function(e,n){(n&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex)&&(null==(u=this.touches.get(e.touchIndex))?(u=new ceramic_Touch(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,u)):(u.x=e.x,u.y=e.y));for(var t=this.pointerX,i=this.pointerY,l=0,s=0,r=0,a=this.touches,c=0,h=a.values.length;;){for(;c<h&&null==a.values[c];)++c;if(!(c<h))break;var u,o=c++;++l,s+=(u=a.values[o]).x,r+=u.y}l>0?(this.pointerX=s/l,this.pointerY=r/l):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-t,this.pointerDeltaY+=this.pointerY-i},updatePointer:function(){for(var e=this.pointerX,n=this.pointerY,t=0,i=0,l=0,s=this.touches,r=0,a=s.values.length;;){for(;r<a&&null==s.values[r];)++r;if(!(r<a))break;var c=r++,h=s.values[c];++t,i+=h.x,l+=h.y}t>0?(this.pointerX=i/t,this.pointerY=l/t):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-e,this.pointerDeltaY+=this.pointerY-n},matchedDownListeners:null,matchedOverListeners:null,didEmitMouseDown:function(e,n,t){var i=this.matchFirstDownListener(n,t,-1,e);null!=i&&(i._numPointerDown++,(1==i._numPointerDown||i.multiTouch)&&(ceramic_App.app.screen.set_focusedVisual(i),i.emitPointerDown(new ceramic_TouchInfo(-1,e,n,t,!0))));var l=1e4+e;this.matchedDownListeners.h[l]=i},didEmitMouseUp:function(e,n,t){var i=1e4+e,l=this.matchedDownListeners.h[i];null!=l&&l._lifecycleState>=0&&l._numPointerDown>0&&(l._numPointerDown--,(0==l._numPointerDown||l.multiTouch)&&l.emitPointerUp(new ceramic_TouchInfo(-1,e,n,t,l._hits(n,t,!1)))),this.matchedDownListeners.remove(i)},updateMouseOver:function(e,n){var t=1e4,i=this.matchedOverListeners.h[t],l=this.matchFirstOverListener(e,n);l!=i&&(null!=l?this.matchedOverListeners.h[t]=l:this.matchedOverListeners.remove(t)),null!=i&&i!=l&&i._lifecycleState>=0&&i._numPointerOver>0&&(i._numPointerOver--,(0==i._numPointerOver||i.multiTouch)&&i.emitPointerOut(new ceramic_TouchInfo(-1,-1,e,n,!1))),null!=l&&i!=l&&(l._numPointerOver++,(1==l._numPointerOver||l.multiTouch)&&l.emitPointerOver(new ceramic_TouchInfo(-1,-1,e,n,!0)))},didEmitTouchDown:function(e,n,t){var i=this.matchFirstDownListener(n,t,e,-1);null!=i&&(i._numPointerDown++,(1==i._numPointerDown||i.multiTouch)&&(ceramic_App.app.screen.set_focusedVisual(i),i.emitPointerDown(new ceramic_TouchInfo(e,-1,n,t,!0))));var l=2e4+e;this.matchedDownListeners.h[l]=i},didEmitTouchUp:function(e,n,t){var i=2e4+e,l=this.matchedDownListeners.h[i];null!=l&&l._lifecycleState>=0&&l._numPointerDown>0&&(l._numPointerDown--,(0==l._numPointerDown||l.multiTouch)&&l.emitPointerUp(new ceramic_TouchInfo(e,-1,n,t,l._hits(n,t,!1)))),this.matchedDownListeners.remove(i)},updateTouchOver:function(e,n,t){var i=2e4+e,l=this.matchedOverListeners.h[i],s=this.matchFirstOverListener(n,t);s!=l&&(null!=s?this.matchedOverListeners.h[i]=s:this.matchedOverListeners.remove(i)),null!=l&&l!=s&&l._lifecycleState>=0&&l._numPointerOver>0&&(l._numPointerOver--,(0==l._numPointerOver||l.multiTouch)&&l.emitPointerOut(new ceramic_TouchInfo(-1,-1,n,t,!1))),null!=s&&l!=s&&(s._numPointerOver++,(1==s._numPointerOver||s.multiTouch)&&s.emitPointerOver(new ceramic_TouchInfo(-1,-1,n,t,!0)))},hitVisuals:null,addHitVisual:function(e){var n=8==(8&e.flags);this.hitVisuals.push(e),n||(e.flags|=8)},removeHitVisual:function(e){var n=this.hitVisuals.indexOf(e);-1==n?ceramic_App.app.logger.warning("Hit visual not removed from hitVisuals because it was not added at the first place",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Screen.hx",lineNumber:1193,className:"ceramic.Screen",methodName:"removeHitVisual"}):(this.hitVisuals.splice(n,1),-1==this.hitVisuals.indexOf(e)&&(e.flags&=-9))},isHitVisual:function(e){return 8==(8&e.flags)},resetDeltas:function(){this.pointerDeltaX=0,this.pointerDeltaY=0,this.mouseDeltaX=0,this.mouseDeltaY=0,this.mouseWheelDeltaX=0,this.mouseWheelDeltaY=0;for(var e=0;e<=this.maxTouchIndex;){var n=this.touches.get(e);null!=n&&(n.deltaX=0,n.deltaY=0),++e}},willEmitMouseMove:function(e,n){this.mouseDeltaX+=e-this.prevMouseX,this.mouseDeltaY+=n-this.prevMouseY,this.prevMouseX=e,this.prevMouseY=n},willEmitMouseDown:function(e,n,t){var i=this;this.prevMouseX=n,this.prevMouseY=t;var l=this.pressedMouseButtons.intMap.h[0|e],s=null!=l?l:0;-1==s&&(s=0),this.pressedMouseButtons.set(e,s+1),0==s&&ceramic_App.app.beginUpdateCallbacks.push((function(){var n=i.pressedMouseButtons.intMap.h[0|e];1==(null!=n?n:0)&&i.pressedMouseButtons.set(e,2)}))},willEmitMouseUp:function(e,n,t){var i=this;this.pressedMouseButtons.set(e,-1),ceramic_App.app.beginUpdateCallbacks.push((function(){var n=i.pressedMouseButtons.intMap.h[0|e];-1==(null!=n?n:0)&&i.pressedMouseButtons.set(e,0)}))},willEmitMouseWheel:function(e,n){this.mouseWheelDeltaX+=e,this.mouseWheelDeltaY+=n},mouseAllowed:function(e){return!0},_mousePressed:function(e){var n=this.pressedMouseButtons.intMap.h[0|e];return(null!=n?n:0)>0},_mouseJustPressed:function(e){var n=this.pressedMouseButtons.intMap.h[0|e];return 1==(null!=n?n:0)},_mouseJustReleased:function(e){var n=this.pressedMouseButtons.intMap.h[0|e];return-1==(null!=n?n:0)},willEmitTouchMove:function(e,n,t){e>this.maxTouchIndex&&(this.maxTouchIndex=e);var i,l=2*e,s=l+1,r=null!=(i=this.prevTouchPositions.intMap.h[0|l])?i:0,a=null!=(i=this.prevTouchPositions.intMap.h[0|s])?i:0,c=this.touches.get(e);null!=c&&(c.deltaX+=n-r,c.deltaY+=t-a)},willEmitTouchDown:function(e,n,t){var i=this,l=2*e,s=l+1;this.prevTouchPositions.set(l,n),this.prevTouchPositions.set(s,t);var r=this.pressedTouches.intMap.h[0|e],a=null!=r?r:0;-1==a&&(a=0),this.pressedTouches.set(e,a+1),0==a&&ceramic_App.app.beginUpdateCallbacks.push((function(){var n=i.pressedTouches.intMap.h[0|e];1==(null!=n?n:0)&&i.pressedTouches.set(e,2)}))},willEmitTouchUp:function(e,n,t){var i=this,l=this.pressedTouches.intMap.h[0|e];1==(null!=l?l:0)?this.pressedTouches.set(e,-2):this.pressedTouches.set(e,-1),ceramic_App.app.beginUpdateCallbacks.push((function(){var n=i.pressedTouches.intMap.h[0|e],t=null!=n?n:0;-1!=t&&-2!=t||i.pressedTouches.set(e,0)}))},_touchPressed:function(e){var n=this.pressedTouches.intMap.h[0|e];return(null!=n?n:0)>0},_touchJustPressed:function(e){var n=this.pressedTouches.intMap.h[0|e],t=null!=n?n:0;return 1==t||-2==t},_touchJustReleased:function(e){var n=this.pressedTouches.intMap.h[0|e],t=null!=n?n:0;return-1==t||-2==t},touchDeltaX:function(e){var n=this.touches.get(e);return null!=n?n.deltaX:0},touchDeltaY:function(e){var n=this.touches.get(e);return null!=n?n.deltaY:0},toTexture:function(e){ceramic_App.app.backend.screen.screenshotToTexture((function(n){if(null!=n){var t=new ceramic_Texture(n,clay_Clay.app.screenDensity);e(t)}else e(null)}))},toPixels:function(e){ceramic_App.app.backend.screen.screenshotToPixels(e)},_toPng:function(e,n){ceramic_App.app.onceFinishDraw(this,(function(){ceramic_App.app.backend.screen.screenshotToPng(e,n)}))},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offFocusedVisualChange(),this.offTexturesDensityChange(),this.offResize(),this.offMouseDown(),this.offMouseUp(),this.offMouseWheel(),this.offMouseMove(),this.offTouchDown(),this.offTouchUp(),this.offTouchMove(),this.offPointerDown(),this.offPointerUp(),this.offPointerMove(),this.offMultiTouchPointerDown(),this.offMultiTouchPointerUp(),this.offMultiTouchPointerMove(),this.offFocus(),this.offBlur()},__class__:ceramic_Screen,__properties__:$extend(ceramic_Entity.prototype.__properties__,{get_isPointerDown:"get_isPointerDown",set_texturesDensity:"set_texturesDensity",get_texturesDensity:"get_texturesDensity",set_unobservedFocusedVisual:"set_unobservedFocusedVisual",set_focusedVisual:"set_focusedVisual",get_focusedVisual:"get_focusedVisual",get_nativeDensity:"get_nativeDensity",get_nativeHeight:"get_nativeHeight",get_nativeWidth:"get_nativeWidth"})});var m=i["ceramic.ScreenScaling"]={__ename__:"ceramic.ScreenScaling",__constructs__:null,FIT:{_hx_name:"FIT",_hx_index:0,__enum__:"ceramic.ScreenScaling",toString:$estr},FILL:{_hx_name:"FILL",_hx_index:1,__enum__:"ceramic.ScreenScaling",toString:$estr},RESIZE:{_hx_name:"RESIZE",_hx_index:2,__enum__:"ceramic.ScreenScaling",toString:$estr},FIT_RESIZE:{_hx_name:"FIT_RESIZE",_hx_index:3,__enum__:"ceramic.ScreenScaling",toString:$estr}};m.__constructs__=[m.FIT,m.FILL,m.RESIZE,m.FIT_RESIZE];var ceramic_Settings=function(){this.defaultShader="shader:textured",this.defaultFont="font:RobotoMedium",this.backend={},this.assetsPath="assets",this.resizable=!1,this.antialiasing=0,this.appInfo=null,this.collections=null,this.orientation=0,this.unobservedOverrideDelta=-1,this.overrideDeltaAutoruns=null,this.unobservedMaxDelta=.1,this.maxDeltaAutoruns=null,this.unobservedTargetFps=-1,this.targetFpsAutoruns=null,this.unobservedFullscreen=!1,this.fullscreenAutoruns=null,this.unobservedTitle="App",this.titleAutoruns=null,this.unobservedScaling=m.FIT,this.scalingAutoruns=null,this.unobservedBackground=0,this.backgroundAutoruns=null,this.unobservedTargetDensity=0,this.targetDensityAutoruns=null,this.unobservedWindowHeight=0,this.windowHeightAutoruns=null,this.unobservedWindowWidth=0,this.windowWidthAutoruns=null,this.unobservedTargetHeight=0,this.targetHeightAutoruns=null,this.unobservedTargetWidth=0,this.targetWidthAutoruns=null,this.observedDirty=!1};t["ceramic.Settings"]=ceramic_Settings,ceramic_Settings.__name__="ceramic.Settings",ceramic_Settings.__interfaces__=[tracker_Observable],ceramic_Settings.prototype={__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,a=this.__cbOnObservedDirty.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[c],++s):--t}if(null!=this.__cbOnceObservedDirty){var h=null,u=null;for(r=0,a=this.__cbOnceObservedDirty.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceObservedDirty[c],this.__cbOnceObservedDirty[c]=null;var o=this.__cbOnceOwnerUnbindObservedDirty[c];this.__cbOnceOwnerUnbindObservedDirty[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindObservedDirty[c]),u.push(this.__cbOnceObservedDirty[c])}this.__cbOnceOwnerUnbindObservedDirty=h,this.__cbOnceObservedDirty=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},observedDirty:null,targetWidthAutoruns:null,get_targetWidth:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.targetWidthAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.targetWidthAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedTargetWidth},set_targetWidth:function(e){var n=this.unobservedTargetWidth;if(this.unobservedTargetWidth=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetWidthChange(e,n);var t=this.targetWidthAutoruns;if(null!=t){this.targetWidthAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTargetWidth:function(){var e=this.unobservedTargetWidth;this.emitTargetWidthChange(e,e);var n=this.targetWidthAutoruns;if(null!=n){this.targetWidthAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedTargetWidth:null,__cbOnTargetWidthChange:null,__cbOnceTargetWidthChange:null,__cbOnOwnerUnbindTargetWidthChange:null,__cbOnceOwnerUnbindTargetWidthChange:null,emitTargetWidthChange:function(e,n){var t=0;if(null!=this.__cbOnTargetWidthChange&&(t+=this.__cbOnTargetWidthChange.length),null!=this.__cbOnceTargetWidthChange&&(t+=this.__cbOnceTargetWidthChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTargetWidthChange)for(var r=0,a=this.__cbOnTargetWidthChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnTargetWidthChange[c],++s):--t}if(null!=this.__cbOnceTargetWidthChange){var h=null,u=null;for(r=0,a=this.__cbOnceTargetWidthChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceTargetWidthChange[c],this.__cbOnceTargetWidthChange[c]=null;var o=this.__cbOnceOwnerUnbindTargetWidthChange[c];this.__cbOnceOwnerUnbindTargetWidthChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindTargetWidthChange[c]),u.push(this.__cbOnceTargetWidthChange[c])}this.__cbOnceOwnerUnbindTargetWidthChange=h,this.__cbOnceTargetWidthChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onTargetWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetWidthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTargetWidthChange&&(this.__cbOnOwnerUnbindTargetWidthChange=[]),this.__cbOnOwnerUnbindTargetWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTargetWidthChange&&(this.__cbOnOwnerUnbindTargetWidthChange=[]),this.__cbOnOwnerUnbindTargetWidthChange.push(null);null==this.__cbOnTargetWidthChange&&(this.__cbOnTargetWidthChange=[]),this.__cbOnTargetWidthChange.push(n)},onceTargetWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetWidthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTargetWidthChange&&(this.__cbOnceOwnerUnbindTargetWidthChange=[]),this.__cbOnceOwnerUnbindTargetWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTargetWidthChange&&(this.__cbOnceOwnerUnbindTargetWidthChange=[]),this.__cbOnceOwnerUnbindTargetWidthChange.push(null);null==this.__cbOnceTargetWidthChange&&(this.__cbOnceTargetWidthChange=[]),this.__cbOnceTargetWidthChange.push(n)},offTargetWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetWidthChange&&-1!=(n=this.__cbOnTargetWidthChange.indexOf(e))&&(this.__cbOnTargetWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTargetWidthChange[n])&&s(),this.__cbOnOwnerUnbindTargetWidthChange.splice(n,1)),null!=this.__cbOnceTargetWidthChange&&-1!=(n=this.__cbOnceTargetWidthChange.indexOf(e))&&(this.__cbOnceTargetWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTargetWidthChange[n])&&s(),this.__cbOnceOwnerUnbindTargetWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTargetWidthChange[l])&&s()}this.__cbOnOwnerUnbindTargetWidthChange=null}if(null!=this.__cbOnceOwnerUnbindTargetWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetWidthChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTargetWidthChange[l])&&s()}this.__cbOnceOwnerUnbindTargetWidthChange=null}this.__cbOnTargetWidthChange=null,this.__cbOnceTargetWidthChange=null}},listensTargetWidthChange:function(){return null!=this.__cbOnTargetWidthChange&&this.__cbOnTargetWidthChange.length>0||null!=this.__cbOnceTargetWidthChange&&this.__cbOnceTargetWidthChange.length>0},targetHeightAutoruns:null,get_targetHeight:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.targetHeightAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.targetHeightAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedTargetHeight},set_targetHeight:function(e){var n=this.unobservedTargetHeight;if(this.unobservedTargetHeight=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetHeightChange(e,n);var t=this.targetHeightAutoruns;if(null!=t){this.targetHeightAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTargetHeight:function(){var e=this.unobservedTargetHeight;this.emitTargetHeightChange(e,e);var n=this.targetHeightAutoruns;if(null!=n){this.targetHeightAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedTargetHeight:null,__cbOnTargetHeightChange:null,__cbOnceTargetHeightChange:null,__cbOnOwnerUnbindTargetHeightChange:null,__cbOnceOwnerUnbindTargetHeightChange:null,emitTargetHeightChange:function(e,n){var t=0;if(null!=this.__cbOnTargetHeightChange&&(t+=this.__cbOnTargetHeightChange.length),null!=this.__cbOnceTargetHeightChange&&(t+=this.__cbOnceTargetHeightChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTargetHeightChange)for(var r=0,a=this.__cbOnTargetHeightChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnTargetHeightChange[c],++s):--t}if(null!=this.__cbOnceTargetHeightChange){var h=null,u=null;for(r=0,a=this.__cbOnceTargetHeightChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceTargetHeightChange[c],this.__cbOnceTargetHeightChange[c]=null;var o=this.__cbOnceOwnerUnbindTargetHeightChange[c];this.__cbOnceOwnerUnbindTargetHeightChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindTargetHeightChange[c]),u.push(this.__cbOnceTargetHeightChange[c])}this.__cbOnceOwnerUnbindTargetHeightChange=h,this.__cbOnceTargetHeightChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onTargetHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetHeightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTargetHeightChange&&(this.__cbOnOwnerUnbindTargetHeightChange=[]),this.__cbOnOwnerUnbindTargetHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTargetHeightChange&&(this.__cbOnOwnerUnbindTargetHeightChange=[]),this.__cbOnOwnerUnbindTargetHeightChange.push(null);null==this.__cbOnTargetHeightChange&&(this.__cbOnTargetHeightChange=[]),this.__cbOnTargetHeightChange.push(n)},onceTargetHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetHeightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTargetHeightChange&&(this.__cbOnceOwnerUnbindTargetHeightChange=[]),this.__cbOnceOwnerUnbindTargetHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTargetHeightChange&&(this.__cbOnceOwnerUnbindTargetHeightChange=[]),this.__cbOnceOwnerUnbindTargetHeightChange.push(null);null==this.__cbOnceTargetHeightChange&&(this.__cbOnceTargetHeightChange=[]),this.__cbOnceTargetHeightChange.push(n)},offTargetHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetHeightChange&&-1!=(n=this.__cbOnTargetHeightChange.indexOf(e))&&(this.__cbOnTargetHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTargetHeightChange[n])&&s(),this.__cbOnOwnerUnbindTargetHeightChange.splice(n,1)),null!=this.__cbOnceTargetHeightChange&&-1!=(n=this.__cbOnceTargetHeightChange.indexOf(e))&&(this.__cbOnceTargetHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTargetHeightChange[n])&&s(),this.__cbOnceOwnerUnbindTargetHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTargetHeightChange[l])&&s()}this.__cbOnOwnerUnbindTargetHeightChange=null}if(null!=this.__cbOnceOwnerUnbindTargetHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetHeightChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTargetHeightChange[l])&&s()}this.__cbOnceOwnerUnbindTargetHeightChange=null}this.__cbOnTargetHeightChange=null,this.__cbOnceTargetHeightChange=null}},listensTargetHeightChange:function(){return null!=this.__cbOnTargetHeightChange&&this.__cbOnTargetHeightChange.length>0||null!=this.__cbOnceTargetHeightChange&&this.__cbOnceTargetHeightChange.length>0},targetSize:function(e,n){this.set_targetWidth(e),this.set_targetHeight(n)},windowWidthAutoruns:null,get_windowWidth:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.windowWidthAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.windowWidthAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedWindowWidth},set_windowWidth:function(e){var n=this.unobservedWindowWidth;if(this.unobservedWindowWidth=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWindowWidthChange(e,n);var t=this.windowWidthAutoruns;if(null!=t){this.windowWidthAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateWindowWidth:function(){var e=this.unobservedWindowWidth;this.emitWindowWidthChange(e,e);var n=this.windowWidthAutoruns;if(null!=n){this.windowWidthAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedWindowWidth:null,__cbOnWindowWidthChange:null,__cbOnceWindowWidthChange:null,__cbOnOwnerUnbindWindowWidthChange:null,__cbOnceOwnerUnbindWindowWidthChange:null,emitWindowWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWindowWidthChange&&(t+=this.__cbOnWindowWidthChange.length),null!=this.__cbOnceWindowWidthChange&&(t+=this.__cbOnceWindowWidthChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowWidthChange)for(var r=0,a=this.__cbOnWindowWidthChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnWindowWidthChange[c],++s):--t}if(null!=this.__cbOnceWindowWidthChange){var h=null,u=null;for(r=0,a=this.__cbOnceWindowWidthChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceWindowWidthChange[c],this.__cbOnceWindowWidthChange[c]=null;var o=this.__cbOnceOwnerUnbindWindowWidthChange[c];this.__cbOnceOwnerUnbindWindowWidthChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindWindowWidthChange[c]),u.push(this.__cbOnceWindowWidthChange[c])}this.__cbOnceOwnerUnbindWindowWidthChange=h,this.__cbOnceWindowWidthChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onWindowWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event windowWidthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWindowWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindWindowWidthChange&&(this.__cbOnOwnerUnbindWindowWidthChange=[]),this.__cbOnOwnerUnbindWindowWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindWindowWidthChange&&(this.__cbOnOwnerUnbindWindowWidthChange=[]),this.__cbOnOwnerUnbindWindowWidthChange.push(null);null==this.__cbOnWindowWidthChange&&(this.__cbOnWindowWidthChange=[]),this.__cbOnWindowWidthChange.push(n)},onceWindowWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event windowWidthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWindowWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindWindowWidthChange&&(this.__cbOnceOwnerUnbindWindowWidthChange=[]),this.__cbOnceOwnerUnbindWindowWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindWindowWidthChange&&(this.__cbOnceOwnerUnbindWindowWidthChange=[]),this.__cbOnceOwnerUnbindWindowWidthChange.push(null);null==this.__cbOnceWindowWidthChange&&(this.__cbOnceWindowWidthChange=[]),this.__cbOnceWindowWidthChange.push(n)},offWindowWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowWidthChange&&-1!=(n=this.__cbOnWindowWidthChange.indexOf(e))&&(this.__cbOnWindowWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowWidthChange[n])&&s(),this.__cbOnOwnerUnbindWindowWidthChange.splice(n,1)),null!=this.__cbOnceWindowWidthChange&&-1!=(n=this.__cbOnceWindowWidthChange.indexOf(e))&&(this.__cbOnceWindowWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowWidthChange[n])&&s(),this.__cbOnceOwnerUnbindWindowWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowWidthChange[l])&&s()}this.__cbOnOwnerUnbindWindowWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWindowWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowWidthChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowWidthChange[l])&&s()}this.__cbOnceOwnerUnbindWindowWidthChange=null}this.__cbOnWindowWidthChange=null,this.__cbOnceWindowWidthChange=null}},listensWindowWidthChange:function(){return null!=this.__cbOnWindowWidthChange&&this.__cbOnWindowWidthChange.length>0||null!=this.__cbOnceWindowWidthChange&&this.__cbOnceWindowWidthChange.length>0},windowHeightAutoruns:null,get_windowHeight:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.windowHeightAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.windowHeightAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedWindowHeight},set_windowHeight:function(e){var n=this.unobservedWindowHeight;if(this.unobservedWindowHeight=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWindowHeightChange(e,n);var t=this.windowHeightAutoruns;if(null!=t){this.windowHeightAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateWindowHeight:function(){var e=this.unobservedWindowHeight;this.emitWindowHeightChange(e,e);var n=this.windowHeightAutoruns;if(null!=n){this.windowHeightAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedWindowHeight:null,__cbOnWindowHeightChange:null,__cbOnceWindowHeightChange:null,__cbOnOwnerUnbindWindowHeightChange:null,__cbOnceOwnerUnbindWindowHeightChange:null,emitWindowHeightChange:function(e,n){var t=0;if(null!=this.__cbOnWindowHeightChange&&(t+=this.__cbOnWindowHeightChange.length),null!=this.__cbOnceWindowHeightChange&&(t+=this.__cbOnceWindowHeightChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowHeightChange)for(var r=0,a=this.__cbOnWindowHeightChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnWindowHeightChange[c],++s):--t}if(null!=this.__cbOnceWindowHeightChange){var h=null,u=null;for(r=0,a=this.__cbOnceWindowHeightChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceWindowHeightChange[c],this.__cbOnceWindowHeightChange[c]=null;var o=this.__cbOnceOwnerUnbindWindowHeightChange[c];this.__cbOnceOwnerUnbindWindowHeightChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindWindowHeightChange[c]),u.push(this.__cbOnceWindowHeightChange[c])}this.__cbOnceOwnerUnbindWindowHeightChange=h,this.__cbOnceWindowHeightChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onWindowHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event windowHeightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWindowHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindWindowHeightChange&&(this.__cbOnOwnerUnbindWindowHeightChange=[]),this.__cbOnOwnerUnbindWindowHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindWindowHeightChange&&(this.__cbOnOwnerUnbindWindowHeightChange=[]),this.__cbOnOwnerUnbindWindowHeightChange.push(null);null==this.__cbOnWindowHeightChange&&(this.__cbOnWindowHeightChange=[]),this.__cbOnWindowHeightChange.push(n)},onceWindowHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event windowHeightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWindowHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindWindowHeightChange&&(this.__cbOnceOwnerUnbindWindowHeightChange=[]),this.__cbOnceOwnerUnbindWindowHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindWindowHeightChange&&(this.__cbOnceOwnerUnbindWindowHeightChange=[]),this.__cbOnceOwnerUnbindWindowHeightChange.push(null);null==this.__cbOnceWindowHeightChange&&(this.__cbOnceWindowHeightChange=[]),this.__cbOnceWindowHeightChange.push(n)},offWindowHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowHeightChange&&-1!=(n=this.__cbOnWindowHeightChange.indexOf(e))&&(this.__cbOnWindowHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowHeightChange[n])&&s(),this.__cbOnOwnerUnbindWindowHeightChange.splice(n,1)),null!=this.__cbOnceWindowHeightChange&&-1!=(n=this.__cbOnceWindowHeightChange.indexOf(e))&&(this.__cbOnceWindowHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowHeightChange[n])&&s(),this.__cbOnceOwnerUnbindWindowHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowHeightChange[l])&&s()}this.__cbOnOwnerUnbindWindowHeightChange=null}if(null!=this.__cbOnceOwnerUnbindWindowHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowHeightChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowHeightChange[l])&&s()}this.__cbOnceOwnerUnbindWindowHeightChange=null}this.__cbOnWindowHeightChange=null,this.__cbOnceWindowHeightChange=null}},listensWindowHeightChange:function(){return null!=this.__cbOnWindowHeightChange&&this.__cbOnWindowHeightChange.length>0||null!=this.__cbOnceWindowHeightChange&&this.__cbOnceWindowHeightChange.length>0},targetDensityAutoruns:null,get_targetDensity:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.targetDensityAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.targetDensityAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedTargetDensity},set_targetDensity:function(e){var n=this.unobservedTargetDensity;if(this.unobservedTargetDensity=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetDensityChange(e,n);var t=this.targetDensityAutoruns;if(null!=t){this.targetDensityAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTargetDensity:function(){var e=this.unobservedTargetDensity;this.emitTargetDensityChange(e,e);var n=this.targetDensityAutoruns;if(null!=n){this.targetDensityAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedTargetDensity:null,__cbOnTargetDensityChange:null,__cbOnceTargetDensityChange:null,__cbOnOwnerUnbindTargetDensityChange:null,__cbOnceOwnerUnbindTargetDensityChange:null,emitTargetDensityChange:function(e,n){var t=0;if(null!=this.__cbOnTargetDensityChange&&(t+=this.__cbOnTargetDensityChange.length),null!=this.__cbOnceTargetDensityChange&&(t+=this.__cbOnceTargetDensityChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTargetDensityChange)for(var r=0,a=this.__cbOnTargetDensityChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnTargetDensityChange[c],++s):--t}if(null!=this.__cbOnceTargetDensityChange){var h=null,u=null;for(r=0,a=this.__cbOnceTargetDensityChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceTargetDensityChange[c],this.__cbOnceTargetDensityChange[c]=null;var o=this.__cbOnceOwnerUnbindTargetDensityChange[c];this.__cbOnceOwnerUnbindTargetDensityChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindTargetDensityChange[c]),u.push(this.__cbOnceTargetDensityChange[c])}this.__cbOnceOwnerUnbindTargetDensityChange=h,this.__cbOnceTargetDensityChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onTargetDensityChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetDensityChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetDensityChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTargetDensityChange&&(this.__cbOnOwnerUnbindTargetDensityChange=[]),this.__cbOnOwnerUnbindTargetDensityChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTargetDensityChange&&(this.__cbOnOwnerUnbindTargetDensityChange=[]),this.__cbOnOwnerUnbindTargetDensityChange.push(null);null==this.__cbOnTargetDensityChange&&(this.__cbOnTargetDensityChange=[]),this.__cbOnTargetDensityChange.push(n)},onceTargetDensityChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetDensityChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetDensityChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTargetDensityChange&&(this.__cbOnceOwnerUnbindTargetDensityChange=[]),this.__cbOnceOwnerUnbindTargetDensityChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTargetDensityChange&&(this.__cbOnceOwnerUnbindTargetDensityChange=[]),this.__cbOnceOwnerUnbindTargetDensityChange.push(null);null==this.__cbOnceTargetDensityChange&&(this.__cbOnceTargetDensityChange=[]),this.__cbOnceTargetDensityChange.push(n)},offTargetDensityChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetDensityChange&&-1!=(n=this.__cbOnTargetDensityChange.indexOf(e))&&(this.__cbOnTargetDensityChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTargetDensityChange[n])&&s(),this.__cbOnOwnerUnbindTargetDensityChange.splice(n,1)),null!=this.__cbOnceTargetDensityChange&&-1!=(n=this.__cbOnceTargetDensityChange.indexOf(e))&&(this.__cbOnceTargetDensityChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTargetDensityChange[n])&&s(),this.__cbOnceOwnerUnbindTargetDensityChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetDensityChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetDensityChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTargetDensityChange[l])&&s()}this.__cbOnOwnerUnbindTargetDensityChange=null}if(null!=this.__cbOnceOwnerUnbindTargetDensityChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetDensityChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTargetDensityChange[l])&&s()}this.__cbOnceOwnerUnbindTargetDensityChange=null}this.__cbOnTargetDensityChange=null,this.__cbOnceTargetDensityChange=null}},listensTargetDensityChange:function(){return null!=this.__cbOnTargetDensityChange&&this.__cbOnTargetDensityChange.length>0||null!=this.__cbOnceTargetDensityChange&&this.__cbOnceTargetDensityChange.length>0},backgroundAutoruns:null,get_background:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.backgroundAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.backgroundAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedBackground},set_background:function(e){var n=this.unobservedBackground;if(this.unobservedBackground=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBackgroundChange(e,n);var t=this.backgroundAutoruns;if(null!=t){this.backgroundAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateBackground:function(){var e=this.unobservedBackground;this.emitBackgroundChange(e,e);var n=this.backgroundAutoruns;if(null!=n){this.backgroundAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedBackground:null,__cbOnBackgroundChange:null,__cbOnceBackgroundChange:null,__cbOnOwnerUnbindBackgroundChange:null,__cbOnceOwnerUnbindBackgroundChange:null,emitBackgroundChange:function(e,n){var t=0;if(null!=this.__cbOnBackgroundChange&&(t+=this.__cbOnBackgroundChange.length),null!=this.__cbOnceBackgroundChange&&(t+=this.__cbOnceBackgroundChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnBackgroundChange)for(var r=0,a=this.__cbOnBackgroundChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnBackgroundChange[c],++s):--t}if(null!=this.__cbOnceBackgroundChange){var h=null,u=null;for(r=0,a=this.__cbOnceBackgroundChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceBackgroundChange[c],this.__cbOnceBackgroundChange[c]=null;var o=this.__cbOnceOwnerUnbindBackgroundChange[c];this.__cbOnceOwnerUnbindBackgroundChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindBackgroundChange[c]),u.push(this.__cbOnceBackgroundChange[c])}this.__cbOnceOwnerUnbindBackgroundChange=h,this.__cbOnceBackgroundChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onBackgroundChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event backgroundChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBackgroundChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBackgroundChange&&(this.__cbOnOwnerUnbindBackgroundChange=[]),this.__cbOnOwnerUnbindBackgroundChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBackgroundChange&&(this.__cbOnOwnerUnbindBackgroundChange=[]),this.__cbOnOwnerUnbindBackgroundChange.push(null);null==this.__cbOnBackgroundChange&&(this.__cbOnBackgroundChange=[]),this.__cbOnBackgroundChange.push(n)},onceBackgroundChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event backgroundChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBackgroundChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBackgroundChange&&(this.__cbOnceOwnerUnbindBackgroundChange=[]),this.__cbOnceOwnerUnbindBackgroundChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBackgroundChange&&(this.__cbOnceOwnerUnbindBackgroundChange=[]),this.__cbOnceOwnerUnbindBackgroundChange.push(null);null==this.__cbOnceBackgroundChange&&(this.__cbOnceBackgroundChange=[]),this.__cbOnceBackgroundChange.push(n)},offBackgroundChange:function(e){if(null!=e){var n;null!=this.__cbOnBackgroundChange&&-1!=(n=this.__cbOnBackgroundChange.indexOf(e))&&(this.__cbOnBackgroundChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBackgroundChange[n])&&s(),this.__cbOnOwnerUnbindBackgroundChange.splice(n,1)),null!=this.__cbOnceBackgroundChange&&-1!=(n=this.__cbOnceBackgroundChange.indexOf(e))&&(this.__cbOnceBackgroundChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBackgroundChange[n])&&s(),this.__cbOnceOwnerUnbindBackgroundChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBackgroundChange){for(var t=0,i=this.__cbOnOwnerUnbindBackgroundChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBackgroundChange[l])&&s()}this.__cbOnOwnerUnbindBackgroundChange=null}if(null!=this.__cbOnceOwnerUnbindBackgroundChange){for(t=0,i=this.__cbOnceOwnerUnbindBackgroundChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindBackgroundChange[l])&&s()}this.__cbOnceOwnerUnbindBackgroundChange=null}this.__cbOnBackgroundChange=null,this.__cbOnceBackgroundChange=null}},listensBackgroundChange:function(){return null!=this.__cbOnBackgroundChange&&this.__cbOnBackgroundChange.length>0||null!=this.__cbOnceBackgroundChange&&this.__cbOnceBackgroundChange.length>0},scalingAutoruns:null,get_scaling:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.scalingAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.scalingAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedScaling},set_scaling:function(e){var n=this.unobservedScaling;if(this.unobservedScaling=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScalingChange(e,n);var t=this.scalingAutoruns;if(null!=t){this.scalingAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateScaling:function(){var e=this.unobservedScaling;this.emitScalingChange(e,e);var n=this.scalingAutoruns;if(null!=n){this.scalingAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedScaling:null,__cbOnScalingChange:null,__cbOnceScalingChange:null,__cbOnOwnerUnbindScalingChange:null,__cbOnceOwnerUnbindScalingChange:null,emitScalingChange:function(e,n){var t=0;if(null!=this.__cbOnScalingChange&&(t+=this.__cbOnScalingChange.length),null!=this.__cbOnceScalingChange&&(t+=this.__cbOnceScalingChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnScalingChange)for(var r=0,a=this.__cbOnScalingChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnScalingChange[c],++s):--t}if(null!=this.__cbOnceScalingChange){var h=null,u=null;for(r=0,a=this.__cbOnceScalingChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceScalingChange[c],this.__cbOnceScalingChange[c]=null;var o=this.__cbOnceOwnerUnbindScalingChange[c];this.__cbOnceOwnerUnbindScalingChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindScalingChange[c]),u.push(this.__cbOnceScalingChange[c])}this.__cbOnceOwnerUnbindScalingChange=h,this.__cbOnceScalingChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onScalingChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event scalingChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offScalingChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(null);null==this.__cbOnScalingChange&&(this.__cbOnScalingChange=[]),this.__cbOnScalingChange.push(n)},onceScalingChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event scalingChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offScalingChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(null);null==this.__cbOnceScalingChange&&(this.__cbOnceScalingChange=[]),this.__cbOnceScalingChange.push(n)},offScalingChange:function(e){if(null!=e){var n;null!=this.__cbOnScalingChange&&-1!=(n=this.__cbOnScalingChange.indexOf(e))&&(this.__cbOnScalingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScalingChange[n])&&s(),this.__cbOnOwnerUnbindScalingChange.splice(n,1)),null!=this.__cbOnceScalingChange&&-1!=(n=this.__cbOnceScalingChange.indexOf(e))&&(this.__cbOnceScalingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScalingChange[n])&&s(),this.__cbOnceOwnerUnbindScalingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScalingChange){for(var t=0,i=this.__cbOnOwnerUnbindScalingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScalingChange[l])&&s()}this.__cbOnOwnerUnbindScalingChange=null}if(null!=this.__cbOnceOwnerUnbindScalingChange){for(t=0,i=this.__cbOnceOwnerUnbindScalingChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindScalingChange[l])&&s()}this.__cbOnceOwnerUnbindScalingChange=null}this.__cbOnScalingChange=null,this.__cbOnceScalingChange=null}},listensScalingChange:function(){return null!=this.__cbOnScalingChange&&this.__cbOnScalingChange.length>0||null!=this.__cbOnceScalingChange&&this.__cbOnceScalingChange.length>0},titleAutoruns:null,get_title:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.titleAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.titleAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedTitle},set_title:function(e){var n=this.unobservedTitle;if(this.unobservedTitle=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleChange(e,n);var t=this.titleAutoruns;if(null!=t){this.titleAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTitle:function(){var e=this.unobservedTitle;this.emitTitleChange(e,e);var n=this.titleAutoruns;if(null!=n){this.titleAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedTitle:null,__cbOnTitleChange:null,__cbOnceTitleChange:null,__cbOnOwnerUnbindTitleChange:null,__cbOnceOwnerUnbindTitleChange:null,emitTitleChange:function(e,n){var t=0;if(null!=this.__cbOnTitleChange&&(t+=this.__cbOnTitleChange.length),null!=this.__cbOnceTitleChange&&(t+=this.__cbOnceTitleChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTitleChange)for(var r=0,a=this.__cbOnTitleChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnTitleChange[c],++s):--t}if(null!=this.__cbOnceTitleChange){var h=null,u=null;for(r=0,a=this.__cbOnceTitleChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceTitleChange[c],this.__cbOnceTitleChange[c]=null;var o=this.__cbOnceOwnerUnbindTitleChange[c];this.__cbOnceOwnerUnbindTitleChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindTitleChange[c]),u.push(this.__cbOnceTitleChange[c])}this.__cbOnceOwnerUnbindTitleChange=h,this.__cbOnceTitleChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onTitleChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event titleChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTitleChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(null);null==this.__cbOnTitleChange&&(this.__cbOnTitleChange=[]),this.__cbOnTitleChange.push(n)},onceTitleChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event titleChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTitleChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(null);null==this.__cbOnceTitleChange&&(this.__cbOnceTitleChange=[]),this.__cbOnceTitleChange.push(n)},offTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleChange&&-1!=(n=this.__cbOnTitleChange.indexOf(e))&&(this.__cbOnTitleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTitleChange[n])&&s(),this.__cbOnOwnerUnbindTitleChange.splice(n,1)),null!=this.__cbOnceTitleChange&&-1!=(n=this.__cbOnceTitleChange.indexOf(e))&&(this.__cbOnceTitleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTitleChange[n])&&s(),this.__cbOnceOwnerUnbindTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTitleChange[l])&&s()}this.__cbOnOwnerUnbindTitleChange=null}if(null!=this.__cbOnceOwnerUnbindTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTitleChange[l])&&s()}this.__cbOnceOwnerUnbindTitleChange=null}this.__cbOnTitleChange=null,this.__cbOnceTitleChange=null}},listensTitleChange:function(){return null!=this.__cbOnTitleChange&&this.__cbOnTitleChange.length>0||null!=this.__cbOnceTitleChange&&this.__cbOnceTitleChange.length>0},fullscreenAutoruns:null,get_fullscreen:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.fullscreenAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.fullscreenAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedFullscreen},set_fullscreen:function(e){var n=this.unobservedFullscreen;if(this.unobservedFullscreen=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFullscreenChange(e,n);var t=this.fullscreenAutoruns;if(null!=t){this.fullscreenAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateFullscreen:function(){var e=this.unobservedFullscreen;this.emitFullscreenChange(e,e);var n=this.fullscreenAutoruns;if(null!=n){this.fullscreenAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedFullscreen:null,__cbOnFullscreenChange:null,__cbOnceFullscreenChange:null,__cbOnOwnerUnbindFullscreenChange:null,__cbOnceOwnerUnbindFullscreenChange:null,emitFullscreenChange:function(e,n){var t=0;if(null!=this.__cbOnFullscreenChange&&(t+=this.__cbOnFullscreenChange.length),null!=this.__cbOnceFullscreenChange&&(t+=this.__cbOnceFullscreenChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFullscreenChange)for(var r=0,a=this.__cbOnFullscreenChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnFullscreenChange[c],++s):--t}if(null!=this.__cbOnceFullscreenChange){var h=null,u=null;for(r=0,a=this.__cbOnceFullscreenChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceFullscreenChange[c],this.__cbOnceFullscreenChange[c]=null;var o=this.__cbOnceOwnerUnbindFullscreenChange[c];this.__cbOnceOwnerUnbindFullscreenChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindFullscreenChange[c]),u.push(this.__cbOnceFullscreenChange[c])}this.__cbOnceOwnerUnbindFullscreenChange=h,this.__cbOnceFullscreenChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onFullscreenChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fullscreenChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFullscreenChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFullscreenChange&&(this.__cbOnOwnerUnbindFullscreenChange=[]),this.__cbOnOwnerUnbindFullscreenChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFullscreenChange&&(this.__cbOnOwnerUnbindFullscreenChange=[]),this.__cbOnOwnerUnbindFullscreenChange.push(null);null==this.__cbOnFullscreenChange&&(this.__cbOnFullscreenChange=[]),this.__cbOnFullscreenChange.push(n)},onceFullscreenChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fullscreenChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFullscreenChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFullscreenChange&&(this.__cbOnceOwnerUnbindFullscreenChange=[]),this.__cbOnceOwnerUnbindFullscreenChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFullscreenChange&&(this.__cbOnceOwnerUnbindFullscreenChange=[]),this.__cbOnceOwnerUnbindFullscreenChange.push(null);null==this.__cbOnceFullscreenChange&&(this.__cbOnceFullscreenChange=[]),this.__cbOnceFullscreenChange.push(n)},offFullscreenChange:function(e){if(null!=e){var n;null!=this.__cbOnFullscreenChange&&-1!=(n=this.__cbOnFullscreenChange.indexOf(e))&&(this.__cbOnFullscreenChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFullscreenChange[n])&&s(),this.__cbOnOwnerUnbindFullscreenChange.splice(n,1)),null!=this.__cbOnceFullscreenChange&&-1!=(n=this.__cbOnceFullscreenChange.indexOf(e))&&(this.__cbOnceFullscreenChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFullscreenChange[n])&&s(),this.__cbOnceOwnerUnbindFullscreenChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFullscreenChange){for(var t=0,i=this.__cbOnOwnerUnbindFullscreenChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFullscreenChange[l])&&s()}this.__cbOnOwnerUnbindFullscreenChange=null}if(null!=this.__cbOnceOwnerUnbindFullscreenChange){for(t=0,i=this.__cbOnceOwnerUnbindFullscreenChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFullscreenChange[l])&&s()}this.__cbOnceOwnerUnbindFullscreenChange=null}this.__cbOnFullscreenChange=null,this.__cbOnceFullscreenChange=null}},listensFullscreenChange:function(){return null!=this.__cbOnFullscreenChange&&this.__cbOnFullscreenChange.length>0||null!=this.__cbOnceFullscreenChange&&this.__cbOnceFullscreenChange.length>0},targetFpsAutoruns:null,get_targetFps:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.targetFpsAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.targetFpsAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedTargetFps},set_targetFps:function(e){var n=this.unobservedTargetFps;if(this.unobservedTargetFps=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetFpsChange(e,n);var t=this.targetFpsAutoruns;if(null!=t){this.targetFpsAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTargetFps:function(){var e=this.unobservedTargetFps;this.emitTargetFpsChange(e,e);var n=this.targetFpsAutoruns;if(null!=n){this.targetFpsAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedTargetFps:null,__cbOnTargetFpsChange:null,__cbOnceTargetFpsChange:null,__cbOnOwnerUnbindTargetFpsChange:null,__cbOnceOwnerUnbindTargetFpsChange:null,emitTargetFpsChange:function(e,n){var t=0;if(null!=this.__cbOnTargetFpsChange&&(t+=this.__cbOnTargetFpsChange.length),null!=this.__cbOnceTargetFpsChange&&(t+=this.__cbOnceTargetFpsChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTargetFpsChange)for(var r=0,a=this.__cbOnTargetFpsChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnTargetFpsChange[c],++s):--t}if(null!=this.__cbOnceTargetFpsChange){var h=null,u=null;for(r=0,a=this.__cbOnceTargetFpsChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceTargetFpsChange[c],this.__cbOnceTargetFpsChange[c]=null;var o=this.__cbOnceOwnerUnbindTargetFpsChange[c];this.__cbOnceOwnerUnbindTargetFpsChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindTargetFpsChange[c]),u.push(this.__cbOnceTargetFpsChange[c])}this.__cbOnceOwnerUnbindTargetFpsChange=h,this.__cbOnceTargetFpsChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onTargetFpsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetFpsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetFpsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTargetFpsChange&&(this.__cbOnOwnerUnbindTargetFpsChange=[]),this.__cbOnOwnerUnbindTargetFpsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTargetFpsChange&&(this.__cbOnOwnerUnbindTargetFpsChange=[]),this.__cbOnOwnerUnbindTargetFpsChange.push(null);null==this.__cbOnTargetFpsChange&&(this.__cbOnTargetFpsChange=[]),this.__cbOnTargetFpsChange.push(n)},onceTargetFpsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetFpsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetFpsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTargetFpsChange&&(this.__cbOnceOwnerUnbindTargetFpsChange=[]),this.__cbOnceOwnerUnbindTargetFpsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTargetFpsChange&&(this.__cbOnceOwnerUnbindTargetFpsChange=[]),this.__cbOnceOwnerUnbindTargetFpsChange.push(null);null==this.__cbOnceTargetFpsChange&&(this.__cbOnceTargetFpsChange=[]),this.__cbOnceTargetFpsChange.push(n)},offTargetFpsChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetFpsChange&&-1!=(n=this.__cbOnTargetFpsChange.indexOf(e))&&(this.__cbOnTargetFpsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTargetFpsChange[n])&&s(),this.__cbOnOwnerUnbindTargetFpsChange.splice(n,1)),null!=this.__cbOnceTargetFpsChange&&-1!=(n=this.__cbOnceTargetFpsChange.indexOf(e))&&(this.__cbOnceTargetFpsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTargetFpsChange[n])&&s(),this.__cbOnceOwnerUnbindTargetFpsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetFpsChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetFpsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTargetFpsChange[l])&&s()}this.__cbOnOwnerUnbindTargetFpsChange=null}if(null!=this.__cbOnceOwnerUnbindTargetFpsChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetFpsChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTargetFpsChange[l])&&s()}this.__cbOnceOwnerUnbindTargetFpsChange=null}this.__cbOnTargetFpsChange=null,this.__cbOnceTargetFpsChange=null}},listensTargetFpsChange:function(){return null!=this.__cbOnTargetFpsChange&&this.__cbOnTargetFpsChange.length>0||null!=this.__cbOnceTargetFpsChange&&this.__cbOnceTargetFpsChange.length>0},maxDeltaAutoruns:null,get_maxDelta:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.maxDeltaAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.maxDeltaAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedMaxDelta},set_maxDelta:function(e){var n=this.unobservedMaxDelta;if(this.unobservedMaxDelta=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMaxDeltaChange(e,n);var t=this.maxDeltaAutoruns;if(null!=t){this.maxDeltaAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateMaxDelta:function(){var e=this.unobservedMaxDelta;this.emitMaxDeltaChange(e,e);var n=this.maxDeltaAutoruns;if(null!=n){this.maxDeltaAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedMaxDelta:null,__cbOnMaxDeltaChange:null,__cbOnceMaxDeltaChange:null,__cbOnOwnerUnbindMaxDeltaChange:null,__cbOnceOwnerUnbindMaxDeltaChange:null,emitMaxDeltaChange:function(e,n){var t=0;if(null!=this.__cbOnMaxDeltaChange&&(t+=this.__cbOnMaxDeltaChange.length),null!=this.__cbOnceMaxDeltaChange&&(t+=this.__cbOnceMaxDeltaChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMaxDeltaChange)for(var r=0,a=this.__cbOnMaxDeltaChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnMaxDeltaChange[c],++s):--t}if(null!=this.__cbOnceMaxDeltaChange){var h=null,u=null;for(r=0,a=this.__cbOnceMaxDeltaChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceMaxDeltaChange[c],this.__cbOnceMaxDeltaChange[c]=null;var o=this.__cbOnceOwnerUnbindMaxDeltaChange[c];this.__cbOnceOwnerUnbindMaxDeltaChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindMaxDeltaChange[c]),u.push(this.__cbOnceMaxDeltaChange[c])}this.__cbOnceOwnerUnbindMaxDeltaChange=h,this.__cbOnceMaxDeltaChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onMaxDeltaChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event maxDeltaChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMaxDeltaChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMaxDeltaChange&&(this.__cbOnOwnerUnbindMaxDeltaChange=[]),this.__cbOnOwnerUnbindMaxDeltaChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMaxDeltaChange&&(this.__cbOnOwnerUnbindMaxDeltaChange=[]),this.__cbOnOwnerUnbindMaxDeltaChange.push(null);null==this.__cbOnMaxDeltaChange&&(this.__cbOnMaxDeltaChange=[]),this.__cbOnMaxDeltaChange.push(n)},onceMaxDeltaChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event maxDeltaChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMaxDeltaChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMaxDeltaChange&&(this.__cbOnceOwnerUnbindMaxDeltaChange=[]),this.__cbOnceOwnerUnbindMaxDeltaChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMaxDeltaChange&&(this.__cbOnceOwnerUnbindMaxDeltaChange=[]),this.__cbOnceOwnerUnbindMaxDeltaChange.push(null);null==this.__cbOnceMaxDeltaChange&&(this.__cbOnceMaxDeltaChange=[]),this.__cbOnceMaxDeltaChange.push(n)},offMaxDeltaChange:function(e){if(null!=e){var n;null!=this.__cbOnMaxDeltaChange&&-1!=(n=this.__cbOnMaxDeltaChange.indexOf(e))&&(this.__cbOnMaxDeltaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMaxDeltaChange[n])&&s(),this.__cbOnOwnerUnbindMaxDeltaChange.splice(n,1)),null!=this.__cbOnceMaxDeltaChange&&-1!=(n=this.__cbOnceMaxDeltaChange.indexOf(e))&&(this.__cbOnceMaxDeltaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMaxDeltaChange[n])&&s(),this.__cbOnceOwnerUnbindMaxDeltaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMaxDeltaChange){for(var t=0,i=this.__cbOnOwnerUnbindMaxDeltaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMaxDeltaChange[l])&&s()}this.__cbOnOwnerUnbindMaxDeltaChange=null}if(null!=this.__cbOnceOwnerUnbindMaxDeltaChange){for(t=0,i=this.__cbOnceOwnerUnbindMaxDeltaChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindMaxDeltaChange[l])&&s()}this.__cbOnceOwnerUnbindMaxDeltaChange=null}this.__cbOnMaxDeltaChange=null,this.__cbOnceMaxDeltaChange=null}},listensMaxDeltaChange:function(){return null!=this.__cbOnMaxDeltaChange&&this.__cbOnMaxDeltaChange.length>0||null!=this.__cbOnceMaxDeltaChange&&this.__cbOnceMaxDeltaChange.length>0},overrideDeltaAutoruns:null,get_overrideDelta:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.overrideDeltaAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.overrideDeltaAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedOverrideDelta},set_overrideDelta:function(e){var n=this.unobservedOverrideDelta;if(this.unobservedOverrideDelta=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitOverrideDeltaChange(e,n);var t=this.overrideDeltaAutoruns;if(null!=t){this.overrideDeltaAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateOverrideDelta:function(){var e=this.unobservedOverrideDelta;this.emitOverrideDeltaChange(e,e);var n=this.overrideDeltaAutoruns;if(null!=n){this.overrideDeltaAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedOverrideDelta:null,__cbOnOverrideDeltaChange:null,__cbOnceOverrideDeltaChange:null,__cbOnOwnerUnbindOverrideDeltaChange:null,__cbOnceOwnerUnbindOverrideDeltaChange:null,emitOverrideDeltaChange:function(e,n){var t=0;if(null!=this.__cbOnOverrideDeltaChange&&(t+=this.__cbOnOverrideDeltaChange.length),null!=this.__cbOnceOverrideDeltaChange&&(t+=this.__cbOnceOverrideDeltaChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOverrideDeltaChange)for(var r=0,a=this.__cbOnOverrideDeltaChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnOverrideDeltaChange[c],++s):--t}if(null!=this.__cbOnceOverrideDeltaChange){var h=null,u=null;for(r=0,a=this.__cbOnceOverrideDeltaChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceOverrideDeltaChange[c],this.__cbOnceOverrideDeltaChange[c]=null;var o=this.__cbOnceOwnerUnbindOverrideDeltaChange[c];this.__cbOnceOwnerUnbindOverrideDeltaChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindOverrideDeltaChange[c]),u.push(this.__cbOnceOverrideDeltaChange[c])}this.__cbOnceOwnerUnbindOverrideDeltaChange=h,this.__cbOnceOverrideDeltaChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onOverrideDeltaChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event overrideDeltaChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offOverrideDeltaChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindOverrideDeltaChange&&(this.__cbOnOwnerUnbindOverrideDeltaChange=[]),this.__cbOnOwnerUnbindOverrideDeltaChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindOverrideDeltaChange&&(this.__cbOnOwnerUnbindOverrideDeltaChange=[]),this.__cbOnOwnerUnbindOverrideDeltaChange.push(null);null==this.__cbOnOverrideDeltaChange&&(this.__cbOnOverrideDeltaChange=[]),this.__cbOnOverrideDeltaChange.push(n)},onceOverrideDeltaChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event overrideDeltaChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offOverrideDeltaChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindOverrideDeltaChange&&(this.__cbOnceOwnerUnbindOverrideDeltaChange=[]),this.__cbOnceOwnerUnbindOverrideDeltaChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindOverrideDeltaChange&&(this.__cbOnceOwnerUnbindOverrideDeltaChange=[]),this.__cbOnceOwnerUnbindOverrideDeltaChange.push(null);null==this.__cbOnceOverrideDeltaChange&&(this.__cbOnceOverrideDeltaChange=[]),this.__cbOnceOverrideDeltaChange.push(n)},offOverrideDeltaChange:function(e){if(null!=e){var n;null!=this.__cbOnOverrideDeltaChange&&-1!=(n=this.__cbOnOverrideDeltaChange.indexOf(e))&&(this.__cbOnOverrideDeltaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOverrideDeltaChange[n])&&s(),this.__cbOnOwnerUnbindOverrideDeltaChange.splice(n,1)),null!=this.__cbOnceOverrideDeltaChange&&-1!=(n=this.__cbOnceOverrideDeltaChange.indexOf(e))&&(this.__cbOnceOverrideDeltaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOverrideDeltaChange[n])&&s(),this.__cbOnceOwnerUnbindOverrideDeltaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverrideDeltaChange){for(var t=0,i=this.__cbOnOwnerUnbindOverrideDeltaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOverrideDeltaChange[l])&&s()}this.__cbOnOwnerUnbindOverrideDeltaChange=null}if(null!=this.__cbOnceOwnerUnbindOverrideDeltaChange){for(t=0,i=this.__cbOnceOwnerUnbindOverrideDeltaChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindOverrideDeltaChange[l])&&s()}this.__cbOnceOwnerUnbindOverrideDeltaChange=null}this.__cbOnOverrideDeltaChange=null,this.__cbOnceOverrideDeltaChange=null}},listensOverrideDeltaChange:function(){return null!=this.__cbOnOverrideDeltaChange&&this.__cbOnOverrideDeltaChange.length>0||null!=this.__cbOnceOverrideDeltaChange&&this.__cbOnceOverrideDeltaChange.length>0},orientation:null,collections:null,appInfo:null,antialiasing:null,resizable:null,assetsPath:null,backend:null,defaultFont:null,defaultShader:null,unbindEvents:function(){this.offObservedDirty(),this.offTargetWidthChange(),this.offTargetHeightChange(),this.offWindowWidthChange(),this.offWindowHeightChange(),this.offTargetDensityChange(),this.offBackgroundChange(),this.offScalingChange(),this.offTitleChange(),this.offFullscreenChange(),this.offTargetFpsChange(),this.offMaxDeltaChange(),this.offOverrideDeltaChange()},__class__:ceramic_Settings,__properties__:{set_overrideDelta:"set_overrideDelta",get_overrideDelta:"get_overrideDelta",set_maxDelta:"set_maxDelta",get_maxDelta:"get_maxDelta",set_targetFps:"set_targetFps",get_targetFps:"get_targetFps",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_title:"set_title",get_title:"get_title",set_scaling:"set_scaling",get_scaling:"get_scaling",set_background:"set_background",get_background:"get_background",set_targetDensity:"set_targetDensity",get_targetDensity:"get_targetDensity",set_windowHeight:"set_windowHeight",get_windowHeight:"get_windowHeight",set_windowWidth:"set_windowWidth",get_windowWidth:"get_windowWidth",set_targetHeight:"set_targetHeight",get_targetHeight:"get_targetHeight",set_targetWidth:"set_targetWidth",get_targetWidth:"get_targetWidth"}};var ceramic_Shader=function(e,n){ceramic_Entity.call(this),this.backendItem=e;var t=[new ceramic_ShaderAttribute(3,"vertexPosition"),new ceramic_ShaderAttribute(2,"vertexTCoord"),new ceramic_ShaderAttribute(4,"vertexColor")];if(null!=n)for(var i=0,l=n.length;i<l;){var s=n[i++];t.push(s)}this.attributes=t,this.customAttributes=n;ceramic_App.app.backend.shaders;var r=0,a=e.customAttributes;if(null!=a)for(i=0,l=a.length;i<l;){r+=a[i++].size}this.customFloatAttributesSize=r};t["ceramic.Shader"]=ceramic_Shader,ceramic_Shader.__name__="ceramic.Shader",ceramic_Shader.fromSource=function(e,n){for(var t=ceramic_App.app.backend.shaders,i=e,l=n,s=!1,r=0,a=l.split("\n");r<a.length;){var c=a[r];if(++r,"//ceramic:multitexture"==StringTools.replace(StringTools.trim(c)," ","").toLowerCase()){s=!0;break}}var h=["tex0"];if(s){var u=ceramic_App.app.backend.textures.maxTexturesByBatch(),o=t.maxIfStatementsByFragmentShader(),_=0|Math.min(u,o);if(_>1)for(var d=1;d<=_;)h.push("tex"+d),++d;l=backend_Shaders.processMultiTextureFragTemplate(l,u,o),i=backend_Shaders.processMultiTextureVertTemplate(i,u,o)}var b=!1,f=!1;clay_Clay.app.runtime.webglVersion>=2&&(b=!0,f=!0),b&&(l=backend_Shaders.removeExtensions(l),i=backend_Shaders.removeExtensions(i)),f&&(l=backend_Shaders.convertToGLES3(l,!0),i=backend_Shaders.convertToGLES3(i,!1));var O=new backend_ShaderImpl;O.attributes=s?backend_Shaders.SHADER_ATTRIBUTES_MULTITEXTURE:backend_Shaders.SHADER_ATTRIBUTES,O.textures=h,O.vertSource=i,O.fragSource=l,O.isBatchingMultiTexture=s,O.customAttributes=null,O.init();return null==O?null:new ceramic_Shader(O)},ceramic_Shader.__super__=ceramic_Entity,ceramic_Shader.prototype=$extend(ceramic_Entity.prototype,{backendItem:null,asset:null,attributes:null,customAttributes:null,customFloatAttributesSize:null,destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy();ceramic_App.app.backend.shaders;this.backendItem.destroy(),this.backendItem=null,this.attributes=null}},clone:function(){ceramic_App.app.backend.shaders;var e=this.backendItem.clone();return new ceramic_Shader(e,this.customAttributes)},setInt:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setInt(e,n)},setFloat:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setFloat(e,n)},setColor:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setColor(e,(n>>16&255)/255,(n>>8&255)/255,(255&n)/255,1)},setAlphaColor:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setColor(e,(n>>16&255)/255,(n>>8&255)/255,(255&n)/255,(n>>24&255)/255)},setVec2:function(e,n,t){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setVector2(e,n,t)},setVec3:function(e,n,t,i){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setVector3(e,n,t,i)},setVec4:function(e,n,t,i,l){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setVector4(e,n,t,i,l)},setFloatArray:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setFloatArray(e,new Float32Array(n))},setTexture:function(e,n,t){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setTexture(e,n,t.backendItem)},setMat4FromTransform:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setMatrix4(e,new Float32Array([n.a,n.b,0,0,n.c,n.d,0,0,0,0,1,0,n.tx,n.ty,0,1]))},toString:function(){if(null!=this.id){var e=this.id;return StringTools.startsWith(e,"shader:")&&(e=HxOverrides.substr(e,7,null)),null!=this.asset&&null!=this.asset.options.vertId||null!=this.asset.options.fragId?"Shader("+e+" "+(null!=this.asset.options.vertId?this.asset.options.vertId:"default")+" "+(null!=this.asset.options.fragId?this.asset.options.fragId:"default")+")":"Shader("+e+")"}return"Shader()"},__class__:ceramic_Shader});var ceramic_ShaderAsset=function(e,n){this.shader=null,ceramic_Asset.call(this,"shader",e,n)};t["ceramic.ShaderAsset"]=ceramic_ShaderAsset,ceramic_ShaderAsset.__name__="ceramic.ShaderAsset",ceramic_ShaderAsset.__super__=ceramic_Asset,ceramic_ShaderAsset.prototype=$extend(ceramic_Asset.prototype,{shader:null,load:function(){var e=this;if(this.set_status(h.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load shader asset if path is undefined.",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:24,className:"ceramic.ShaderAsset",methodName:"load"}),this.set_status(h.BROKEN),void this.emitComplete(!1);var n=null;if(null!=this.options.customAttributes){n=[];for(var t=this.options.customAttributes,i=0,l=t.length;i<l;){var s=t[i++];n.push(new ceramic_ShaderAttribute(s.size,s.name))}}var r={};if(null!=this.owner&&(r.immediate=this.owner.immediate,r.loadMethod=this.owner.loadMethod),null!=this.path&&(StringTools.endsWith(this.path.toLowerCase(),".frag")||StringTools.endsWith(this.path.toLowerCase(),".vert"))){var a=ceramic_Assets.allByName.h[this.name];if(null==this.options.fragId)for(i=0,l=a.length;i<l;){var c=a[i++];if(StringTools.endsWith(c.toLowerCase(),".frag")){this.options.fragId=c;break}}if(null==this.options.vertId)for(i=0,l=a.length;i<l;){c=a[i++];if(StringTools.endsWith(c.toLowerCase(),".vert")){this.options.vertId=c;break}}ceramic_App.app.logger.info("Load shader"+(null!=this.options.vertId?" "+Std.string(this.options.vertId):"")+(null!=this.options.fragId?" "+Std.string(this.options.fragId):""),{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:72,className:"ceramic.ShaderAsset",methodName:"load"})}else ceramic_App.app.logger.info("Load shader "+this.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:75,className:"ceramic.ShaderAsset",methodName:"load"});if(null==this.options.vertId&&(this.options.vertId="textured.vert"),null==this.options.fragId)return this.set_status(h.BROKEN),ceramic_App.app.logger.error("Missing fragId option to load shader at path: "+this.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:84,className:"ceramic.ShaderAsset",methodName:"load"}),void this.emitComplete(!1);ceramic_App.app.backend.texts.load(ceramic_Assets.realAssetPath(this.options.vertId,this.runtimeAssets),r,(function(t){ceramic_App.app.backend.texts.load(ceramic_Assets.realAssetPath(e.options.fragId,e.runtimeAssets),r,(function(i){if(null==t)return e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to load "+Std.string(e.options.vertId)+" for shader at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:94,className:"ceramic.ShaderAsset",methodName:"load"}),void e.emitComplete(!1);if(null==i)return e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to load "+Std.string(e.options.fragId)+" for shader at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:101,className:"ceramic.ShaderAsset",methodName:"load"}),void e.emitComplete(!1);for(var l=ceramic_App.app.backend.shaders,s=t,r=i,a=!1,c=0,u=r.split("\n");c<u.length;){var o=u[c];if(++c,"//ceramic:multitexture"==StringTools.replace(StringTools.trim(o)," ","").toLowerCase()){a=!0;break}}var _=["tex0"];if(a){var d=ceramic_App.app.backend.textures.maxTexturesByBatch(),b=l.maxIfStatementsByFragmentShader(),f=0|Math.min(d,b);if(f>1)for(var O=1;O<=f;)_.push("tex"+O),++O;r=backend_Shaders.processMultiTextureFragTemplate(r,d,b),s=backend_Shaders.processMultiTextureVertTemplate(s,d,b)}var p=!1,g=!1;clay_Clay.app.runtime.webglVersion>=2&&(p=!0,g=!0),p&&(r=backend_Shaders.removeExtensions(r),s=backend_Shaders.removeExtensions(s)),g&&(r=backend_Shaders.convertToGLES3(r,!0),s=backend_Shaders.convertToGLES3(s,!1));var m=new backend_ShaderImpl;m.attributes=a?backend_Shaders.SHADER_ATTRIBUTES_MULTITEXTURE:backend_Shaders.SHADER_ATTRIBUTES,m.textures=_,m.vertSource=s,m.fragSource=r,m.isBatchingMultiTexture=a,m.customAttributes=n,m.init();var v=m;if(null==v)return e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to create shader from data at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:109,className:"ceramic.ShaderAsset",methodName:"load"}),void e.emitComplete(!1);e.shader=new ceramic_Shader(v,n),e.shader.asset=e,e.shader.id="shader:"+e.path,e.set_status(h.READY),e.emitComplete(!0)}))}))},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),null!=this.shader&&(this.shader.destroy(),this.shader=null))},toString:function(){var e="ShaderAsset";if(null!=this.options.vertId||null!=this.options.fragId){var n=null!=this.options.vertId?this.options.vertId:"default",t=null!=this.options.fragId?this.options.fragId:"default";return e+"("+this.name+" "+n+" "+t+")"}return null!=this.path&&""!=StringTools.trim(this.path)?e+"("+this.name+" "+this.path+")":e+"("+this.name+")"},__class__:ceramic_ShaderAsset});var ceramic_ShaderAttribute=function(e,n){this.size=e,this.name=n};t["ceramic.ShaderAttribute"]=ceramic_ShaderAttribute,ceramic_ShaderAttribute.__name__="ceramic.ShaderAttribute",ceramic_ShaderAttribute.prototype={size:null,name:null,toString:function(){return""+Std.string({size:this.size,name:this.name})},__class__:ceramic_ShaderAttribute};var ceramic_Shortcuts=function(){};t["ceramic.Shortcuts"]=ceramic_Shortcuts,ceramic_Shortcuts.__name__="ceramic.Shortcuts",ceramic_Shortcuts.__properties__={get_systems:"get_systems",get_log:"get_log",get_settings:"get_settings",get_input:"get_input",get_audio:"get_audio",get_screen:"get_screen",get_app:"get_app"},ceramic_Shortcuts.get_app=function(){return ceramic_App.app},ceramic_Shortcuts.get_screen=function(){return ceramic_App.app.screen},ceramic_Shortcuts.get_audio=function(){return ceramic_App.app.audio},ceramic_Shortcuts.get_input=function(){return ceramic_App.app.input},ceramic_Shortcuts.get_settings=function(){return ceramic_App.app.settings},ceramic_Shortcuts.get_log=function(){return ceramic_App.app.logger},ceramic_Shortcuts.get_systems=function(){return ceramic_App.app.systems};var ceramic_SortVisuals=function(){};t["ceramic.SortVisuals"]=ceramic_SortVisuals,ceramic_SortVisuals.__name__="ceramic.SortVisuals",ceramic_SortVisuals.cmp=function(e,n){var t=0;if(e.computedVisible||e.computedTouchable)if(n.computedVisible||n.computedTouchable)if(e.computedRenderTarget!=n.computedRenderTarget)t=null==e.computedRenderTarget?1:null==n.computedRenderTarget||e.computedRenderTarget.priority>n.computedRenderTarget.priority?-1:e.computedRenderTarget.priority<n.computedRenderTarget.priority?1:e.computedRenderTarget.index<n.computedRenderTarget.index?-1:1;else if(e.computedDepth>n.computedDepth)t=1;else if(e.computedDepth<n.computedDepth)t=-1;else{var i=e.asQuad,l=n.asQuad,s=e.asMesh,r=n.asMesh;if((null!=i||null!=s)&&(null!=l||null!=r)){var a=null!=s?s.texture:i._texture,c=null!=r?r.texture:l._texture;null!=a&&null==c?t=1:null==a&&null!=c?t=-1:null!=a&&null!=c?a.index<c.index?t=1:a.index>c.index?t=-1:e.blending>n.blending?t=1:e.blending<n.blending&&(t=-1):e.blending>n.blending?t=1:e.blending<n.blending&&(t=-1)}}else t=1;else t=-1;return t},ceramic_SortVisuals.sort=function(e){ceramic_SortVisuals.rec(e,0,e.length)},ceramic_SortVisuals.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var l=n+1,s=t;l<s;)for(var r=l++;r>n;){var a=e[r],c=e[r-1],h=0;if(a.computedVisible||a.computedTouchable)if(c.computedVisible||c.computedTouchable)if(a.computedRenderTarget!=c.computedRenderTarget)h=null==a.computedRenderTarget?1:null==c.computedRenderTarget||a.computedRenderTarget.priority>c.computedRenderTarget.priority?-1:a.computedRenderTarget.priority<c.computedRenderTarget.priority?1:a.computedRenderTarget.index<c.computedRenderTarget.index?-1:1;else if(a.computedDepth>c.computedDepth)h=1;else if(a.computedDepth<c.computedDepth)h=-1;else{var u=a.asQuad,o=c.asQuad,_=a.asMesh,d=c.asMesh;if((null!=u||null!=_)&&(null!=o||null!=d)){var b=null!=_?_.texture:u._texture,f=null!=d?d.texture:o._texture;null!=b&&null==f?h=1:null==b&&null!=f?h=-1:null!=b&&null!=f?b.index<f.index?h=1:b.index>f.index?h=-1:a.blending>c.blending?h=1:a.blending<c.blending&&(h=-1):a.blending>c.blending?h=1:a.blending<c.blending&&(h=-1)}}else h=1;else h=-1;if(!(h<0))break;var O=r-1,p=e[O];e[O]=e[r],e[r]=p,--r}}else ceramic_SortVisuals.rec(e,n,i),ceramic_SortVisuals.rec(e,i,t),ceramic_SortVisuals.doMerge(e,n,i,t,i-n,t-i)},ceramic_SortVisuals.doMerge=function(e,n,t,i,l,s){var r,a,c,h;if(0!=l&&0!=s)if(l+s!=2){if(l>s){r=n+(c=l>>1);for(var u=i-(o=t);u>0;){U=e[d=o+(_=u>>1)],C=e[r],x=0;if(U.computedVisible||U.computedTouchable)if(C.computedVisible||C.computedTouchable)if(U.computedRenderTarget!=C.computedRenderTarget)x=null==U.computedRenderTarget?1:null==C.computedRenderTarget||U.computedRenderTarget.priority>C.computedRenderTarget.priority?-1:U.computedRenderTarget.priority<C.computedRenderTarget.priority?1:U.computedRenderTarget.index<C.computedRenderTarget.index?-1:1;else if(U.computedDepth>C.computedDepth)x=1;else if(U.computedDepth<C.computedDepth)x=-1;else{D=U.asQuad,T=C.asQuad,A=U.asMesh,S=C.asMesh,E=null!=T||null!=S;if((null!=D||null!=A)&&E){M=null!=A?A.texture:D._texture,F=null!=S?S.texture:T._texture;null!=M&&null==F?x=1:null==M&&null!=F?x=-1:null!=M&&null!=F?M.index<F.index?x=1:M.index>F.index?x=-1:U.blending>C.blending?x=1:U.blending<C.blending&&(x=-1):U.blending>C.blending?x=1:U.blending<C.blending&&(x=-1)}}else x=1;else x=-1;x<0?(o=d+1,u=u-_-1):u=_}h=(a=o)-t}else{a=t+(h=s>>1);var o,_,d;for(u=t-(o=n);u>0;){d=o+(_=u>>1);U=e[a],C=e[d],x=0;if(U.computedVisible||U.computedTouchable)if(C.computedVisible||C.computedTouchable)if(U.computedRenderTarget!=C.computedRenderTarget)x=null==U.computedRenderTarget?1:null==C.computedRenderTarget||U.computedRenderTarget.priority>C.computedRenderTarget.priority?-1:U.computedRenderTarget.priority<C.computedRenderTarget.priority?1:U.computedRenderTarget.index<C.computedRenderTarget.index?-1:1;else if(U.computedDepth>C.computedDepth)x=1;else if(U.computedDepth<C.computedDepth)x=-1;else{D=U.asQuad,T=C.asQuad,A=U.asMesh,S=C.asMesh,E=null!=T||null!=S;if((null!=D||null!=A)&&E){M=null!=A?A.texture:D._texture,F=null!=S?S.texture:T._texture;null!=M&&null==F?x=1:null==M&&null!=F?x=-1:null!=M&&null!=F?M.index<F.index?x=1:M.index>F.index?x=-1:U.blending>C.blending?x=1:U.blending<C.blending&&(x=-1):U.blending>C.blending?x=1:U.blending<C.blending&&(x=-1)}}else x=1;else x=-1;x<0?u=_:(o=d+1,u=u-_-1)}c=(r=o)-n}var b;if(r!=t&&t!=a){for(var f=a-r,O=t-r;0!=O;){var p=f%O;f=O,O=p}for(b=f;0!=b--;){for(var g=e[r+b],m=t-r,v=r+b,y=r+b+m;y!=r+b;)e[v]=e[y],v=y,a-y>m?y+=m:y=r+(m-(a-y));e[v]=g}}var w=r+h;ceramic_SortVisuals.doMerge(e,n,r,w,c,h),ceramic_SortVisuals.doMerge(e,w,a,i,l-c,s-h)}else{var U=e[t],C=e[n],x=0;if(U.computedVisible||U.computedTouchable)if(C.computedVisible||C.computedTouchable)if(U.computedRenderTarget!=C.computedRenderTarget)x=null==U.computedRenderTarget?1:null==C.computedRenderTarget||U.computedRenderTarget.priority>C.computedRenderTarget.priority?-1:U.computedRenderTarget.priority<C.computedRenderTarget.priority?1:U.computedRenderTarget.index<C.computedRenderTarget.index?-1:1;else if(U.computedDepth>C.computedDepth)x=1;else if(U.computedDepth<C.computedDepth)x=-1;else{var D=U.asQuad,T=C.asQuad,A=U.asMesh,S=C.asMesh,E=null!=T||null!=S;if((null!=D||null!=A)&&E){var M=null!=A?A.texture:D._texture,F=null!=S?S.texture:T._texture;null!=M&&null==F?x=1:null==M&&null!=F?x=-1:null!=M&&null!=F?M.index<F.index?x=1:M.index>F.index?x=-1:U.blending>C.blending?x=1:U.blending<C.blending&&(x=-1):U.blending>C.blending?x=1:U.blending<C.blending&&(x=-1)}}else x=1;else x=-1;if(x<0){var P=e[t];e[t]=e[n],e[n]=P}}},ceramic_SortVisuals.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,s=t-n;0!=s;){var r=l%s;l=s,s=r}for(s=l;0!=s--;){for(var a=e[n+s],c=t-n,h=n+s,u=n+s+c;u!=n+s;)e[h]=e[u],h=u,i-u>c?u+=c:u=n+(c-(i-u));e[h]=a}}},ceramic_SortVisuals.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},ceramic_SortVisuals.upper=function(e,n,t,i){for(var l,s,r=t-n;r>0;){s=n+(l=r>>1);var a=e[i],c=e[s],h=0;if(a.computedVisible||a.computedTouchable)if(c.computedVisible||c.computedTouchable)if(a.computedRenderTarget!=c.computedRenderTarget)h=null==a.computedRenderTarget?1:null==c.computedRenderTarget||a.computedRenderTarget.priority>c.computedRenderTarget.priority?-1:a.computedRenderTarget.priority<c.computedRenderTarget.priority?1:a.computedRenderTarget.index<c.computedRenderTarget.index?-1:1;else if(a.computedDepth>c.computedDepth)h=1;else if(a.computedDepth<c.computedDepth)h=-1;else{var u=a.asQuad,o=c.asQuad,_=a.asMesh,d=c.asMesh;if((null!=u||null!=_)&&(null!=o||null!=d)){var b=null!=_?_.texture:u._texture,f=null!=d?d.texture:o._texture;null!=b&&null==f?h=1:null==b&&null!=f?h=-1:null!=b&&null!=f?b.index<f.index?h=1:b.index>f.index?h=-1:a.blending>c.blending?h=1:a.blending<c.blending&&(h=-1):a.blending>c.blending?h=1:a.blending<c.blending&&(h=-1)}}else h=1;else h=-1;h<0?r=l:(n=s+1,r=r-l-1)}return n},ceramic_SortVisuals.lower=function(e,n,t,i){for(var l,s,r=t-n;r>0;){var a=e[s=n+(l=r>>1)],c=e[i],h=0;if(a.computedVisible||a.computedTouchable)if(c.computedVisible||c.computedTouchable)if(a.computedRenderTarget!=c.computedRenderTarget)h=null==a.computedRenderTarget?1:null==c.computedRenderTarget||a.computedRenderTarget.priority>c.computedRenderTarget.priority?-1:a.computedRenderTarget.priority<c.computedRenderTarget.priority?1:a.computedRenderTarget.index<c.computedRenderTarget.index?-1:1;else if(a.computedDepth>c.computedDepth)h=1;else if(a.computedDepth<c.computedDepth)h=-1;else{var u=a.asQuad,o=c.asQuad,_=a.asMesh,d=c.asMesh;if((null!=u||null!=_)&&(null!=o||null!=d)){var b=null!=_?_.texture:u._texture,f=null!=d?d.texture:o._texture;null!=b&&null==f?h=1:null==b&&null!=f?h=-1:null!=b&&null!=f?b.index<f.index?h=1:b.index>f.index?h=-1:a.blending>c.blending?h=1:a.blending<c.blending&&(h=-1):a.blending>c.blending?h=1:a.blending<c.blending&&(h=-1)}}else h=1;else h=-1;h<0?(n=s+1,r=r-l-1):r=l}return n},ceramic_SortVisuals.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ceramic_SortVisuals.compare=function(e,n,t){var i=e[n],l=e[t],s=0;if(i.computedVisible||i.computedTouchable)if(l.computedVisible||l.computedTouchable)if(i.computedRenderTarget!=l.computedRenderTarget)s=null==i.computedRenderTarget?1:null==l.computedRenderTarget||i.computedRenderTarget.priority>l.computedRenderTarget.priority?-1:i.computedRenderTarget.priority<l.computedRenderTarget.priority?1:i.computedRenderTarget.index<l.computedRenderTarget.index?-1:1;else if(i.computedDepth>l.computedDepth)s=1;else if(i.computedDepth<l.computedDepth)s=-1;else{var r=i.asQuad,a=l.asQuad,c=i.asMesh,h=l.asMesh;if((null!=r||null!=c)&&(null!=a||null!=h)){var u=null!=c?c.texture:r._texture,o=null!=h?h.texture:a._texture;null!=u&&null==o?s=1:null==u&&null!=o?s=-1:null!=u&&null!=o?u.index<o.index?s=1:u.index>o.index?s=-1:i.blending>l.blending?s=1:i.blending<l.blending&&(s=-1):i.blending>l.blending?s=1:i.blending<l.blending&&(s=-1)}}else s=1;else s=-1;return s};var ceramic_SortVisualsByDepth=function(){};t["ceramic.SortVisualsByDepth"]=ceramic_SortVisualsByDepth,ceramic_SortVisualsByDepth.__name__="ceramic.SortVisualsByDepth",ceramic_SortVisualsByDepth.cmp=function(e,n){var t=0;return e.depth>n.depth?t=1:e.depth<n.depth&&(t=-1),t},ceramic_SortVisualsByDepth.sort=function(e){ceramic_SortVisualsByDepth.rec(e,0,e.length)},ceramic_SortVisualsByDepth.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var l=n+1,s=t;l<s;)for(var r=l++;r>n;){var a=e[r],c=e[r-1],h=0;if(a.depth>c.depth?h=1:a.depth<c.depth&&(h=-1),!(h<0))break;var u=r-1,o=e[u];e[u]=e[r],e[r]=o,--r}}else ceramic_SortVisualsByDepth.rec(e,n,i),ceramic_SortVisualsByDepth.rec(e,i,t),ceramic_SortVisualsByDepth.doMerge(e,n,i,t,i-n,t-i)},ceramic_SortVisualsByDepth.doMerge=function(e,n,t,i,l,s){var r,a,c,h;if(0!=l&&0!=s)if(l+s!=2){if(l>s){r=n+(c=l>>1);for(var u=i-(o=t);u>0;){U=e[d=o+(_=u>>1)],C=e[r],x=0;U.depth>C.depth?x=1:U.depth<C.depth&&(x=-1),x<0?(o=d+1,u=u-_-1):u=_}h=(a=o)-t}else{a=t+(h=s>>1);var o,_,d;for(u=t-(o=n);u>0;){d=o+(_=u>>1);U=e[a],C=e[d],x=0;U.depth>C.depth?x=1:U.depth<C.depth&&(x=-1),x<0?u=_:(o=d+1,u=u-_-1)}c=(r=o)-n}var b;if(r!=t&&t!=a){for(var f=a-r,O=t-r;0!=O;){var p=f%O;f=O,O=p}for(b=f;0!=b--;){for(var g=e[r+b],m=t-r,v=r+b,y=r+b+m;y!=r+b;)e[v]=e[y],v=y,a-y>m?y+=m:y=r+(m-(a-y));e[v]=g}}var w=r+h;ceramic_SortVisualsByDepth.doMerge(e,n,r,w,c,h),ceramic_SortVisualsByDepth.doMerge(e,w,a,i,l-c,s-h)}else{var U=e[t],C=e[n],x=0;if(U.depth>C.depth?x=1:U.depth<C.depth&&(x=-1),x<0){var D=e[t];e[t]=e[n],e[n]=D}}},ceramic_SortVisualsByDepth.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,s=t-n;0!=s;){var r=l%s;l=s,s=r}for(s=l;0!=s--;){for(var a=e[n+s],c=t-n,h=n+s,u=n+s+c;u!=n+s;)e[h]=e[u],h=u,i-u>c?u+=c:u=n+(c-(i-u));e[h]=a}}},ceramic_SortVisualsByDepth.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},ceramic_SortVisualsByDepth.upper=function(e,n,t,i){for(var l,s,r=t-n;r>0;){s=n+(l=r>>1);var a=e[i],c=e[s],h=0;a.depth>c.depth?h=1:a.depth<c.depth&&(h=-1),h<0?r=l:(n=s+1,r=r-l-1)}return n},ceramic_SortVisualsByDepth.lower=function(e,n,t,i){for(var l,s,r=t-n;r>0;){var a=e[s=n+(l=r>>1)],c=e[i],h=0;a.depth>c.depth?h=1:a.depth<c.depth&&(h=-1),h<0?(n=s+1,r=r-l-1):r=l}return n},ceramic_SortVisualsByDepth.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ceramic_SortVisualsByDepth.compare=function(e,n,t){var i=e[n],l=e[t],s=0;return i.depth>l.depth?s=1:i.depth<l.depth&&(s=-1),s};var ceramic_Sound=function(e){this.pitch=1,this.pan=0,this.volume=.5,this.group=0,ceramic_Entity.call(this),this.backendItem=e};t["ceramic.Sound"]=ceramic_Sound,ceramic_Sound.__name__="ceramic.Sound",ceramic_Sound.__super__=ceramic_Entity,ceramic_Sound.prototype=$extend(ceramic_Entity.prototype,{backendItem:null,asset:null,group:null,set_group:function(e){if(this.group==e)return e;this.group=e;var n=ceramic_App.app.audio;return n.mixers.exists(e)||n.mixers.set(e,new ceramic_AudioMixer(e)),e},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy();for(var e=ceramic_App.app.backend.audio,n=this.backendItem,t=null,i=e.loadedAudioResources.h,l=i,s=Object.keys(i),r=s.length,a=0;a<r;){var c=s[a++],h=c;l[c]==n&&(t=h)}if(null==t)ceramic_App.app.logger.error("Failed to destroy audio resource: "+Std.string(n)+" because id could not be resolved",{fileName:"/home/sharpcdf/ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:172,className:"backend.Audio",methodName:"destroy"});else if(e.loadedAudioRetainCount.h[t]>1)e.loadedAudioRetainCount.h[t]-=1;else{var u=e.loadedAudioResources;Object.prototype.hasOwnProperty.call(u.h,t)&&delete u.h[t];u=e.loadedAudioRetainCount;Object.prototype.hasOwnProperty.call(u.h,t)&&delete u.h[t],n.destroy()}this.backendItem=null}},volume:null,pan:null,pitch:null,get_duration:function(){ceramic_App.app.backend.audio;return this.backendItem.getDuration()},play:function(e,n,t,i,l){null==n&&(n=!1),null==e&&(e=0);var s=ceramic_App.app.audio.mixers,r=s._keys.intMap.h[0|this.group],a=null!=r?r:0,c=a>=2?s.values[a-2]:ceramic_IntMap.RET_NULL;return c.mute?-1:(null==t&&(t=this.volume),null==i&&(i=this.pan),null==l&&(l=this.pitch),t*=2*c.volume,i+=c.pan,l+=c.pitch-1,ceramic_App.app.backend.audio.play(this.backendItem,t,i,l,e,n))},__class__:ceramic_Sound,__properties__:$extend(ceramic_Entity.prototype.__properties__,{get_duration:"get_duration",set_group:"set_group"})});var ceramic_SoundAsset=function(e,n){this.unobservedSound=null,this.soundAutoruns=null,this.stream=!1,ceramic_Asset.call(this,"sound",e,n)};t["ceramic.SoundAsset"]=ceramic_SoundAsset,ceramic_SoundAsset.__name__="ceramic.SoundAsset",ceramic_SoundAsset.__super__=ceramic_Asset,ceramic_SoundAsset.prototype=$extend(ceramic_Asset.prototype,{__cbOnReplaceSound:null,__cbOnceReplaceSound:null,__cbOnOwnerUnbindReplaceSound:null,__cbOnceOwnerUnbindReplaceSound:null,emitReplaceSound:function(e,n){var t=0;if(null!=this.__cbOnReplaceSound&&(t+=this.__cbOnReplaceSound.length),null!=this.__cbOnceReplaceSound&&(t+=this.__cbOnceReplaceSound.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnReplaceSound)for(var r=0,a=this.__cbOnReplaceSound.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnReplaceSound[c],++s):--t}if(null!=this.__cbOnceReplaceSound){var h=null,u=null;for(r=0,a=this.__cbOnceReplaceSound.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceReplaceSound[c],this.__cbOnceReplaceSound[c]=null;var o=this.__cbOnceOwnerUnbindReplaceSound[c];this.__cbOnceOwnerUnbindReplaceSound[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindReplaceSound[c]),u.push(this.__cbOnceReplaceSound[c])}this.__cbOnceOwnerUnbindReplaceSound=h,this.__cbOnceReplaceSound=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onReplaceSound:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceSound because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceSound(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReplaceSound&&(this.__cbOnOwnerUnbindReplaceSound=[]),this.__cbOnOwnerUnbindReplaceSound.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReplaceSound&&(this.__cbOnOwnerUnbindReplaceSound=[]),this.__cbOnOwnerUnbindReplaceSound.push(null);null==this.__cbOnReplaceSound&&(this.__cbOnReplaceSound=[]),this.__cbOnReplaceSound.push(n)},onceReplaceSound:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceSound because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceSound(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReplaceSound&&(this.__cbOnceOwnerUnbindReplaceSound=[]),this.__cbOnceOwnerUnbindReplaceSound.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReplaceSound&&(this.__cbOnceOwnerUnbindReplaceSound=[]),this.__cbOnceOwnerUnbindReplaceSound.push(null);null==this.__cbOnceReplaceSound&&(this.__cbOnceReplaceSound=[]),this.__cbOnceReplaceSound.push(n)},offReplaceSound:function(e){if(null!=e){var n;null!=this.__cbOnReplaceSound&&-1!=(n=this.__cbOnReplaceSound.indexOf(e))&&(this.__cbOnReplaceSound.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplaceSound[n])&&s(),this.__cbOnOwnerUnbindReplaceSound.splice(n,1)),null!=this.__cbOnceReplaceSound&&-1!=(n=this.__cbOnceReplaceSound.indexOf(e))&&(this.__cbOnceReplaceSound.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplaceSound[n])&&s(),this.__cbOnceOwnerUnbindReplaceSound.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceSound){for(var t=0,i=this.__cbOnOwnerUnbindReplaceSound.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplaceSound[l])&&s()}this.__cbOnOwnerUnbindReplaceSound=null}if(null!=this.__cbOnceOwnerUnbindReplaceSound){for(t=0,i=this.__cbOnceOwnerUnbindReplaceSound.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindReplaceSound[l])&&s()}this.__cbOnceOwnerUnbindReplaceSound=null}this.__cbOnReplaceSound=null,this.__cbOnceReplaceSound=null}},listensReplaceSound:function(){return null!=this.__cbOnReplaceSound&&this.__cbOnReplaceSound.length>0||null!=this.__cbOnceReplaceSound&&this.__cbOnceReplaceSound.length>0},stream:null,soundAutoruns:null,get_sound:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.soundAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.soundAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedSound},set_sound:function(e){var n=this.unobservedSound;if(this.unobservedSound=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSoundChange(e,n);var t=this.soundAutoruns;if(null!=t){this.soundAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateSound:function(){var e=this.unobservedSound;this.emitSoundChange(e,e);var n=this.soundAutoruns;if(null!=n){this.soundAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedSound:null,__cbOnSoundChange:null,__cbOnceSoundChange:null,__cbOnOwnerUnbindSoundChange:null,__cbOnceOwnerUnbindSoundChange:null,emitSoundChange:function(e,n){var t=0;if(null!=this.__cbOnSoundChange&&(t+=this.__cbOnSoundChange.length),null!=this.__cbOnceSoundChange&&(t+=this.__cbOnceSoundChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSoundChange)for(var r=0,a=this.__cbOnSoundChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnSoundChange[c],++s):--t}if(null!=this.__cbOnceSoundChange){var h=null,u=null;for(r=0,a=this.__cbOnceSoundChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceSoundChange[c],this.__cbOnceSoundChange[c]=null;var o=this.__cbOnceOwnerUnbindSoundChange[c];this.__cbOnceOwnerUnbindSoundChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindSoundChange[c]),u.push(this.__cbOnceSoundChange[c])}this.__cbOnceOwnerUnbindSoundChange=h,this.__cbOnceSoundChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onSoundChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event soundChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSoundChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindSoundChange&&(this.__cbOnOwnerUnbindSoundChange=[]),this.__cbOnOwnerUnbindSoundChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindSoundChange&&(this.__cbOnOwnerUnbindSoundChange=[]),this.__cbOnOwnerUnbindSoundChange.push(null);null==this.__cbOnSoundChange&&(this.__cbOnSoundChange=[]),this.__cbOnSoundChange.push(n)},onceSoundChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event soundChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSoundChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindSoundChange&&(this.__cbOnceOwnerUnbindSoundChange=[]),this.__cbOnceOwnerUnbindSoundChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindSoundChange&&(this.__cbOnceOwnerUnbindSoundChange=[]),this.__cbOnceOwnerUnbindSoundChange.push(null);null==this.__cbOnceSoundChange&&(this.__cbOnceSoundChange=[]),this.__cbOnceSoundChange.push(n)},offSoundChange:function(e){if(null!=e){var n;null!=this.__cbOnSoundChange&&-1!=(n=this.__cbOnSoundChange.indexOf(e))&&(this.__cbOnSoundChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSoundChange[n])&&s(),this.__cbOnOwnerUnbindSoundChange.splice(n,1)),null!=this.__cbOnceSoundChange&&-1!=(n=this.__cbOnceSoundChange.indexOf(e))&&(this.__cbOnceSoundChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSoundChange[n])&&s(),this.__cbOnceOwnerUnbindSoundChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSoundChange){for(var t=0,i=this.__cbOnOwnerUnbindSoundChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSoundChange[l])&&s()}this.__cbOnOwnerUnbindSoundChange=null}if(null!=this.__cbOnceOwnerUnbindSoundChange){for(t=0,i=this.__cbOnceOwnerUnbindSoundChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindSoundChange[l])&&s()}this.__cbOnceOwnerUnbindSoundChange=null}this.__cbOnSoundChange=null,this.__cbOnceSoundChange=null}},listensSoundChange:function(){return null!=this.__cbOnSoundChange&&this.__cbOnSoundChange.length>0||null!=this.__cbOnceSoundChange&&this.__cbOnceSoundChange.length>0},load:function(){var e=this;if(this.set_status(h.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load sound asset if path is undefined.",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:27,className:"ceramic.SoundAsset",methodName:"load"}),this.set_status(h.BROKEN),void this.emitComplete(!1);var n={};if(null!=this.owner&&(n.immediate=this.owner.immediate,n.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=Reflect.fields(this.options);t<i.length;){var l=i[t];++t,n[l]=Reflect.field(this.options,l)}var s=[].concat(this.allPaths),r=null;r=function(t){var i=t,l=ceramic_Assets.realAssetPath(i,e.runtimeAssets),a=ceramic_Assets.getReloadCount(l);a>0&&(l+="?hot="+a,i+="?hot="+a),ceramic_App.app.logger.info("Load sound "+i,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:87,className:"ceramic.SoundAsset",methodName:"load"});var c=ceramic_Path.extension(l);null!=c&&(c=c.toLowerCase()),ceramic_App.app.backend.audio.load(l,n,(function(n){if(null!=n||0==s.length)!function(n){if(null!=n){var t=e.get_sound(),i=new ceramic_Sound(n);i.asset=e,e.set_sound(i),null!=t&&(e.emitReplaceSound(e.get_sound(),t),t.asset=null,t.destroy()),e.set_status(h.READY),e.emitComplete(!0)}else e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to load audio at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:71,className:"ceramic.SoundAsset",methodName:"load"}),e.emitComplete(!1)}(n);else{var i=s.shift();ceramic_App.app.logger.warning("Failed to load "+t+". Try "+i+"...",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:100,className:"ceramic.SoundAsset",methodName:"load"}),r(i)}}))},s.length>0?r(s.shift()):(this.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to load audio at path: "+this.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:112,className:"ceramic.SoundAsset",methodName:"load"}),this.emitComplete(!1))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload sound (file has changed)",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:133,className:"ceramic.SoundAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),null!=this.get_sound()&&(this.get_sound().destroy(),this.set_sound(null)))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offReplaceSound(),this.offSoundChange()},__class__:ceramic_SoundAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_sound:"set_sound",get_sound:"get_sound"})});var tracker_Serializable=function(){};t["tracker.Serializable"]=tracker_Serializable,tracker_Serializable.__name__="tracker.Serializable",tracker_Serializable.__isInterface__=!0,tracker_Serializable.prototype={_serializeId:null,willSerialize:null,didDeserialize:null,serializeShouldDestroy:null,__class__:tracker_Serializable};var tracker_Model=function(){this._serializeId=tracker_Utils.uniqueId(),this.dirty=!1,this.observedDirty=!1,ceramic_Entity.call(this)};t["tracker.Model"]=tracker_Model,tracker_Model.__name__="tracker.Model",tracker_Model.__interfaces__=[tracker_Serializable,tracker_Observable],tracker_Model._toDynamic=function(e){var n=tracker_Autorun.current;tracker_Autorun.current=null;var t=!1;null==tracker_Model._toDynamicUsed?(t=!0,tracker_Model._toDynamicUsed=[],tracker_Model._toDynamicStack=0):tracker_Model._toDynamicStack++;for(var i={},l=0,s=Reflect.fields(e);l<s.length;){var r=s[l];if(++l,!StringTools.startsWith(r,"_")&&!StringTools.endsWith(r,"Autoruns")){var a=r;StringTools.startsWith(a,"unobserved")&&(a=a.charAt(10).toLowerCase()+a.substring(11));var c=Reflect.field(e,r),h=Type.typeof(c);switch(h._hx_index){case 0:case 1:case 2:case 3:case 5:case 8:i[a]=c;break;case 4:"string"==typeof c?i[a]=c:-1!=tracker_Model._toDynamicUsed.indexOf(c)||tracker_Model._toDynamicStack>tracker_Model.TO_DYNAMIC_MAX_STACK?i[a]="<...>":(tracker_Model._toDynamicUsed.push(c),i[a]=tracker_Model._toDynamic(c));break;case 6:h.c;"string"==typeof c?i[a]=c:-1!=tracker_Model._toDynamicUsed.indexOf(c)||tracker_Model._toDynamicStack>tracker_Model.TO_DYNAMIC_MAX_STACK?i[a]="<...>":(tracker_Model._toDynamicUsed.push(c),i[a]=tracker_Model._toDynamic(c));break;case 7:h.e;i[a]=c}}}return t?(tracker_Model._toDynamicUsed=null,tracker_Model._toDynamicStack=0):tracker_Model._toDynamicStack--,tracker_Autorun.current=n,i},tracker_Model.__super__=ceramic_Entity,tracker_Model.prototype=$extend(ceramic_Entity.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,a=this.__cbOnObservedDirty.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[c],++s):--t}if(null!=this.__cbOnceObservedDirty){var h=null,u=null;for(r=0,a=this.__cbOnceObservedDirty.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceObservedDirty[c],this.__cbOnceObservedDirty[c]=null;var o=this.__cbOnceOwnerUnbindObservedDirty[c];this.__cbOnceOwnerUnbindObservedDirty[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindObservedDirty[c]),u.push(this.__cbOnceObservedDirty[c])}this.__cbOnceOwnerUnbindObservedDirty=h,this.__cbOnceObservedDirty=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},observedDirty:null,__cbOnModelDirty:null,__cbOnceModelDirty:null,__cbOnOwnerUnbindModelDirty:null,__cbOnceOwnerUnbindModelDirty:null,emitModelDirty:function(e){var n=0;if(null!=this.__cbOnModelDirty&&(n+=this.__cbOnModelDirty.length),null!=this.__cbOnceModelDirty&&(n+=this.__cbOnceModelDirty.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnModelDirty)for(var s=0,r=this.__cbOnModelDirty.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnModelDirty[a],++l):--n}if(null!=this.__cbOnceModelDirty){var c=null,h=null;for(s=0,r=this.__cbOnceModelDirty.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceModelDirty[a],this.__cbOnceModelDirty[a]=null;var u=this.__cbOnceOwnerUnbindModelDirty[a];this.__cbOnceOwnerUnbindModelDirty[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindModelDirty[a]),h.push(this.__cbOnceModelDirty[a])}this.__cbOnceOwnerUnbindModelDirty=c,this.__cbOnceModelDirty=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onModelDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event modelDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offModelDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindModelDirty&&(this.__cbOnOwnerUnbindModelDirty=[]),this.__cbOnOwnerUnbindModelDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindModelDirty&&(this.__cbOnOwnerUnbindModelDirty=[]),this.__cbOnOwnerUnbindModelDirty.push(null);null==this.__cbOnModelDirty&&(this.__cbOnModelDirty=[]),this.__cbOnModelDirty.push(n)},onceModelDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event modelDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offModelDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindModelDirty&&(this.__cbOnceOwnerUnbindModelDirty=[]),this.__cbOnceOwnerUnbindModelDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindModelDirty&&(this.__cbOnceOwnerUnbindModelDirty=[]),this.__cbOnceOwnerUnbindModelDirty.push(null);null==this.__cbOnceModelDirty&&(this.__cbOnceModelDirty=[]),this.__cbOnceModelDirty.push(n)},offModelDirty:function(e){if(null!=e){var n;null!=this.__cbOnModelDirty&&-1!=(n=this.__cbOnModelDirty.indexOf(e))&&(this.__cbOnModelDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindModelDirty[n])&&s(),this.__cbOnOwnerUnbindModelDirty.splice(n,1)),null!=this.__cbOnceModelDirty&&-1!=(n=this.__cbOnceModelDirty.indexOf(e))&&(this.__cbOnceModelDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindModelDirty[n])&&s(),this.__cbOnceOwnerUnbindModelDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindModelDirty){for(var t=0,i=this.__cbOnOwnerUnbindModelDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindModelDirty[l])&&s()}this.__cbOnOwnerUnbindModelDirty=null}if(null!=this.__cbOnceOwnerUnbindModelDirty){for(t=0,i=this.__cbOnceOwnerUnbindModelDirty.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindModelDirty[l])&&s()}this.__cbOnceOwnerUnbindModelDirty=null}this.__cbOnModelDirty=null,this.__cbOnceModelDirty=null}},listensModelDirty:function(){return null!=this.__cbOnModelDirty&&this.__cbOnModelDirty.length>0||null!=this.__cbOnceModelDirty&&this.__cbOnceModelDirty.length>0},serializer:null,set_serializer:function(e){return this.serializer==e?this.serializer:(null!=this.serializer&&this.serializer.destroy(),this.serializer=e,null!=this.serializer?(this.component("serializer",this.serializer),this.serializer):(this.removeComponent("serializer"),null))},dirty:null,set_dirty:function(e){return e==this.dirty||(this.dirty=e,e&&this.emitModelDirty(this)),e},willSerialize:function(){},didDeserialize:function(){},serializeShouldDestroy:function(){return!0},toString:function(){return""+Std.string(tracker_Model._toDynamic(this))},hxSerialize:function(e){e.serialize(tracker_Serialize.serializeValue(this))},hxUnserialize:function(e){tracker_Serialize.deserializeValue(e.unserialize(),this)},_default_dirty:function(){return!1},_serializeId:null,__cbOnSerialize:null,__cbOnceSerialize:null,__cbOnOwnerUnbindSerialize:null,__cbOnceOwnerUnbindSerialize:null,emitSerialize:function(){var e=0;if(null!=this.__cbOnSerialize&&(e+=this.__cbOnSerialize.length),null!=this.__cbOnceSerialize&&(e+=this.__cbOnceSerialize.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnSerialize)for(var l=0,s=this.__cbOnSerialize.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnSerialize[r],++i):--e}if(null!=this.__cbOnceSerialize){var a=null,c=null;for(l=0,s=this.__cbOnceSerialize.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceSerialize[r],this.__cbOnceSerialize[r]=null;var h=this.__cbOnceOwnerUnbindSerialize[r];this.__cbOnceOwnerUnbindSerialize[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindSerialize[r]),c.push(this.__cbOnceSerialize[r])}this.__cbOnceOwnerUnbindSerialize=a,this.__cbOnceSerialize=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onSerialize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event serialize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSerialize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindSerialize&&(this.__cbOnOwnerUnbindSerialize=[]),this.__cbOnOwnerUnbindSerialize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindSerialize&&(this.__cbOnOwnerUnbindSerialize=[]),this.__cbOnOwnerUnbindSerialize.push(null);null==this.__cbOnSerialize&&(this.__cbOnSerialize=[]),this.__cbOnSerialize.push(n)},onceSerialize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event serialize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSerialize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindSerialize&&(this.__cbOnceOwnerUnbindSerialize=[]),this.__cbOnceOwnerUnbindSerialize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindSerialize&&(this.__cbOnceOwnerUnbindSerialize=[]),this.__cbOnceOwnerUnbindSerialize.push(null);null==this.__cbOnceSerialize&&(this.__cbOnceSerialize=[]),this.__cbOnceSerialize.push(n)},offSerialize:function(e){if(null!=e){var n;null!=this.__cbOnSerialize&&-1!=(n=this.__cbOnSerialize.indexOf(e))&&(this.__cbOnSerialize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSerialize[n])&&s(),this.__cbOnOwnerUnbindSerialize.splice(n,1)),null!=this.__cbOnceSerialize&&-1!=(n=this.__cbOnceSerialize.indexOf(e))&&(this.__cbOnceSerialize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSerialize[n])&&s(),this.__cbOnceOwnerUnbindSerialize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSerialize){for(var t=0,i=this.__cbOnOwnerUnbindSerialize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSerialize[l])&&s()}this.__cbOnOwnerUnbindSerialize=null}if(null!=this.__cbOnceOwnerUnbindSerialize){for(t=0,i=this.__cbOnceOwnerUnbindSerialize.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindSerialize[l])&&s()}this.__cbOnceOwnerUnbindSerialize=null}this.__cbOnSerialize=null,this.__cbOnceSerialize=null}},listensSerialize:function(){return null!=this.__cbOnSerialize&&this.__cbOnSerialize.length>0||null!=this.__cbOnceSerialize&&this.__cbOnceSerialize.length>0},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offSerialize(),this.offDeserialize(),this.offObservedDirty(),this.offModelDirty()},__cbOnDeserialize:null,__cbOnceDeserialize:null,__cbOnOwnerUnbindDeserialize:null,__cbOnceOwnerUnbindDeserialize:null,emitDeserialize:function(){var e=0;if(null!=this.__cbOnDeserialize&&(e+=this.__cbOnDeserialize.length),null!=this.__cbOnceDeserialize&&(e+=this.__cbOnceDeserialize.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnDeserialize)for(var l=0,s=this.__cbOnDeserialize.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnDeserialize[r],++i):--e}if(null!=this.__cbOnceDeserialize){var a=null,c=null;for(l=0,s=this.__cbOnceDeserialize.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceDeserialize[r],this.__cbOnceDeserialize[r]=null;var h=this.__cbOnceOwnerUnbindDeserialize[r];this.__cbOnceOwnerUnbindDeserialize[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindDeserialize[r]),c.push(this.__cbOnceDeserialize[r])}this.__cbOnceOwnerUnbindDeserialize=a,this.__cbOnceDeserialize=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onDeserialize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event deserialize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDeserialize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDeserialize&&(this.__cbOnOwnerUnbindDeserialize=[]),this.__cbOnOwnerUnbindDeserialize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDeserialize&&(this.__cbOnOwnerUnbindDeserialize=[]),this.__cbOnOwnerUnbindDeserialize.push(null);null==this.__cbOnDeserialize&&(this.__cbOnDeserialize=[]),this.__cbOnDeserialize.push(n)},onceDeserialize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event deserialize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDeserialize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDeserialize&&(this.__cbOnceOwnerUnbindDeserialize=[]),this.__cbOnceOwnerUnbindDeserialize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDeserialize&&(this.__cbOnceOwnerUnbindDeserialize=[]),this.__cbOnceOwnerUnbindDeserialize.push(null);null==this.__cbOnceDeserialize&&(this.__cbOnceDeserialize=[]),this.__cbOnceDeserialize.push(n)},offDeserialize:function(e){if(null!=e){var n;null!=this.__cbOnDeserialize&&-1!=(n=this.__cbOnDeserialize.indexOf(e))&&(this.__cbOnDeserialize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDeserialize[n])&&s(),this.__cbOnOwnerUnbindDeserialize.splice(n,1)),null!=this.__cbOnceDeserialize&&-1!=(n=this.__cbOnceDeserialize.indexOf(e))&&(this.__cbOnceDeserialize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDeserialize[n])&&s(),this.__cbOnceOwnerUnbindDeserialize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDeserialize){for(var t=0,i=this.__cbOnOwnerUnbindDeserialize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDeserialize[l])&&s()}this.__cbOnOwnerUnbindDeserialize=null}if(null!=this.__cbOnceOwnerUnbindDeserialize){for(t=0,i=this.__cbOnceOwnerUnbindDeserialize.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindDeserialize[l])&&s()}this.__cbOnceOwnerUnbindDeserialize=null}this.__cbOnDeserialize=null,this.__cbOnceDeserialize=null}},listensDeserialize:function(){return null!=this.__cbOnDeserialize&&this.__cbOnDeserialize.length>0||null!=this.__cbOnceDeserialize&&this.__cbOnceDeserialize.length>0},__class__:tracker_Model,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_dirty:"set_dirty",set_serializer:"set_serializer"})});var ceramic_SpriteSheet=function(){this.unobservedSource=null,this.sourceAutoruns=null,this.implicitAtlas=!1,this.unobservedGridHeight=-1,this.gridHeightAutoruns=null,this.unobservedGridWidth=-1,this.gridWidthAutoruns=null,this.unobservedAtlas=null,this.atlasAutoruns=null,this.unobservedAnimations=[],this.animationsAutoruns=null,tracker_Model.call(this)};t["ceramic.SpriteSheet"]=ceramic_SpriteSheet,ceramic_SpriteSheet.__name__="ceramic.SpriteSheet",ceramic_SpriteSheet.__super__=tracker_Model,ceramic_SpriteSheet.prototype=$extend(tracker_Model.prototype,{animationsAutoruns:null,get_animations:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.animationsAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.animationsAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedAnimations},set_animations:function(e){var n=this.unobservedAnimations;if(this.unobservedAnimations=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitAnimationsChange(e,n);var t=this.animationsAutoruns;if(null!=t){this.animationsAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateAnimations:function(){var e=this.unobservedAnimations;this.emitAnimationsChange(e,e);var n=this.animationsAutoruns;if(null!=n){this.animationsAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedAnimations:null,__cbOnAnimationsChange:null,__cbOnceAnimationsChange:null,__cbOnOwnerUnbindAnimationsChange:null,__cbOnceOwnerUnbindAnimationsChange:null,emitAnimationsChange:function(e,n){var t=0;if(null!=this.__cbOnAnimationsChange&&(t+=this.__cbOnAnimationsChange.length),null!=this.__cbOnceAnimationsChange&&(t+=this.__cbOnceAnimationsChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnAnimationsChange)for(var r=0,a=this.__cbOnAnimationsChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnAnimationsChange[c],++s):--t}if(null!=this.__cbOnceAnimationsChange){var h=null,u=null;for(r=0,a=this.__cbOnceAnimationsChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceAnimationsChange[c],this.__cbOnceAnimationsChange[c]=null;var o=this.__cbOnceOwnerUnbindAnimationsChange[c];this.__cbOnceOwnerUnbindAnimationsChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindAnimationsChange[c]),u.push(this.__cbOnceAnimationsChange[c])}this.__cbOnceOwnerUnbindAnimationsChange=h,this.__cbOnceAnimationsChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onAnimationsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event animationsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offAnimationsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindAnimationsChange&&(this.__cbOnOwnerUnbindAnimationsChange=[]),this.__cbOnOwnerUnbindAnimationsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindAnimationsChange&&(this.__cbOnOwnerUnbindAnimationsChange=[]),this.__cbOnOwnerUnbindAnimationsChange.push(null);null==this.__cbOnAnimationsChange&&(this.__cbOnAnimationsChange=[]),this.__cbOnAnimationsChange.push(n)},onceAnimationsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event animationsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offAnimationsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindAnimationsChange&&(this.__cbOnceOwnerUnbindAnimationsChange=[]),this.__cbOnceOwnerUnbindAnimationsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindAnimationsChange&&(this.__cbOnceOwnerUnbindAnimationsChange=[]),this.__cbOnceOwnerUnbindAnimationsChange.push(null);null==this.__cbOnceAnimationsChange&&(this.__cbOnceAnimationsChange=[]),this.__cbOnceAnimationsChange.push(n)},offAnimationsChange:function(e){if(null!=e){var n;null!=this.__cbOnAnimationsChange&&-1!=(n=this.__cbOnAnimationsChange.indexOf(e))&&(this.__cbOnAnimationsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAnimationsChange[n])&&s(),this.__cbOnOwnerUnbindAnimationsChange.splice(n,1)),null!=this.__cbOnceAnimationsChange&&-1!=(n=this.__cbOnceAnimationsChange.indexOf(e))&&(this.__cbOnceAnimationsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAnimationsChange[n])&&s(),this.__cbOnceOwnerUnbindAnimationsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAnimationsChange){for(var t=0,i=this.__cbOnOwnerUnbindAnimationsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAnimationsChange[l])&&s()}this.__cbOnOwnerUnbindAnimationsChange=null}if(null!=this.__cbOnceOwnerUnbindAnimationsChange){for(t=0,i=this.__cbOnceOwnerUnbindAnimationsChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindAnimationsChange[l])&&s()}this.__cbOnceOwnerUnbindAnimationsChange=null}this.__cbOnAnimationsChange=null,this.__cbOnceAnimationsChange=null}},listensAnimationsChange:function(){return null!=this.__cbOnAnimationsChange&&this.__cbOnAnimationsChange.length>0||null!=this.__cbOnceAnimationsChange&&this.__cbOnceAnimationsChange.length>0},atlasAutoruns:null,get_atlas:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.atlasAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.atlasAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedAtlas},set_atlas:function(e){var n=this.unobservedAtlas;if(this.set_unobservedAtlas(e),n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitAtlasChange(e,n);var t=this.atlasAutoruns;if(null!=t){this.atlasAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateAtlas:function(){var e=this.unobservedAtlas;this.emitAtlasChange(e,e);var n=this.atlasAutoruns;if(null!=n){this.atlasAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedAtlas:null,__cbOnAtlasChange:null,__cbOnceAtlasChange:null,__cbOnOwnerUnbindAtlasChange:null,__cbOnceOwnerUnbindAtlasChange:null,emitAtlasChange:function(e,n){var t=0;if(null!=this.__cbOnAtlasChange&&(t+=this.__cbOnAtlasChange.length),null!=this.__cbOnceAtlasChange&&(t+=this.__cbOnceAtlasChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnAtlasChange)for(var r=0,a=this.__cbOnAtlasChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnAtlasChange[c],++s):--t}if(null!=this.__cbOnceAtlasChange){var h=null,u=null;for(r=0,a=this.__cbOnceAtlasChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceAtlasChange[c],this.__cbOnceAtlasChange[c]=null;var o=this.__cbOnceOwnerUnbindAtlasChange[c];this.__cbOnceOwnerUnbindAtlasChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindAtlasChange[c]),u.push(this.__cbOnceAtlasChange[c])}this.__cbOnceOwnerUnbindAtlasChange=h,this.__cbOnceAtlasChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onAtlasChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event atlasChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offAtlasChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindAtlasChange&&(this.__cbOnOwnerUnbindAtlasChange=[]),this.__cbOnOwnerUnbindAtlasChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindAtlasChange&&(this.__cbOnOwnerUnbindAtlasChange=[]),this.__cbOnOwnerUnbindAtlasChange.push(null);null==this.__cbOnAtlasChange&&(this.__cbOnAtlasChange=[]),this.__cbOnAtlasChange.push(n)},onceAtlasChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event atlasChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offAtlasChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindAtlasChange&&(this.__cbOnceOwnerUnbindAtlasChange=[]),this.__cbOnceOwnerUnbindAtlasChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindAtlasChange&&(this.__cbOnceOwnerUnbindAtlasChange=[]),this.__cbOnceOwnerUnbindAtlasChange.push(null);null==this.__cbOnceAtlasChange&&(this.__cbOnceAtlasChange=[]),this.__cbOnceAtlasChange.push(n)},offAtlasChange:function(e){if(null!=e){var n;null!=this.__cbOnAtlasChange&&-1!=(n=this.__cbOnAtlasChange.indexOf(e))&&(this.__cbOnAtlasChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAtlasChange[n])&&s(),this.__cbOnOwnerUnbindAtlasChange.splice(n,1)),null!=this.__cbOnceAtlasChange&&-1!=(n=this.__cbOnceAtlasChange.indexOf(e))&&(this.__cbOnceAtlasChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAtlasChange[n])&&s(),this.__cbOnceOwnerUnbindAtlasChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAtlasChange){for(var t=0,i=this.__cbOnOwnerUnbindAtlasChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAtlasChange[l])&&s()}this.__cbOnOwnerUnbindAtlasChange=null}if(null!=this.__cbOnceOwnerUnbindAtlasChange){for(t=0,i=this.__cbOnceOwnerUnbindAtlasChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindAtlasChange[l])&&s()}this.__cbOnceOwnerUnbindAtlasChange=null}this.__cbOnAtlasChange=null,this.__cbOnceAtlasChange=null}},listensAtlasChange:function(){return null!=this.__cbOnAtlasChange&&this.__cbOnAtlasChange.length>0||null!=this.__cbOnceAtlasChange&&this.__cbOnceAtlasChange.length>0},set_unobservedAtlas:function(e){if(this.unobservedAtlas==e)return e;var n=this.unobservedAtlas;return null!=n&&(null!=n.asset&&n.asset.offReplaceAtlas($bind(this,this.replaceAtlas)),null!=n.asset&&n.asset.release(),this.implicitAtlas&&n.destroy()),this.unobservedAtlas=e,this.implicitAtlas=!1,null!=this.unobservedAtlas&&(null!=this.get_atlas().asset&&this.get_atlas().asset.onReplaceAtlas(this,$bind(this,this.replaceAtlas)),null!=this.get_atlas().asset&&this.get_atlas().asset.retain()),e},gridWidthAutoruns:null,get_gridWidth:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.gridWidthAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.gridWidthAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedGridWidth},set_gridWidth:function(e){var n=this.unobservedGridWidth;if(this.unobservedGridWidth=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitGridWidthChange(e,n);var t=this.gridWidthAutoruns;if(null!=t){this.gridWidthAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateGridWidth:function(){var e=this.unobservedGridWidth;this.emitGridWidthChange(e,e);var n=this.gridWidthAutoruns;if(null!=n){this.gridWidthAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedGridWidth:null,__cbOnGridWidthChange:null,__cbOnceGridWidthChange:null,__cbOnOwnerUnbindGridWidthChange:null,__cbOnceOwnerUnbindGridWidthChange:null,emitGridWidthChange:function(e,n){var t=0;if(null!=this.__cbOnGridWidthChange&&(t+=this.__cbOnGridWidthChange.length),null!=this.__cbOnceGridWidthChange&&(t+=this.__cbOnceGridWidthChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGridWidthChange)for(var r=0,a=this.__cbOnGridWidthChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnGridWidthChange[c],++s):--t}if(null!=this.__cbOnceGridWidthChange){var h=null,u=null;for(r=0,a=this.__cbOnceGridWidthChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceGridWidthChange[c],this.__cbOnceGridWidthChange[c]=null;var o=this.__cbOnceOwnerUnbindGridWidthChange[c];this.__cbOnceOwnerUnbindGridWidthChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindGridWidthChange[c]),u.push(this.__cbOnceGridWidthChange[c])}this.__cbOnceOwnerUnbindGridWidthChange=h,this.__cbOnceGridWidthChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onGridWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gridWidthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGridWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGridWidthChange&&(this.__cbOnOwnerUnbindGridWidthChange=[]),this.__cbOnOwnerUnbindGridWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGridWidthChange&&(this.__cbOnOwnerUnbindGridWidthChange=[]),this.__cbOnOwnerUnbindGridWidthChange.push(null);null==this.__cbOnGridWidthChange&&(this.__cbOnGridWidthChange=[]),this.__cbOnGridWidthChange.push(n)},onceGridWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gridWidthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGridWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGridWidthChange&&(this.__cbOnceOwnerUnbindGridWidthChange=[]),this.__cbOnceOwnerUnbindGridWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGridWidthChange&&(this.__cbOnceOwnerUnbindGridWidthChange=[]),this.__cbOnceOwnerUnbindGridWidthChange.push(null);null==this.__cbOnceGridWidthChange&&(this.__cbOnceGridWidthChange=[]),this.__cbOnceGridWidthChange.push(n)},offGridWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnGridWidthChange&&-1!=(n=this.__cbOnGridWidthChange.indexOf(e))&&(this.__cbOnGridWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGridWidthChange[n])&&s(),this.__cbOnOwnerUnbindGridWidthChange.splice(n,1)),null!=this.__cbOnceGridWidthChange&&-1!=(n=this.__cbOnceGridWidthChange.indexOf(e))&&(this.__cbOnceGridWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGridWidthChange[n])&&s(),this.__cbOnceOwnerUnbindGridWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGridWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindGridWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGridWidthChange[l])&&s()}this.__cbOnOwnerUnbindGridWidthChange=null}if(null!=this.__cbOnceOwnerUnbindGridWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindGridWidthChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGridWidthChange[l])&&s()}this.__cbOnceOwnerUnbindGridWidthChange=null}this.__cbOnGridWidthChange=null,this.__cbOnceGridWidthChange=null}},listensGridWidthChange:function(){return null!=this.__cbOnGridWidthChange&&this.__cbOnGridWidthChange.length>0||null!=this.__cbOnceGridWidthChange&&this.__cbOnceGridWidthChange.length>0},gridHeightAutoruns:null,get_gridHeight:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.gridHeightAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.gridHeightAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedGridHeight},set_gridHeight:function(e){var n=this.unobservedGridHeight;if(this.unobservedGridHeight=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitGridHeightChange(e,n);var t=this.gridHeightAutoruns;if(null!=t){this.gridHeightAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateGridHeight:function(){var e=this.unobservedGridHeight;this.emitGridHeightChange(e,e);var n=this.gridHeightAutoruns;if(null!=n){this.gridHeightAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedGridHeight:null,__cbOnGridHeightChange:null,__cbOnceGridHeightChange:null,__cbOnOwnerUnbindGridHeightChange:null,__cbOnceOwnerUnbindGridHeightChange:null,emitGridHeightChange:function(e,n){var t=0;if(null!=this.__cbOnGridHeightChange&&(t+=this.__cbOnGridHeightChange.length),null!=this.__cbOnceGridHeightChange&&(t+=this.__cbOnceGridHeightChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGridHeightChange)for(var r=0,a=this.__cbOnGridHeightChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnGridHeightChange[c],++s):--t}if(null!=this.__cbOnceGridHeightChange){var h=null,u=null;for(r=0,a=this.__cbOnceGridHeightChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceGridHeightChange[c],this.__cbOnceGridHeightChange[c]=null;var o=this.__cbOnceOwnerUnbindGridHeightChange[c];this.__cbOnceOwnerUnbindGridHeightChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindGridHeightChange[c]),u.push(this.__cbOnceGridHeightChange[c])}this.__cbOnceOwnerUnbindGridHeightChange=h,this.__cbOnceGridHeightChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onGridHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gridHeightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGridHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGridHeightChange&&(this.__cbOnOwnerUnbindGridHeightChange=[]),this.__cbOnOwnerUnbindGridHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGridHeightChange&&(this.__cbOnOwnerUnbindGridHeightChange=[]),this.__cbOnOwnerUnbindGridHeightChange.push(null);null==this.__cbOnGridHeightChange&&(this.__cbOnGridHeightChange=[]),this.__cbOnGridHeightChange.push(n)},onceGridHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gridHeightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGridHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGridHeightChange&&(this.__cbOnceOwnerUnbindGridHeightChange=[]),this.__cbOnceOwnerUnbindGridHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGridHeightChange&&(this.__cbOnceOwnerUnbindGridHeightChange=[]),this.__cbOnceOwnerUnbindGridHeightChange.push(null);null==this.__cbOnceGridHeightChange&&(this.__cbOnceGridHeightChange=[]),this.__cbOnceGridHeightChange.push(n)},offGridHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnGridHeightChange&&-1!=(n=this.__cbOnGridHeightChange.indexOf(e))&&(this.__cbOnGridHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGridHeightChange[n])&&s(),this.__cbOnOwnerUnbindGridHeightChange.splice(n,1)),null!=this.__cbOnceGridHeightChange&&-1!=(n=this.__cbOnceGridHeightChange.indexOf(e))&&(this.__cbOnceGridHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGridHeightChange[n])&&s(),this.__cbOnceOwnerUnbindGridHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGridHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindGridHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGridHeightChange[l])&&s()}this.__cbOnOwnerUnbindGridHeightChange=null}if(null!=this.__cbOnceOwnerUnbindGridHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindGridHeightChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGridHeightChange[l])&&s()}this.__cbOnceOwnerUnbindGridHeightChange=null}this.__cbOnGridHeightChange=null,this.__cbOnceGridHeightChange=null}},listensGridHeightChange:function(){return null!=this.__cbOnGridHeightChange&&this.__cbOnGridHeightChange.length>0||null!=this.__cbOnceGridHeightChange&&this.__cbOnceGridHeightChange.length>0},grid:function(e,n){this.set_gridWidth(e),this.set_gridHeight(n)},implicitAtlas:null,get_texture:function(){return null!=this.get_atlas()?this.unobservedAtlas.pages[0].texture:null},set_texture:function(e){var n=this.unobservedAtlas,t=this.implicitAtlas,i=t&&null!=n?n.pages[0].texture:null;return null!=i&&null!=i.asset&&(i.asset.offReplaceTexture($bind(this,this.replaceTexture)),i.asset.release()),null!=e?(null!=e.asset&&(e.asset.onReplaceTexture(this,$bind(this,this.replaceTexture)),e.asset.retain()),null!=this.unobservedAtlas&&this.unobservedAtlas.pages[0].texture==e||(this.set_unobservedAtlas(new ceramic_TextureAtlas),this.implicitAtlas=!0,this.unobservedAtlas.pages[0]=new ceramic_TextureAtlasPage("page0",e.width,e.height,e.filter,e))):(this.set_unobservedAtlas(null),this.implicitAtlas=!1),t&&null!=n&&n.destroy(),e},sourceAutoruns:null,get_source:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.sourceAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.sourceAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedSource},set_source:function(e){var n=this.unobservedSource;if(this.unobservedSource=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitSourceChange(e,n);var t=this.sourceAutoruns;if(null!=t){this.sourceAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateSource:function(){var e=this.unobservedSource;this.emitSourceChange(e,e);var n=this.sourceAutoruns;if(null!=n){this.sourceAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedSource:null,__cbOnSourceChange:null,__cbOnceSourceChange:null,__cbOnOwnerUnbindSourceChange:null,__cbOnceOwnerUnbindSourceChange:null,emitSourceChange:function(e,n){var t=0;if(null!=this.__cbOnSourceChange&&(t+=this.__cbOnSourceChange.length),null!=this.__cbOnceSourceChange&&(t+=this.__cbOnceSourceChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSourceChange)for(var r=0,a=this.__cbOnSourceChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnSourceChange[c],++s):--t}if(null!=this.__cbOnceSourceChange){var h=null,u=null;for(r=0,a=this.__cbOnceSourceChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceSourceChange[c],this.__cbOnceSourceChange[c]=null;var o=this.__cbOnceOwnerUnbindSourceChange[c];this.__cbOnceOwnerUnbindSourceChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindSourceChange[c]),u.push(this.__cbOnceSourceChange[c])}this.__cbOnceOwnerUnbindSourceChange=h,this.__cbOnceSourceChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onSourceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event sourceChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSourceChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindSourceChange&&(this.__cbOnOwnerUnbindSourceChange=[]),this.__cbOnOwnerUnbindSourceChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindSourceChange&&(this.__cbOnOwnerUnbindSourceChange=[]),this.__cbOnOwnerUnbindSourceChange.push(null);null==this.__cbOnSourceChange&&(this.__cbOnSourceChange=[]),this.__cbOnSourceChange.push(n)},onceSourceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event sourceChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSourceChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindSourceChange&&(this.__cbOnceOwnerUnbindSourceChange=[]),this.__cbOnceOwnerUnbindSourceChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindSourceChange&&(this.__cbOnceOwnerUnbindSourceChange=[]),this.__cbOnceOwnerUnbindSourceChange.push(null);null==this.__cbOnceSourceChange&&(this.__cbOnceSourceChange=[]),this.__cbOnceSourceChange.push(n)},offSourceChange:function(e){if(null!=e){var n;null!=this.__cbOnSourceChange&&-1!=(n=this.__cbOnSourceChange.indexOf(e))&&(this.__cbOnSourceChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSourceChange[n])&&s(),this.__cbOnOwnerUnbindSourceChange.splice(n,1)),null!=this.__cbOnceSourceChange&&-1!=(n=this.__cbOnceSourceChange.indexOf(e))&&(this.__cbOnceSourceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSourceChange[n])&&s(),this.__cbOnceOwnerUnbindSourceChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSourceChange){for(var t=0,i=this.__cbOnOwnerUnbindSourceChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSourceChange[l])&&s()}this.__cbOnOwnerUnbindSourceChange=null}if(null!=this.__cbOnceOwnerUnbindSourceChange){for(t=0,i=this.__cbOnceOwnerUnbindSourceChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindSourceChange[l])&&s()}this.__cbOnceOwnerUnbindSourceChange=null}this.__cbOnSourceChange=null,this.__cbOnceSourceChange=null}},listensSourceChange:function(){return null!=this.__cbOnSourceChange&&this.__cbOnSourceChange.length>0||null!=this.__cbOnceSourceChange&&this.__cbOnceSourceChange.length>0},extractAsepriteData:function(e){ceramic_App.app.logger.warning("Not implemented (todo)",{fileName:"/home/sharpcdf/ceramic/plugins/sprite/runtime/src/ceramic/SpriteSheet.hx",lineNumber:107,className:"ceramic.SpriteSheet",methodName:"extractAsepriteData"})},addAnimation:function(e){var n=[].concat(this.get_animations());n.push(e),this.set_animations(n)},_addGridAnimation:function(e,n,t){var i=new ceramic_SpriteSheetAnimation;i.set_name(e);for(var l=this.unobservedGridWidth,s=this.unobservedGridHeight,r=Math.floor(this.unobservedAtlas.pages[0].width/l)*l,a=Math.round(r/l),c=[],h=0,u=n.length;h<u;){var o=n[h++],_=o%a,d=Math.floor(o/a),b=new ceramic_SpriteSheetFrame(this.unobservedAtlas,e+"#"+o,0);b.set_duration(t);var f=b.get_region();f.width=l,f.height=s,f.originalWidth=l,f.originalHeight=s,f.packedWidth=l,f.packedHeight=s,f.frameX=_*l,f.frameY=d*s,f.frameWidth=l,f.frameHeight=s,c.push(b)}return i.set_frames(c),this.addAnimation(i),i},cellsFromStartEnd:function(e,n){for(var t=[],i=e;t.push(i),++i<=n;);return t},replaceAtlas:function(e,n){this.set_atlas(e)},replaceTexture:function(e,n){var t=this.get_atlas();if(this.implicitAtlas&&null!=t){t.pages[0].set_texture(e);for(var i=0,l=this.get_animations().length;i<l;)for(var s=i++,r=this.get_animations()[s].get_frames(),a=0,c=r.length;a<c;){var h=r[a++].get_region();h.texture==n&&(h.atlas=t,h.texture=e)}}},unbindEvents:function(){tracker_Model.prototype.unbindEvents.call(this),this.offAnimationsChange(),this.offAtlasChange(),this.offGridWidthChange(),this.offGridHeightChange(),this.offSourceChange()},_default_animationsAutoruns:function(){return null},_default_animations:function(){return[]},_default_atlasAutoruns:function(){return null},_default_atlas:function(){return null},_default_gridWidthAutoruns:function(){return null},_default_gridWidth:function(){return-1},_default_gridHeightAutoruns:function(){return null},_default_gridHeight:function(){return-1},_default_implicitAtlas:function(){return!1},_default_sourceAutoruns:function(){return null},_default_source:function(){return null},__class__:ceramic_SpriteSheet,__properties__:$extend(tracker_Model.prototype.__properties__,{set_source:"set_source",get_source:"get_source",set_texture:"set_texture",get_texture:"get_texture",set_gridHeight:"set_gridHeight",get_gridHeight:"get_gridHeight",set_gridWidth:"set_gridWidth",get_gridWidth:"get_gridWidth",set_unobservedAtlas:"set_unobservedAtlas",set_atlas:"set_atlas",get_atlas:"get_atlas",set_animations:"set_animations",get_animations:"get_animations"})});var ceramic_SpriteSheetAnimation=function(){this.unobservedFrames=null,this.framesAutoruns=null,this.unobservedName=null,this.nameAutoruns=null,tracker_Model.call(this)};t["ceramic.SpriteSheetAnimation"]=ceramic_SpriteSheetAnimation,ceramic_SpriteSheetAnimation.__name__="ceramic.SpriteSheetAnimation",ceramic_SpriteSheetAnimation.__super__=tracker_Model,ceramic_SpriteSheetAnimation.prototype=$extend(tracker_Model.prototype,{nameAutoruns:null,get_name:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.nameAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.nameAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedName},set_name:function(e){var n=this.unobservedName;if(this.unobservedName=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitNameChange(e,n);var t=this.nameAutoruns;if(null!=t){this.nameAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateName:function(){var e=this.unobservedName;this.emitNameChange(e,e);var n=this.nameAutoruns;if(null!=n){this.nameAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedName:null,__cbOnNameChange:null,__cbOnceNameChange:null,__cbOnOwnerUnbindNameChange:null,__cbOnceOwnerUnbindNameChange:null,emitNameChange:function(e,n){var t=0;if(null!=this.__cbOnNameChange&&(t+=this.__cbOnNameChange.length),null!=this.__cbOnceNameChange&&(t+=this.__cbOnceNameChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnNameChange)for(var r=0,a=this.__cbOnNameChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnNameChange[c],++s):--t}if(null!=this.__cbOnceNameChange){var h=null,u=null;for(r=0,a=this.__cbOnceNameChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceNameChange[c],this.__cbOnceNameChange[c]=null;var o=this.__cbOnceOwnerUnbindNameChange[c];this.__cbOnceOwnerUnbindNameChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindNameChange[c]),u.push(this.__cbOnceNameChange[c])}this.__cbOnceOwnerUnbindNameChange=h,this.__cbOnceNameChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onNameChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event nameChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offNameChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push(null);null==this.__cbOnNameChange&&(this.__cbOnNameChange=[]),this.__cbOnNameChange.push(n)},onceNameChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event nameChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offNameChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push(null);null==this.__cbOnceNameChange&&(this.__cbOnceNameChange=[]),this.__cbOnceNameChange.push(n)},offNameChange:function(e){if(null!=e){var n;null!=this.__cbOnNameChange&&-1!=(n=this.__cbOnNameChange.indexOf(e))&&(this.__cbOnNameChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindNameChange[n])&&s(),this.__cbOnOwnerUnbindNameChange.splice(n,1)),null!=this.__cbOnceNameChange&&-1!=(n=this.__cbOnceNameChange.indexOf(e))&&(this.__cbOnceNameChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindNameChange[n])&&s(),this.__cbOnceOwnerUnbindNameChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindNameChange){for(var t=0,i=this.__cbOnOwnerUnbindNameChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindNameChange[l])&&s()}this.__cbOnOwnerUnbindNameChange=null}if(null!=this.__cbOnceOwnerUnbindNameChange){for(t=0,i=this.__cbOnceOwnerUnbindNameChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindNameChange[l])&&s()}this.__cbOnceOwnerUnbindNameChange=null}this.__cbOnNameChange=null,this.__cbOnceNameChange=null}},listensNameChange:function(){return null!=this.__cbOnNameChange&&this.__cbOnNameChange.length>0||null!=this.__cbOnceNameChange&&this.__cbOnceNameChange.length>0},framesAutoruns:null,get_frames:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.framesAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.framesAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedFrames},set_frames:function(e){var n=this.unobservedFrames;if(this.unobservedFrames=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFramesChange(e,n);var t=this.framesAutoruns;if(null!=t){this.framesAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateFrames:function(){var e=this.unobservedFrames;this.emitFramesChange(e,e);var n=this.framesAutoruns;if(null!=n){this.framesAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedFrames:null,__cbOnFramesChange:null,__cbOnceFramesChange:null,__cbOnOwnerUnbindFramesChange:null,__cbOnceOwnerUnbindFramesChange:null,emitFramesChange:function(e,n){var t=0;if(null!=this.__cbOnFramesChange&&(t+=this.__cbOnFramesChange.length),null!=this.__cbOnceFramesChange&&(t+=this.__cbOnceFramesChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFramesChange)for(var r=0,a=this.__cbOnFramesChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnFramesChange[c],++s):--t}if(null!=this.__cbOnceFramesChange){var h=null,u=null;for(r=0,a=this.__cbOnceFramesChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceFramesChange[c],this.__cbOnceFramesChange[c]=null;var o=this.__cbOnceOwnerUnbindFramesChange[c];this.__cbOnceOwnerUnbindFramesChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindFramesChange[c]),u.push(this.__cbOnceFramesChange[c])}this.__cbOnceOwnerUnbindFramesChange=h,this.__cbOnceFramesChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onFramesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event framesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFramesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFramesChange&&(this.__cbOnOwnerUnbindFramesChange=[]),this.__cbOnOwnerUnbindFramesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFramesChange&&(this.__cbOnOwnerUnbindFramesChange=[]),this.__cbOnOwnerUnbindFramesChange.push(null);null==this.__cbOnFramesChange&&(this.__cbOnFramesChange=[]),this.__cbOnFramesChange.push(n)},onceFramesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event framesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFramesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFramesChange&&(this.__cbOnceOwnerUnbindFramesChange=[]),this.__cbOnceOwnerUnbindFramesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFramesChange&&(this.__cbOnceOwnerUnbindFramesChange=[]),this.__cbOnceOwnerUnbindFramesChange.push(null);null==this.__cbOnceFramesChange&&(this.__cbOnceFramesChange=[]),this.__cbOnceFramesChange.push(n)},offFramesChange:function(e){if(null!=e){var n;null!=this.__cbOnFramesChange&&-1!=(n=this.__cbOnFramesChange.indexOf(e))&&(this.__cbOnFramesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFramesChange[n])&&s(),this.__cbOnOwnerUnbindFramesChange.splice(n,1)),null!=this.__cbOnceFramesChange&&-1!=(n=this.__cbOnceFramesChange.indexOf(e))&&(this.__cbOnceFramesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFramesChange[n])&&s(),this.__cbOnceOwnerUnbindFramesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFramesChange){for(var t=0,i=this.__cbOnOwnerUnbindFramesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFramesChange[l])&&s()}this.__cbOnOwnerUnbindFramesChange=null}if(null!=this.__cbOnceOwnerUnbindFramesChange){for(t=0,i=this.__cbOnceOwnerUnbindFramesChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindFramesChange[l])&&s()}this.__cbOnceOwnerUnbindFramesChange=null}this.__cbOnFramesChange=null,this.__cbOnceFramesChange=null}},listensFramesChange:function(){return null!=this.__cbOnFramesChange&&this.__cbOnFramesChange.length>0||null!=this.__cbOnceFramesChange&&this.__cbOnceFramesChange.length>0},unbindEvents:function(){tracker_Model.prototype.unbindEvents.call(this),this.offNameChange(),this.offFramesChange()},_default_nameAutoruns:function(){return null},_default_name:function(){return null},_default_framesAutoruns:function(){return null},_default_frames:function(){return null},__class__:ceramic_SpriteSheetAnimation,__properties__:$extend(tracker_Model.prototype.__properties__,{set_frames:"set_frames",get_frames:"get_frames",set_name:"set_name",get_name:"get_name"})});var ceramic_SpriteSheetFrame=function(e,n,t){null==t&&(t=0),this.regionAutoruns=null,this.unobservedDuration=0,this.durationAutoruns=null,tracker_Model.call(this),this.set_region(new ceramic_TextureAtlasRegion(n,e,t))};t["ceramic.SpriteSheetFrame"]=ceramic_SpriteSheetFrame,ceramic_SpriteSheetFrame.__name__="ceramic.SpriteSheetFrame",ceramic_SpriteSheetFrame.__super__=tracker_Model,ceramic_SpriteSheetFrame.prototype=$extend(tracker_Model.prototype,{durationAutoruns:null,get_duration:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.durationAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.durationAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedDuration},set_duration:function(e){var n=this.unobservedDuration;if(this.unobservedDuration=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDurationChange(e,n);var t=this.durationAutoruns;if(null!=t){this.durationAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateDuration:function(){var e=this.unobservedDuration;this.emitDurationChange(e,e);var n=this.durationAutoruns;if(null!=n){this.durationAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedDuration:null,__cbOnDurationChange:null,__cbOnceDurationChange:null,__cbOnOwnerUnbindDurationChange:null,__cbOnceOwnerUnbindDurationChange:null,emitDurationChange:function(e,n){var t=0;if(null!=this.__cbOnDurationChange&&(t+=this.__cbOnDurationChange.length),null!=this.__cbOnceDurationChange&&(t+=this.__cbOnceDurationChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDurationChange)for(var r=0,a=this.__cbOnDurationChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnDurationChange[c],++s):--t}if(null!=this.__cbOnceDurationChange){var h=null,u=null;for(r=0,a=this.__cbOnceDurationChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceDurationChange[c],this.__cbOnceDurationChange[c]=null;var o=this.__cbOnceOwnerUnbindDurationChange[c];this.__cbOnceOwnerUnbindDurationChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindDurationChange[c]),u.push(this.__cbOnceDurationChange[c])}this.__cbOnceOwnerUnbindDurationChange=h,this.__cbOnceDurationChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onDurationChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event durationChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDurationChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDurationChange&&(this.__cbOnOwnerUnbindDurationChange=[]),this.__cbOnOwnerUnbindDurationChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDurationChange&&(this.__cbOnOwnerUnbindDurationChange=[]),this.__cbOnOwnerUnbindDurationChange.push(null);null==this.__cbOnDurationChange&&(this.__cbOnDurationChange=[]),this.__cbOnDurationChange.push(n)},onceDurationChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event durationChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDurationChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDurationChange&&(this.__cbOnceOwnerUnbindDurationChange=[]),this.__cbOnceOwnerUnbindDurationChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDurationChange&&(this.__cbOnceOwnerUnbindDurationChange=[]),this.__cbOnceOwnerUnbindDurationChange.push(null);null==this.__cbOnceDurationChange&&(this.__cbOnceDurationChange=[]),this.__cbOnceDurationChange.push(n)},offDurationChange:function(e){if(null!=e){var n;null!=this.__cbOnDurationChange&&-1!=(n=this.__cbOnDurationChange.indexOf(e))&&(this.__cbOnDurationChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDurationChange[n])&&s(),this.__cbOnOwnerUnbindDurationChange.splice(n,1)),null!=this.__cbOnceDurationChange&&-1!=(n=this.__cbOnceDurationChange.indexOf(e))&&(this.__cbOnceDurationChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDurationChange[n])&&s(),this.__cbOnceOwnerUnbindDurationChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDurationChange){for(var t=0,i=this.__cbOnOwnerUnbindDurationChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDurationChange[l])&&s()}this.__cbOnOwnerUnbindDurationChange=null}if(null!=this.__cbOnceOwnerUnbindDurationChange){for(t=0,i=this.__cbOnceOwnerUnbindDurationChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindDurationChange[l])&&s()}this.__cbOnceOwnerUnbindDurationChange=null}this.__cbOnDurationChange=null,this.__cbOnceDurationChange=null}},listensDurationChange:function(){return null!=this.__cbOnDurationChange&&this.__cbOnDurationChange.length>0||null!=this.__cbOnceDurationChange&&this.__cbOnceDurationChange.length>0},regionAutoruns:null,get_region:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.regionAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.regionAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedRegion},set_region:function(e){var n=this.unobservedRegion;if(this.unobservedRegion=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitRegionChange(e,n);var t=this.regionAutoruns;if(null!=t){this.regionAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateRegion:function(){var e=this.unobservedRegion;this.emitRegionChange(e,e);var n=this.regionAutoruns;if(null!=n){this.regionAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedRegion:null,__cbOnRegionChange:null,__cbOnceRegionChange:null,__cbOnOwnerUnbindRegionChange:null,__cbOnceOwnerUnbindRegionChange:null,emitRegionChange:function(e,n){var t=0;if(null!=this.__cbOnRegionChange&&(t+=this.__cbOnRegionChange.length),null!=this.__cbOnceRegionChange&&(t+=this.__cbOnceRegionChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnRegionChange)for(var r=0,a=this.__cbOnRegionChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnRegionChange[c],++s):--t}if(null!=this.__cbOnceRegionChange){var h=null,u=null;for(r=0,a=this.__cbOnceRegionChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceRegionChange[c],this.__cbOnceRegionChange[c]=null;var o=this.__cbOnceOwnerUnbindRegionChange[c];this.__cbOnceOwnerUnbindRegionChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindRegionChange[c]),u.push(this.__cbOnceRegionChange[c])}this.__cbOnceOwnerUnbindRegionChange=h,this.__cbOnceRegionChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onRegionChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event regionChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offRegionChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindRegionChange&&(this.__cbOnOwnerUnbindRegionChange=[]),this.__cbOnOwnerUnbindRegionChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindRegionChange&&(this.__cbOnOwnerUnbindRegionChange=[]),this.__cbOnOwnerUnbindRegionChange.push(null);null==this.__cbOnRegionChange&&(this.__cbOnRegionChange=[]),this.__cbOnRegionChange.push(n)},onceRegionChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event regionChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offRegionChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindRegionChange&&(this.__cbOnceOwnerUnbindRegionChange=[]),this.__cbOnceOwnerUnbindRegionChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindRegionChange&&(this.__cbOnceOwnerUnbindRegionChange=[]),this.__cbOnceOwnerUnbindRegionChange.push(null);null==this.__cbOnceRegionChange&&(this.__cbOnceRegionChange=[]),this.__cbOnceRegionChange.push(n)},offRegionChange:function(e){if(null!=e){var n;null!=this.__cbOnRegionChange&&-1!=(n=this.__cbOnRegionChange.indexOf(e))&&(this.__cbOnRegionChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindRegionChange[n])&&s(),this.__cbOnOwnerUnbindRegionChange.splice(n,1)),null!=this.__cbOnceRegionChange&&-1!=(n=this.__cbOnceRegionChange.indexOf(e))&&(this.__cbOnceRegionChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindRegionChange[n])&&s(),this.__cbOnceOwnerUnbindRegionChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindRegionChange){for(var t=0,i=this.__cbOnOwnerUnbindRegionChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindRegionChange[l])&&s()}this.__cbOnOwnerUnbindRegionChange=null}if(null!=this.__cbOnceOwnerUnbindRegionChange){for(t=0,i=this.__cbOnceOwnerUnbindRegionChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindRegionChange[l])&&s()}this.__cbOnceOwnerUnbindRegionChange=null}this.__cbOnRegionChange=null,this.__cbOnceRegionChange=null}},listensRegionChange:function(){return null!=this.__cbOnRegionChange&&this.__cbOnRegionChange.length>0||null!=this.__cbOnceRegionChange&&this.__cbOnceRegionChange.length>0},unbindEvents:function(){tracker_Model.prototype.unbindEvents.call(this),this.offDurationChange(),this.offRegionChange()},_default_durationAutoruns:function(){return null},_default_duration:function(){return 0},_default_regionAutoruns:function(){return null},__class__:ceramic_SpriteSheetFrame,__properties__:$extend(tracker_Model.prototype.__properties__,{set_region:"set_region",get_region:"get_region",set_duration:"set_duration",get_duration:"get_duration"})});var ceramic_SpriteSystem=function(){this._updatingSprites=[],this.sprites=[],ceramic_System.call(this),this.set_lateUpdateOrder(3e3)};t["ceramic.SpriteSystem"]=ceramic_SpriteSystem,ceramic_SpriteSystem.__name__="ceramic.SpriteSystem",ceramic_SpriteSystem.__properties__={set_shared:"set_shared",get_shared:"get_shared"},ceramic_SpriteSystem.get_shared=function(){return ceramic_SpriteSystem.lazyShared&&(ceramic_SpriteSystem.lazyShared=!1,ceramic_SpriteSystem.shared=new ceramic_SpriteSystem),ceramic_SpriteSystem.shared},ceramic_SpriteSystem.set_shared=function(e){return ceramic_SpriteSystem.shared=e},ceramic_SpriteSystem.__super__=ceramic_System,ceramic_SpriteSystem.prototype=$extend(ceramic_System.prototype,{sprites:null,_updatingSprites:null,lateUpdate:function(e){for(var n=this.sprites.length,t=0,i=n;t<i;){var l=t++;this._updatingSprites[l]=this.sprites[l]}for(t=0,i=n;t<i;){l=t++;var s=this._updatingSprites[l];!s.paused&&s.autoUpdate&&s.update(e)}for(t=0,i=n;t<i;){l=t++;this._updatingSprites[l]=null}},__class__:ceramic_SpriteSystem});var ceramic_State=function(){this.machine=null,ceramic_Entity.call(this)};t["ceramic.State"]=ceramic_State,ceramic_State.__name__="ceramic.State",ceramic_State.__super__=ceramic_Entity,ceramic_State.prototype=$extend(ceramic_Entity.prototype,{machine:null,enter:function(){},update:function(e){},exit:function(){},__class__:ceramic_State});var ceramic_StateMachine=function(){};t["ceramic.StateMachine"]=ceramic_StateMachine,ceramic_StateMachine.__name__="ceramic.StateMachine";var ceramic_StateMachineBase=function(){this.initializerName=null,this.currentStateInstance=null,this.stateInstances=null,this.locked=!1,this.nextStateDefined=!1,this.stateDefined=!1,this.autoUpdate=!0,this.paused=!1,this.observedDirty=!1,ceramic_Entity.call(this),ceramic_StateMachineSystem.get_shared().stateMachines.push(this)};t["ceramic.StateMachineBase"]=ceramic_StateMachineBase,ceramic_StateMachineBase.__name__="ceramic.StateMachineBase",ceramic_StateMachineBase.__interfaces__=[ceramic_Component,tracker_Observable],ceramic_StateMachineBase.__super__=ceramic_Entity,ceramic_StateMachineBase.prototype=$extend(ceramic_Entity.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,a=this.__cbOnObservedDirty.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[c],++s):--t}if(null!=this.__cbOnceObservedDirty){var h=null,u=null;for(r=0,a=this.__cbOnceObservedDirty.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceObservedDirty[c],this.__cbOnceObservedDirty[c]=null;var o=this.__cbOnceOwnerUnbindObservedDirty[c];this.__cbOnceOwnerUnbindObservedDirty[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindObservedDirty[c]),u.push(this.__cbOnceObservedDirty[c])}this.__cbOnceOwnerUnbindObservedDirty=h,this.__cbOnceObservedDirty=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},observedDirty:null,rawEntity:null,paused:null,autoUpdate:null,stateDefined:null,nextStateDefined:null,locked:null,stateInstances:null,currentStateInstance:null,update:function(e){},bindAsComponent:function(){},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,null!=this.stateInstances){var e=this.stateInstances;this.stateInstances=null;for(var n=e.h,t=n,i=Object.keys(n),l=i.length,s=0;s<l;){var r=t[i[s++]];null!=r&&r.destroy()}}this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this)}},setEntity:function(e){this.rawEntity=e instanceof ceramic_Entity?e:null},getEntity:function(){return this.rawEntity},initializerName:null,unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offObservedDirty()},__class__:ceramic_StateMachineBase});var ceramic_StateMachineComponent=function(){};t["ceramic.StateMachineComponent"]=ceramic_StateMachineComponent,ceramic_StateMachineComponent.__name__="ceramic.StateMachineComponent";var ceramic_StateMachineImpl=function(){this.nextState=ceramic_StateMachineBase.NO_STATE,this.unobservedState=ceramic_StateMachineBase.NO_STATE,this.stateAutoruns=null,ceramic_StateMachineBase.call(this)};t["ceramic.StateMachineImpl"]=ceramic_StateMachineImpl,ceramic_StateMachineImpl.__name__="ceramic.StateMachineImpl",ceramic_StateMachineImpl.__super__=ceramic_StateMachineBase,ceramic_StateMachineImpl.prototype=$extend(ceramic_StateMachineBase.prototype,{stateAutoruns:null,get_state:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.stateAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.stateAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedState},set_state:function(e){var n=this.unobservedState;if(this.set_unobservedState(e),n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStateChange(e,n);var t=this.stateAutoruns;if(null!=t){this.stateAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateState:function(){var e=this.unobservedState;this.emitStateChange(e,e);var n=this.stateAutoruns;if(null!=n){this.stateAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedState:null,__cbOnStateChange:null,__cbOnceStateChange:null,__cbOnOwnerUnbindStateChange:null,__cbOnceOwnerUnbindStateChange:null,emitStateChange:function(e,n){var t=0;if(null!=this.__cbOnStateChange&&(t+=this.__cbOnStateChange.length),null!=this.__cbOnceStateChange&&(t+=this.__cbOnceStateChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnStateChange)for(var r=0,a=this.__cbOnStateChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnStateChange[c],++s):--t}if(null!=this.__cbOnceStateChange){var h=null,u=null;for(r=0,a=this.__cbOnceStateChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceStateChange[c],this.__cbOnceStateChange[c]=null;var o=this.__cbOnceOwnerUnbindStateChange[c];this.__cbOnceOwnerUnbindStateChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindStateChange[c]),u.push(this.__cbOnceStateChange[c])}this.__cbOnceOwnerUnbindStateChange=h,this.__cbOnceStateChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onStateChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event stateChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStateChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindStateChange&&(this.__cbOnOwnerUnbindStateChange=[]),this.__cbOnOwnerUnbindStateChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindStateChange&&(this.__cbOnOwnerUnbindStateChange=[]),this.__cbOnOwnerUnbindStateChange.push(null);null==this.__cbOnStateChange&&(this.__cbOnStateChange=[]),this.__cbOnStateChange.push(n)},onceStateChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event stateChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStateChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindStateChange&&(this.__cbOnceOwnerUnbindStateChange=[]),this.__cbOnceOwnerUnbindStateChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindStateChange&&(this.__cbOnceOwnerUnbindStateChange=[]),this.__cbOnceOwnerUnbindStateChange.push(null);null==this.__cbOnceStateChange&&(this.__cbOnceStateChange=[]),this.__cbOnceStateChange.push(n)},offStateChange:function(e){if(null!=e){var n;null!=this.__cbOnStateChange&&-1!=(n=this.__cbOnStateChange.indexOf(e))&&(this.__cbOnStateChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStateChange[n])&&s(),this.__cbOnOwnerUnbindStateChange.splice(n,1)),null!=this.__cbOnceStateChange&&-1!=(n=this.__cbOnceStateChange.indexOf(e))&&(this.__cbOnceStateChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStateChange[n])&&s(),this.__cbOnceOwnerUnbindStateChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStateChange){for(var t=0,i=this.__cbOnOwnerUnbindStateChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStateChange[l])&&s()}this.__cbOnOwnerUnbindStateChange=null}if(null!=this.__cbOnceOwnerUnbindStateChange){for(t=0,i=this.__cbOnceOwnerUnbindStateChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindStateChange[l])&&s()}this.__cbOnceOwnerUnbindStateChange=null}this.__cbOnStateChange=null,this.__cbOnceStateChange=null}},listensStateChange:function(){return null!=this.__cbOnStateChange&&this.__cbOnStateChange.length>0||null!=this.__cbOnceStateChange&&this.__cbOnceStateChange.length>0},nextState:null,set_unobservedState:function(e){if(this.stateDefined&&this.unobservedState==e)return e;if(this.locked)throw haxe_Exception.thrown("Changing state is forbidden because `locked` is `true`.");return this.nextState=e,this.nextStateDefined=this.computeStateDefined(this.nextState),this.stateDefined&&(this._exitState(),this.stateDefined=!1),this.unobservedState=e,this.stateDefined=this.nextStateDefined,this.stateDefined&&this._enterState(),this.nextState=ceramic_StateMachineBase.NO_STATE,e},computeStateDefined:function(e){return e!=ceramic_StateMachineBase.NO_STATE},keyToString:function(e){return e.toString()},set:function(e,n){null==this.stateInstances&&(this.stateInstances=new haxe_ds_StringMap);var t=this.keyToString(e);if(Object.prototype.hasOwnProperty.call(this.stateInstances.h,t)){var i=this.stateInstances.h[t];i==this.currentStateInstance&&(this.currentStateInstance=null),i!=n&&i.destroy()}this.stateInstances.h[t]=n,null!=n&&(n.machine=this,e==this.get_state()&&null==this.currentStateInstance&&(this.currentStateInstance=n,this.currentStateInstance.enter()))},get:function(e){if(null==this.stateInstances)return null;var n=this.keyToString(e);return this.stateInstances.h[n]},update:function(e){this._updateState(e)},scheduleOnceEnterState:function(e,n,t){var i=this,l=null;l=function(e,s){n==e&&(i.offStateChange(l),t(),t=null)},this.onStateChange(e,l)},scheduleOnceExitState:function(e,n,t){var i=this,l=null;l=function(e,s){n==s&&(i.offStateChange(l),t(),t=null)},this.onStateChange(e,l)},_enterState:function(){this.currentStateInstance=this.get(this.get_state()),null!=this.currentStateInstance&&this.currentStateInstance.enter()},_updateState:function(e){!this.paused&&this.stateDefined&&null!=this.currentStateInstance&&this.currentStateInstance.update(e)},_exitState:function(){null!=this.currentStateInstance&&(this.currentStateInstance.exit(),this.currentStateInstance=null)},unbindEvents:function(){ceramic_StateMachineBase.prototype.unbindEvents.call(this),this.offStateChange()},__class__:ceramic_StateMachineImpl,__properties__:$extend(ceramic_StateMachineBase.prototype.__properties__,{set_unobservedState:"set_unobservedState",set_state:"set_state",get_state:"get_state"})});var ceramic_StateMachineSystem=function(){this._updatingStateMachines=[],this.stateMachines=[],ceramic_System.call(this),this.set_lateUpdateOrder(1e3)};t["ceramic.StateMachineSystem"]=ceramic_StateMachineSystem,ceramic_StateMachineSystem.__name__="ceramic.StateMachineSystem",ceramic_StateMachineSystem.__properties__={set_shared:"set_shared",get_shared:"get_shared"},ceramic_StateMachineSystem.get_shared=function(){return ceramic_StateMachineSystem.lazyShared&&(ceramic_StateMachineSystem.lazyShared=!1,ceramic_StateMachineSystem.shared=new ceramic_StateMachineSystem),ceramic_StateMachineSystem.shared},ceramic_StateMachineSystem.set_shared=function(e){return ceramic_StateMachineSystem.shared=e},ceramic_StateMachineSystem.__super__=ceramic_System,ceramic_StateMachineSystem.prototype=$extend(ceramic_System.prototype,{stateMachines:null,_updatingStateMachines:null,lateUpdate:function(e){for(var n=this.stateMachines.length,t=0,i=n;t<i;){var l=t++;this._updatingStateMachines[l]=this.stateMachines[l]}for(t=0,i=n;t<i;){l=t++;var s=this._updatingStateMachines[l];s.autoUpdate&&s.update(e)}for(t=0,i=n;t<i;){l=t++;this._updatingStateMachines[l]=null}},__class__:ceramic_StateMachineSystem});var ceramic_StateMachine_$State=function(){this.stateInstancesByIndex=[],ceramic_StateMachineImpl.call(this)};t["ceramic.StateMachine_State"]=ceramic_StateMachine_$State,ceramic_StateMachine_$State.__name__="ceramic.StateMachine_State",ceramic_StateMachine_$State.__super__=ceramic_StateMachineImpl,ceramic_StateMachine_$State.prototype=$extend(ceramic_StateMachineImpl.prototype,{indexForEnumValue:function(e){switch(e){case 0:return 0;case 1:return 1;default:return-1}},computeStateDefined:function(e){return!0},stateInstancesByIndex:null,set:function(e,n){var t;switch(e){case 0:t=0;break;case 1:t=1;break;default:t=-1}if(-1==t)throw haxe_Exception.thrown("Invalid enum value: "+e);var i=this.stateInstancesByIndex[t];if(null!=i&&(i==this.currentStateInstance&&(this.currentStateInstance=null),i!=n&&i.destroy()),this.stateInstancesByIndex[t]=n,null!=n){var l;switch(n.machine=this,this.get_state()){case 0:l=0;break;case 1:l=1;break;default:l=-1}t==l&&null==this.currentStateInstance&&(this.currentStateInstance=n,this.currentStateInstance.enter())}},get:function(e){var n;switch(e){case 0:n=0;break;case 1:n=1;break;default:n=-1}return-1==n?null:this.stateInstancesByIndex[n]},__class__:ceramic_StateMachine_$State});var ceramic_StateMachine_$State_$Player=function(){this.entity=null,ceramic_StateMachine_$State.call(this)};t["ceramic.StateMachine_State_Player"]=ceramic_StateMachine_$State_$Player,ceramic_StateMachine_$State_$Player.__name__="ceramic.StateMachine_State_Player",ceramic_StateMachine_$State_$Player.__super__=ceramic_StateMachine_$State,ceramic_StateMachine_$State_$Player.prototype=$extend(ceramic_StateMachine_$State.prototype,{entity:null,_enterState:function(){this.get_state(),this.currentStateInstance=this.get(this.get_state()),null!=this.currentStateInstance&&this.currentStateInstance.enter()},_updateState:function(e){this.get_state();!this.paused&&this.stateDefined&&null!=this.currentStateInstance&&this.currentStateInstance.update(e)},_exitState:function(){this.get_state(),null!=this.currentStateInstance&&(this.currentStateInstance.exit(),this.currentStateInstance=null)},setEntity:function(e){ceramic_StateMachine_$State.prototype.setEntity.call(this,e),this.entity=e instanceof Player?e:null},getEntity:function(){return this.entity},__class__:ceramic_StateMachine_$State_$Player});var ceramic_Systems=function(){this._udpatingSystems=[],this.lateUpdateOrdered=[],this.earlyUpdateOrdered=[],this.lateUpdateOrderDirty=!1,this.earlyUpdateOrderDirty=!1,ceramic_Entity.call(this)};t["ceramic.Systems"]=ceramic_Systems,ceramic_Systems.__name__="ceramic.Systems",ceramic_Systems.sortSystemsByEarlyUpdateOrder=function(e,n){return e.earlyUpdateOrder>n.earlyUpdateOrder?1:e.earlyUpdateOrder<n.earlyUpdateOrder?-1:0},ceramic_Systems.sortSystemsByLateUpdateOrder=function(e,n){return e.lateUpdateOrder>n.lateUpdateOrder?1:e.lateUpdateOrder<n.lateUpdateOrder?-1:0},ceramic_Systems.__super__=ceramic_Entity,ceramic_Systems.prototype=$extend(ceramic_Entity.prototype,{earlyUpdateOrderDirty:null,lateUpdateOrderDirty:null,earlyUpdateOrdered:null,lateUpdateOrdered:null,_udpatingSystems:null,addSystem:function(e){this.earlyUpdateOrdered.push(e),this.earlyUpdateOrderDirty=!0,this.lateUpdateOrdered.push(e),this.lateUpdateOrderDirty=!0},removeSystem:function(e){HxOverrides.remove(this.earlyUpdateOrdered,e),this.earlyUpdateOrderDirty=!0,HxOverrides.remove(this.lateUpdateOrdered,e),this.lateUpdateOrderDirty=!0},earlyUpdate:function(e){this.earlyUpdateOrderDirty&&(haxe_ds_ArraySort.sort(this.earlyUpdateOrdered,ceramic_Systems.sortSystemsByEarlyUpdateOrder),this.earlyUpdateOrderDirty=!1);for(var n=this.earlyUpdateOrdered.length,t=0,i=n;t<i;){var l=t++;this._udpatingSystems[l]=this.earlyUpdateOrdered[l]}for(t=0,i=n;t<i;){l=t++;var s=this._udpatingSystems[l];s.emitBeginEarlyUpdate(e),s.earlyUpdate(e),s.emitEndEarlyUpdate(e),ceramic_App.app.flushImmediate()}for(t=0,i=n;t<i;){l=t++;this._udpatingSystems[l]=null}},lateUpdate:function(e){this.lateUpdateOrderDirty&&(haxe_ds_ArraySort.sort(this.lateUpdateOrdered,ceramic_Systems.sortSystemsByLateUpdateOrder),this.lateUpdateOrderDirty=!1);for(var n=this.lateUpdateOrdered.length,t=0,i=n;t<i;){var l=t++;this._udpatingSystems[l]=this.lateUpdateOrdered[l]}for(t=0,i=n;t<i;){l=t++;var s=this._udpatingSystems[l];s.emitBeginLateUpdate(e),s.lateUpdate(e),s.emitEndLateUpdate(e),ceramic_App.app.flushImmediate()}for(t=0,i=n;t<i;){l=t++;this._udpatingSystems[l]=null}},get:function(e){for(var n=0,t=this.earlyUpdateOrdered.length;n<t;){var i=n++,l=this.earlyUpdateOrdered[i];if(l.name==e)return l}return null},__class__:ceramic_Systems});var ceramic_Text=function(){this.maxLineDiff=-1,this.fitWidth=-1,this.align=v.LEFT,this.preRenderedSize=-1,this.clipTextHeight=-1,this.clipTextWidth=-1,this.clipTextY=-1,this.clipTextX=-1,this.letterSpacing=0,this.lineHeight=1,this.pointSize=20,this.content="",this.color=16777215,this.numLines=1,this.glyphQuads=[],ceramic_Visual.call(this),this.set_font(ceramic_App.app.defaultFont)};t["ceramic.Text"]=ceramic_Text,ceramic_Text.__name__="ceramic.Text",ceramic_Text.__super__=ceramic_Visual,ceramic_Text.prototype=$extend(ceramic_Visual.prototype,{__cbOnGlyphQuadsChange:null,__cbOnceGlyphQuadsChange:null,__cbOnOwnerUnbindGlyphQuadsChange:null,__cbOnceOwnerUnbindGlyphQuadsChange:null,emitGlyphQuadsChange:function(){var e=0;if(null!=this.__cbOnGlyphQuadsChange&&(e+=this.__cbOnGlyphQuadsChange.length),null!=this.__cbOnceGlyphQuadsChange&&(e+=this.__cbOnceGlyphQuadsChange.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnGlyphQuadsChange)for(var l=0,s=this.__cbOnGlyphQuadsChange.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnGlyphQuadsChange[r],++i):--e}if(null!=this.__cbOnceGlyphQuadsChange){var a=null,c=null;for(l=0,s=this.__cbOnceGlyphQuadsChange.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceGlyphQuadsChange[r],this.__cbOnceGlyphQuadsChange[r]=null;var h=this.__cbOnceOwnerUnbindGlyphQuadsChange[r];this.__cbOnceOwnerUnbindGlyphQuadsChange[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindGlyphQuadsChange[r]),c.push(this.__cbOnceGlyphQuadsChange[r])}this.__cbOnceOwnerUnbindGlyphQuadsChange=a,this.__cbOnceGlyphQuadsChange=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onGlyphQuadsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event glyphQuadsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGlyphQuadsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGlyphQuadsChange&&(this.__cbOnOwnerUnbindGlyphQuadsChange=[]),this.__cbOnOwnerUnbindGlyphQuadsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGlyphQuadsChange&&(this.__cbOnOwnerUnbindGlyphQuadsChange=[]),this.__cbOnOwnerUnbindGlyphQuadsChange.push(null);null==this.__cbOnGlyphQuadsChange&&(this.__cbOnGlyphQuadsChange=[]),this.__cbOnGlyphQuadsChange.push(n)},onceGlyphQuadsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event glyphQuadsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGlyphQuadsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGlyphQuadsChange&&(this.__cbOnceOwnerUnbindGlyphQuadsChange=[]),this.__cbOnceOwnerUnbindGlyphQuadsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGlyphQuadsChange&&(this.__cbOnceOwnerUnbindGlyphQuadsChange=[]),this.__cbOnceOwnerUnbindGlyphQuadsChange.push(null);null==this.__cbOnceGlyphQuadsChange&&(this.__cbOnceGlyphQuadsChange=[]),this.__cbOnceGlyphQuadsChange.push(n)},offGlyphQuadsChange:function(e){if(null!=e){var n;null!=this.__cbOnGlyphQuadsChange&&-1!=(n=this.__cbOnGlyphQuadsChange.indexOf(e))&&(this.__cbOnGlyphQuadsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGlyphQuadsChange[n])&&s(),this.__cbOnOwnerUnbindGlyphQuadsChange.splice(n,1)),null!=this.__cbOnceGlyphQuadsChange&&-1!=(n=this.__cbOnceGlyphQuadsChange.indexOf(e))&&(this.__cbOnceGlyphQuadsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGlyphQuadsChange[n])&&s(),this.__cbOnceOwnerUnbindGlyphQuadsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGlyphQuadsChange){for(var t=0,i=this.__cbOnOwnerUnbindGlyphQuadsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGlyphQuadsChange[l])&&s()}this.__cbOnOwnerUnbindGlyphQuadsChange=null}if(null!=this.__cbOnceOwnerUnbindGlyphQuadsChange){for(t=0,i=this.__cbOnceOwnerUnbindGlyphQuadsChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindGlyphQuadsChange[l])&&s()}this.__cbOnceOwnerUnbindGlyphQuadsChange=null}this.__cbOnGlyphQuadsChange=null,this.__cbOnceGlyphQuadsChange=null}},listensGlyphQuadsChange:function(){return null!=this.__cbOnGlyphQuadsChange&&this.__cbOnGlyphQuadsChange.length>0||null!=this.__cbOnceGlyphQuadsChange&&this.__cbOnceGlyphQuadsChange.length>0},glyphQuads:null,numLines:null,get_numLines:function(){return this.contentDirty&&this.computeContent(),this.numLines},color:null,set_color:function(e){if(this.color==e)return e;if(this.color=e,null!=this.glyphQuads)for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].color=e}return e},content:null,set_content:function(e){return this.content==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.content=e),e},pointSize:null,set_pointSize:function(e){return this.pointSize==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.pointSize=e),e},lineHeight:null,set_lineHeight:function(e){return this.lineHeight==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.lineHeight=e),e},letterSpacing:null,set_letterSpacing:function(e){return this.letterSpacing==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.letterSpacing=e),e},font:null,set_font:function(e){return null==e&&(e=ceramic_App.app.defaultFont),this.font==e||(null!=this.font&&(this.font.offDestroy($bind(this,this.fontDestroyed)),null!=this.font.asset&&this.font.asset.release()),this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.font=e,null!=this.font&&(this.font.onDestroy(this,$bind(this,this.fontDestroyed)),null!=this.font.asset&&this.font.asset.retain())),e},clipTextX:null,set_clipTextX:function(e){return this.clipTextX==e||(this.clipTextX=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},clipTextY:null,set_clipTextY:function(e){return this.clipTextY==e||(this.clipTextY=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},clipTextWidth:null,set_clipTextWidth:function(e){return this.clipTextWidth==e||(this.clipTextWidth=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},clipTextHeight:null,set_clipTextHeight:function(e){return this.clipTextHeight==e||(this.clipTextHeight=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},clipText:function(e,n,t,i){this.set_clipTextX(e),this.set_clipTextY(n),this.set_clipTextWidth(t),this.set_clipTextHeight(i)},preRenderedSize:null,set_preRenderedSize:function(e){return this.preRenderedSize==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.preRenderedSize<=0&&e>0&&ceramic_App.app.screen.onTexturesDensityChange(this,$bind(this,this.handleTexturesDensityChange)),this.preRenderedSize>0&&e<=0&&ceramic_App.app.screen.offTexturesDensityChange($bind(this,this.handleTexturesDensityChange)),this.preRenderedSize=e),e},handleTexturesDensityChange:function(e,n){this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0},align:null,set_align:function(e){return this.align==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.align=e),e},fitWidth:null,set_fitWidth:function(e){return this.fitWidth==e||(this.fitWidth=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},maxLineDiff:null,set_maxLineDiff:function(e){return this.maxLineDiff==e||(this.maxLineDiff=e,-1!=this.fitWidth&&(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0)),e},set_depth:function(e){if(this.depth==e)return e;if(null!=this.glyphQuads)for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].set_depth(e)}return ceramic_Visual.prototype.set_depth.call(this,e)},get_width:function(){return this.contentDirty&&this.computeContent(),ceramic_Visual.prototype.get_width.call(this)},scaleWidth:function(e){if(this._height!=e&&(this.set_scaleX(e/this._width),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}},get_height:function(){return this.contentDirty&&this.computeContent(),ceramic_Visual.prototype.get_height.call(this)},scaleHeight:function(e){if(this._height!=e&&(this.set_scaleY(e/this._height),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}},set_blending:function(e){if(this.blending==e)return e;if(this.blending=e,null!=this.glyphQuads)for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].set_blending(e)}return e},destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Visual.prototype.destroy.call(this),null!=this.glyphQuads)){for(var e=0,n=this.glyphQuads.length;e<n;){var t=e++;this.glyphQuads[t].destroy()}this.glyphQuads=null}},computeContent:function(){var e=this;if(null==this.font)return this.set_width(0),this.set_height(0),void(this.contentDirty=!1);if(this.numLines=this.computeGlyphQuads(this.fitWidth,this.maxLineDiff),this.contentDirty=!1,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var a=s++;l.children[a].set_matrixDirty(!0)}}var c,h=this.preRenderedSize*ceramic_App.app.screen.get_texturesDensity()|0;if(h>0){var u=this.font;c=null!=u.fontData.distanceField&&"msdf"==u.fontData.distanceField.fieldType}else c=!1;c&&this.font.needsToPreRenderAtSize(h)&&this.font.preRenderAtSize(h,(function(){e.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0})),this.emitGlyphQuadsChange()},computeGlyphQuads:function(e,n,t){null==t&&(t=-1);var i=0,l=0,s=0,r=this.pointSize/this.font.fontData.pointSize,a=null,c=-1,h=null,u=-1,o=0,_=null,d=[],b=[[]],f=0,O=!1,p=!1,g=!1,m=0,v=0,y=!1,w=0,U=0,C=0,x=0,D=0,T=!1;-1!=this.clipTextX&&-1!=this.clipTextY&&-1!=this.clipTextWidth&&-1!=this.clipTextHeight&&(T=!0);var A,S=this.preRenderedSize*ceramic_App.app.screen.get_texturesDensity()|0;if(S>0){var E=this.font;A=null!=E.fontData.distanceField&&"msdf"==E.fontData.distanceField.fieldType}else A=!1;var M=A&&!this.font.needsToPreRenderAtSize(S),F=this.content;(""==F||F.length>0&&"\n"==F.charAt(F.length-1))&&(y=!0,F+=" ");for(var P=F.length;o<P&&f<2*P;){if(h=a,u=c,a=F.charAt(o),c=HxOverrides.cca(a,0),(p=" "==a)&&++m,(O="\n"==a)||p||o==P-1)if(!g&&e>=0&&s>1&&s>e-1&&m>0)for(g=!0,--m;o>0;){if(--o,a=F.charAt(o),c=HxOverrides.cca(a,0),o>0?(h=F.charAt(o-1),u=HxOverrides.cca(h,0)):(h=null,u=-1),_=this.font.fontData.chars.get(c),null!=h){var R,I=this.font.fontData.kernings.get(u);if(null!=I&&I.intMap.h.hasOwnProperty(0|c)){var k=I.intMap.h[0|c];R=null!=k?k:0}else R=0;i-=R*r}if(null!=_&&(i-=_.xAdvance*r+this.letterSpacing),!(b[b.length-1].length>0))break;if(--f,b[b.length-1].pop()," "==a){a="\n",_=this.font.fontData.chars.get(10),c=HxOverrides.cca(a,0),--m,O=!0,p=!1;break}}else g=!1;if(O)m=0,h=null,u=-1,v=++o,l+=this.lineHeight*this.font.fontData.lineHeight*r,d.push(i+(null!=_?(_.xOffset+_.width-_.xAdvance)*r-this.letterSpacing:0)),b.push([]),i=0,s=0;else if(null!=(_=this.font.fontData.chars.get(c))){if(null!=h){var B,N=this.font.fontData.kernings.get(u);if(null!=N&&N.intMap.h.hasOwnProperty(0|c)){var L=N.intMap.h[0|c];B=null!=L?L:0}else B=0;i+=B*r}if(w=i+_.xOffset*r,U=l+_.yOffset*r,C=_.width*r,x=_.height*r,D=0,T&&(w>=this.clipTextX+this.clipTextWidth||w+C<this.clipTextX||U>=this.clipTextY+this.clipTextHeight||U+x<this.clipTextY?D=2:(this.clipTextX>w&&this.clipTextX<=w+C||this.clipTextY>U&&this.clipTextY<=U+x||this.clipTextX+this.clipTextWidth>w&&this.clipTextX+this.clipTextWidth<=w+C||this.clipTextY+this.clipTextHeight>U&&this.clipTextY+this.clipTextHeight<=U+x)&&(D=1)),null==(Oe=f<this.glyphQuads.length?this.glyphQuads[f]:null)){if(1!=(Oe=new ceramic_GlyphQuad).inheritAlpha&&(Oe.inheritAlpha=!0,Oe.visibilityDirty=!0,null!=Oe.children))for(var G=0,W=Oe.children.length;G<W;){var K=G++,z=Oe.children[K];if(z.visibilityDirty=!0,null!=z.children)for(var V=0,Y=z.children.length;V<Y;){var H=V++;z.children[H].set_visibilityDirty(!0)}}this.glyphQuads.push(Oe),this.add(Oe)}++f,Oe.char=a,Oe.code=c,Oe.index=o,Oe.set_visible(2!=D),Oe.flags&=-17,Oe.posInLine=o-v,Oe.line=b.length-1;var X=M?this.font.preRenderedPages.h[S].h[_.page]:this.font.pages.get(_.page);if(Oe._texture!=X&&Oe._set_texture(X),Oe.set_shader(M||null==this.font.pageShaders?null:this.font.pageShaders.h[_.page]),Oe.color=this.color,Oe.set_depth(this.depth),Oe.set_blending(this.blending),Oe.glyphX=i,Oe.glyphY=l,Oe.glyphAdvance=_.xAdvance*r+this.letterSpacing,Oe.glyph=_,1==D){var $,j,Q,q,Z=Math.max(this.clipTextX,w),J=Math.max(this.clipTextY,U),ee=Math.min(this.clipTextX+this.clipTextWidth,w+C)-Z,ne=Math.min(this.clipTextY+this.clipTextHeight,U+x)-J;if(M){var te=this.font.pages.get(_.page);$=_.x*Oe._texture.width/te.width,j=_.y*Oe._texture.height/te.height,Q=_.width*Oe._texture.width/te.width,q=_.height*Oe._texture.height/te.height}else $=_.x/Oe._texture.density,j=_.y/Oe._texture.density,Q=_.width/Oe._texture.density,q=_.height/Oe._texture.density;var ie=(Z-w)*Q/C;$+=ie,Q-=ie+(w+C-Z-ee)*Q/C;var le=(J-U)*q/x;j+=le,q-=le+(U+x-J-ne)*q/x,Oe.frameX=$,Oe.frameY=j,Oe.frameWidth!=Q&&(Oe.frameWidth=Q,-1!=Q&&Oe.set_width(Q)),Oe.frameHeight!=q&&(Oe.frameHeight=q,-1!=q&&Oe.set_height(q)),Oe.set_x(Z),Oe.set_y(J),Oe.set_width(ee),Oe.set_height(ne)}else{if(M){var se=this.font.pages.get(_.page),re=_.width*Oe._texture.width/se.width,ae=_.height*Oe._texture.height/se.height;Oe.frameX=_.x*Oe._texture.width/se.width,Oe.frameY=_.y*Oe._texture.height/se.height,Oe.frameWidth!=re&&(Oe.frameWidth=re,-1!=re&&Oe.set_width(re)),Oe.frameHeight!=ae&&(Oe.frameHeight=ae,-1!=ae&&Oe.set_height(ae))}else{var ce=_.width/Oe._texture.density,he=_.height/Oe._texture.density;Oe.frameX=_.x/Oe._texture.density,Oe.frameY=_.y/Oe._texture.density,Oe.frameWidth!=ce&&(Oe.frameWidth=ce,-1!=ce&&Oe.set_width(ce)),Oe.frameHeight!=he&&(Oe.frameHeight=he,-1!=he&&Oe.set_height(he))}Oe.set_x(w),Oe.set_y(U),Oe.set_width(C),Oe.set_height(x)}Oe.set_anchorX(0),Oe.set_anchorY(0),b[b.length-1].push(Oe),s=i+Math.max((_.xOffset+_.width)*r,_.xAdvance*r),i+=_.xAdvance*r+this.letterSpacing,++o}else++o}if(i>0&&d.push(i),y&&f>0){var ue=this.glyphQuads[f-1],oe=d[d.length-1];oe-=ue.glyphAdvance,d[d.length-1]=oe,ue.glyphAdvance=0,ue.set_visible(!1)}for(;f<this.glyphQuads.length;){(Oe=this.glyphQuads.pop()).destroy()}var _e=0;for(G=0,W=d.length;G<W;){var de=d[o=G++];_e=Math.max(de,_e)}switch(this.set_width(Math.round(1e3*_e)/1e3),this.set_height(Math.round(1e3*((d.length-1)*this.lineHeight*this.font.fontData.lineHeight*r+this.font.fontData.lineHeight*r))/1e3),this.align._hx_index){case 1:for(G=0,W=d.length;G<W;){var be=_e-d[o=G++];for(V=0,Y=(fe=b[o]).length;V<Y;){(Oe=fe[me=V++]).set_x(Oe.x+be)}}break;case 2:for(G=0,W=d.length;G<W;){var fe;for(be=.5*(_e-d[o=G++]),V=0,Y=(fe=b[o]).length;V<Y;){var Oe;(Oe=fe[me=V++]).set_x(Oe.x+be)}}}if((-1==t||t==d.length)&&e>0&&-1!=n&&e>this.pointSize){var pe=0,ge=this.fitWidth*n;for(G=0,W=d.length;G<W;)for(o=G++,V=0,Y=d.length;V<Y;){var me=V++,ve=d[o]-d[me];if(ve<0&&(ve=-ve),ve>pe&&(pe=ve),pe>ge)break}if(pe>ge)this.computeGlyphQuads(e-this.pointSize,n,d.length)>d.length&&this.computeGlyphQuads(e,-1,d.length)}return d.length},lineForYPosition:function(e){this.contentDirty&&this.computeContent();var n=this.lineHeight*this.font.fontData.lineHeight*this.pointSize/this.font.fontData.pointSize,t=0;if(n<=0)return 0;var i=this.glyphQuads;i.length>0&&(t=i[i.length-1].line);var l=Math.floor(e/n);return l<0&&(l=0),l>t&&(l=t),l},posInLineForX:function(e,n){this.contentDirty&&this.computeContent();var t=this.glyphQuads,i=0;if(0==t.length||0==n)return i;for(var l=0,s=t.length;l<s;){var r=t[l++];if(r.line==e){if(r.glyphX>=n)return i;if(r.glyphX+r.glyphAdvance>=n){var a=r.glyphX+r.glyphAdvance-n;if(n-r.glyphX<=a)return i}++i}else if(r.line>e)break}return i},indexForPosInLine:function(e,n){this.contentDirty&&this.computeContent();var t=this.glyphQuads;if(0==t.length)return 0;for(var i=0,l=t.length;i<l;){var s=t[i++];if(s.line==e&&s.posInLine>=n)return s.index+n-s.posInLine;if(s.line>e)return s.index-s.posInLine-(s.line-e)}return this.content.length},xPositionAtIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=0,i=n.length;t<i;){var l=t++,s=n[l];if(s.index>=e){if(0==s.glyphX&&s.index>e){if(l>=1){var r=n[l-1];return r.glyphX+r.glyphAdvance}return 0}return s.glyphX}}var a=n[n.length-1];return a.glyphX+a.glyphAdvance},lineForIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=0,i=n.length;t<i;){var l=n[t++];if(l.index>=e){if(l.posInLine>e-l.index){for(var s=l.index-l.posInLine,r=l.line;s>e;)--s,--r;return r}return l.line}}return n[n.length-1].line},posInLineForIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=!1,i=-1,l=0,s=n.length;l<s;){var r=l++,a=n[r];if(a.index>=e){var c=a.posInLine+e-a.index;if(c<0)for(var h=r-1;h>=0;){var u=n[h];if(t||(t=!0,i=this.lineForIndex(e)),u.line==i)return c=u.posInLine+e-u.index;if(u.line<i)return 0;--h}return c>=0?c:0}}return 0},fontDestroyed:function(e){this.set_font(ceramic_App.app.defaultFont)},toString:function(){return null!=this.id?"Text("+this.id+" "+this.content+")":"Text("+this.content+")"},unbindEvents:function(){ceramic_Visual.prototype.unbindEvents.call(this),this.offGlyphQuadsChange()},__class__:ceramic_Text,__properties__:$extend(ceramic_Visual.prototype.__properties__,{set_maxLineDiff:"set_maxLineDiff",set_fitWidth:"set_fitWidth",set_align:"set_align",set_preRenderedSize:"set_preRenderedSize",set_clipTextHeight:"set_clipTextHeight",set_clipTextWidth:"set_clipTextWidth",set_clipTextY:"set_clipTextY",set_clipTextX:"set_clipTextX",set_font:"set_font",set_letterSpacing:"set_letterSpacing",set_lineHeight:"set_lineHeight",set_pointSize:"set_pointSize",set_content:"set_content",set_color:"set_color",get_numLines:"get_numLines"})});var v=i["ceramic.TextAlign"]={__ename__:"ceramic.TextAlign",__constructs__:null,LEFT:{_hx_name:"LEFT",_hx_index:0,__enum__:"ceramic.TextAlign",toString:$estr},RIGHT:{_hx_name:"RIGHT",_hx_index:1,__enum__:"ceramic.TextAlign",toString:$estr},CENTER:{_hx_name:"CENTER",_hx_index:2,__enum__:"ceramic.TextAlign",toString:$estr}};v.__constructs__=[v.LEFT,v.RIGHT,v.CENTER];var ceramic_TextAsset=function(e,n){this.unobservedText=null,this.textAutoruns=null,ceramic_Asset.call(this,"text",e,n)};t["ceramic.TextAsset"]=ceramic_TextAsset,ceramic_TextAsset.__name__="ceramic.TextAsset",ceramic_TextAsset.__super__=ceramic_Asset,ceramic_TextAsset.prototype=$extend(ceramic_Asset.prototype,{textAutoruns:null,get_text:function(){if(null!=tracker_Autorun.current){var e=tracker_Autorun.current,n=this.textAutoruns;null==n?(n=tracker_Autorun.getAutorunArray(),this.textAutoruns=n,null!=n&&e.bindToAutorunArray(n)):e.bindToAutorunArray(n)}return this.unobservedText},set_text:function(e){var n=this.unobservedText;if(this.unobservedText=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextChange(e,n);var t=this.textAutoruns;if(null!=t){this.textAutoruns=null;for(var i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&!s.invalidated){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateText:function(){var e=this.unobservedText;this.emitTextChange(e,e);var n=this.textAutoruns;if(null!=n){this.textAutoruns=null;for(var t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&!l.invalidated){l.invalidated=!0,l.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(l,l.run))}}tracker_Autorun.recycleAutorunArray(n)}},unobservedText:null,__cbOnTextChange:null,__cbOnceTextChange:null,__cbOnOwnerUnbindTextChange:null,__cbOnceOwnerUnbindTextChange:null,emitTextChange:function(e,n){var t=0;if(null!=this.__cbOnTextChange&&(t+=this.__cbOnTextChange.length),null!=this.__cbOnceTextChange&&(t+=this.__cbOnceTextChange.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTextChange)for(var r=0,a=this.__cbOnTextChange.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnTextChange[c],++s):--t}if(null!=this.__cbOnceTextChange){var h=null,u=null;for(r=0,a=this.__cbOnceTextChange.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceTextChange[c],this.__cbOnceTextChange[c]=null;var o=this.__cbOnceOwnerUnbindTextChange[c];this.__cbOnceOwnerUnbindTextChange[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindTextChange[c]),u.push(this.__cbOnceTextChange[c])}this.__cbOnceOwnerUnbindTextChange=h,this.__cbOnceTextChange=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onTextChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(null);null==this.__cbOnTextChange&&(this.__cbOnTextChange=[]),this.__cbOnTextChange.push(n)},onceTextChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(null);null==this.__cbOnceTextChange&&(this.__cbOnceTextChange=[]),this.__cbOnceTextChange.push(n)},offTextChange:function(e){if(null!=e){var n;null!=this.__cbOnTextChange&&-1!=(n=this.__cbOnTextChange.indexOf(e))&&(this.__cbOnTextChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTextChange[n])&&s(),this.__cbOnOwnerUnbindTextChange.splice(n,1)),null!=this.__cbOnceTextChange&&-1!=(n=this.__cbOnceTextChange.indexOf(e))&&(this.__cbOnceTextChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTextChange[n])&&s(),this.__cbOnceOwnerUnbindTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextChange){for(var t=0,i=this.__cbOnOwnerUnbindTextChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTextChange[l])&&s()}this.__cbOnOwnerUnbindTextChange=null}if(null!=this.__cbOnceOwnerUnbindTextChange){for(t=0,i=this.__cbOnceOwnerUnbindTextChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindTextChange[l])&&s()}this.__cbOnceOwnerUnbindTextChange=null}this.__cbOnTextChange=null,this.__cbOnceTextChange=null}},listensTextChange:function(){return null!=this.__cbOnTextChange&&this.__cbOnTextChange.length>0||null!=this.__cbOnceTextChange&&this.__cbOnceTextChange.length>0},load:function(){var e=this;if(this.set_status(h.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load text asset if path is undefined.",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:20,className:"ceramic.TextAsset",methodName:"load"}),this.set_status(h.BROKEN),void this.emitComplete(!1);var n={};if(null!=this.owner&&(n.immediate=this.owner.immediate,n.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=Reflect.fields(this.options);t<i.length;){var l=i[t];++t,n[l]=Reflect.field(this.options,l)}var s=this.path,r=ceramic_Assets.realAssetPath(s,this.runtimeAssets),a=ceramic_Assets.getReloadCount(r);a>0&&(r+="?hot="+a,s+="?hot="+a),ceramic_App.app.logger.info("Load text "+s,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:46,className:"ceramic.TextAsset",methodName:"load"}),ceramic_App.app.backend.texts.load(r,n,(function(n){null!=n?(e.set_text(n),e.set_status(h.READY),e.emitComplete(!0)):(e.set_status(h.BROKEN),ceramic_App.app.logger.error("Failed to load text at path: "+e.path,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:56,className:"ceramic.TextAsset",methodName:"load"}),e.emitComplete(!1))}))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload text (file has changed)",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:79,className:"ceramic.TextAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),this.set_text(null))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offTextChange()},__class__:ceramic_TextAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_text:"set_text",get_text:"get_text"})});var ceramic_TextInput=function(){this.delegate=null,this.selectionEnd=-1,this.selectionStart=-1,this.text="",this.multiline=!1,this.allowMovingCursor=!1,this.invertedSelection=!1,this.rmetaPressed=!1,this.lmetaPressed=!1,this.rctrlPressed=!1,this.lctrlPressed=!1,this.rshiftPressed=!1,this.lshiftPressed=!1,this.explicitPosLine=0,this.explicitPosInLine=0,this.inputActive=!1};t["ceramic.TextInput"]=ceramic_TextInput,ceramic_TextInput.__name__="ceramic.TextInput",ceramic_TextInput.__interfaces__=[tracker_Events],ceramic_TextInput.prototype={__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnUpdate[a],++l):--n}if(null!=this.__cbOnceUpdate){var c=null,h=null;for(s=0,r=this.__cbOnceUpdate.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null;var u=this.__cbOnceOwnerUnbindUpdate[a];this.__cbOnceOwnerUnbindUpdate[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindUpdate[a]),h.push(this.__cbOnceUpdate[a])}this.__cbOnceOwnerUnbindUpdate=c,this.__cbOnceUpdate=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},__cbOnEnter:null,__cbOnceEnter:null,__cbOnOwnerUnbindEnter:null,__cbOnceOwnerUnbindEnter:null,emitEnter:function(){var e=0;if(null!=this.__cbOnEnter&&(e+=this.__cbOnEnter.length),null!=this.__cbOnceEnter&&(e+=this.__cbOnceEnter.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnEnter)for(var l=0,s=this.__cbOnEnter.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnEnter[r],++i):--e}if(null!=this.__cbOnceEnter){var a=null,c=null;for(l=0,s=this.__cbOnceEnter.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceEnter[r],this.__cbOnceEnter[r]=null;var h=this.__cbOnceOwnerUnbindEnter[r];this.__cbOnceOwnerUnbindEnter[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindEnter[r]),c.push(this.__cbOnceEnter[r])}this.__cbOnceOwnerUnbindEnter=a,this.__cbOnceEnter=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onEnter:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event enter because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEnter(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEnter&&(this.__cbOnOwnerUnbindEnter=[]),this.__cbOnOwnerUnbindEnter.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEnter&&(this.__cbOnOwnerUnbindEnter=[]),this.__cbOnOwnerUnbindEnter.push(null);null==this.__cbOnEnter&&(this.__cbOnEnter=[]),this.__cbOnEnter.push(n)},onceEnter:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event enter because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEnter(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEnter&&(this.__cbOnceOwnerUnbindEnter=[]),this.__cbOnceOwnerUnbindEnter.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEnter&&(this.__cbOnceOwnerUnbindEnter=[]),this.__cbOnceOwnerUnbindEnter.push(null);null==this.__cbOnceEnter&&(this.__cbOnceEnter=[]),this.__cbOnceEnter.push(n)},offEnter:function(e){if(null!=e){var n;null!=this.__cbOnEnter&&-1!=(n=this.__cbOnEnter.indexOf(e))&&(this.__cbOnEnter.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEnter[n])&&s(),this.__cbOnOwnerUnbindEnter.splice(n,1)),null!=this.__cbOnceEnter&&-1!=(n=this.__cbOnceEnter.indexOf(e))&&(this.__cbOnceEnter.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEnter[n])&&s(),this.__cbOnceOwnerUnbindEnter.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnter){for(var t=0,i=this.__cbOnOwnerUnbindEnter.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEnter[l])&&s()}this.__cbOnOwnerUnbindEnter=null}if(null!=this.__cbOnceOwnerUnbindEnter){for(t=0,i=this.__cbOnceOwnerUnbindEnter.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindEnter[l])&&s()}this.__cbOnceOwnerUnbindEnter=null}this.__cbOnEnter=null,this.__cbOnceEnter=null}},listensEnter:function(){return null!=this.__cbOnEnter&&this.__cbOnEnter.length>0||null!=this.__cbOnceEnter&&this.__cbOnceEnter.length>0},__cbOnEscape:null,__cbOnceEscape:null,__cbOnOwnerUnbindEscape:null,__cbOnceOwnerUnbindEscape:null,emitEscape:function(){var e=0;if(null!=this.__cbOnEscape&&(e+=this.__cbOnEscape.length),null!=this.__cbOnceEscape&&(e+=this.__cbOnceEscape.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnEscape)for(var l=0,s=this.__cbOnEscape.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnEscape[r],++i):--e}if(null!=this.__cbOnceEscape){var a=null,c=null;for(l=0,s=this.__cbOnceEscape.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceEscape[r],this.__cbOnceEscape[r]=null;var h=this.__cbOnceOwnerUnbindEscape[r];this.__cbOnceOwnerUnbindEscape[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindEscape[r]),c.push(this.__cbOnceEscape[r])}this.__cbOnceOwnerUnbindEscape=a,this.__cbOnceEscape=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onEscape:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event escape because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEscape(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEscape&&(this.__cbOnOwnerUnbindEscape=[]),this.__cbOnOwnerUnbindEscape.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEscape&&(this.__cbOnOwnerUnbindEscape=[]),this.__cbOnOwnerUnbindEscape.push(null);null==this.__cbOnEscape&&(this.__cbOnEscape=[]),this.__cbOnEscape.push(n)},onceEscape:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event escape because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEscape(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEscape&&(this.__cbOnceOwnerUnbindEscape=[]),this.__cbOnceOwnerUnbindEscape.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEscape&&(this.__cbOnceOwnerUnbindEscape=[]),this.__cbOnceOwnerUnbindEscape.push(null);null==this.__cbOnceEscape&&(this.__cbOnceEscape=[]),this.__cbOnceEscape.push(n)},offEscape:function(e){if(null!=e){var n;null!=this.__cbOnEscape&&-1!=(n=this.__cbOnEscape.indexOf(e))&&(this.__cbOnEscape.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEscape[n])&&s(),this.__cbOnOwnerUnbindEscape.splice(n,1)),null!=this.__cbOnceEscape&&-1!=(n=this.__cbOnceEscape.indexOf(e))&&(this.__cbOnceEscape.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEscape[n])&&s(),this.__cbOnceOwnerUnbindEscape.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEscape){for(var t=0,i=this.__cbOnOwnerUnbindEscape.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEscape[l])&&s()}this.__cbOnOwnerUnbindEscape=null}if(null!=this.__cbOnceOwnerUnbindEscape){for(t=0,i=this.__cbOnceOwnerUnbindEscape.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindEscape[l])&&s()}this.__cbOnceOwnerUnbindEscape=null}this.__cbOnEscape=null,this.__cbOnceEscape=null}},listensEscape:function(){return null!=this.__cbOnEscape&&this.__cbOnEscape.length>0||null!=this.__cbOnceEscape&&this.__cbOnceEscape.length>0},__cbOnSelection:null,__cbOnceSelection:null,__cbOnOwnerUnbindSelection:null,__cbOnceOwnerUnbindSelection:null,emitSelection:function(e,n){var t=0;if(null!=this.__cbOnSelection&&(t+=this.__cbOnSelection.length),null!=this.__cbOnceSelection&&(t+=this.__cbOnceSelection.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelection)for(var r=0,a=this.__cbOnSelection.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnSelection[c],++s):--t}if(null!=this.__cbOnceSelection){var h=null,u=null;for(r=0,a=this.__cbOnceSelection.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceSelection[c],this.__cbOnceSelection[c]=null;var o=this.__cbOnceOwnerUnbindSelection[c];this.__cbOnceOwnerUnbindSelection[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindSelection[c]),u.push(this.__cbOnceSelection[c])}this.__cbOnceOwnerUnbindSelection=h,this.__cbOnceSelection=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onSelection:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event selection because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSelection(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(null);null==this.__cbOnSelection&&(this.__cbOnSelection=[]),this.__cbOnSelection.push(n)},onceSelection:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event selection because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSelection(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(null);null==this.__cbOnceSelection&&(this.__cbOnceSelection=[]),this.__cbOnceSelection.push(n)},offSelection:function(e){if(null!=e){var n;null!=this.__cbOnSelection&&-1!=(n=this.__cbOnSelection.indexOf(e))&&(this.__cbOnSelection.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelection[n])&&s(),this.__cbOnOwnerUnbindSelection.splice(n,1)),null!=this.__cbOnceSelection&&-1!=(n=this.__cbOnceSelection.indexOf(e))&&(this.__cbOnceSelection.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelection[n])&&s(),this.__cbOnceOwnerUnbindSelection.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelection){for(var t=0,i=this.__cbOnOwnerUnbindSelection.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelection[l])&&s()}this.__cbOnOwnerUnbindSelection=null}if(null!=this.__cbOnceOwnerUnbindSelection){for(t=0,i=this.__cbOnceOwnerUnbindSelection.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindSelection[l])&&s()}this.__cbOnceOwnerUnbindSelection=null}this.__cbOnSelection=null,this.__cbOnceSelection=null}},listensSelection:function(){return null!=this.__cbOnSelection&&this.__cbOnSelection.length>0||null!=this.__cbOnceSelection&&this.__cbOnceSelection.length>0},__cbOnStop:null,__cbOnceStop:null,__cbOnOwnerUnbindStop:null,__cbOnceOwnerUnbindStop:null,emitStop:function(){var e=0;if(null!=this.__cbOnStop&&(e+=this.__cbOnStop.length),null!=this.__cbOnceStop&&(e+=this.__cbOnceStop.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnStop)for(var l=0,s=this.__cbOnStop.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnStop[r],++i):--e}if(null!=this.__cbOnceStop){var a=null,c=null;for(l=0,s=this.__cbOnceStop.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceStop[r],this.__cbOnceStop[r]=null;var h=this.__cbOnceOwnerUnbindStop[r];this.__cbOnceOwnerUnbindStop[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindStop[r]),c.push(this.__cbOnceStop[r])}this.__cbOnceOwnerUnbindStop=a,this.__cbOnceStop=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onStop:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event stop because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStop(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(null);null==this.__cbOnStop&&(this.__cbOnStop=[]),this.__cbOnStop.push(n)},onceStop:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event stop because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStop(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(null);null==this.__cbOnceStop&&(this.__cbOnceStop=[]),this.__cbOnceStop.push(n)},offStop:function(e){if(null!=e){var n;null!=this.__cbOnStop&&-1!=(n=this.__cbOnStop.indexOf(e))&&(this.__cbOnStop.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStop[n])&&s(),this.__cbOnOwnerUnbindStop.splice(n,1)),null!=this.__cbOnceStop&&-1!=(n=this.__cbOnceStop.indexOf(e))&&(this.__cbOnceStop.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStop[n])&&s(),this.__cbOnceOwnerUnbindStop.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStop){for(var t=0,i=this.__cbOnOwnerUnbindStop.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStop[l])&&s()}this.__cbOnOwnerUnbindStop=null}if(null!=this.__cbOnceOwnerUnbindStop){for(t=0,i=this.__cbOnceOwnerUnbindStop.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindStop[l])&&s()}this.__cbOnceOwnerUnbindStop=null}this.__cbOnStop=null,this.__cbOnceStop=null}},listensStop:function(){return null!=this.__cbOnStop&&this.__cbOnStop.length>0||null!=this.__cbOnceStop&&this.__cbOnceStop.length>0},inputActive:null,explicitPosInLine:null,explicitPosLine:null,lshiftPressed:null,rshiftPressed:null,lctrlPressed:null,rctrlPressed:null,lmetaPressed:null,rmetaPressed:null,invertedSelection:null,allowMovingCursor:null,multiline:null,text:null,selectionStart:null,selectionEnd:null,delegate:null,start:function(e,n,t,i,l,s,r,a,c,h){null==c&&(c=!1),null==a&&(a=-1),null==r&&(r=-1),null==s&&(s=!1),this.inputActive&&this.stop(),this.inputActive=!0,this.set_text(e),this.multiline=s,this.allowMovingCursor=c,this.delegate=h,this.explicitPosInLine=0,this.explicitPosLine=0,this.invertedSelection=!1,r<0&&(r=e.length),a<r&&(a=r),this.selectionStart=r,this.selectionEnd=a,ceramic_App.app.backend.textInput.start(e,n,t,i,l),this.emitUpdate(e),this.emitSelection(r,a)},stop:function(){this.inputActive&&(this.inputActive=!1,this.selectionStart=-1,this.selectionEnd=-1,this.invertedSelection=!1,this.delegate=null,ceramic_App.app.backend.textInput.stop(),this.emitStop())},updateSelection:function(e,n,t){this.selectionStart==e&&this.selectionEnd==n||(this.selectionStart=e,this.selectionEnd=n,null!=t&&(this.invertedSelection=t),this.emitSelection(e,n))},appendText:function(e){if(!this.lctrlPressed&&!this.rctrlPressed){var n="";this.selectionStart>0&&(n+=this.text.substring(0,this.selectionStart)),n+=e,n+=this.text.substring(this.selectionEnd),this.selectionStart+=e.length,this.selectionEnd=this.selectionStart,this.invertedSelection=!1,this.set_text(n),this.emitUpdate(this.text),this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)}},space:function(){this.appendText(" ")},backspace:function(){var e=this.selectionEnd>this.selectionStart,n="";this.selectionStart>1&&(n+=this.text.substring(0,e?this.selectionStart:this.selectionStart-1)),n+=this.text.substring(this.selectionEnd),this.selectionStart>0&&!e&&this.selectionStart--,this.selectionEnd=this.selectionStart,this.set_text(n),this.emitUpdate(this.text),this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)},moveLeft:function(){this.allowMovingCursor&&(this.lshiftPressed||this.rshiftPressed?this.invertedSelection?(this.selectionStart>0&&(this.selectionStart--,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):this.selectionEnd>this.selectionStart?(this.selectionEnd--,this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd)):(this.selectionStart>0&&(this.invertedSelection=!0,this.selectionStart--,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):(this.invertedSelection=!1,this.selectionEnd>this.selectionStart?(this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionStart>0&&(this.selectionStart--,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)))},moveRight:function(){if(this.allowMovingCursor)if(this.lshiftPressed||this.rshiftPressed){var e=this.text.length;this.selectionStart==this.selectionEnd?(this.invertedSelection=!1,this.selectionEnd<e&&(this.selectionEnd++,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd)):this.invertedSelection?(this.selectionStart++,this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):(this.selectionEnd<e&&(this.selectionEnd++,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd))}else this.invertedSelection=!1,this.selectionEnd>this.selectionStart?(this.selectionStart=this.selectionEnd,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionStart<this.text.length&&(this.selectionStart++,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)},moveUp:function(){if(this.allowMovingCursor)if(this.lshiftPressed||this.rshiftPressed){var e=this.lineForPos(this.selectionStart),n=this.lineForPos(this.selectionEnd);if(!this.invertedSelection&&n>e){var t=this.explicitPosInLine,i=n;null!=this.delegate&&(t=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,i-1));var l=this.globalPosForLine(i-1,t);this.selectionEnd=0|Math.max(this.selectionStart,l),this.emitSelection(this.selectionStart,this.selectionEnd)}else if(this.selectionStart>0){if(this.invertedSelection=!0,e>0){t=this.explicitPosInLine,i=e;null!=this.delegate&&(t=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,i-1)),this.selectionStart=this.globalPosForLine(i-1,t)}else this.selectionStart=0;this.emitSelection(this.selectionStart,this.selectionEnd)}}else{if(this.invertedSelection=!1,this.selectionStart>0)if((i=this.lineForPos(this.selectionStart))>0){t=this.explicitPosInLine;null!=this.delegate&&(t=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,i-1)),this.selectionStart=this.globalPosForLine(i-1,t),this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)}else this.selectionStart=0,this.selectionEnd=0,this.emitSelection(this.selectionStart,this.selectionEnd);else this.selectionStart=0,this.selectionEnd=0,this.emitSelection(this.selectionStart,this.selectionEnd)}},moveDown:function(){if(this.allowMovingCursor){var e=this.text.length;if(this.lshiftPressed||this.rshiftPressed){var n=this.lineForPos(this.selectionStart),t=this.lineForPos(this.selectionEnd);if(this.invertedSelection){if(this.invertedSelection)if(t>n){l=this.explicitPosInLine,s=n;null!=this.delegate&&(l=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,s+1));var i=this.globalPosForLine(s+1,l);this.selectionStart=0|Math.min(this.selectionEnd,i),this.emitSelection(this.selectionStart,this.selectionEnd)}else if(this.selectionEnd<e-1){this.invertedSelection=!1;s=n,r=this.numLines(),l=this.explicitPosInLine;s<r-1?(null!=this.delegate&&(l=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,s+1)),this.selectionEnd=this.globalPosForLine(s+1,l)):this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd)}else this.selectionEnd<e&&(this.invertedSelection=!1,this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd))}else if(this.selectionEnd<e-1){var l=this.explicitPosInLine;(s=t)<(r=this.numLines())-1?(null!=this.delegate&&(l=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,s+1)),this.selectionEnd=this.globalPosForLine(s+1,l)):this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd)}else this.selectionEnd<e&&(this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd))}else{var s,r;if(this.invertedSelection=!1,this.selectionEnd<e-1)if((s=this.lineForPos(this.selectionEnd))<(r=this.numLines())-1){l=this.explicitPosInLine;null!=this.delegate&&(l=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,s+1)),this.selectionStart=this.globalPosForLine(s+1,l),this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)}else this.selectionStart=e,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd);else this.selectionStart=e,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)}}},enter:function(){this.emitEnter(),this.inputActive&&this.multiline&&this.appendText("\n")},escape:function(){this.emitEscape(),this.stop()},lshiftDown:function(){this.lshiftPressed=!0},lshiftUp:function(){this.lshiftPressed=!1},rshiftDown:function(){this.rshiftPressed=!0},rshiftUp:function(){this.rshiftPressed=!1},lctrlDown:function(){this.lctrlPressed=!0},lctrlUp:function(){this.lctrlPressed=!1},rctrlDown:function(){this.rctrlPressed=!0},rctrlUp:function(){this.rctrlPressed=!1},lmetaDown:function(){this.lmetaPressed=!0},lmetaUp:function(){this.lmetaPressed=!1},rmetaDown:function(){this.rmetaPressed=!0},rmetaUp:function(){this.rmetaPressed=!1},posInCurrentLine:function(e){if(null!=this.delegate)return this.delegate.textInputPosInLineForIndex(e);for(var n=this.text,t=0;e>0;){if("\n"==n.charAt(e)&&t>0){--t;break}--e,++t}return t},lineForPos:function(e){if(null!=this.delegate)return this.delegate.textInputLineForIndex(e);for(var n=this.text,t=0,i=0;i<e;){"\n"==n.charAt(i)&&++t,++i}return t},numLines:function(){return null!=this.delegate?this.delegate.textInputNumberOfLines():this.text.split("\n").length},globalPosForLine:function(e,n){if(null!=this.delegate)return this.delegate.textInputIndexForPosInLine(e,n);for(var t=this.text,i=0,l=t.length,s=0;i<l;){var r=t.charAt(i);if(s==e){if(!(n>0))break;if("\n"==r)break;--n}else"\n"==r&&++s;++i}return i},set_text:function(e){if(this.text==e)return e;this.text=e;var n=e.length,t=this.selectionStart,i=this.selectionEnd;return i>n&&(i=n),t>i&&(t=i),this.updateSelection(t,i),e},unbindEvents:function(){this.offUpdate(),this.offEnter(),this.offEscape(),this.offSelection(),this.offStop()},__class__:ceramic_TextInput,__properties__:{set_text:"set_text"}};var ceramic_TextInputDelegate=function(){};t["ceramic.TextInputDelegate"]=ceramic_TextInputDelegate,ceramic_TextInputDelegate.__name__="ceramic.TextInputDelegate",ceramic_TextInputDelegate.__isInterface__=!0,ceramic_TextInputDelegate.prototype={textInputClosestPositionInLine:null,textInputNumberOfLines:null,textInputIndexForPosInLine:null,textInputLineForIndex:null,textInputPosInLineForIndex:null,__class__:ceramic_TextInputDelegate};var ceramic_TextureAtlas=function(){this.asset=null,this.regions=[],this.pages=[],ceramic_Entity.call(this)};t["ceramic.TextureAtlas"]=ceramic_TextureAtlas,ceramic_TextureAtlas.__name__="ceramic.TextureAtlas",ceramic_TextureAtlas.__super__=ceramic_Entity,ceramic_TextureAtlas.prototype=$extend(ceramic_Entity.prototype,{pages:null,regions:null,asset:null,region:function(e){for(var n=0,t=this.regions.length;n<t;){var i=n++,l=this.regions[i];if(l.name==e)return l}return null},computeFrames:function(){for(var e=0,n=this.regions.length;e<n;){var t=e++;this.regions[t].computeFrame()}},destroy:function(){if(!(this._lifecycleState<=-2)){for(this._lifecycleState=-2;this.pages.length>0;){var e=this.pages.pop().texture;null!=e&&e.destroy()}null!=this.asset&&this.asset.destroy(),this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this)}},__class__:ceramic_TextureAtlas});var ceramic_TextureAtlasPage=function(e,n,t,i,l){this.texture=null,this.filter=y.LINEAR,this.height=0,this.width=0,this.name=e,null!=n&&(this.width=n),null!=t&&(this.height=t),null!=i&&(this.filter=i),null!=l&&(this.texture=l)};t["ceramic.TextureAtlasPage"]=ceramic_TextureAtlasPage,ceramic_TextureAtlasPage.__name__="ceramic.TextureAtlasPage",ceramic_TextureAtlasPage.prototype={name:null,width:null,height:null,filter:null,set_filter:function(e){return this.filter!=e&&(this.filter=e,null!=this.texture&&this.texture.set_filter(e)),e},texture:null,set_texture:function(e){return this.texture!=e&&(this.texture=e,null!=e&&(this.width<=0&&(this.width=e.backendItem.width),this.height<=0&&(this.height=e.backendItem.height))),e},__class__:ceramic_TextureAtlasPage,__properties__:{set_texture:"set_texture",set_filter:"set_filter"}};var ceramic_TextureAtlasParser=function(){};t["ceramic.TextureAtlasParser"]=ceramic_TextureAtlasParser,ceramic_TextureAtlasParser.__name__="ceramic.TextureAtlasParser",ceramic_TextureAtlasParser.parse=function(e){if(StringTools.startsWith(StringTools.trim(e),"<"))try{e=ceramic_TextureAtlasParser.convertXmlTextureAtlas(e)}catch(e){var n=haxe_Exception.caught(e).unwrap();throw haxe_Exception.thrown("TextureAtlas: invalid xml atlas data specified for parser: "+Std.string(n))}for(var t=new ceramic__$TextureAtlasParser_TextureAtlasReader(e),i=[null,null,null,null],l=null,s=new ceramic_TextureAtlas;;){var r=t.readLine();if(null==r)break;if(0==(r=t.trim(r)).length)l=null;else if(null==l){l=new ceramic_TextureAtlasPage(r,null,null,null,null);for(var a=t.nextLineKey();null!=a;){switch(a){case"filter":t.readTuple(i),l.set_filter(null!=i[0]&&"nearest"==i[0].toLowerCase()?y.NEAREST:y.LINEAR);break;case"size":t.readTuple(i),l.width=Std.parseInt(i[0]),l.height=Std.parseInt(i[1]);break;default:t.readLine()}a=t.nextLineKey()}s.pages.push(l)}else{var c=r,h=c.toLowerCase();StringTools.endsWith(h,".png")||StringTools.endsWith(h,".gif")||StringTools.endsWith(h,".jpg")?c=HxOverrides.substr(c,0,c.length-4):StringTools.endsWith(h,".jpeg")&&(c=HxOverrides.substr(c,0,c.length-5));for(var u=new ceramic_TextureAtlasRegion(c,s,s.pages.length-1),o=0,_=0,d=0,b=0,f=0,O=0,p=t.nextLineKey();null!=p;){switch(p){case"bounds":t.readTuple(i),o=Std.parseInt(i[0]),_=Std.parseInt(i[1]),d=Std.parseInt(i[2]),b=Std.parseInt(i[3]);break;case"offset":t.readTuple(i),u.offsetX=Std.parseInt(i[0]),u.offsetY=Std.parseInt(i[1]);break;case"offsets":t.readTuple(i),u.offsetX=Std.parseInt(i[0]),u.offsetY=Std.parseInt(i[1]),f=Std.parseInt(i[2]),O=Std.parseInt(i[3]);break;case"orig":t.readTuple(i),f=Std.parseInt(i[0]),O=Std.parseInt(i[1]);break;case"rotate":var g=t.readValue();u.rotateFrame="true"==g||"90"==g;break;case"size":t.readTuple(i),d=Std.parseInt(i[0]),b=Std.parseInt(i[1]);break;case"xy":t.readTuple(i),o=Std.parseInt(i[0]),_=Std.parseInt(i[1]);break;default:t.readLine()}p=t.nextLineKey()}u.x=o,u.y=_,u.width=0|Math.abs(d),u.height=0|Math.abs(b),u.originalWidth=0!=f?f:u.width,u.originalHeight=0!=O?O:u.height,u.rotateFrame?(u.packedWidth=u.height,u.packedHeight=u.width):(u.packedWidth=u.width,u.packedHeight=u.height)}}return s},ceramic_TextureAtlasParser.convertXmlTextureAtlas=function(e){var n="",t=Xml.parse(e).firstElement();n+=Std.string(t.get("imagePath")),n+="\n";for(var i=t.elements();i.hasNext();){var l=i.next();if(l.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==l.nodeType?"null":r.toString(l.nodeType)));"SubTexture"==l.nodeName&&(n+=Std.string(l.get("name")),n+="\n",l.exists("frameX")&&l.exists("frameY")&&l.exists("frameWidth")&&l.exists("frameHeight")&&(n+="offsets:",n+=Std.string(-parseFloat(l.get("frameX"))),n+=",",n+=Std.string(-parseFloat(l.get("frameY"))),n+=",",n+=Std.string(parseFloat(l.get("frameWidth"))),n+=",",n+=Std.string(parseFloat(l.get("frameHeight"))),n+="\n"),n+="bounds:",n+=Std.string(parseFloat(l.get("x"))),n+=",",n+=Std.string(parseFloat(l.get("y"))),n+=",",n+=Std.string(parseFloat(l.get("width"))),n+=",",n+=Std.string(parseFloat(l.get("height"))),n+="\n",l.exists("rotate")&&(n+="rotate:",n+=Std.string(l.get("rotate")),n+="\n"))}return n};var ceramic__$TextureAtlasParser_TextureAtlasReader=function(e){this.lines=StringTools.replace(StringTools.replace(StringTools.trim(e),"\r\n","\n"),"\r","\n").split("\n"),this.index=0};t["ceramic._TextureAtlasParser.TextureAtlasReader"]=ceramic__$TextureAtlasParser_TextureAtlasReader,ceramic__$TextureAtlasParser_TextureAtlasReader.__name__="ceramic._TextureAtlasParser.TextureAtlasReader",ceramic__$TextureAtlasParser_TextureAtlasReader.prototype={lines:null,index:null,trim:function(e){return StringTools.trim(e)},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},nextLineKey:function(){if(this.index>=this.lines.length)return null;var e=this.lines[this.index],n=e.indexOf(":");return-1!=n?StringTools.trim(e.substring(0,n)):null},readValue:function(){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw haxe_Exception.thrown("Invalid line: "+e);return this.trim(e.substring(n+1))},readTuple:function(e){var n=this.readLine(),t=n.indexOf(":");if(-1==t)throw haxe_Exception.thrown("Invalid line: "+n);for(var i=0,l=t+1;i<3;){var s=n.indexOf(",",l);if(-1==s)break;e[i]=this.trim(HxOverrides.substr(n,l,s-l)),l=s+1,++i}return e[i]=this.trim(n.substring(l)),i+1},__class__:ceramic__$TextureAtlasParser_TextureAtlasReader};var ceramic_TextureTile=function(e,n,t,i,l,s,r){null==r&&(r=0),null==s&&(s=!1),this.texture=e,this.frameX=n,this.frameY=t,this.frameWidth=i,this.frameHeight=l,this.rotateFrame=s,this.edgeInset=r};t["ceramic.TextureTile"]=ceramic_TextureTile,ceramic_TextureTile.__name__="ceramic.TextureTile",ceramic_TextureTile.prototype={texture:null,frameX:null,frameY:null,frameWidth:null,frameHeight:null,rotateFrame:null,edgeInset:null,toString:function(){return""+Std.string({texture:this.texture,frameX:this.frameX,frameY:this.frameY,frameWidth:this.frameWidth,frameHeight:this.frameHeight})},__class__:ceramic_TextureTile};var ceramic_TextureAtlasRegion=function(e,n,t){this.originalHeight=0,this.originalWidth=0,this.offsetY=0,this.offsetX=0,this.height=0,this.width=0,this.y=0,this.x=0,this.packedHeight=0,this.packedWidth=0,this.page=0,this.atlas=null,this.name=null,this.name=e,this.atlas=n,this.page=t;var i=n.pages[t];ceramic_TextureTile.call(this,null!=i?i.texture:null,0,0,0,0,!1,0),n.regions.push(this)};t["ceramic.TextureAtlasRegion"]=ceramic_TextureAtlasRegion,ceramic_TextureAtlasRegion.__name__="ceramic.TextureAtlasRegion",ceramic_TextureAtlasRegion.__super__=ceramic_TextureTile,ceramic_TextureAtlasRegion.prototype=$extend(ceramic_TextureTile.prototype,{name:null,atlas:null,page:null,packedWidth:null,packedHeight:null,x:null,y:null,width:null,height:null,offsetX:null,offsetY:null,originalWidth:null,originalHeight:null,frame:function(e,n,t,i){this.frameX=e,this.frameY=n,this.frameWidth=t,this.frameHeight=i},computeFrame:function(){var e=this.atlas.pages[this.page];if(null!=e)if(this.texture=e.texture,null!=this.texture){var n=e.width,t=e.height,i=this.texture.width/n,l=this.texture.height/t;this.frameX=this.x*i,this.frameY=this.y*l,this.frameWidth=this.width*i,this.frameHeight=this.height*l}else ceramic_App.app.logger.warning("Failed to compute region frame because there is no texture at page "+this.page,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/TextureAtlasRegion.hx",lineNumber:82,className:"ceramic.TextureAtlasRegion",methodName:"computeFrame"});else ceramic_App.app.logger.warning("Failed to compute region frame because there is no page "+this.page,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/TextureAtlasRegion.hx",lineNumber:86,className:"ceramic.TextureAtlasRegion",methodName:"computeFrame"})},toString:function(){return""+Std.string({name:this.name,page:this.page,texture:this.texture,packedWidth:this.packedWidth,packedHeight:this.packedHeight,originalWidth:this.originalWidth,originalHeight:this.originalHeight,width:this.width,height:this.height,offsetX:this.offsetX,offsetY:this.offsetY,frameX:this.frameX,frameY:this.frameY,frameWidth:this.frameWidth,frameHeight:this.frameHeight})},__class__:ceramic_TextureAtlasRegion});var y=i["ceramic.TextureFilter"]={__ename__:"ceramic.TextureFilter",__constructs__:null,LINEAR:{_hx_name:"LINEAR",_hx_index:0,__enum__:"ceramic.TextureFilter",toString:$estr},NEAREST:{_hx_name:"NEAREST",_hx_index:1,__enum__:"ceramic.TextureFilter",toString:$estr}};y.__constructs__=[y.LINEAR,y.NEAREST];var ceramic_TextureTilePacker=function(e,n,t,i,l,s){null==s&&(s=1),null==l&&(l=16),null==i&&(i=16),null==t&&(t=-1),null==n&&(n=-1),this.maxPixelTextureHeight=0,this.maxPixelTextureWidth=0,this.numRows=0,this.numCols=0,this.nextPacker=null,ceramic_Entity.call(this),this.padWidth=i,this.padHeight=l,this.margin=s,this.maxPixelTextureWidth=n,this.maxPixelTextureHeight=t,-1==n&&(n=2048/ceramic_App.app.screen.get_texturesDensity()|0),-1==t&&(t=2048/ceramic_App.app.screen.get_texturesDensity()|0);var r=0|Math.min(n,2048/ceramic_App.app.screen.get_texturesDensity()),a=0|Math.min(t,2048/ceramic_App.app.screen.get_texturesDensity());this.texture=new ceramic_RenderTexture(r,a),e?(this.texture.autoRender=!0,this.texture.clearOnRender=!0):(this.texture.autoRender=!1,this.texture.clearOnRender=!1),this.areas=[];for(var c=this.texture.width,h=this.texture.height,u=s,o=s;o+l<h;){for(;u+i<c;)this.areas.push(null),u+=i+2*s,0==this.numRows&&this.numCols++;u=0,o+=l+2*s,this.numRows++}};t["ceramic.TextureTilePacker"]=ceramic_TextureTilePacker,ceramic_TextureTilePacker.__name__="ceramic.TextureTilePacker",ceramic_TextureTilePacker.__super__=ceramic_Entity,ceramic_TextureTilePacker.prototype=$extend(ceramic_Entity.prototype,{texture:null,padWidth:null,padHeight:null,margin:null,nextPacker:null,areas:null,numCols:null,numRows:null,maxPixelTextureWidth:null,maxPixelTextureHeight:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.nextPacker&&(this.nextPacker.destroy(),this.nextPacker=null),this.texture.destroy(),this.texture=null,this.areas=null)},getTileAtPosition:function(e,n){return this.areas[n*this.numCols+e]},setTileAtPosition:function(e,n,t){this.areas[n*this.numCols+e]=t},allocTile:function(e,n){this.texture.width,this.texture.height;var t=this.padWidth+2*this.margin,i=this.padHeight+2*this.margin,l=t*this.numCols-2*this.margin,s=i*this.numRows-2*this.margin;if(e>l||n>s)return ceramic_App.app.logger.warning("Cannot alloc tile of "+e+" x "+n+" because this is bigger than "+l+" x "+s,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:123,className:"ceramic.TextureTilePacker",methodName:"allocTile"}),null;for(var r=this.padWidth,a=1;r<e;)++a,r+=this.padWidth+2*this.margin;for(var c=this.padHeight,h=1;c<n;)++h,c+=this.padHeight+2*this.margin;for(var u=0,o=this.numRows-h+1;u<o;)for(var _=u++,d=0,b=this.numCols-a+1;d<b;){for(var f=d++,O=!0,p=_,g=_+h;p<g;){for(var m=p++,v=f,y=f+a;v<y;){var w=v++;if(null!=this.areas[m*this.numCols+w]){O=!1;break}}if(!O)break}if(O){var U=new ceramic__$TextureTilePacker_PackedTextureTile(this.texture,f*t,_*i,e,n);U.col=f,U.row=_,U.usedCols=a,U.usedRows=h;for(var C=_,x=_+h;C<x;)for(var D=C++,T=f,A=f+a;T<A;){var S=T++;this.areas[D*this.numCols+S]=U}return U}}return null==this.nextPacker&&(this.nextPacker=new ceramic_TextureTilePacker(this.texture.autoRender,this.maxPixelTextureWidth,this.maxPixelTextureHeight,this.padWidth,this.padHeight,this.margin)),this.nextPacker.allocTile(e,n)},releaseTile:function(e){var n=this;if(ceramic_App.app.logger.info("release tile "+Std.string(e),{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:198,className:"ceramic.TextureTilePacker",methodName:"releaseTile"}),!(e instanceof ceramic__$TextureTilePacker_PackedTextureTile))throw haxe_Exception.thrown("Cannot release tile: "+Std.string(e)+".");for(var t=e,i=this;null!=i&&i.texture!=t.texture;)i=i.nextPacker;null!=i?ceramic_App.app.onceUpdate(this,(function(e){ceramic_App.app.onceUpdate(n,(function(e){for(var n=!1,l=t.row,s=t.row+t.usedRows;l<s;)for(var r=l++,a=t.col,c=t.col+t.usedCols;a<c;){var h=a++;i.areas[r*i.numCols+h]==t&&(n=!0,i.areas[r*i.numCols+h]=null)}t.texture=null,n||ceramic_App.app.logger.warning("Failed to release tile: "+Std.string(t)+" (did not find it)",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:234,className:"ceramic.TextureTilePacker",methodName:"releaseTile"})}))})):ceramic_App.app.logger.warning("Failed to release tile: "+Std.string(t)+" (it doesn't belong to this packer)",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:213,className:"ceramic.TextureTilePacker",methodName:"releaseTile"})},stamp:function(e,n,t){var i=new ceramic_Quad;i.set_anchorX(0),i.set_anchorY(0);var l=e.frameHeight+2*this.margin;i.set_width(e.frameWidth+2*this.margin),i.set_height(l);var s=e.frameY-this.margin;if(i.set_x(e.frameX-this.margin),i.set_y(s),i.set_blending(4),0!=i.inheritAlpha&&(i.inheritAlpha=!1,i.visibilityDirty=!0,null!=i.children))for(var r=0,a=i.children.length;r<a;){var c=r++,h=i.children[c];if(h.visibilityDirty=!0,null!=h.children)for(var u=0,o=h.children.length;u<o;){var _=u++;h.children[_].set_visibilityDirty(!0)}}i.set_alpha(0),i.color=16777215;var d=n.transform,b=n.parent;null!=b&&b.remove(n),i.add(n),n.set_transform(new ceramic_Transform);var f=n.transform;f.tx+=this.margin,f.ty+=this.margin,f.changedDirty=!0,e.texture.stamp(i,(function(){i.remove(n),null!=b&&b.add(n),i.destroy(),i=null,n.set_transform(d),n=null,t(),t=null}))},managesTexture:function(e){return this.texture==e||null!=this.nextPacker&&this.nextPacker.managesTexture(e)},__class__:ceramic_TextureTilePacker});var ceramic__$TextureTilePacker_PackedTextureTile=function(e,n,t,i,l){this.usedRows=1,this.usedCols=1,this.row=-1,this.col=-1,ceramic_TextureTile.call(this,e,n,t,i,l)};t["ceramic._TextureTilePacker.PackedTextureTile"]=ceramic__$TextureTilePacker_PackedTextureTile,ceramic__$TextureTilePacker_PackedTextureTile.__name__="ceramic._TextureTilePacker.PackedTextureTile",ceramic__$TextureTilePacker_PackedTextureTile.__super__=ceramic_TextureTile,ceramic__$TextureTilePacker_PackedTextureTile.prototype=$extend(ceramic_TextureTile.prototype,{col:null,row:null,usedCols:null,usedRows:null,__class__:ceramic__$TextureTilePacker_PackedTextureTile});var ceramic_Timeline=function(){this.initializerName=null,this.completeHandlerIndexes=null,this.completeHandlers=null,this.endPosition=-1,this.startPosition=-1,this.labelIndexes=null,this.labels=null,this.paused=!1,this.tracks=[],this.position=0,this.fps=30,this.autoUpdate=!0,this.loop=!0,this.autoFitSize=!0,this.size=0,ceramic_Entity.call(this),ceramic_App.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ceramic_App.app.onPreUpdate(this,$bind(this,this.update))};t["ceramic.Timeline"]=ceramic_Timeline,ceramic_Timeline.__name__="ceramic.Timeline",ceramic_Timeline.__interfaces__=[ceramic_Component],ceramic_Timeline.__super__=ceramic_Entity,ceramic_Timeline.prototype=$extend(ceramic_Entity.prototype,{__cbOnStartLabel:null,__cbOnceStartLabel:null,__cbOnOwnerUnbindStartLabel:null,__cbOnceOwnerUnbindStartLabel:null,emitStartLabel:function(e,n){var t=0;if(null!=this.__cbOnStartLabel&&(t+=this.__cbOnStartLabel.length),null!=this.__cbOnceStartLabel&&(t+=this.__cbOnceStartLabel.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnStartLabel)for(var r=0,a=this.__cbOnStartLabel.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnStartLabel[c],++s):--t}if(null!=this.__cbOnceStartLabel){var h=null,u=null;for(r=0,a=this.__cbOnceStartLabel.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceStartLabel[c],this.__cbOnceStartLabel[c]=null;var o=this.__cbOnceOwnerUnbindStartLabel[c];this.__cbOnceOwnerUnbindStartLabel[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindStartLabel[c]),u.push(this.__cbOnceStartLabel[c])}this.__cbOnceOwnerUnbindStartLabel=h,this.__cbOnceStartLabel=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onStartLabel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event startLabel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStartLabel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindStartLabel&&(this.__cbOnOwnerUnbindStartLabel=[]),this.__cbOnOwnerUnbindStartLabel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindStartLabel&&(this.__cbOnOwnerUnbindStartLabel=[]),this.__cbOnOwnerUnbindStartLabel.push(null);null==this.__cbOnStartLabel&&(this.__cbOnStartLabel=[]),this.__cbOnStartLabel.push(n)},onceStartLabel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event startLabel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStartLabel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindStartLabel&&(this.__cbOnceOwnerUnbindStartLabel=[]),this.__cbOnceOwnerUnbindStartLabel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindStartLabel&&(this.__cbOnceOwnerUnbindStartLabel=[]),this.__cbOnceOwnerUnbindStartLabel.push(null);null==this.__cbOnceStartLabel&&(this.__cbOnceStartLabel=[]),this.__cbOnceStartLabel.push(n)},offStartLabel:function(e){if(null!=e){var n;null!=this.__cbOnStartLabel&&-1!=(n=this.__cbOnStartLabel.indexOf(e))&&(this.__cbOnStartLabel.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStartLabel[n])&&s(),this.__cbOnOwnerUnbindStartLabel.splice(n,1)),null!=this.__cbOnceStartLabel&&-1!=(n=this.__cbOnceStartLabel.indexOf(e))&&(this.__cbOnceStartLabel.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStartLabel[n])&&s(),this.__cbOnceOwnerUnbindStartLabel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStartLabel){for(var t=0,i=this.__cbOnOwnerUnbindStartLabel.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStartLabel[l])&&s()}this.__cbOnOwnerUnbindStartLabel=null}if(null!=this.__cbOnceOwnerUnbindStartLabel){for(t=0,i=this.__cbOnceOwnerUnbindStartLabel.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindStartLabel[l])&&s()}this.__cbOnceOwnerUnbindStartLabel=null}this.__cbOnStartLabel=null,this.__cbOnceStartLabel=null}},listensStartLabel:function(){return null!=this.__cbOnStartLabel&&this.__cbOnStartLabel.length>0||null!=this.__cbOnceStartLabel&&this.__cbOnceStartLabel.length>0},__cbOnEndLabel:null,__cbOnceEndLabel:null,__cbOnOwnerUnbindEndLabel:null,__cbOnceOwnerUnbindEndLabel:null,emitEndLabel:function(e,n){var t=0;if(null!=this.__cbOnEndLabel&&(t+=this.__cbOnEndLabel.length),null!=this.__cbOnceEndLabel&&(t+=this.__cbOnceEndLabel.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnEndLabel)for(var r=0,a=this.__cbOnEndLabel.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnEndLabel[c],++s):--t}if(null!=this.__cbOnceEndLabel){var h=null,u=null;for(r=0,a=this.__cbOnceEndLabel.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceEndLabel[c],this.__cbOnceEndLabel[c]=null;var o=this.__cbOnceOwnerUnbindEndLabel[c];this.__cbOnceOwnerUnbindEndLabel[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindEndLabel[c]),u.push(this.__cbOnceEndLabel[c])}this.__cbOnceOwnerUnbindEndLabel=h,this.__cbOnceEndLabel=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}this.didEmitEndLabel(e,n)},onEndLabel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endLabel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndLabel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEndLabel&&(this.__cbOnOwnerUnbindEndLabel=[]),this.__cbOnOwnerUnbindEndLabel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEndLabel&&(this.__cbOnOwnerUnbindEndLabel=[]),this.__cbOnOwnerUnbindEndLabel.push(null);null==this.__cbOnEndLabel&&(this.__cbOnEndLabel=[]),this.__cbOnEndLabel.push(n)},onceEndLabel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endLabel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndLabel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEndLabel&&(this.__cbOnceOwnerUnbindEndLabel=[]),this.__cbOnceOwnerUnbindEndLabel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEndLabel&&(this.__cbOnceOwnerUnbindEndLabel=[]),this.__cbOnceOwnerUnbindEndLabel.push(null);null==this.__cbOnceEndLabel&&(this.__cbOnceEndLabel=[]),this.__cbOnceEndLabel.push(n)},offEndLabel:function(e){if(null!=e){var n;null!=this.__cbOnEndLabel&&-1!=(n=this.__cbOnEndLabel.indexOf(e))&&(this.__cbOnEndLabel.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEndLabel[n])&&s(),this.__cbOnOwnerUnbindEndLabel.splice(n,1)),null!=this.__cbOnceEndLabel&&-1!=(n=this.__cbOnceEndLabel.indexOf(e))&&(this.__cbOnceEndLabel.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEndLabel[n])&&s(),this.__cbOnceOwnerUnbindEndLabel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndLabel){for(var t=0,i=this.__cbOnOwnerUnbindEndLabel.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEndLabel[l])&&s()}this.__cbOnOwnerUnbindEndLabel=null}if(null!=this.__cbOnceOwnerUnbindEndLabel){for(t=0,i=this.__cbOnceOwnerUnbindEndLabel.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindEndLabel[l])&&s()}this.__cbOnceOwnerUnbindEndLabel=null}this.__cbOnEndLabel=null,this.__cbOnceEndLabel=null}},listensEndLabel:function(){return null!=this.__cbOnEndLabel&&this.__cbOnEndLabel.length>0||null!=this.__cbOnceEndLabel&&this.__cbOnceEndLabel.length>0},size:null,autoFitSize:null,loop:null,autoUpdate:null,set_autoUpdate:function(e){return this.autoUpdate!=e&&(this.autoUpdate=e,ceramic_App.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ceramic_App.app.onPreUpdate(this,$bind(this,this.update))),e},fps:null,position:null,tracks:null,paused:null,set_paused:function(e){return this.paused==e||(this.paused=e,ceramic_App.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ceramic_App.app.onPreUpdate(this,$bind(this,this.update))),e},labels:null,labelIndexes:null,startPosition:null,set_startPosition:function(e){return this.startPosition!=e&&(this.startPosition=e,this.apply()),e},endPosition:null,set_endPosition:function(e){return this.endPosition!=e&&(this.endPosition=e,this.apply()),e},completeHandlers:null,completeHandlerIndexes:null,bindAsComponent:function(){},bindOrUnbindUpdateIfNeeded:function(){ceramic_App.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ceramic_App.app.onPreUpdate(this,$bind(this,this.update))},update:function(e){var n=this.position+e*this.fps,t=this.position;if(n!=this.position&&(this.startPosition>=0&&n<this.startPosition&&(n=this.startPosition),this.endPosition>=this.startPosition&&this.startPosition>=0&&n>this.endPosition&&(n=this.loop?this.startPosition+(n-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),this.size>0?n>this.size&&(this.loop?n%=this.size:n=this.size):0==this.size&&(n=0),n<0&&(n=0),n!=this.position)){this.position=n;for(var i=0,l=this.tracks.length;i<l;){var s=i++,r=this.tracks[s];if(!r.locked){n=this.position;var a=!1,c=!1;if(null==c&&(c=!1),null==a&&(a=!1),(a||n!=r.position)&&(r.size>0?n>r.size&&(r.loop?n%=r.size:n=r.size):0==r.size&&(n=0),n<0&&(n=0),n!=r.position)){r.position=n;var h=null,u=r.keyframeBeforeIndex;if(-1!=u)if((h=r.keyframes[u]).index<=r.position)for(var o=r.keyframes[u+1];null!=o&&o.index<=r.position;)h=o,++u,o=r.keyframes[u+1];else h=null;if(null==h){u=-1;for(var _=r.keyframes.length;u+1<_;){var d=r.keyframes[u+1];if(d.index>r.position)break;h=d,++u}}r.keyframeBeforeIndex=u,r.before=h;var b=null,f=r.keyframeAfterIndex;if(-1!=f&&null!=(b=r.keyframes[f]))if(b.index>r.position){if(f>0)for(var O=r.keyframes[f-1];null!=O&&O.index>r.position;)b=O,O=--f>0?r.keyframes[f-1]:null}else b=null;if(null==b){var p=r.keyframes.length;for(f=p;f-1>=0;){var g=r.keyframes[f-1];if(g.index<=r.position)break;b=g,--f}f>=p&&(f=-1)}r.keyframeAfterIndex=f,r.after=b,r.apply(c)}}}}if(this.position!=t){var m=Math.floor(this.position);if(m!=Math.floor(t)){var v=this.labelAtIndex(m);if(null!=v){var y=this.indexOfLabelBeforeIndex(m);-1!=y&&this.emitEndLabel(y,this.labelAtIndex(y)),this.emitStartLabel(m,v)}}}},seek:function(e){var n=e,t=this.position;if(n!=this.position&&(this.startPosition>=0&&n<this.startPosition&&(n=this.startPosition),this.endPosition>=this.startPosition&&this.startPosition>=0&&n>this.endPosition&&(n=this.loop?this.startPosition+(n-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),this.size>0?n>this.size&&(this.loop?n%=this.size:n=this.size):0==this.size&&(n=0),n<0&&(n=0),n!=this.position)){this.position=n;for(var i=0,l=this.tracks.length;i<l;){var s=i++,r=this.tracks[s];if(!r.locked){e=this.position;var a=!1,c=!1;if(null==c&&(c=!1),null==a&&(a=!1),(a||e!=r.position)&&(r.size>0?e>r.size&&(r.loop?e%=r.size:e=r.size):0==r.size&&(e=0),e<0&&(e=0),e!=r.position)){r.position=e;var h=null,u=r.keyframeBeforeIndex;if(-1!=u)if((h=r.keyframes[u]).index<=r.position)for(var o=r.keyframes[u+1];null!=o&&o.index<=r.position;)h=o,++u,o=r.keyframes[u+1];else h=null;if(null==h){u=-1;for(var _=r.keyframes.length;u+1<_;){var d=r.keyframes[u+1];if(d.index>r.position)break;h=d,++u}}r.keyframeBeforeIndex=u,r.before=h;var b=null,f=r.keyframeAfterIndex;if(-1!=f&&null!=(b=r.keyframes[f]))if(b.index>r.position){if(f>0)for(var O=r.keyframes[f-1];null!=O&&O.index>r.position;)b=O,O=--f>0?r.keyframes[f-1]:null}else b=null;if(null==b){var p=r.keyframes.length;for(f=p;f-1>=0;){var g=r.keyframes[f-1];if(g.index<=r.position)break;b=g,--f}f>=p&&(f=-1)}r.keyframeAfterIndex=f,r.after=b,r.apply(c)}}}}if(this.position!=t){var m=Math.floor(this.position);if(m!=Math.floor(t)){var v=this.labelAtIndex(m);if(null!=v){var y=this.indexOfLabelBeforeIndex(m);-1!=y&&this.emitEndLabel(y,this.labelAtIndex(y)),this.emitStartLabel(m,v)}}}},animate:function(e,n){if(null!=this.completeHandlers&&this.completeHandlers.length>0){var t;if(0!=(t=this.completeHandlers).length)if(t.length>0)t.splice(0,t.length);else t[-1]=null;if(0!=(t=this.completeHandlerIndexes).length)if(t.length>0)t.splice(0,t.length);else t[-1]=null}var i=this.indexOfLabel(e);-1!=i?(this.seek(i),null==this.completeHandlers&&(this.completeHandlers=[],this.completeHandlerIndexes=[]),this.completeHandlers.push(n),this.completeHandlerIndexes.push(i)):ceramic_App.app.logger.warning("Failed to animate whith label: "+e+" (not found)",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:200,className:"ceramic.Timeline",methodName:"animate"})},seekLabel:function(e){var n=this.indexOfLabel(e);return-1!=n?this.seek(n):ceramic_App.app.logger.warning("Failed to seek label: "+e+" (not found)",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:218,className:"ceramic.Timeline",methodName:"seekLabel"}),n},resetStartAndEndPositions:function(){this.set_startPosition(-1),this.set_endPosition(-1)},loopLabel:function(e){if(null==this.labels)return ceramic_App.app.logger.warning("Cannot loop label "+e+" (there is no label at all)",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:245,className:"ceramic.Timeline",methodName:"loopLabel"}),-1;var n=this.labels.indexOf(e);if(-1==n)return ceramic_App.app.logger.warning("Cannot loop label "+e+" (no such label)",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:251,className:"ceramic.Timeline",methodName:"loopLabel"}),-1;var t=this.labelIndexes[n];return this.set_startPosition(t),this.set_endPosition(n<this.labelIndexes.length-1?this.labelIndexes[n+1]:this.size),this.seek(t),t},apply:function(e){null==e&&(e=!1);var n=this.position,t=!0,i=e;null==i&&(i=!1),null==t&&(t=!1);var l=this.position;if((t||n!=this.position)&&(this.startPosition>=0&&n<this.startPosition&&(n=this.startPosition),this.endPosition>=this.startPosition&&this.startPosition>=0&&n>this.endPosition&&(n=this.loop?this.startPosition+(n-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),this.size>0?n>this.size&&(this.loop?n%=this.size:n=this.size):0==this.size&&(n=0),n<0&&(n=0),n!=this.position)){this.position=n;for(var s=0,r=this.tracks.length;s<r;){var a=s++,c=this.tracks[a];if(!c.locked){n=this.position;var h=t;if(null==(e=i)&&(e=!1),null==h&&(h=!1),(h||n!=c.position)&&(c.size>0?n>c.size&&(c.loop?n%=c.size:n=c.size):0==c.size&&(n=0),n<0&&(n=0),n!=c.position)){c.position=n;var u=null,o=c.keyframeBeforeIndex;if(-1!=o)if((u=c.keyframes[o]).index<=c.position)for(var _=c.keyframes[o+1];null!=_&&_.index<=c.position;)u=_,++o,_=c.keyframes[o+1];else u=null;if(null==u){o=-1;for(var d=c.keyframes.length;o+1<d;){var b=c.keyframes[o+1];if(b.index>c.position)break;u=b,++o}}c.keyframeBeforeIndex=o,c.before=u;var f=null,O=c.keyframeAfterIndex;if(-1!=O&&null!=(f=c.keyframes[O]))if(f.index>c.position){if(O>0)for(var p=c.keyframes[O-1];null!=p&&p.index>c.position;)f=p,p=--O>0?c.keyframes[O-1]:null}else f=null;if(null==f){var g=c.keyframes.length;for(O=g;O-1>=0;){var m=c.keyframes[O-1];if(m.index<=c.position)break;f=m,--O}O>=g&&(O=-1)}c.keyframeAfterIndex=O,c.after=f,c.apply(e)}}}}if(this.position!=l){var v=Math.floor(this.position);if(v!=Math.floor(l)){var y=this.labelAtIndex(v);if(null!=y){var w=this.indexOfLabelBeforeIndex(v);-1!=w&&this.emitEndLabel(w,this.labelAtIndex(w)),this.emitStartLabel(v,y)}}}},inlineSeek:function(e,n,t){null==t&&(t=!1),null==n&&(n=!1);var i=this.position;if((n||e!=this.position)&&(this.startPosition>=0&&e<this.startPosition&&(e=this.startPosition),this.endPosition>=this.startPosition&&this.startPosition>=0&&e>this.endPosition&&(e=this.loop?this.startPosition+(e-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),this.size>0?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),e<0&&(e=0),e!=this.position)){this.position=e;for(var l=0,s=this.tracks.length;l<s;){var r=l++,a=this.tracks[r];if(!a.locked){e=this.position;var c=n,h=t;if(null==h&&(h=!1),null==c&&(c=!1),(c||e!=a.position)&&(a.size>0?e>a.size&&(a.loop?e%=a.size:e=a.size):0==a.size&&(e=0),e<0&&(e=0),e!=a.position)){a.position=e;var u=null,o=a.keyframeBeforeIndex;if(-1!=o)if((u=a.keyframes[o]).index<=a.position)for(var _=a.keyframes[o+1];null!=_&&_.index<=a.position;)u=_,++o,_=a.keyframes[o+1];else u=null;if(null==u){o=-1;for(var d=a.keyframes.length;o+1<d;){var b=a.keyframes[o+1];if(b.index>a.position)break;u=b,++o}}a.keyframeBeforeIndex=o,a.before=u;var f=null,O=a.keyframeAfterIndex;if(-1!=O&&null!=(f=a.keyframes[O]))if(f.index>a.position){if(O>0)for(var p=a.keyframes[O-1];null!=p&&p.index>a.position;)f=p,p=--O>0?a.keyframes[O-1]:null}else f=null;if(null==f){var g=a.keyframes.length;for(O=g;O-1>=0;){var m=a.keyframes[O-1];if(m.index<=a.position)break;f=m,--O}O>=g&&(O=-1)}a.keyframeAfterIndex=O,a.after=f,a.apply(h)}}}}if(this.position!=i){var v=Math.floor(this.position);if(v!=Math.floor(i)){var y=this.labelAtIndex(v);if(null!=y){var w=this.indexOfLabelBeforeIndex(v);-1!=w&&this.emitEndLabel(w,this.labelAtIndex(w)),this.emitStartLabel(v,y)}}}},clearCompleteHandlers:function(){if(null!=this.completeHandlers&&this.completeHandlers.length>0){var e;if(0!=(e=this.completeHandlers).length)if(e.length>0)e.splice(0,e.length);else e[-1]=null;if(0!=(e=this.completeHandlerIndexes).length)if(e.length>0)e.splice(0,e.length);else e[-1]=null}},didEmitEndLabel:function(e,n){if(null!=this.completeHandlers&&this.completeHandlers.length>0){for(var t=null,i=null,l=0,s=0,r=this.completeHandlerIndexes.length;s<r;){var a=s++;if(this.completeHandlerIndexes[a]==e){null==i&&(i=(t=ceramic_ArrayPool.pool(this.completeHandlers.length)).get());var c=this.completeHandlers[a];i.vector[l]=c,this.completeHandlers[a]=null,++l}}if(null!=this.completeHandlers&&this.completeHandlers.length>0){var h;if(0!=(h=this.completeHandlers).length)if(h.length>0)h.splice(0,h.length);else h[-1]=null;if(0!=(h=this.completeHandlerIndexes).length)if(h.length>0)h.splice(0,h.length);else h[-1]=null}for(s=0,r=l;s<r;){a=s++;(c=i.vector[a])()}null!=i&&t.release(i)}},add:function(e){null!=e.timeline&&e.timeline.remove(e),e.timeline!=this&&(this.tracks.push(e),e.timeline=this),this.autoFitSize&&this.fitSize()},get:function(e){for(var n=0,t=this.tracks.length;n<t;){var i=n++,l=this.tracks[i];if(l.id==e)return l}return null},remove:function(e){e.timeline==this&&(HxOverrides.remove(this.tracks,e),e.timeline=null),this.autoFitSize&&this.fitSize()},fitSize:function(){for(var e=0,n=0,t=this.tracks.length;n<t;){var i=n++,l=this.tracks[i];l.size>e&&(e=l.size)}this.size=e},indexOfLabelBeforeIndex:function(e){if(null==this.labelIndexes)return-1;for(var n=-1,t=0,i=this.labelIndexes.length;t<i;){var l=t++,s=this.labelIndexes[l];if(s==e)return n;if(s>e)break;n=s}return n},labelAtIndex:function(e){if(null==this.labelIndexes)return null;for(var n=0,t=this.labelIndexes.length;n<t;){var i=n++,l=this.labelIndexes[i];if(l==e)return this.labels[i];if(l>e)break}return null},indexOfLabel:function(e){if(null==this.labelIndexes)return-1;for(var n=0,t=this.labels.length;n<t;){var i=n++;if(e==this.labels[i])return this.labelIndexes[i]}return-1},setLabel:function(e,n){this.removeLabel(n),null==this.labelIndexes&&(this.labelIndexes=[],this.labels=[]),this.labelIndexes.push(e),this.labels.push(n),this.sortLabels()},removeLabelAtIndex:function(e){var n=!1;if(null!=this.labelIndexes){var t=this.labelIndexes.indexOf(e);-1!=t&&(this.labels.splice(t,1),this.labelIndexes.splice(t,1),n=!0)}return n},removeLabel:function(e){var n=!1;if(null!=this.labels){var t=this.labels.indexOf(e);-1!=t&&(this.labels.splice(t,1),this.labelIndexes.splice(t,1),n=!0)}return n},sortLabels:function(){this.labelIndexes.sort($bind(this,this.compareLabelIndexes)),this.labels.sort($bind(this,this.compareLabelNames))},compareLabelIndexes:function(e,n){return e>n?1:e<n?-1:0},compareLabelNames:function(e,n){var t=this.labels.indexOf(e),i=this.labelIndexes[t],l=this.labels.indexOf(n),s=this.labelIndexes[l];return i>s?1:i<s?-1:0},entity:null,setEntity:function(e){this.entity=e instanceof ceramic_Entity?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offStartLabel(),this.offEndLabel()},__class__:ceramic_Timeline,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_endPosition:"set_endPosition",set_startPosition:"set_startPosition",set_paused:"set_paused",set_autoUpdate:"set_autoUpdate"})});var ceramic_TimelineKeyframe=function(e,n){this.easing=_.NONE,this.index=e,this.easing=n};t["ceramic.TimelineKeyframe"]=ceramic_TimelineKeyframe,ceramic_TimelineKeyframe.__name__="ceramic.TimelineKeyframe",ceramic_TimelineKeyframe.prototype={index:null,easing:null,__class__:ceramic_TimelineKeyframe};var ceramic_TimelineBoolKeyframe=function(e,n,t){ceramic_TimelineKeyframe.call(this,n,t),this.value=e};t["ceramic.TimelineBoolKeyframe"]=ceramic_TimelineBoolKeyframe,ceramic_TimelineBoolKeyframe.__name__="ceramic.TimelineBoolKeyframe",ceramic_TimelineBoolKeyframe.__super__=ceramic_TimelineKeyframe,ceramic_TimelineBoolKeyframe.prototype=$extend(ceramic_TimelineKeyframe.prototype,{value:null,__class__:ceramic_TimelineBoolKeyframe});var ceramic_TimelineTrack=function(){this.keyframeAfterIndex=-1,this.keyframeBeforeIndex=-1,this.after=null,this.before=null,this.keyframes=[],this.position=0,this.timeline=null,this.locked=!1,this.loop=!1,this.autoFitSize=!0,this.size=0,ceramic_Entity.call(this)};t["ceramic.TimelineTrack"]=ceramic_TimelineTrack,ceramic_TimelineTrack.__name__="ceramic.TimelineTrack",ceramic_TimelineTrack.__super__=ceramic_Entity,ceramic_TimelineTrack.prototype=$extend(ceramic_Entity.prototype,{size:null,autoFitSize:null,loop:null,locked:null,timeline:null,position:null,keyframes:null,before:null,after:null,keyframeBeforeIndex:null,keyframeAfterIndex:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.timeline&&this.timeline._lifecycleState>=0&&this.timeline.remove(this),this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this))},seek:function(e){var n=e;if(n!=this.position&&(this.size>0?n>this.size&&(this.loop?n%=this.size:n=this.size):0==this.size&&(n=0),n<0&&(n=0),n!=this.position)){this.position=n;var t=null;if(-1!=(s=this.keyframeBeforeIndex))if((t=this.keyframes[s]).index<=this.position)for(var i=this.keyframes[s+1];null!=i&&i.index<=this.position;)t=i,++s,i=this.keyframes[s+1];else t=null;if(null==t){s=-1;for(var l=this.keyframes.length;s+1<l;){if((a=this.keyframes[s+1]).index>this.position)break;t=a,++s}}this.keyframeBeforeIndex=s,this.before=t;var s;t=null;if(-1!=(s=this.keyframeAfterIndex)&&null!=(t=this.keyframes[s]))if(t.index>this.position){if(s>0)for(var r=this.keyframes[s-1];null!=r&&r.index>this.position;)t=r,r=--s>0?this.keyframes[s-1]:null}else t=null;if(null==t){for(s=l=this.keyframes.length;s-1>=0;){var a;if((a=this.keyframes[s-1]).index<=this.position)break;t=a,--s}s>=l&&(s=-1)}this.keyframeAfterIndex=s,this.after=t,this.apply(!1)}},inlineSeek:function(e,n,t){if(null==t&&(t=!1),null==n&&(n=!1),(n||e!=this.position)&&(this.size>0?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),e<0&&(e=0),e!=this.position)){this.position=e;var i=null;if(-1!=(r=this.keyframeBeforeIndex))if((i=this.keyframes[r]).index<=this.position)for(var l=this.keyframes[r+1];null!=l&&l.index<=this.position;)i=l,++r,l=this.keyframes[r+1];else i=null;if(null==i){r=-1;for(var s=this.keyframes.length;r+1<s;){if((c=this.keyframes[r+1]).index>this.position)break;i=c,++r}}this.keyframeBeforeIndex=r,this.before=i;var r;i=null;if(-1!=(r=this.keyframeAfterIndex)&&null!=(i=this.keyframes[r]))if(i.index>this.position){if(r>0)for(var a=this.keyframes[r-1];null!=a&&a.index>this.position;)i=a,a=--r>0?this.keyframes[r-1]:null}else i=null;if(null==i){for(r=s=this.keyframes.length;r-1>=0;){var c;if((c=this.keyframes[r-1]).index<=this.position)break;i=c,--r}r>=s&&(r=-1)}this.keyframeAfterIndex=r,this.after=i,this.apply(t)}},add:function(e){for(var n=this.keyframes,t=n.length,i=0,l=!1;i<t;){var s=n[i];if(s.index==e.index){ceramic_App.app.logger.warning("Replacing existing keyframe at index "+e.index,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/TimelineTrack.hx",lineNumber:155,className:"ceramic.TimelineTrack",methodName:"add"}),n[i]=e,l=!0;break}if(s.index>e.index){n.splice(i,0,e),l=!0;break}++i}l||n.push(e),this.autoFitSize&&this.fitSize(),null!=this.timeline&&this.timeline.autoFitSize&&this.timeline.fitSize(),this.keyframeBeforeIndex=-1,this.keyframeAfterIndex=-1;var r=null;if(-1!=(c=this.keyframeBeforeIndex))if((r=this.keyframes[c]).index<=this.position)for(var a=this.keyframes[c+1];null!=a&&a.index<=this.position;)r=a,++c,a=this.keyframes[c+1];else r=null;if(null==r){c=-1;for(t=this.keyframes.length;c+1<t;){if((e=this.keyframes[c+1]).index>this.position)break;r=e,++c}}this.keyframeBeforeIndex=c,this.before=r;var c;r=null;if(-1!=(c=this.keyframeAfterIndex)&&null!=(r=this.keyframes[c]))if(r.index>this.position){if(c>0)for(var h=this.keyframes[c-1];null!=h&&h.index>this.position;)r=h,h=--c>0?this.keyframes[c-1]:null}else r=null;if(null==r){for(c=t=this.keyframes.length;c-1>=0;){if((e=this.keyframes[c-1]).index<=this.position)break;r=e,--c}c>=t&&(c=-1)}this.keyframeAfterIndex=c,this.after=r,this.apply(!0)},remove:function(e){if(-1!=(l=this.keyframes.indexOf(e))){this.keyframes.splice(l,1),this.autoFitSize&&this.fitSize(),null!=this.timeline&&this.timeline.autoFitSize&&this.timeline.fitSize(),this.keyframeBeforeIndex=-1,this.keyframeAfterIndex=-1;var n=null;if(-1!=(l=this.keyframeBeforeIndex))if((n=this.keyframes[l]).index<=this.position)for(var t=this.keyframes[l+1];null!=t&&t.index<=this.position;)n=t,++l,t=this.keyframes[l+1];else n=null;if(null==n){l=-1;for(var i=this.keyframes.length;l+1<i;){if((e=this.keyframes[l+1]).index>this.position)break;n=e,++l}}this.keyframeBeforeIndex=l,this.before=n;var l;n=null;if(-1!=(l=this.keyframeAfterIndex)&&null!=(n=this.keyframes[l]))if(n.index>this.position){if(l>0)for(var s=this.keyframes[l-1];null!=s&&s.index>this.position;)n=s,s=--l>0?this.keyframes[l-1]:null}else n=null;if(null==n){for(l=i=this.keyframes.length;l-1>=0;){if((e=this.keyframes[l-1]).index<=this.position)break;n=e,--l}l>=i&&(l=-1)}this.keyframeAfterIndex=l,this.after=n,this.apply(!0)}else ceramic_App.app.logger.warning("Failed to remove keyframe: keyframe not found in list",{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/TimelineTrack.hx",lineNumber:216,className:"ceramic.TimelineTrack",methodName:"remove"})},fitSize:function(){this.keyframes.length>0?this.size=this.keyframes[this.keyframes.length-1].index:this.size=0},apply:function(e){null==e&&(e=!1)},findKeyframeAtIndex:function(e){var n=this.findKeyframeBefore(e);return null!=n&&n.index==e?n:null},findKeyframeBefore:function(e){for(var n=null,t=-1,i=this.keyframes.length;t+1<i;){var l=this.keyframes[t+1];if(l.index>e)break;n=l,++t}return n},findKeyframeAfter:function(e){for(var n=null,t=-1,i=this.keyframes.length;t+1<i;){var l=this.keyframes[t+1];if(l.index>e)break;n=l,++t}return n},computeKeyframeBefore:function(){var e=null,n=this.keyframeBeforeIndex;if(-1!=n)if((e=this.keyframes[n]).index<=this.position)for(var t=this.keyframes[n+1];null!=t&&t.index<=this.position;)e=t,++n,t=this.keyframes[n+1];else e=null;if(null==e){n=-1;for(var i=this.keyframes.length;n+1<i;){var l=this.keyframes[n+1];if(l.index>this.position)break;e=l,++n}}this.keyframeBeforeIndex=n,this.before=e},computeKeyframeAfter:function(){var e=null,n=this.keyframeAfterIndex;if(-1!=n&&null!=(e=this.keyframes[n]))if(e.index>this.position){if(n>0)for(var t=this.keyframes[n-1];null!=t&&t.index>this.position;)e=t,t=--n>0?this.keyframes[n-1]:null}else e=null;if(null==e){var i=this.keyframes.length;for(n=i;n-1>=0;){var l=this.keyframes[n-1];if(l.index<=this.position)break;e=l,--n}n>=i&&(n=-1)}this.keyframeAfterIndex=n,this.after=e},__class__:ceramic_TimelineTrack});var ceramic_TimelineBoolTrack=function(){this.value=!1,ceramic_TimelineTrack.call(this)};t["ceramic.TimelineBoolTrack"]=ceramic_TimelineBoolTrack,ceramic_TimelineBoolTrack.__name__="ceramic.TimelineBoolTrack",ceramic_TimelineBoolTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineBoolTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnChange[a],++l):--n}if(null!=this.__cbOnceChange){var c=null,h=null;for(s=0,r=this.__cbOnceChange.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var u=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindChange[a]),h.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=c,this.__cbOnceChange=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},value:null,apply:function(e){null==e&&(e=!1);var n=this.value;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);t>1?t=1:t<0&&(t=0),this.value=t>=1?this.after.value:this.before.value}else null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value);(e||n!=this.value)&&this.emitChange(this)},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineBoolTrack});var ceramic_TimelineColorKeyframe=function(e,n,t){ceramic_TimelineKeyframe.call(this,n,t),this.value=e};t["ceramic.TimelineColorKeyframe"]=ceramic_TimelineColorKeyframe,ceramic_TimelineColorKeyframe.__name__="ceramic.TimelineColorKeyframe",ceramic_TimelineColorKeyframe.__super__=ceramic_TimelineKeyframe,ceramic_TimelineColorKeyframe.prototype=$extend(ceramic_TimelineKeyframe.prototype,{value:null,__class__:ceramic_TimelineColorKeyframe});var ceramic_TimelineColorTrack=function(){this.value=16777215,ceramic_TimelineTrack.call(this)};t["ceramic.TimelineColorTrack"]=ceramic_TimelineColorTrack,ceramic_TimelineColorTrack.__name__="ceramic.TimelineColorTrack",ceramic_TimelineColorTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineColorTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnChange[a],++l):--n}if(null!=this.__cbOnceChange){var c=null,h=null;for(s=0,r=this.__cbOnceChange.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var u=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindChange[a]),h.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=c,this.__cbOnceChange=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},value:null,apply:function(e){null==e&&(e=!1);var n=this.value;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);t>1?t=1:t<0&&(t=0);var i=this.before.value,l=this.after.value,s=ceramic_Tween.ease(this.after.easing,t);null==s&&(s=.5);var r=((l>>16&255)-(i>>16&255))*s+(i>>16&255)|0,a=((l>>8&255)-(i>>8&255))*s+(i>>8&255)|0,c=((255&l)-(255&i))*s+(255&i)|0,h=u._new();h&=65535,h|=(r>255?255:r<0?0:r)<<16,h&=16711935,h|=(a>255?255:a<0?0:a)<<8,h&=16776960,h|=c>255?255:c<0?0:c,this.value=h}else null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value);(e||n!=this.value)&&this.emitChange(this)},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineColorTrack});var ceramic_TimelineDegreesTrack=function(){this.value=0,ceramic_TimelineTrack.call(this)};t["ceramic.TimelineDegreesTrack"]=ceramic_TimelineDegreesTrack,ceramic_TimelineDegreesTrack.__name__="ceramic.TimelineDegreesTrack",ceramic_TimelineDegreesTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineDegreesTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnChange[a],++l):--n}if(null!=this.__cbOnceChange){var c=null,h=null;for(s=0,r=this.__cbOnceChange.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var u=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindChange[a]),h.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=c,this.__cbOnceChange=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},value:null,apply:function(e){null==e&&(e=!1);var n=this.value,t=this.value;if(null!=this.before&&null!=this.after){var i=(this.position-this.before.index)/(this.after.index-this.before.index);i>1?i=1:i<0&&(i=0);var l=ceramic_GeometryUtils.clampDegrees(this.before.value),s=ceramic_GeometryUtils.clampDegrees(this.after.value),r=s-l;r>180?s-=360:r<-180&&(s+=360),t=l+(s-l)*ceramic_Tween.ease(this.after.easing,i),t=ceramic_GeometryUtils.clampDegrees(t)}else null!=this.after?t=ceramic_GeometryUtils.clampDegrees(this.after.value):null!=this.before&&(t=ceramic_GeometryUtils.clampDegrees(this.before.value));(e||n!=t)&&(this.value=t,this.emitChange(this))},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineDegreesTrack});var ceramic_TimelineFloatArrayKeyframe=function(e,n,t){ceramic_TimelineKeyframe.call(this,n,t),this.value=e};t["ceramic.TimelineFloatArrayKeyframe"]=ceramic_TimelineFloatArrayKeyframe,ceramic_TimelineFloatArrayKeyframe.__name__="ceramic.TimelineFloatArrayKeyframe",ceramic_TimelineFloatArrayKeyframe.__super__=ceramic_TimelineKeyframe,ceramic_TimelineFloatArrayKeyframe.prototype=$extend(ceramic_TimelineKeyframe.prototype,{value:null,__class__:ceramic_TimelineFloatArrayKeyframe});var ceramic_TimelineFloatArrayTrack=function(){this.value=[],ceramic_TimelineTrack.call(this)};t["ceramic.TimelineFloatArrayTrack"]=ceramic_TimelineFloatArrayTrack,ceramic_TimelineFloatArrayTrack.__name__="ceramic.TimelineFloatArrayTrack",ceramic_TimelineFloatArrayTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineFloatArrayTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnChange[a],++l):--n}if(null!=this.__cbOnceChange){var c=null,h=null;for(s=0,r=this.__cbOnceChange.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var u=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindChange[a]),h.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=c,this.__cbOnceChange=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},value:null,apply:function(e){null==e&&(e=!1);var n=!1;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);if(t>1?t=1:t<0&&(t=0),t>=1){var i=this.value,l=(O=this.after.value).length;if(i.length>l)if(i.length!=l)if(i.length>l)i.splice(l,i.length-l);else i[l-1]=null;for(var s=i.length,r=0,a=l;r<a;){var c=0;(p=r++)<s?c=i[p]:n=!0;var h=O[p];i[p]=h,h!=c&&(n=!0)}}else if(t<=0){i=this.value,l=(O=this.before.value).length;if(i.length>l)if(i.length!=l)if(i.length>l)i.splice(l,i.length-l);else i[l-1]=null;for(s=i.length,r=0,a=l;r<a;){c=0;(p=r++)<s?c=i[p]:n=!0;h=O[p];i[p]=h,h!=c&&(n=!0)}}else{i=this.value;var u=this.before.value,o=this.after.value,_=ceramic_Tween.ease(this.after.easing,t),d=o.length,b=u.length;l=d>b?b:d;if(i.length>l)if(i.length!=l)if(i.length>l)i.splice(l,i.length-l);else i[l-1]=null;for(s=i.length,r=0,a=l;r<a;){c=0;(p=r++)<s?c=i[p]:n=!0;var f=u[p];h=f+(o[p]-f)*_;i[p]=h,h!=c&&(n=!0)}}}else if(null!=this.after){i=this.value,l=(O=this.after.value).length;if(i.length>l)if(i.length!=l)if(i.length>l)i.splice(l,i.length-l);else i[l-1]=null;for(s=i.length,r=0,a=l;r<a;){c=0;(p=r++)<s?c=i[p]:n=!0;h=O[p];i[p]=h,h!=c&&(n=!0)}}else if(null!=this.before){var O;i=this.value,l=(O=this.before.value).length;if(i.length>l)if(i.length!=l)if(i.length>l)i.splice(l,i.length-l);else i[l-1]=null;for(s=i.length,r=0,a=l;r<a;){var p;c=0;(p=r++)<s?c=i[p]:n=!0;h=O[p];i[p]=h,h!=c&&(n=!0)}}(e||n)&&this.emitChange(this)},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineFloatArrayTrack});var ceramic_TimelineFloatKeyframe=function(e,n,t){ceramic_TimelineKeyframe.call(this,n,t),this.value=e};t["ceramic.TimelineFloatKeyframe"]=ceramic_TimelineFloatKeyframe,ceramic_TimelineFloatKeyframe.__name__="ceramic.TimelineFloatKeyframe",ceramic_TimelineFloatKeyframe.__super__=ceramic_TimelineKeyframe,ceramic_TimelineFloatKeyframe.prototype=$extend(ceramic_TimelineKeyframe.prototype,{value:null,__class__:ceramic_TimelineFloatKeyframe});var ceramic_TimelineFloatTrack=function(){this.value=0,ceramic_TimelineTrack.call(this)};t["ceramic.TimelineFloatTrack"]=ceramic_TimelineFloatTrack,ceramic_TimelineFloatTrack.__name__="ceramic.TimelineFloatTrack",ceramic_TimelineFloatTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineFloatTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnChange[a],++l):--n}if(null!=this.__cbOnceChange){var c=null,h=null;for(s=0,r=this.__cbOnceChange.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var u=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindChange[a]),h.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=c,this.__cbOnceChange=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},value:null,apply:function(e){null==e&&(e=!1);var n=this.value;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);t>1?t=1:t<0&&(t=0),this.value=this.before.value+(this.after.value-this.before.value)*ceramic_Tween.ease(this.after.easing,t)}else null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value);(e||n!=this.value)&&this.emitChange(this)},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineFloatTrack});var ceramic_Timelines=function(){ceramic_Entity.call(this),this.onCreateTrack(this,$bind(this,this.handleCreateTrack)),this.onBindTrack(this,$bind(this,this.handleBindTrack)),this.onCreateKeyframe(this,$bind(this,this.handleCreateKeyframe))};t["ceramic.Timelines"]=ceramic_Timelines,ceramic_Timelines.__name__="ceramic.Timelines",ceramic_Timelines.__super__=ceramic_Entity,ceramic_Timelines.prototype=$extend(ceramic_Entity.prototype,{__cbOnCreateTrack:null,__cbOnceCreateTrack:null,__cbOnOwnerUnbindCreateTrack:null,__cbOnceOwnerUnbindCreateTrack:null,emitCreateTrack:function(e,n,t){var i=0;if(null!=this.__cbOnCreateTrack&&(i+=this.__cbOnCreateTrack.length),null!=this.__cbOnceCreateTrack&&(i+=this.__cbOnceCreateTrack.length),i>0){var l=ceramic_ArrayPool.pool(i),s=l.get(),r=0;if(null!=this.__cbOnCreateTrack)for(var a=0,c=this.__cbOnCreateTrack.length;a<c;){var h=a++;!0?(s.vector[r]=this.__cbOnCreateTrack[h],++r):--i}if(null!=this.__cbOnceCreateTrack){var u=null,o=null;for(a=0,c=this.__cbOnceCreateTrack.length;a<c;){h=a++;if(!0){s.vector[r]=this.__cbOnceCreateTrack[h],this.__cbOnceCreateTrack[h]=null;var _=this.__cbOnceOwnerUnbindCreateTrack[h];this.__cbOnceOwnerUnbindCreateTrack[h]=null,null!=_&&_(),++r}else--i,null==u&&(u=[],o=[],[]),u.push(this.__cbOnceOwnerUnbindCreateTrack[h]),o.push(this.__cbOnceCreateTrack[h])}this.__cbOnceOwnerUnbindCreateTrack=u,this.__cbOnceCreateTrack=o}for(a=0,c=i;a<c;){r=a++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}},onCreateTrack:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event createTrack because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCreateTrack(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindCreateTrack&&(this.__cbOnOwnerUnbindCreateTrack=[]),this.__cbOnOwnerUnbindCreateTrack.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindCreateTrack&&(this.__cbOnOwnerUnbindCreateTrack=[]),this.__cbOnOwnerUnbindCreateTrack.push(null);null==this.__cbOnCreateTrack&&(this.__cbOnCreateTrack=[]),this.__cbOnCreateTrack.push(n)},onceCreateTrack:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event createTrack because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCreateTrack(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindCreateTrack&&(this.__cbOnceOwnerUnbindCreateTrack=[]),this.__cbOnceOwnerUnbindCreateTrack.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindCreateTrack&&(this.__cbOnceOwnerUnbindCreateTrack=[]),this.__cbOnceOwnerUnbindCreateTrack.push(null);null==this.__cbOnceCreateTrack&&(this.__cbOnceCreateTrack=[]),this.__cbOnceCreateTrack.push(n)},offCreateTrack:function(e){if(null!=e){var n;null!=this.__cbOnCreateTrack&&-1!=(n=this.__cbOnCreateTrack.indexOf(e))&&(this.__cbOnCreateTrack.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCreateTrack[n])&&s(),this.__cbOnOwnerUnbindCreateTrack.splice(n,1)),null!=this.__cbOnceCreateTrack&&-1!=(n=this.__cbOnceCreateTrack.indexOf(e))&&(this.__cbOnceCreateTrack.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCreateTrack[n])&&s(),this.__cbOnceOwnerUnbindCreateTrack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCreateTrack){for(var t=0,i=this.__cbOnOwnerUnbindCreateTrack.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCreateTrack[l])&&s()}this.__cbOnOwnerUnbindCreateTrack=null}if(null!=this.__cbOnceOwnerUnbindCreateTrack){for(t=0,i=this.__cbOnceOwnerUnbindCreateTrack.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindCreateTrack[l])&&s()}this.__cbOnceOwnerUnbindCreateTrack=null}this.__cbOnCreateTrack=null,this.__cbOnceCreateTrack=null}},listensCreateTrack:function(){return null!=this.__cbOnCreateTrack&&this.__cbOnCreateTrack.length>0||null!=this.__cbOnceCreateTrack&&this.__cbOnceCreateTrack.length>0},__cbOnBindTrack:null,__cbOnceBindTrack:null,__cbOnOwnerUnbindBindTrack:null,__cbOnceOwnerUnbindBindTrack:null,emitBindTrack:function(e,n,t,i,l){var s=0;if(null!=this.__cbOnBindTrack&&(s+=this.__cbOnBindTrack.length),null!=this.__cbOnceBindTrack&&(s+=this.__cbOnceBindTrack.length),s>0){var r=ceramic_ArrayPool.pool(s),a=r.get(),c=0;if(null!=this.__cbOnBindTrack)for(var h=0,u=this.__cbOnBindTrack.length;h<u;){var o=h++;!0?(a.vector[c]=this.__cbOnBindTrack[o],++c):--s}if(null!=this.__cbOnceBindTrack){var _=null,d=null;for(h=0,u=this.__cbOnceBindTrack.length;h<u;){o=h++;if(!0){a.vector[c]=this.__cbOnceBindTrack[o],this.__cbOnceBindTrack[o]=null;var b=this.__cbOnceOwnerUnbindBindTrack[o];this.__cbOnceOwnerUnbindBindTrack[o]=null,null!=b&&b(),++c}else--s,null==_&&(_=[],d=[],[]),_.push(this.__cbOnceOwnerUnbindBindTrack[o]),d.push(this.__cbOnceBindTrack[o])}this.__cbOnceOwnerUnbindBindTrack=_,this.__cbOnceBindTrack=d}for(h=0,u=s;h<u;){c=h++;(0,a.vector[c])(e,n,t,i,l)}r.release(a),a=null}},onBindTrack:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event bindTrack because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBindTrack(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBindTrack&&(this.__cbOnOwnerUnbindBindTrack=[]),this.__cbOnOwnerUnbindBindTrack.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBindTrack&&(this.__cbOnOwnerUnbindBindTrack=[]),this.__cbOnOwnerUnbindBindTrack.push(null);null==this.__cbOnBindTrack&&(this.__cbOnBindTrack=[]),this.__cbOnBindTrack.push(n)},onceBindTrack:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event bindTrack because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBindTrack(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBindTrack&&(this.__cbOnceOwnerUnbindBindTrack=[]),this.__cbOnceOwnerUnbindBindTrack.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBindTrack&&(this.__cbOnceOwnerUnbindBindTrack=[]),this.__cbOnceOwnerUnbindBindTrack.push(null);null==this.__cbOnceBindTrack&&(this.__cbOnceBindTrack=[]),this.__cbOnceBindTrack.push(n)},offBindTrack:function(e){if(null!=e){var n;null!=this.__cbOnBindTrack&&-1!=(n=this.__cbOnBindTrack.indexOf(e))&&(this.__cbOnBindTrack.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBindTrack[n])&&s(),this.__cbOnOwnerUnbindBindTrack.splice(n,1)),null!=this.__cbOnceBindTrack&&-1!=(n=this.__cbOnceBindTrack.indexOf(e))&&(this.__cbOnceBindTrack.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBindTrack[n])&&s(),this.__cbOnceOwnerUnbindBindTrack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBindTrack){for(var t=0,i=this.__cbOnOwnerUnbindBindTrack.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBindTrack[l])&&s()}this.__cbOnOwnerUnbindBindTrack=null}if(null!=this.__cbOnceOwnerUnbindBindTrack){for(t=0,i=this.__cbOnceOwnerUnbindBindTrack.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindBindTrack[l])&&s()}this.__cbOnceOwnerUnbindBindTrack=null}this.__cbOnBindTrack=null,this.__cbOnceBindTrack=null}},listensBindTrack:function(){return null!=this.__cbOnBindTrack&&this.__cbOnBindTrack.length>0||null!=this.__cbOnceBindTrack&&this.__cbOnceBindTrack.length>0},__cbOnCreateKeyframe:null,__cbOnceCreateKeyframe:null,__cbOnOwnerUnbindCreateKeyframe:null,__cbOnceOwnerUnbindCreateKeyframe:null,emitCreateKeyframe:function(e,n,t,i,l,s,r){var a=0;if(null!=this.__cbOnCreateKeyframe&&(a+=this.__cbOnCreateKeyframe.length),null!=this.__cbOnceCreateKeyframe&&(a+=this.__cbOnceCreateKeyframe.length),a>0){var c=ceramic_ArrayPool.pool(a),h=c.get(),u=0;if(null!=this.__cbOnCreateKeyframe)for(var o=0,_=this.__cbOnCreateKeyframe.length;o<_;){var d=o++;!0?(h.vector[u]=this.__cbOnCreateKeyframe[d],++u):--a}if(null!=this.__cbOnceCreateKeyframe){var b=null,f=null;for(o=0,_=this.__cbOnceCreateKeyframe.length;o<_;){d=o++;if(!0){h.vector[u]=this.__cbOnceCreateKeyframe[d],this.__cbOnceCreateKeyframe[d]=null;var O=this.__cbOnceOwnerUnbindCreateKeyframe[d];this.__cbOnceOwnerUnbindCreateKeyframe[d]=null,null!=O&&O(),++u}else--a,null==b&&(b=[],f=[],[]),b.push(this.__cbOnceOwnerUnbindCreateKeyframe[d]),f.push(this.__cbOnceCreateKeyframe[d])}this.__cbOnceOwnerUnbindCreateKeyframe=b,this.__cbOnceCreateKeyframe=f}for(o=0,_=a;o<_;){u=o++;(0,h.vector[u])(e,n,t,i,l,s,r)}c.release(h),h=null}},onCreateKeyframe:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event createKeyframe because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCreateKeyframe(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindCreateKeyframe&&(this.__cbOnOwnerUnbindCreateKeyframe=[]),this.__cbOnOwnerUnbindCreateKeyframe.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindCreateKeyframe&&(this.__cbOnOwnerUnbindCreateKeyframe=[]),this.__cbOnOwnerUnbindCreateKeyframe.push(null);null==this.__cbOnCreateKeyframe&&(this.__cbOnCreateKeyframe=[]),this.__cbOnCreateKeyframe.push(n)},onceCreateKeyframe:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event createKeyframe because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCreateKeyframe(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindCreateKeyframe&&(this.__cbOnceOwnerUnbindCreateKeyframe=[]),this.__cbOnceOwnerUnbindCreateKeyframe.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindCreateKeyframe&&(this.__cbOnceOwnerUnbindCreateKeyframe=[]),this.__cbOnceOwnerUnbindCreateKeyframe.push(null);null==this.__cbOnceCreateKeyframe&&(this.__cbOnceCreateKeyframe=[]),this.__cbOnceCreateKeyframe.push(n)},offCreateKeyframe:function(e){if(null!=e){var n;null!=this.__cbOnCreateKeyframe&&-1!=(n=this.__cbOnCreateKeyframe.indexOf(e))&&(this.__cbOnCreateKeyframe.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCreateKeyframe[n])&&s(),this.__cbOnOwnerUnbindCreateKeyframe.splice(n,1)),null!=this.__cbOnceCreateKeyframe&&-1!=(n=this.__cbOnceCreateKeyframe.indexOf(e))&&(this.__cbOnceCreateKeyframe.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCreateKeyframe[n])&&s(),this.__cbOnceOwnerUnbindCreateKeyframe.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCreateKeyframe){for(var t=0,i=this.__cbOnOwnerUnbindCreateKeyframe.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCreateKeyframe[l])&&s()}this.__cbOnOwnerUnbindCreateKeyframe=null}if(null!=this.__cbOnceOwnerUnbindCreateKeyframe){for(t=0,i=this.__cbOnceOwnerUnbindCreateKeyframe.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindCreateKeyframe[l])&&s()}this.__cbOnceOwnerUnbindCreateKeyframe=null}this.__cbOnCreateKeyframe=null,this.__cbOnceCreateKeyframe=null}},listensCreateKeyframe:function(){return null!=this.__cbOnCreateKeyframe&&this.__cbOnCreateKeyframe.length>0||null!=this.__cbOnceCreateKeyframe&&this.__cbOnceCreateKeyframe.length>0},handleCreateTrack:function(e,n,t){null==t.value&&(null!=n&&1==n.degrees?t.value=new ceramic_TimelineDegreesTrack:"Float"==e?t.value=new ceramic_TimelineFloatTrack:"ceramic.Color"==e?t.value=new ceramic_TimelineColorTrack:"Bool"==e?t.value=new ceramic_TimelineBoolTrack:"Array<Float>"==e&&(t.value=new ceramic_TimelineFloatArrayTrack))},handleBindTrack:function(e,n,t,i,l){if(t instanceof ceramic_TimelineFloatTrack)t.onChange(i,(function(e){Reflect.setProperty(i,l,e.value)}));else if(t instanceof ceramic_TimelineDegreesTrack){t.onChange(i,(function(e){Reflect.setProperty(i,l,e.value)}))}else if(t instanceof ceramic_TimelineColorTrack){t.onChange(i,(function(e){Reflect.setProperty(i,l,e.value)}))}else if(t instanceof ceramic_TimelineBoolTrack){t.onChange(i,(function(e){Reflect.setProperty(i,l,e.value)}))}else if(t instanceof ceramic_TimelineFloatArrayTrack){var s=null!=n&&1==n.copyArray;t.onChange(i,(function(e){var n=null;(s||null==(n=Reflect.getProperty(i,l)))&&(n=[]);var t=e.value,r=t.length;n.length!=r&&(n.length!=r&&(n.length>r?n.splice(r,n.length-r):n[r-1]=null));for(var a=0,c=r;a<c;){var h=a++,u=t[h];n[h]=u}Reflect.setProperty(i,l,n)}))}},handleCreateKeyframe:function(e,n,t,i,l,s,r){if(null==r.value)if("Float"==e)if(null!=s&&s instanceof ceramic_TimelineFloatKeyframe){var a=s;a.value=t,a.index=i,a.easing=l,r.value=a}else r.value=new ceramic_TimelineFloatKeyframe(t,i,l);else if("ceramic.Color"==e)if(null!=s&&s instanceof ceramic_TimelineColorKeyframe){var c=s;c.value=t,c.index=i,c.easing=l,r.value=c}else r.value=new ceramic_TimelineColorKeyframe(t,i,l);else if("Bool"==e)if(null!=s&&s instanceof ceramic_TimelineBoolKeyframe){var h=s;h.value=t,h.index=i,h.easing=l,r.value=h}else r.value=new ceramic_TimelineBoolKeyframe(t,i,l);else if("Array<Float>"==e)if(null!=s&&s instanceof ceramic_TimelineFloatArrayKeyframe){var u=s,o=t;u.value=[].concat(o),u.index=i,u.easing=l,r.value=u}else r.value=new ceramic_TimelineFloatArrayKeyframe(t,i,l)},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offCreateTrack(),this.offBindTrack(),this.offCreateKeyframe()},__class__:ceramic_Timelines});var ceramic_Timer=function(){};t["ceramic.Timer"]=ceramic_Timer,ceramic_Timer.__name__="ceramic.Timer",ceramic_Timer.__properties__={get_timestamp:"get_timestamp"},ceramic_Timer.get_timestamp=function(){return ceramic_Timer.startTimestamp+ceramic_Timer.now},ceramic_Timer.update=function(e,n){ceramic_Timer.now+=e,ceramic_Timer.timestamp=ceramic_Timer.startTimestamp+ceramic_Timer.now+n,ceramic_Timer.next<=ceramic_Timer.now&&ceramic_App.app.beginUpdateCallbacks.push(ceramic_Timer.flush)},ceramic_Timer.flush=function(){ceramic_Timer.next=999999999;var e=ceramic_Timer.callbacks;ceramic_Timer.callbacks=[];for(var n=0,t=e.length;n<t;){var i=e[n++];if(!i.cleared)if(null==i.owner||i.owner._lifecycleState>=0)if(i.time<=ceramic_Timer.now)if(i.interval>=0){for(;i.time<=ceramic_Timer.now&&!i.cleared&&(i.callback(),0!=i.interval);)i.time+=i.interval;i.cleared||(ceramic_Timer.callbacks.push(i),ceramic_Timer.next=Math.min(i.time,ceramic_Timer.next))}else i.callback();else ceramic_Timer.callbacks.push(i),ceramic_Timer.next=Math.min(i.time,ceramic_Timer.next);else i.cleared=!0}},ceramic_Timer.delay=function(e,n,t){return ceramic_Timer.schedule(e,n,t,-1)},ceramic_Timer.interval=function(e,n,t){return ceramic_Timer.schedule(e,n,t,n)},ceramic_Timer.schedule=function(e,n,t,i){var l=ceramic_Timer.now+n;ceramic_Timer.next=Math.min(l,ceramic_Timer.next);var s=new ceramic_TimerCallback;return s.owner=e,s.callback=t,s.time=l,s.interval=i,ceramic_Timer.callbacks.push(s),$bind(s,s.clear)};var ceramic_TimerCallback=function(){this.cleared=!1,this.interval=-1,this.time=0,this.callback=null,this.owner=null};t["ceramic.TimerCallback"]=ceramic_TimerCallback,ceramic_TimerCallback.__name__="ceramic.TimerCallback",ceramic_TimerCallback.prototype={owner:null,callback:null,time:null,interval:null,cleared:null,clear:function(){this.cleared=!0},__class__:ceramic_TimerCallback};var ceramic_Touch=function(e,n,t,i,l){this.index=e,this.x=n,this.y=t,this.deltaX=i,this.deltaY=l};t["ceramic.Touch"]=ceramic_Touch,ceramic_Touch.__name__="ceramic.Touch",ceramic_Touch.prototype={index:null,x:null,y:null,deltaX:null,deltaY:null,toString:function(){return""+Std.string({index:this.index,x:this.x,y:this.y,deltaX:this.deltaX,deltaY:this.deltaY})},__class__:ceramic_Touch};var ceramic_TouchInfo=function(e,n,t,i,l){this.touchIndex=e,this.buttonId=n,this.x=t,this.y=i,this.hits=l};t["ceramic.TouchInfo"]=ceramic_TouchInfo,ceramic_TouchInfo.__name__="ceramic.TouchInfo",ceramic_TouchInfo.prototype={touchIndex:null,buttonId:null,x:null,y:null,hits:null,toString:function(){return""+Std.string({touchIndex:this.touchIndex,buttonId:this.buttonId,x:this.x,y:this.y,hits:this.hits})},__class__:ceramic_TouchInfo};var ceramic_TouchesIterator=function(e){this.intMap=e,this.i=0,this.len=this.intMap.values.length};t["ceramic.TouchesIterator"]=ceramic_TouchesIterator,ceramic_TouchesIterator.__name__="ceramic.TouchesIterator",ceramic_TouchesIterator.prototype={intMap:null,i:null,len:null,hasNext:function(){for(;this.i<this.len&&null==this.intMap.values[this.i];)this.i++;return this.i<this.len},next:function(){var e=this.i++;return this.intMap.values[e]},__class__:ceramic_TouchesIterator};var ceramic_TrackerBackend=function(){this.backgroundQueue=new ceramic_BackgroundQueue};t["ceramic.TrackerBackend"]=ceramic_TrackerBackend,ceramic_TrackerBackend.__name__="ceramic.TrackerBackend",ceramic_TrackerBackend.prototype={backgroundQueue:null,onceImmediate:function(e){ceramic_App.app._onceImmediate(e)},readString:function(e){return ceramic_App.app.backend.io.readString(e)},saveString:function(e,n){return ceramic_App.app.backend.io.saveString(e,n)},appendString:function(e,n){return ceramic_App.app.backend.io.appendString(e,n)},warning:function(e,n){ceramic_App.app.logger.warning(e,n)},error:function(e,n){ceramic_App.app.logger.error(e,n)},success:function(e,n){ceramic_App.app.logger.success(e,n)},runInBackground:function(e){this.backgroundQueue.schedule(e)},runInMain:function(e){ceramic_Runner.runInMain(e)},interval:function(e,n,t){return ceramic_Timer.schedule(e,n,t,n)},delay:function(e,n,t){return ceramic_Timer.schedule(e,n,t,-1)},storageDirectory:function(){return null},pathJoin:function(e){return ceramic_Path.join(e)},__class__:ceramic_TrackerBackend};var ceramic_Tween=function(e,n,t,i,l){this.customEasing=null,ceramic_Entity.call(this),this.owner=e,this.easing=n,this.duration=t,this.fromValue=i,this.toValue=l,this.init()};t["ceramic.Tween"]=ceramic_Tween,ceramic_Tween.__name__="ceramic.Tween",ceramic_Tween.start=function(e,n,t,i,l,s){var r=new ceramic_Tween(e,null==n?_.QUAD_EASE_IN_OUT:n,t,i,l);return null!=s&&r.onUpdate(e,s),r},ceramic_Tween.tick=function(e){for(var n=ceramic_Tween._tweens.length,t=0,i=n;t<i;){var l=t++,s=ceramic_Tween._tweens[l];ceramic_Tween._iteratedTweens[l]=s}for(t=0,i=n;t<i;){l=t++,s=ceramic_Tween._iteratedTweens[l];if(ceramic_Tween._iteratedTweens[l]=null,null!=s.owner&&s.owner._lifecycleState<0)s.destroy();else if(s.remaining-=e,s.remaining<=0)s.emitUpdate(s.toValue,s.duration),s.emitComplete(),s.destroy();else{var r=s.duration-s.remaining;ceramic__$Tween_TweenEasingFunction.k=r/s.duration;ceramic__$Tween_TweenEasingFunction.k;ceramic__$Tween_TweenEasingFunction.customEasing=s.customEasing,s.computedEasing(),ceramic__$Tween_TweenEasingFunction.customEasing=null,s.emitUpdate(s.fromValue+(s.toValue-s.fromValue)*ceramic__$Tween_TweenEasingFunction.k,r)}}},ceramic_Tween.computeEasing=function(e){switch(e._hx_index){case 0:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.none;break;case 1:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.linear;break;case 2:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseIn;break;case 3:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseInOut;break;case 4:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseOut;break;case 5:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseIn;break;case 6:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseInOut;break;case 7:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseOut;break;case 8:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseIn;break;case 9:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseInOut;break;case 10:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseOut;break;case 11:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseIn;break;case 12:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseInOut;break;case 13:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseOut;break;case 14:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseIn;break;case 15:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseInOut;break;case 16:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseOut;break;case 17:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseIn;break;case 18:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseInOut;break;case 19:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseOut;break;case 20:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseIn;break;case 21:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseInOut;break;case 22:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseOut;break;case 23:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseIn;break;case 24:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseInOut;break;case 25:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseOut;break;case 26:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseIn;break;case 27:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseInOut;break;case 28:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseOut;break;case 29:var t=e.x1,i=e.y1,l=e.x2,s=e.y2;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=$bind(n=ceramic_BezierEasing.get(t,i,l,s),n.ease);break;case 30:var r=e.easing;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=r}},ceramic_Tween.ease=function(e,t){switch(ceramic__$Tween_TweenEasingFunction.k=t,e._hx_index){case 0:ceramic__$Tween_TweenEasingFunction.none();break;case 1:ceramic__$Tween_TweenEasingFunction.linear();break;case 2:ceramic__$Tween_TweenEasingFunction.backEaseIn();break;case 3:ceramic__$Tween_TweenEasingFunction.backEaseInOut();break;case 4:ceramic__$Tween_TweenEasingFunction.backEaseOut();break;case 5:ceramic__$Tween_TweenEasingFunction.quadEaseIn();break;case 6:ceramic__$Tween_TweenEasingFunction.quadEaseInOut();break;case 7:ceramic__$Tween_TweenEasingFunction.quadEaseOut();break;case 8:ceramic__$Tween_TweenEasingFunction.cubicEaseIn();break;case 9:ceramic__$Tween_TweenEasingFunction.cubicEaseInOut();break;case 10:ceramic__$Tween_TweenEasingFunction.cubicEaseOut();break;case 11:ceramic__$Tween_TweenEasingFunction.quartEaseIn();break;case 12:ceramic__$Tween_TweenEasingFunction.quartEaseInOut();break;case 13:ceramic__$Tween_TweenEasingFunction.quartEaseOut();break;case 14:ceramic__$Tween_TweenEasingFunction.quintEaseIn();break;case 15:ceramic__$Tween_TweenEasingFunction.quintEaseInOut();break;case 16:ceramic__$Tween_TweenEasingFunction.quintEaseOut();break;case 17:ceramic__$Tween_TweenEasingFunction.bounceEaseIn();break;case 18:ceramic__$Tween_TweenEasingFunction.bounceEaseInOut();break;case 19:ceramic__$Tween_TweenEasingFunction.bounceEaseOut();break;case 20:ceramic__$Tween_TweenEasingFunction.elasticEaseIn();break;case 21:ceramic__$Tween_TweenEasingFunction.elasticEaseInOut();break;case 22:ceramic__$Tween_TweenEasingFunction.elasticEaseOut();break;case 23:ceramic__$Tween_TweenEasingFunction.expoEaseIn();break;case 24:ceramic__$Tween_TweenEasingFunction.expoEaseInOut();break;case 25:ceramic__$Tween_TweenEasingFunction.expoEaseOut();break;case 26:ceramic__$Tween_TweenEasingFunction.sineEaseIn();break;case 27:ceramic__$Tween_TweenEasingFunction.sineEaseInOut();break;case 28:ceramic__$Tween_TweenEasingFunction.sineEaseOut();break;case 29:var i=e.x1,l=e.y1,s=e.x2,r=e.y2;ceramic__$Tween_TweenEasingFunction.customEasing=$bind(n=ceramic_BezierEasing.get(i,l,s,r),n.ease),ceramic__$Tween_TweenEasingFunction.custom(),ceramic__$Tween_TweenEasingFunction.customEasing=null;break;case 30:var a=e.easing;ceramic__$Tween_TweenEasingFunction.customEasing=a,ceramic__$Tween_TweenEasingFunction.custom(),ceramic__$Tween_TweenEasingFunction.customEasing=null}return ceramic__$Tween_TweenEasingFunction.k},ceramic_Tween.easingFunction=function(e){switch(e._hx_index){case 0:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.none;break;case 1:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.linear;break;case 2:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseIn;break;case 3:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseInOut;break;case 4:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseOut;break;case 5:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseIn;break;case 6:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseInOut;break;case 7:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseOut;break;case 8:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseIn;break;case 9:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseInOut;break;case 10:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseOut;break;case 11:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseIn;break;case 12:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseInOut;break;case 13:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseOut;break;case 14:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseIn;break;case 15:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseInOut;break;case 16:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseOut;break;case 17:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseIn;break;case 18:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseInOut;break;case 19:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseOut;break;case 20:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseIn;break;case 21:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseInOut;break;case 22:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseOut;break;case 23:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseIn;break;case 24:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseInOut;break;case 25:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseOut;break;case 26:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseIn;break;case 27:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseInOut;break;case 28:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseOut;break;case 29:var t=e.x1,i=e.y1,l=e.x2,s=e.y2;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=$bind(n=ceramic_BezierEasing.get(t,i,l,s),n.ease);break;case 30:var r=e.easing;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=r}var a=ceramic_Tween._computedEasingFunction,c=ceramic_Tween._computedCustomEasing;return function(e){return ceramic__$Tween_TweenEasingFunction.k=e,ceramic__$Tween_TweenEasingFunction.customEasing=c,a(),ceramic__$Tween_TweenEasingFunction.customEasing=null,ceramic__$Tween_TweenEasingFunction.k}},ceramic_Tween.__super__=ceramic_Entity,ceramic_Tween.prototype=$extend(ceramic_Entity.prototype,{__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e,n){var t=0;if(null!=this.__cbOnUpdate&&(t+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(t+=this.__cbOnceUpdate.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnUpdate)for(var r=0,a=this.__cbOnUpdate.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnUpdate[c],++s):--t}if(null!=this.__cbOnceUpdate){var h=null,u=null;for(r=0,a=this.__cbOnceUpdate.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceUpdate[c],this.__cbOnceUpdate[c]=null;var o=this.__cbOnceOwnerUnbindUpdate[c];this.__cbOnceOwnerUnbindUpdate[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindUpdate[c]),u.push(this.__cbOnceUpdate[c])}this.__cbOnceOwnerUnbindUpdate=h,this.__cbOnceUpdate=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},__cbOnComplete:null,__cbOnceComplete:null,__cbOnOwnerUnbindComplete:null,__cbOnceOwnerUnbindComplete:null,emitComplete:function(){var e=0;if(null!=this.__cbOnComplete&&(e+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(e+=this.__cbOnceComplete.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnComplete)for(var l=0,s=this.__cbOnComplete.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnComplete[r],++i):--e}if(null!=this.__cbOnceComplete){var a=null,c=null;for(l=0,s=this.__cbOnceComplete.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceComplete[r],this.__cbOnceComplete[r]=null;var h=this.__cbOnceOwnerUnbindComplete[r];this.__cbOnceOwnerUnbindComplete[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindComplete[r]),c.push(this.__cbOnceComplete[r])}this.__cbOnceOwnerUnbindComplete=a,this.__cbOnceComplete=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(n)},onceComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(n)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(s=this.__cbOnOwnerUnbindComplete[n])&&s(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindComplete[n])&&s(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindComplete[l])&&s()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindComplete[l])&&s()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&this.__cbOnComplete.length>0||null!=this.__cbOnceComplete&&this.__cbOnceComplete.length>0},owner:null,easing:null,duration:null,remaining:null,fromValue:null,toValue:null,computedEasing:null,customEasing:null,init:function(){if(this.duration<=0)ceramic_App.app._onceImmediate($bind(this,this.immediateComplete));else{var e=this.easing;switch(e._hx_index){case 0:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.none;break;case 1:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.linear;break;case 2:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseIn;break;case 3:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseInOut;break;case 4:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseOut;break;case 5:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseIn;break;case 6:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseInOut;break;case 7:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseOut;break;case 8:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseIn;break;case 9:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseInOut;break;case 10:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseOut;break;case 11:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseIn;break;case 12:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseInOut;break;case 13:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseOut;break;case 14:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseIn;break;case 15:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseInOut;break;case 16:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseOut;break;case 17:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseIn;break;case 18:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseInOut;break;case 19:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseOut;break;case 20:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseIn;break;case 21:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseInOut;break;case 22:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseOut;break;case 23:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseIn;break;case 24:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseInOut;break;case 25:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseOut;break;case 26:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseIn;break;case 27:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseInOut;break;case 28:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseOut;break;case 29:var t=e.x1,i=e.y1,l=e.x2,s=e.y2;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=$bind(n=ceramic_BezierEasing.get(t,i,l,s),n.ease);break;case 30:var r=e.easing;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=r}this.computedEasing=ceramic_Tween._computedEasingFunction,this.customEasing=ceramic_Tween._computedCustomEasing,ceramic_Tween._computedEasingFunction=null,ceramic_Tween._computedCustomEasing=null,ceramic_Tween._tweens.push(this),this.remaining=this.duration,ceramic_App.app._onceImmediate($bind(this,this.immediateStart))}},updateFromTick:function(e){if(null!=this.owner&&this.owner._lifecycleState<0)this.destroy();else if(this.remaining-=e,this.remaining<=0)this.emitUpdate(this.toValue,this.duration),this.emitComplete(),this.destroy();else{var n=this.duration-this.remaining;ceramic__$Tween_TweenEasingFunction.k=n/this.duration;ceramic__$Tween_TweenEasingFunction.k;ceramic__$Tween_TweenEasingFunction.customEasing=this.customEasing,this.computedEasing(),ceramic__$Tween_TweenEasingFunction.customEasing=null,this.emitUpdate(this.fromValue+(this.toValue-this.fromValue)*ceramic__$Tween_TweenEasingFunction.k,n)}},immediateComplete:function(){this.emitUpdate(this.toValue,0),this.emitComplete(),this.destroy()},immediateStart:function(){this.emitUpdate(this.fromValue,0)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.easing=null,this.owner=null,this.computedEasing=null,this.customEasing=null,HxOverrides.remove(ceramic_Tween._tweens,this),this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this))},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offUpdate(),this.offComplete()},__class__:ceramic_Tween});var ceramic__$Tween_TweenEasingFunction=function(){};t["ceramic._Tween.TweenEasingFunction"]=ceramic__$Tween_TweenEasingFunction,ceramic__$Tween_TweenEasingFunction.__name__="ceramic._Tween.TweenEasingFunction",ceramic__$Tween_TweenEasingFunction.custom=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.customEasing(ceramic__$Tween_TweenEasingFunction.k)},ceramic__$Tween_TweenEasingFunction.none=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k>=1?1:0},ceramic__$Tween_TweenEasingFunction.linear=function(){},ceramic__$Tween_TweenEasingFunction.backEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*(2.70158*ceramic__$Tween_TweenEasingFunction.k-1.70158)},ceramic__$Tween_TweenEasingFunction.backEaseInOut=function(){var e=1.70158;if(((n=ceramic__$Tween_TweenEasingFunction).k*=2)<1)ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*((1+(e*=1.525))*ceramic__$Tween_TweenEasingFunction.k-e)*.5;else{var n=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=.5*((n.k-=2)*ceramic__$Tween_TweenEasingFunction.k*((1+(e*=1.525))*ceramic__$Tween_TweenEasingFunction.k+e)+2)}},ceramic__$Tween_TweenEasingFunction.backEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=(ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k-1)*ceramic__$Tween_TweenEasingFunction.k*(2.70158*ceramic__$Tween_TweenEasingFunction.k+1.70158)+1},ceramic__$Tween_TweenEasingFunction.quadEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k*=ceramic__$Tween_TweenEasingFunction.k},ceramic__$Tween_TweenEasingFunction.quadEaseInOut=function(){(ceramic__$Tween_TweenEasingFunction.k*=2)<1?ceramic__$Tween_TweenEasingFunction.k=.5*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k:ceramic__$Tween_TweenEasingFunction.k=-.5*((ceramic__$Tween_TweenEasingFunction.k-1)*(ceramic__$Tween_TweenEasingFunction.k-3)-1)},ceramic__$Tween_TweenEasingFunction.quadEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=-ceramic__$Tween_TweenEasingFunction.k*(ceramic__$Tween_TweenEasingFunction.k-2)},ceramic__$Tween_TweenEasingFunction.cubicEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k},ceramic__$Tween_TweenEasingFunction.cubicEaseInOut=function(){var e;(ceramic__$Tween_TweenEasingFunction.k/=.5)<1?e=.5*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k:e=.5*((ceramic__$Tween_TweenEasingFunction.k-=2)*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k+2);ceramic__$Tween_TweenEasingFunction.k=e},ceramic__$Tween_TweenEasingFunction.cubicEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=--ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k+1},ceramic__$Tween_TweenEasingFunction.quartEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k},ceramic__$Tween_TweenEasingFunction.quartEaseInOut=function(){if(((e=ceramic__$Tween_TweenEasingFunction).k*=2)<1)ceramic__$Tween_TweenEasingFunction.k=.5*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k;else{var e=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=-.5*((e.k-=2)*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k-2)}},ceramic__$Tween_TweenEasingFunction.quartEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=-(--ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k-1)},ceramic__$Tween_TweenEasingFunction.quintEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k},ceramic__$Tween_TweenEasingFunction.quintEaseInOut=function(){if(((e=ceramic__$Tween_TweenEasingFunction).k*=2)<1)ceramic__$Tween_TweenEasingFunction.k=.5*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k;else{var e=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=.5*((e.k-=2)*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k+2)}},ceramic__$Tween_TweenEasingFunction.quintEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=--ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k+1},ceramic__$Tween_TweenEasingFunction.bounceEaseIn=function(){var e,n=1-ceramic__$Tween_TweenEasingFunction.k;e=(n/=1)<.36363636363636365?7.5625*n*n:n<.7272727272727273?7.5625*(n-=.5454545454545454)*n+.75:n<.9090909090909091?7.5625*(n-=.8181818181818182)*n+.9375:7.5625*(n-=.9545454545454546)*n+.984375,ceramic__$Tween_TweenEasingFunction.k=1-e},ceramic__$Tween_TweenEasingFunction.bounceEaseInOut=function(){if(ceramic__$Tween_TweenEasingFunction.k<.5){var e=1-2*ceramic__$Tween_TweenEasingFunction.k;n=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,ceramic__$Tween_TweenEasingFunction.k=.5*(1-n)}else{var n;e=2*ceramic__$Tween_TweenEasingFunction.k-1;n=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,ceramic__$Tween_TweenEasingFunction.k=.5*n+.5}},ceramic__$Tween_TweenEasingFunction.bounceEaseOut=function(){var e,n=ceramic__$Tween_TweenEasingFunction.k;e=(n/=1)<.36363636363636365?7.5625*n*n:n<.7272727272727273?7.5625*(n-=.5454545454545454)*n+.75:n<.9090909090909091?7.5625*(n-=.8181818181818182)*n+.9375:7.5625*(n-=.9545454545454546)*n+.984375,ceramic__$Tween_TweenEasingFunction.k=e},ceramic__$Tween_TweenEasingFunction._bounceEaseIn=function(e,n,t,i){var l=i-e;return t-((l/=i)<.36363636363636365?t*(7.5625*l*l):l<.7272727272727273?t*(7.5625*(l-=.5454545454545454)*l+.75):l<.9090909090909091?t*(7.5625*(l-=.8181818181818182)*l+.9375):t*(7.5625*(l-=.9545454545454546)*l+.984375))+n},ceramic__$Tween_TweenEasingFunction._bounceEaseOut=function(e,n,t,i){return(e/=i)<.36363636363636365?t*(7.5625*e*e)+n:e<.7272727272727273?t*(7.5625*(e-=.5454545454545454)*e+.75)+n:e<.9090909090909091?t*(7.5625*(e-=.8181818181818182)*e+.9375)+n:t*(7.5625*(e-=.9545454545454546)*e+.984375)+n},ceramic__$Tween_TweenEasingFunction.elasticEaseIn=function(){if(0!=ceramic__$Tween_TweenEasingFunction.k&&1!=ceramic__$Tween_TweenEasingFunction.k){var e,n=.1;n<1?(n=1,e=.1):e=.4/(2*Math.PI)*Math.asin(1/n);var t=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=-n*Math.exp(6.931471805599453*(t.k-=1))*Math.sin((ceramic__$Tween_TweenEasingFunction.k-e)*(2*Math.PI)/.4)}},ceramic__$Tween_TweenEasingFunction.elasticEaseInOut=function(){if(0!=ceramic__$Tween_TweenEasingFunction.k)if(2!=((t=ceramic__$Tween_TweenEasingFunction).k*=2)){var e=.44999999999999996,n=e/4;if(ceramic__$Tween_TweenEasingFunction.k<1){var t=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=Math.exp(6.931471805599453*(t.k-=1))*Math.sin((ceramic__$Tween_TweenEasingFunction.k-n)*(2*Math.PI)/e)*-.5}else{t=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=Math.exp(-6.931471805599453*(t.k-=1))*Math.sin((ceramic__$Tween_TweenEasingFunction.k-n)*(2*Math.PI)/e)*.5+1}}else ceramic__$Tween_TweenEasingFunction.k=1},ceramic__$Tween_TweenEasingFunction.elasticEaseOut=function(){if(0!=ceramic__$Tween_TweenEasingFunction.k&&1!=ceramic__$Tween_TweenEasingFunction.k){var e,n=.1;n<1?(n=1,e=.1):e=.4/(2*Math.PI)*Math.asin(1/n),ceramic__$Tween_TweenEasingFunction.k=n*Math.exp(-6.931471805599453*ceramic__$Tween_TweenEasingFunction.k)*Math.sin((ceramic__$Tween_TweenEasingFunction.k-e)*(2*Math.PI)/.4)+1}},ceramic__$Tween_TweenEasingFunction.expoEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=0==ceramic__$Tween_TweenEasingFunction.k?0:Math.exp(6.931471805599453*(ceramic__$Tween_TweenEasingFunction.k-1))},ceramic__$Tween_TweenEasingFunction.expoEaseInOut=function(){0!=ceramic__$Tween_TweenEasingFunction.k&&(1!=ceramic__$Tween_TweenEasingFunction.k&&((ceramic__$Tween_TweenEasingFunction.k/=.5)<1?ceramic__$Tween_TweenEasingFunction.k=.5*Math.exp(6.931471805599453*(ceramic__$Tween_TweenEasingFunction.k-1)):ceramic__$Tween_TweenEasingFunction.k=.5*(2-Math.exp(-6.931471805599453*--ceramic__$Tween_TweenEasingFunction.k))))},ceramic__$Tween_TweenEasingFunction.expoEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=1==ceramic__$Tween_TweenEasingFunction.k?1:1-Math.exp(-6.931471805599453*ceramic__$Tween_TweenEasingFunction.k)},ceramic__$Tween_TweenEasingFunction.sineEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=1-Math.cos(ceramic__$Tween_TweenEasingFunction.k*(Math.PI/2))},ceramic__$Tween_TweenEasingFunction.sineEaseInOut=function(){ceramic__$Tween_TweenEasingFunction.k=-(Math.cos(Math.PI*ceramic__$Tween_TweenEasingFunction.k)-1)/2},ceramic__$Tween_TweenEasingFunction.sineEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=Math.sin(ceramic__$Tween_TweenEasingFunction.k*(Math.PI/2))};var ceramic_Utils=function(){};t["ceramic.Utils"]=ceramic_Utils,ceramic_Utils.__name__="ceramic.Utils",ceramic_Utils.realPath=function(e){return ceramic_Path.isAbsolute(e)||StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://")||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),e},ceramic_Utils.getRtti=function(e){return ceramic_PlatformSpecific.getRtti(e)},ceramic_Utils.uniqueId=function(){switch(ceramic_Utils._nextUniqueIntCursor){case 0:ceramic_Utils._nextUniqueInt0=(ceramic_Utils._nextUniqueInt0+1)%2147483647;break;case 1:ceramic_Utils._nextUniqueInt1=(ceramic_Utils._nextUniqueInt1+1)%2147483647;break;case 2:ceramic_Utils._nextUniqueInt2=(ceramic_Utils._nextUniqueInt2+1)%2147483647;break;case 3:ceramic_Utils._nextUniqueInt3=(ceramic_Utils._nextUniqueInt3+1)%2147483647}ceramic_Utils._nextUniqueIntCursor=(ceramic_Utils._nextUniqueIntCursor+1)%4,null==(u=ceramic_Utils._nextUniqueInt0)&&(u=2147483646*Math.random()|0);var e,n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);var t=u%62|0;if((o=u/62|0)>0){var i=ceramic_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),s=String.fromCodePoint(b);else s=Std.string(t).charAt(0);l=i+s}else{if(t>9)(b=t-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(t).charAt(0);l=Std.string(i)}if(n>9)(b=n-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(n).charAt(0);e=l+i}else{if(n>9)(b=n-10+65)>90&&(b+=6),l=String.fromCodePoint(b);else l=Std.string(n).charAt(0);e=Std.string(l)}null==(u=null)&&(u=2147483646*Math.random()|0);var l;n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var s=ceramic_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(t).charAt(0);i=s+r}else{if(t>9)(b=t-10+65)>90&&(b+=6),s=String.fromCodePoint(b);else s=Std.string(t).charAt(0);i=Std.string(s)}if(n>9)(b=n-10+65)>90&&(b+=6),s=String.fromCodePoint(b);else s=Std.string(n).charAt(0);l=i+s}else{if(n>9)(b=n-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(n).charAt(0);l=Std.string(i)}null==(u=ceramic_Utils._nextUniqueInt1)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var r=ceramic_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(t).charAt(0);s=r+a}else{if(t>9)(b=t-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(t).charAt(0);s=Std.string(r)}if(n>9)(b=n-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(n).charAt(0);i=s+r}else{if(n>9)(b=n-10+65)>90&&(b+=6),s=String.fromCodePoint(b);else s=Std.string(n).charAt(0);i=Std.string(s)}null==(u=null)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var a=ceramic_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(t).charAt(0);r=a+c}else{if(t>9)(b=t-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(t).charAt(0);r=Std.string(a)}if(n>9)(b=n-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(n).charAt(0);s=r+a}else{if(n>9)(b=n-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(n).charAt(0);s=Std.string(r)}null==(u=ceramic_Utils._nextUniqueInt2)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var c=ceramic_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(t).charAt(0);a=c+h}else{if(t>9)(b=t-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(t).charAt(0);a=Std.string(c)}if(n>9)(b=n-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(n).charAt(0);r=a+c}else{if(n>9)(b=n-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(n).charAt(0);r=Std.string(a)}null==(u=null)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var h=ceramic_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(t).charAt(0);c=h+d}else{if(t>9)(b=t-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(t).charAt(0);c=Std.string(h)}if(n>9)(b=n-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(n).charAt(0);a=c+h}else{if(n>9)(b=n-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(n).charAt(0);a=Std.string(c)}null==(u=ceramic_Utils._nextUniqueInt3)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){var u;null==(u=o)&&(u=2147483646*Math.random()|0);var o;t=u%62|0;if((o=u/62|0)>0){var _,d=ceramic_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),_=String.fromCodePoint(b);else _=Std.string(t).charAt(0);h=d+_}else{if(t>9)(b=t-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(t).charAt(0);h=Std.string(d)}if(n>9)(b=n-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(n).charAt(0);c=h+d}else{var b;if(n>9)(b=n-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(n).charAt(0);c=Std.string(h)}return h=e+"-"+l+"-"+i+"-"+s+"-"+r+"-"+a+"-"+c},ceramic_Utils.randomId=function(e){null==e&&(e=32);for(var n=[];n.length<e;){var t=null;null==t&&(t=2147483646*Math.random()|0);var i,l=t%62|0,s=t/62|0;if(s>0){var r=s;null==r&&(r=2147483646*Math.random()|0);var a,c,h=r%62|0,u=r/62|0;if(u>0){var o,_=ceramic_Utils.base62Id(u);if(h>9){var d=h-10+65;d>90&&(d+=6),o=String.fromCodePoint(d)}else o=Std.string(h).charAt(0);a=_+o}else{var b;if(h>9){var f=h-10+65;f>90&&(f+=6),b=String.fromCodePoint(f)}else b=Std.string(h).charAt(0);a=Std.string(b)}if(l>9){var O=l-10+65;O>90&&(O+=6),c=String.fromCodePoint(O)}else c=Std.string(l).charAt(0);i=a+c}else{var p;if(l>9){var g=l-10+65;g>90&&(g+=6),p=String.fromCodePoint(g)}else p=Std.string(l).charAt(0);i=Std.string(p)}for(var m=0,v=i.length;m<v;){var y=m++;n.push(i.charAt(y))}}return ceramic_Extensions.shuffle(n),HxOverrides.substr(n.join(""),0,e)},ceramic_Utils.persistentId=function(e,n){null==n&&(n=32),null==e&&(e=0),null==ceramic_Utils._persistentIds&&(ceramic_Utils._persistentIds=new haxe_ds_IntMap);var t=ceramic_Utils._persistentIds.h[e];return null!=t?t:null!=(t=ceramic_App.app.backend.io.readString("persistentId_"+e))?(ceramic_Utils._persistentIds.h[e]=t,t):(t=ceramic_Utils.randomId(n),ceramic_App.app.backend.io.saveString("persistentId_"+e,t)||ceramic_App.app.logger.warning("Failed to save persistent id ("+t+") at slot "+e,{fileName:"/home/sharpcdf/ceramic/runtime/src/ceramic/Utils.hx",lineNumber:124,className:"ceramic.Utils",methodName:"persistentId"}),ceramic_Utils._persistentIds.h[e]=t,t)},ceramic_Utils.resetPersistentId=function(e){null==e&&(e=0),null!=ceramic_Utils._persistentIds&&ceramic_Utils._persistentIds.remove(e),ceramic_App.app.backend.io.saveString("persistentId_"+e,null)},ceramic_Utils.base62Id=function(e){null==e&&(e=2147483646*Math.random()|0);var n=e%62|0,t=e/62|0;if(t>0){var i,l,s=ceramic_Utils.base62Id(t);if(n>9)(l=n-10+65)>90&&(l+=6),i=String.fromCodePoint(l);else i=(null==n?"null":""+n).charAt(0);return s+i}return n>9?((l=n-10+65)>90&&(l+=6),s=String.fromCodePoint(l)):s=(null==n?"null":""+n).charAt(0),Std.string(s)},ceramic_Utils.println=function(e){var n=null;null!=(n=backend_ElectronRunner.electronRunner)?n.consoleLog("[error] "+e):console.log(""+e)},ceramic_Utils.printStackTrace=function(e){null==e&&(e=!1);var n="",t=null,i=null;try{throw new Error}catch(e){i=e}var l=(""+Std.string(i.stack)).split("\n"),s=l.length-1,r=-1!=navigator.platform.indexOf("Win");for(t=backend_ElectronRunner.electronRunner;s>=2;){var a=l[s];a=StringTools.ltrim(a),null!=t&&(a=StringTools.replace(a,"http://localhost:"+Std.string(t.serverPort)+"/file:"+(r?"/":""),""),a=StringTools.replace(a,"http://localhost:"+Std.string(t.serverPort)+"/",Std.string(t.appFiles)+"/"));var c=a;e||(null!=t?t.consoleLog("[error] "+Std.string(c)):console.log(""+Std.string(c))),n+=Std.string(c),n+=String.fromCodePoint(10),--s}return n},ceramic_Utils.stackItemToString=function(e){var n="";switch(e._hx_index){case 0:n="a C function";break;case 1:n="module "+e.m;break;case 2:e.column;var t=e.s,i=e.file,l=e.line;null!=t&&(n=ceramic_Utils.stackItemToString(t)+" ("),n+=i,n+=" line ",n+=l,null!=t&&(n+=")");break;case 3:n+=e.classname,n+=".",n+=e.method;break;case 4:n+="local function #",n+=e.v}return n},ceramic_Utils.radToDeg=function(e){return 57.29577951308232*e},ceramic_Utils.degToRad=function(e){return.017453292519943295*e},ceramic_Utils.round=function(e,n){if(null==n&&(n=0),n>0){for(var t=1;n-- >0;)t*=10;return Math.round(e*t)/t}return Math.round(e)},ceramic_Utils.hashCode=function(e){var n=0;if(0==e.length)return n;for(var t=0,i=e.length;t<i;){var l=t++;n=(n<<5)-n+HxOverrides.cca(e,l),n&=n}return n},ceramic_Utils.uniformFrequencyList=function(e,n,t){for(var i=[],l=[],s=0,r=e.length;s<r;){l[o=s++]=0}for(s=0,r=n.length;s<r;){l[o=s++]+=n[o]}for(s=0,r=t;s<r;){s++;for(var a=0,c=0,h=0,u=e.length;h<u;){var o,_=l[o=h++];_>c&&(a=o,c=_)}i.push(e[a]),l[a]-=1;for(var d=0,b=n.length;d<b;){var f=d++;l[f]+=n[f]}}return i},ceramic_Utils.upperCaseToCamelCase=function(e,n){null==n&&(n=!0);for(var t="",i=e.length,l=0,s=n;l<i;){var r=e.charAt(l);"_"==r?s=!0:s?(s=!1,t+=Std.string(r.toUpperCase())):t+=Std.string(r.toLowerCase()),++l}return t},ceramic_Utils.camelCaseToUpperCase=function(e,n){null==n&&(n=!0);for(var t="",i=e.length,l=0,s=!1;l<i;){var r=e.charAt(l);if("."==r)t+="_",s=!1;else if(ceramic_Utils.RE_ASCII_CHAR.match(r)){var a=r.toUpperCase(),c=r==a;s&&c&&(t+="_",s=!1),t+=null==a?"null":""+a,s=!c}else t+="_",s=!1;++l}for(var h=t;StringTools.endsWith(h,"_");)h=HxOverrides.substr(h,0,h.length-1);return h},ceramic_Utils.functionEquals=function(e,n){return e==n},ceramic_Utils.decodeUriParams=function(e){for(var n=new haxe_ds_StringMap,t=e.split("&"),i=0;i<t.length;){var l=t[i];++i;var s=l.indexOf("=");if(-1!=s){var r=l.substring(0,s),a=decodeURIComponent(r.split("+").join(" ")),c=l.substring(s+1),h=decodeURIComponent(c.split("+").join(" "));n.h[a]=h}}return n},ceramic_Utils.sinRatio=function(e){return e>=1&&(e%=1),.5*(Math.sin(e*Math.PI*2)+1)},ceramic_Utils.cosRatio=function(e){return e>=1&&(e%=1),.5*(Math.cos(e*Math.PI*2)+1)},ceramic_Utils.valueFromInterpolatedKey=function(e,n,t){var i=e.length-1,l=0;if(t<e[0])l=n[0];else if(t>=e[i])l=n[i];else{for(var s=0,r=1;t>e[r];)++s,++r;var a=(t-e[s])/(e[r]-e[s]);l=n[s]+(n[r]-n[s])*a}return l},ceramic_Utils.yFromInterpolatedX=function(e,n){var t=e.length-2,i=0;if(n<e[0])i=e[1];else if(n>=e[t]){i=e[t+1]}else{for(var l=0,s=2;n>e[s];)l+=2,s+=2;var r=(n-e[l])/(e[s]-e[l]),a=l+1,c=s+1;i=e[a]+(e[c]-e[a])*r}return i},ceramic_Utils.command=function(e,n,t,i){null==n&&(n=[]),i(-1,null,null)},ceramic_Utils.replaceIdentifier=function(e,n,t){e=StringTools.replace(e,"\n"," \n "),e=" "+(e=StringTools.replace(e,"\r"," \r "))+" ";var i="(\\s|[^a-zA-Z0-9_])",l=new RegExp(i+n.replace(EReg.escapeRe,"\\$&")+i,"g".split("u").join("")),s="$1"+StringTools.replace(t,"$","$$")+"$2";return e=(e=e.replace(l,s)).substring(1,e.length-1),e=StringTools.replace(e," \r ","\r"),e=StringTools.replace(e," \n ","\n")};var ceramic_VisualArcadePhysics=function(){this.offsetY=0,this.offsetX=0,this.world=null,this.body=null,this.visual=null,ceramic_Entity.call(this),ceramic_App.app.arcade._freezeItems?ceramic_App.app.arcade._createdItems.push(this):ceramic_App.app.arcade.items.push(this)};t["ceramic.VisualArcadePhysics"]=ceramic_VisualArcadePhysics,ceramic_VisualArcadePhysics.__name__="ceramic.VisualArcadePhysics",ceramic_VisualArcadePhysics.fromBody=function(e){var n=e.data;return n instanceof ceramic_VisualArcadePhysics?n:null},ceramic_VisualArcadePhysics.__super__=ceramic_Entity,ceramic_VisualArcadePhysics.prototype=$extend(ceramic_Entity.prototype,{__cbOnCollideBody:null,__cbOnceCollideBody:null,__cbOnOwnerUnbindCollideBody:null,__cbOnceOwnerUnbindCollideBody:null,emitCollideBody:function(e,n){var t=0;if(null!=this.__cbOnCollideBody&&(t+=this.__cbOnCollideBody.length),null!=this.__cbOnceCollideBody&&(t+=this.__cbOnceCollideBody.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnCollideBody)for(var r=0,a=this.__cbOnCollideBody.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnCollideBody[c],++s):--t}if(null!=this.__cbOnceCollideBody){var h=null,u=null;for(r=0,a=this.__cbOnceCollideBody.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceCollideBody[c],this.__cbOnceCollideBody[c]=null;var o=this.__cbOnceOwnerUnbindCollideBody[c];this.__cbOnceOwnerUnbindCollideBody[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindCollideBody[c]),u.push(this.__cbOnceCollideBody[c])}this.__cbOnceOwnerUnbindCollideBody=h,this.__cbOnceCollideBody=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onCollideBody:function(e,n){var t=this;if(null==this.__cbOnCollideBody&&null==this.__cbOnceCollideBody&&null!=this.body&&(this.body.onCollide=$bind(this,this.handleCollide)),null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event collideBody because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCollideBody(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindCollideBody&&(this.__cbOnOwnerUnbindCollideBody=[]),this.__cbOnOwnerUnbindCollideBody.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindCollideBody&&(this.__cbOnOwnerUnbindCollideBody=[]),this.__cbOnOwnerUnbindCollideBody.push(null);null==this.__cbOnCollideBody&&(this.__cbOnCollideBody=[]),this.__cbOnCollideBody.push(n)},onceCollideBody:function(e,n){var t=this;if(null==this.__cbOnCollideBody&&null==this.__cbOnceCollideBody&&null!=this.body&&(this.body.onCollide=$bind(this,this.handleCollide)),null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event collideBody because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCollideBody(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindCollideBody&&(this.__cbOnceOwnerUnbindCollideBody=[]),this.__cbOnceOwnerUnbindCollideBody.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindCollideBody&&(this.__cbOnceOwnerUnbindCollideBody=[]),this.__cbOnceOwnerUnbindCollideBody.push(null);null==this.__cbOnceCollideBody&&(this.__cbOnceCollideBody=[]),this.__cbOnceCollideBody.push(n)},offCollideBody:function(e){if(null!=e){var n;null!=this.__cbOnCollideBody&&-1!=(n=this.__cbOnCollideBody.indexOf(e))&&(this.__cbOnCollideBody.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCollideBody[n])&&s(),this.__cbOnOwnerUnbindCollideBody.splice(n,1)),null!=this.__cbOnceCollideBody&&-1!=(n=this.__cbOnceCollideBody.indexOf(e))&&(this.__cbOnceCollideBody.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCollideBody[n])&&s(),this.__cbOnceOwnerUnbindCollideBody.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCollideBody){for(var t=0,i=this.__cbOnOwnerUnbindCollideBody.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCollideBody[l])&&s()}this.__cbOnOwnerUnbindCollideBody=null}if(null!=this.__cbOnceOwnerUnbindCollideBody){for(t=0,i=this.__cbOnceOwnerUnbindCollideBody.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindCollideBody[l])&&s()}this.__cbOnceOwnerUnbindCollideBody=null}this.__cbOnCollideBody=null,this.__cbOnceCollideBody=null}},listensCollideBody:function(){return null!=this.__cbOnCollideBody&&this.__cbOnCollideBody.length>0||null!=this.__cbOnceCollideBody&&this.__cbOnceCollideBody.length>0},__cbOnOverlapBody:null,__cbOnceOverlapBody:null,__cbOnOwnerUnbindOverlapBody:null,__cbOnceOwnerUnbindOverlapBody:null,emitOverlapBody:function(e,n){var t=0;if(null!=this.__cbOnOverlapBody&&(t+=this.__cbOnOverlapBody.length),null!=this.__cbOnceOverlapBody&&(t+=this.__cbOnceOverlapBody.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOverlapBody)for(var r=0,a=this.__cbOnOverlapBody.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnOverlapBody[c],++s):--t}if(null!=this.__cbOnceOverlapBody){var h=null,u=null;for(r=0,a=this.__cbOnceOverlapBody.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceOverlapBody[c],this.__cbOnceOverlapBody[c]=null;var o=this.__cbOnceOwnerUnbindOverlapBody[c];this.__cbOnceOwnerUnbindOverlapBody[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindOverlapBody[c]),u.push(this.__cbOnceOverlapBody[c])}this.__cbOnceOwnerUnbindOverlapBody=h,this.__cbOnceOverlapBody=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onOverlapBody:function(e,n){var t=this;if(null==this.__cbOnOverlapBody&&null==this.__cbOnceOverlapBody&&null!=this.body&&(this.body.onOverlap=$bind(this,this.handleOverlap)),null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event overlapBody because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offOverlapBody(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindOverlapBody&&(this.__cbOnOwnerUnbindOverlapBody=[]),this.__cbOnOwnerUnbindOverlapBody.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindOverlapBody&&(this.__cbOnOwnerUnbindOverlapBody=[]),this.__cbOnOwnerUnbindOverlapBody.push(null);null==this.__cbOnOverlapBody&&(this.__cbOnOverlapBody=[]),this.__cbOnOverlapBody.push(n)},onceOverlapBody:function(e,n){var t=this;if(null==this.__cbOnOverlapBody&&null==this.__cbOnceOverlapBody&&null!=this.body&&(this.body.onOverlap=$bind(this,this.handleOverlap)),null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event overlapBody because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offOverlapBody(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindOverlapBody&&(this.__cbOnceOwnerUnbindOverlapBody=[]),this.__cbOnceOwnerUnbindOverlapBody.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindOverlapBody&&(this.__cbOnceOwnerUnbindOverlapBody=[]),this.__cbOnceOwnerUnbindOverlapBody.push(null);null==this.__cbOnceOverlapBody&&(this.__cbOnceOverlapBody=[]),this.__cbOnceOverlapBody.push(n)},offOverlapBody:function(e){if(null!=e){var n;null!=this.__cbOnOverlapBody&&-1!=(n=this.__cbOnOverlapBody.indexOf(e))&&(this.__cbOnOverlapBody.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOverlapBody[n])&&s(),this.__cbOnOwnerUnbindOverlapBody.splice(n,1)),null!=this.__cbOnceOverlapBody&&-1!=(n=this.__cbOnceOverlapBody.indexOf(e))&&(this.__cbOnceOverlapBody.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOverlapBody[n])&&s(),this.__cbOnceOwnerUnbindOverlapBody.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverlapBody){for(var t=0,i=this.__cbOnOwnerUnbindOverlapBody.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOverlapBody[l])&&s()}this.__cbOnOwnerUnbindOverlapBody=null}if(null!=this.__cbOnceOwnerUnbindOverlapBody){for(t=0,i=this.__cbOnceOwnerUnbindOverlapBody.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindOverlapBody[l])&&s()}this.__cbOnceOwnerUnbindOverlapBody=null}this.__cbOnOverlapBody=null,this.__cbOnceOverlapBody=null}},listensOverlapBody:function(){return null!=this.__cbOnOverlapBody&&this.__cbOnOverlapBody.length>0||null!=this.__cbOnceOverlapBody&&this.__cbOnceOverlapBody.length>0},__cbOnCollide:null,__cbOnceCollide:null,__cbOnOwnerUnbindCollide:null,__cbOnceOwnerUnbindCollide:null,emitCollide:function(e,n){var t=0;if(null!=this.__cbOnCollide&&(t+=this.__cbOnCollide.length),null!=this.__cbOnceCollide&&(t+=this.__cbOnceCollide.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnCollide)for(var r=0,a=this.__cbOnCollide.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnCollide[c],++s):--t}if(null!=this.__cbOnceCollide){var h=null,u=null;for(r=0,a=this.__cbOnceCollide.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceCollide[c],this.__cbOnceCollide[c]=null;var o=this.__cbOnceOwnerUnbindCollide[c];this.__cbOnceOwnerUnbindCollide[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindCollide[c]),u.push(this.__cbOnceCollide[c])}this.__cbOnceOwnerUnbindCollide=h,this.__cbOnceCollide=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onCollide:function(e,n){var t=this;if(null==this.__cbOnCollide&&null==this.__cbOnceCollide&&null!=this.body&&(this.body.onCollide=$bind(this,this.handleCollide)),null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event collide because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCollide(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindCollide&&(this.__cbOnOwnerUnbindCollide=[]),this.__cbOnOwnerUnbindCollide.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindCollide&&(this.__cbOnOwnerUnbindCollide=[]),this.__cbOnOwnerUnbindCollide.push(null);null==this.__cbOnCollide&&(this.__cbOnCollide=[]),this.__cbOnCollide.push(n)},onceCollide:function(e,n){var t=this;if(null==this.__cbOnCollide&&null==this.__cbOnceCollide&&null!=this.body&&(this.body.onCollide=$bind(this,this.handleCollide)),null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event collide because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCollide(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindCollide&&(this.__cbOnceOwnerUnbindCollide=[]),this.__cbOnceOwnerUnbindCollide.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindCollide&&(this.__cbOnceOwnerUnbindCollide=[]),this.__cbOnceOwnerUnbindCollide.push(null);null==this.__cbOnceCollide&&(this.__cbOnceCollide=[]),this.__cbOnceCollide.push(n)},offCollide:function(e){if(null!=e){var n;null!=this.__cbOnCollide&&-1!=(n=this.__cbOnCollide.indexOf(e))&&(this.__cbOnCollide.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCollide[n])&&s(),this.__cbOnOwnerUnbindCollide.splice(n,1)),null!=this.__cbOnceCollide&&-1!=(n=this.__cbOnceCollide.indexOf(e))&&(this.__cbOnceCollide.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCollide[n])&&s(),this.__cbOnceOwnerUnbindCollide.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCollide){for(var t=0,i=this.__cbOnOwnerUnbindCollide.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCollide[l])&&s()}this.__cbOnOwnerUnbindCollide=null}if(null!=this.__cbOnceOwnerUnbindCollide){for(t=0,i=this.__cbOnceOwnerUnbindCollide.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindCollide[l])&&s()}this.__cbOnceOwnerUnbindCollide=null}this.__cbOnCollide=null,this.__cbOnceCollide=null}},listensCollide:function(){return null!=this.__cbOnCollide&&this.__cbOnCollide.length>0||null!=this.__cbOnceCollide&&this.__cbOnceCollide.length>0},__cbOnOverlap:null,__cbOnceOverlap:null,__cbOnOwnerUnbindOverlap:null,__cbOnceOwnerUnbindOverlap:null,emitOverlap:function(e,n){var t=0;if(null!=this.__cbOnOverlap&&(t+=this.__cbOnOverlap.length),null!=this.__cbOnceOverlap&&(t+=this.__cbOnceOverlap.length),t>0){var i=ceramic_ArrayPool.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOverlap)for(var r=0,a=this.__cbOnOverlap.length;r<a;){var c=r++;!0?(l.vector[s]=this.__cbOnOverlap[c],++s):--t}if(null!=this.__cbOnceOverlap){var h=null,u=null;for(r=0,a=this.__cbOnceOverlap.length;r<a;){c=r++;if(!0){l.vector[s]=this.__cbOnceOverlap[c],this.__cbOnceOverlap[c]=null;var o=this.__cbOnceOwnerUnbindOverlap[c];this.__cbOnceOwnerUnbindOverlap[c]=null,null!=o&&o(),++s}else--t,null==h&&(h=[],u=[],[]),h.push(this.__cbOnceOwnerUnbindOverlap[c]),u.push(this.__cbOnceOverlap[c])}this.__cbOnceOwnerUnbindOverlap=h,this.__cbOnceOverlap=u}for(r=0,a=t;r<a;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}},onOverlap:function(e,n){var t=this;if(null==this.__cbOnOverlap&&null==this.__cbOnceOverlap&&null!=this.body&&(this.body.onOverlap=$bind(this,this.handleOverlap)),null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event overlap because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offOverlap(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindOverlap&&(this.__cbOnOwnerUnbindOverlap=[]),this.__cbOnOwnerUnbindOverlap.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindOverlap&&(this.__cbOnOwnerUnbindOverlap=[]),this.__cbOnOwnerUnbindOverlap.push(null);null==this.__cbOnOverlap&&(this.__cbOnOverlap=[]),this.__cbOnOverlap.push(n)},onceOverlap:function(e,n){var t=this;if(null==this.__cbOnOverlap&&null==this.__cbOnceOverlap&&null!=this.body&&(this.body.onOverlap=$bind(this,this.handleOverlap)),null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event overlap because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offOverlap(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindOverlap&&(this.__cbOnceOwnerUnbindOverlap=[]),this.__cbOnceOwnerUnbindOverlap.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindOverlap&&(this.__cbOnceOwnerUnbindOverlap=[]),this.__cbOnceOwnerUnbindOverlap.push(null);null==this.__cbOnceOverlap&&(this.__cbOnceOverlap=[]),this.__cbOnceOverlap.push(n)},offOverlap:function(e){if(null!=e){var n;null!=this.__cbOnOverlap&&-1!=(n=this.__cbOnOverlap.indexOf(e))&&(this.__cbOnOverlap.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOverlap[n])&&s(),this.__cbOnOwnerUnbindOverlap.splice(n,1)),null!=this.__cbOnceOverlap&&-1!=(n=this.__cbOnceOverlap.indexOf(e))&&(this.__cbOnceOverlap.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOverlap[n])&&s(),this.__cbOnceOwnerUnbindOverlap.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverlap){for(var t=0,i=this.__cbOnOwnerUnbindOverlap.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOverlap[l])&&s()}this.__cbOnOwnerUnbindOverlap=null}if(null!=this.__cbOnceOwnerUnbindOverlap){for(t=0,i=this.__cbOnceOwnerUnbindOverlap.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindOverlap[l])&&s()}this.__cbOnceOwnerUnbindOverlap=null}this.__cbOnOverlap=null,this.__cbOnceOverlap=null}},listensOverlap:function(){return null!=this.__cbOnOverlap&&this.__cbOnOverlap.length>0||null!=this.__cbOnceOverlap&&this.__cbOnceOverlap.length>0},__cbOnWorldBounds:null,__cbOnceWorldBounds:null,__cbOnOwnerUnbindWorldBounds:null,__cbOnceOwnerUnbindWorldBounds:null,emitWorldBounds:function(e,n,t,i,l){var s=0;if(null!=this.__cbOnWorldBounds&&(s+=this.__cbOnWorldBounds.length),null!=this.__cbOnceWorldBounds&&(s+=this.__cbOnceWorldBounds.length),s>0){var r=ceramic_ArrayPool.pool(s),a=r.get(),c=0;if(null!=this.__cbOnWorldBounds)for(var h=0,u=this.__cbOnWorldBounds.length;h<u;){var o=h++;!0?(a.vector[c]=this.__cbOnWorldBounds[o],++c):--s}if(null!=this.__cbOnceWorldBounds){var _=null,d=null;for(h=0,u=this.__cbOnceWorldBounds.length;h<u;){o=h++;if(!0){a.vector[c]=this.__cbOnceWorldBounds[o],this.__cbOnceWorldBounds[o]=null;var b=this.__cbOnceOwnerUnbindWorldBounds[o];this.__cbOnceOwnerUnbindWorldBounds[o]=null,null!=b&&b(),++c}else--s,null==_&&(_=[],d=[],[]),_.push(this.__cbOnceOwnerUnbindWorldBounds[o]),d.push(this.__cbOnceWorldBounds[o])}this.__cbOnceOwnerUnbindWorldBounds=_,this.__cbOnceWorldBounds=d}for(h=0,u=s;h<u;){c=h++;(0,a.vector[c])(e,n,t,i,l)}r.release(a),a=null}},onWorldBounds:function(e,n){var t=this;if(null==this.__cbOnWorldBounds&&null==this.__cbOnceWorldBounds&&null!=this.body&&(this.body.onWorldBounds=$bind(this,this.handleWorldBounds)),null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event worldBounds because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWorldBounds(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindWorldBounds&&(this.__cbOnOwnerUnbindWorldBounds=[]),this.__cbOnOwnerUnbindWorldBounds.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindWorldBounds&&(this.__cbOnOwnerUnbindWorldBounds=[]),this.__cbOnOwnerUnbindWorldBounds.push(null);null==this.__cbOnWorldBounds&&(this.__cbOnWorldBounds=[]),this.__cbOnWorldBounds.push(n)},onceWorldBounds:function(e,n){var t=this;if(null==this.__cbOnWorldBounds&&null==this.__cbOnceWorldBounds&&null!=this.body&&(this.body.onWorldBounds=$bind(this,this.handleWorldBounds)),null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event worldBounds because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWorldBounds(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindWorldBounds&&(this.__cbOnceOwnerUnbindWorldBounds=[]),this.__cbOnceOwnerUnbindWorldBounds.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindWorldBounds&&(this.__cbOnceOwnerUnbindWorldBounds=[]),this.__cbOnceOwnerUnbindWorldBounds.push(null);null==this.__cbOnceWorldBounds&&(this.__cbOnceWorldBounds=[]),this.__cbOnceWorldBounds.push(n)},offWorldBounds:function(e){if(null!=e){var n;null!=this.__cbOnWorldBounds&&-1!=(n=this.__cbOnWorldBounds.indexOf(e))&&(this.__cbOnWorldBounds.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWorldBounds[n])&&s(),this.__cbOnOwnerUnbindWorldBounds.splice(n,1)),null!=this.__cbOnceWorldBounds&&-1!=(n=this.__cbOnceWorldBounds.indexOf(e))&&(this.__cbOnceWorldBounds.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWorldBounds[n])&&s(),this.__cbOnceOwnerUnbindWorldBounds.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWorldBounds){for(var t=0,i=this.__cbOnOwnerUnbindWorldBounds.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWorldBounds[l])&&s()}this.__cbOnOwnerUnbindWorldBounds=null}if(null!=this.__cbOnceOwnerUnbindWorldBounds){for(t=0,i=this.__cbOnceOwnerUnbindWorldBounds.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindWorldBounds[l])&&s()}this.__cbOnceOwnerUnbindWorldBounds=null}this.__cbOnWorldBounds=null,this.__cbOnceWorldBounds=null}},listensWorldBounds:function(){return null!=this.__cbOnWorldBounds&&this.__cbOnWorldBounds.length>0||null!=this.__cbOnceWorldBounds&&this.__cbOnceWorldBounds.length>0},visual:null,body:null,world:null,offsetX:null,offsetY:null,initBody:function(e,n,t,i,l){this.body=new arcade_Body(e,n,t,i,l),this.body.data=this},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.visual&&(this.visual.arcade==this&&this.visual.set_arcade(null),this.visual=null),null!=this.body&&(this.body.destroy(),this.body=null),ceramic_App.app.arcade._freezeItems?ceramic_App.app.arcade._destroyedItems.push(this):HxOverrides.remove(ceramic_App.app.arcade.items,this))},willListenCollideBody:function(){null!=this.body&&(this.body.onCollide=$bind(this,this.handleCollide))},willListenCollide:function(){null!=this.body&&(this.body.onCollide=$bind(this,this.handleCollide))},willListenOverlapBody:function(){null!=this.body&&(this.body.onOverlap=$bind(this,this.handleOverlap))},willListenOverlap:function(){null!=this.body&&(this.body.onOverlap=$bind(this,this.handleOverlap))},willListenWorldBounds:function(){null!=this.body&&(this.body.onWorldBounds=$bind(this,this.handleWorldBounds))},handleCollide:function(e,n){var t=ceramic_VisualArcadePhysics.fromBody(e),i=ceramic_VisualArcadePhysics.fromBody(n),l=null!=t?t.visual:null,s=null!=i?i.visual:null;null!=l?(this.emitCollideBody(l,n),null!=s&&this.emitCollide(l,s)):ceramic_App.app.logger.warning("Invalid body collide event: failed to retrieve visual from body.",{fileName:"/home/sharpcdf/ceramic/plugins/arcade/runtime/src/ceramic/VisualArcadePhysics.hx",lineNumber:121,className:"ceramic.VisualArcadePhysics",methodName:"handleCollide"})},handleOverlap:function(e,n){var t=ceramic_VisualArcadePhysics.fromBody(e),i=ceramic_VisualArcadePhysics.fromBody(n),l=null!=t?t.visual:null,s=null!=i?i.visual:null;null!=l?(this.emitOverlapBody(l,n),null!=s&&this.emitOverlap(l,s)):ceramic_App.app.logger.warning("Invalid body overlap event: failed to retrieve visual from body.",{fileName:"/home/sharpcdf/ceramic/plugins/arcade/runtime/src/ceramic/VisualArcadePhysics.hx",lineNumber:140,className:"ceramic.VisualArcadePhysics",methodName:"handleOverlap"})},handleWorldBounds:function(e,n,t,i,l){var s=ceramic_VisualArcadePhysics.fromBody(e),r=null!=s?s.visual:null;null!=r?this.emitWorldBounds(r,n,t,i,l):ceramic_App.app.logger.warning("Invalid body worldBounds event: failed to retrieve visual from body.",{fileName:"/home/sharpcdf/ceramic/plugins/arcade/runtime/src/ceramic/VisualArcadePhysics.hx",lineNumber:154,className:"ceramic.VisualArcadePhysics",methodName:"handleWorldBounds"})},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offCollideBody(),this.offOverlapBody(),this.offCollide(),this.offOverlap(),this.offWorldBounds()},__class__:ceramic_VisualArcadePhysics});var ceramic_WatchDirectory=function(e){null==e&&(e=1),this.chokidarWatchers=null,this.chokidarUpdatedFilesByWatchedDirectory=null,this.startingToWatchDirectories=null,this.watchedDirectories=null,ceramic_Entity.call(this),ceramic_WatchDirectory.didTryRequireChokidar||(ceramic_WatchDirectory.didTryRequireChokidar=!0,ceramic_WatchDirectory.fs=ceramic_PlatformSpecific.nodeRequire("fs"),null!=ceramic_WatchDirectory.fs&&(ceramic_WatchDirectory.chokidar=ceramic_PlatformSpecific.nodeRequire("chokidar"))),this.updateInterval=e,ceramic_Timer.schedule(this,e,$bind(this,this.tick),e)};t["ceramic.WatchDirectory"]=ceramic_WatchDirectory,ceramic_WatchDirectory.__name__="ceramic.WatchDirectory",ceramic_WatchDirectory.__super__=ceramic_Entity,ceramic_WatchDirectory.prototype=$extend(ceramic_Entity.prototype,{__cbOnDirectoryChange:null,__cbOnceDirectoryChange:null,__cbOnOwnerUnbindDirectoryChange:null,__cbOnceOwnerUnbindDirectoryChange:null,emitDirectoryChange:function(e,n,t){var i=0;if(null!=this.__cbOnDirectoryChange&&(i+=this.__cbOnDirectoryChange.length),null!=this.__cbOnceDirectoryChange&&(i+=this.__cbOnceDirectoryChange.length),i>0){var l=ceramic_ArrayPool.pool(i),s=l.get(),r=0;if(null!=this.__cbOnDirectoryChange)for(var a=0,c=this.__cbOnDirectoryChange.length;a<c;){var h=a++;!0?(s.vector[r]=this.__cbOnDirectoryChange[h],++r):--i}if(null!=this.__cbOnceDirectoryChange){var u=null,o=null;for(a=0,c=this.__cbOnceDirectoryChange.length;a<c;){h=a++;if(!0){s.vector[r]=this.__cbOnceDirectoryChange[h],this.__cbOnceDirectoryChange[h]=null;var _=this.__cbOnceOwnerUnbindDirectoryChange[h];this.__cbOnceOwnerUnbindDirectoryChange[h]=null,null!=_&&_(),++r}else--i,null==u&&(u=[],o=[],[]),u.push(this.__cbOnceOwnerUnbindDirectoryChange[h]),o.push(this.__cbOnceDirectoryChange[h])}this.__cbOnceOwnerUnbindDirectoryChange=u,this.__cbOnceDirectoryChange=o}for(a=0,c=i;a<c;){r=a++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}},onDirectoryChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event directoryChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDirectoryChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDirectoryChange&&(this.__cbOnOwnerUnbindDirectoryChange=[]),this.__cbOnOwnerUnbindDirectoryChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDirectoryChange&&(this.__cbOnOwnerUnbindDirectoryChange=[]),this.__cbOnOwnerUnbindDirectoryChange.push(null);null==this.__cbOnDirectoryChange&&(this.__cbOnDirectoryChange=[]),this.__cbOnDirectoryChange.push(n)},onceDirectoryChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event directoryChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDirectoryChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDirectoryChange&&(this.__cbOnceOwnerUnbindDirectoryChange=[]),this.__cbOnceOwnerUnbindDirectoryChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDirectoryChange&&(this.__cbOnceOwnerUnbindDirectoryChange=[]),this.__cbOnceOwnerUnbindDirectoryChange.push(null);null==this.__cbOnceDirectoryChange&&(this.__cbOnceDirectoryChange=[]),this.__cbOnceDirectoryChange.push(n)},offDirectoryChange:function(e){if(null!=e){var n;null!=this.__cbOnDirectoryChange&&-1!=(n=this.__cbOnDirectoryChange.indexOf(e))&&(this.__cbOnDirectoryChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDirectoryChange[n])&&s(),this.__cbOnOwnerUnbindDirectoryChange.splice(n,1)),null!=this.__cbOnceDirectoryChange&&-1!=(n=this.__cbOnceDirectoryChange.indexOf(e))&&(this.__cbOnceDirectoryChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDirectoryChange[n])&&s(),this.__cbOnceOwnerUnbindDirectoryChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDirectoryChange){for(var t=0,i=this.__cbOnOwnerUnbindDirectoryChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDirectoryChange[l])&&s()}this.__cbOnOwnerUnbindDirectoryChange=null}if(null!=this.__cbOnceOwnerUnbindDirectoryChange){for(t=0,i=this.__cbOnceOwnerUnbindDirectoryChange.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindDirectoryChange[l])&&s()}this.__cbOnceOwnerUnbindDirectoryChange=null}this.__cbOnDirectoryChange=null,this.__cbOnceDirectoryChange=null}},listensDirectoryChange:function(){return null!=this.__cbOnDirectoryChange&&this.__cbOnDirectoryChange.length>0||null!=this.__cbOnceDirectoryChange&&this.__cbOnceDirectoryChange.length>0},updateInterval:null,watchedDirectories:null,startingToWatchDirectories:null,chokidarUpdatedFilesByWatchedDirectory:null,chokidarWatchers:null,watchDirectory:function(e){var n=this;null==this.watchedDirectories&&(this.watchedDirectories=new haxe_ds_StringMap),null==this.startingToWatchDirectories&&(this.startingToWatchDirectories=new haxe_ds_StringMap),this.startingToWatchDirectories.h[e]=!0,ceramic_Runner.runInBackground((function(){var t=n.computeFilesModificationTime(e);ceramic_Runner.runInMain((function(){if(Object.prototype.hasOwnProperty.call(n.startingToWatchDirectories.h,e)){var i=n.startingToWatchDirectories;Object.prototype.hasOwnProperty.call(i.h,e)&&delete i.h[e],n.watchedDirectories.h[e]=t,null!=ceramic_WatchDirectory.chokidar&&(null==n.chokidarUpdatedFilesByWatchedDirectory&&(n.chokidarUpdatedFilesByWatchedDirectory=new haxe_ds_StringMap),n.chokidarUpdatedFilesByWatchedDirectory.h[e]=[],n.watchWithChokidar(e))}}))}))},watchWithChokidar:function(e){var n=this,t=ceramic_WatchDirectory.chokidar.watch(".",{ignoreInitial:!0,disableGlobbing:!0,cwd:e});null==this.chokidarWatchers&&(this.chokidarWatchers=new haxe_ds_StringMap),Object.prototype.hasOwnProperty.call(this.chokidarWatchers.h,e)&&this.chokidarWatchers.h[e].close(),this.chokidarWatchers.h[e]=t,t.on("add",(function(t){var i=ceramic_WatchDirectory.fs.statSync(ceramic_Path.join([e,t]));i.isDirectory()||n.chokidarUpdatedFilesByWatchedDirectory.h[e].push({status:0,lastModified:i.mtime.getTime()/1e3,name:t})})),t.on("change",(function(t){var i=ceramic_WatchDirectory.fs.statSync(ceramic_Path.join([e,t]));i.isDirectory()||n.chokidarUpdatedFilesByWatchedDirectory.h[e].push({status:1,lastModified:i.mtime.getTime()/1e3,name:t})})),t.on("unlink",(function(t){n.chokidarUpdatedFilesByWatchedDirectory.h[e].push({status:2,lastModified:-1,name:t})}))},stopWatchingDirectory:function(e){if(null!=this.chokidarWatchers&&Object.prototype.hasOwnProperty.call(this.chokidarWatchers.h,e)){this.chokidarWatchers.h[e].close();var n=this.chokidarWatchers;Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e]}if(null==this.watchedDirectories&&Object.prototype.hasOwnProperty.call(this.watchedDirectories.h,e)){n=this.watchedDirectories;if(Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],null!=this.startingToWatchDirectories&&Object.prototype.hasOwnProperty.call(this.startingToWatchDirectories.h,e)){n=this.startingToWatchDirectories;Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e]}return!0}if(null!=this.startingToWatchDirectories&&Object.prototype.hasOwnProperty.call(this.startingToWatchDirectories.h,e)){n=this.startingToWatchDirectories;return Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],!0}return!1},tick:function(){if(null!=this.watchedDirectories){for(var e=[],n=this.watchedDirectories.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s=t[l++];e.push(s)}for(var r=0;r<e.length;){s=e[r];++r,this.checkWatchedDirectory(s)}}},checkWatchedDirectory:function(e){var n=this;if(null!=ceramic_WatchDirectory.chokidar){if(Object.prototype.hasOwnProperty.call(this.chokidarUpdatedFilesByWatchedDirectory.h,e)){var t=this.chokidarUpdatedFilesByWatchedDirectory.h[e];if(t.length>0){for(var i=this.watchedDirectories.h[e],l=new haxe_ds_StringMap,s=i.h,r=s,a=Object.keys(s),c=a.length,h=0;h<c;){var u=b=a[h++],o=r[b];l.h[u]=o}for(var _=0;_<t.length;){var d=t[_];switch(++_,d.status){case 0:case 1:l.h[d.name]=d.lastModified;break;case 2:var b=d.name;Object.prototype.hasOwnProperty.call(l.h,b)&&delete l.h[b]}}Object.prototype.hasOwnProperty.call(this.watchedDirectories.h,e)&&(this.watchedDirectories.h[e]=l,this.emitDirectoryChange(e,l,i)),t.splice(0,t.length)}}}else{i=this.watchedDirectories.h[e];ceramic_Runner.runInBackground((function(){for(var t=n.computeFilesModificationTime(e),l=!1,s=u=t.h,r=(o=Object.keys(u)).length,a=0;a<r;){var c=_=o[a++],h=s[_];if(!Object.prototype.hasOwnProperty.call(i.h,c)){l=!0;break}if(h>i.h[c]){l=!0;break}}if(!l){var u,o;for(s=u=i.h,r=(o=Object.keys(u)).length,a=0;a<r;){var _;c=_=o[a++],h=s[_];if(!Object.prototype.hasOwnProperty.call(t.h,c)){l=!0;break}}}l&&ceramic_Runner.runInMain((function(){Object.prototype.hasOwnProperty.call(n.watchedDirectories.h,e)&&(n.watchedDirectories.h[e]=t,n.emitDirectoryChange(e,t,i))}))}))}},computeFilesModificationTime:function(e){for(var n=new haxe_ds_StringMap,t=0,i=ceramic_Files.getFlatDirectory(e);t<i.length;){var l=i[t];++t;var s=ceramic_Files.getLastModified(ceramic_Path.join([e,l]));n.h[l]=s}return n},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offDirectoryChange()},__class__:ceramic_WatchDirectory});var ceramic_macros_DefinesMacro=function(){};t["ceramic.macros.DefinesMacro"]=ceramic_macros_DefinesMacro,ceramic_macros_DefinesMacro.__name__="ceramic.macros.DefinesMacro",ceramic_macros_DefinesMacro._stringToBool=function(e){return null!=e&&("true"==(e=e.toLowerCase())||"1"==e)};var ceramic_macros_PluginsMacro=function(){};t["ceramic.macros.PluginsMacro"]=ceramic_macros_PluginsMacro,ceramic_macros_PluginsMacro.__name__="ceramic.macros.PluginsMacro";var clay_BackgroundQueue=function(e){null==e&&(e=.05),this.pending=[],this.stop=!1,this.runsInBackground=!1,this.checkInterval=e};t["clay.BackgroundQueue"]=clay_BackgroundQueue,clay_BackgroundQueue.__name__="clay.BackgroundQueue",clay_BackgroundQueue.prototype={checkInterval:null,runsInBackground:null,stop:null,pending:null,schedule:function(e){ceramic_App.app._onceImmediate(e)},destroy:function(){this.stop=!0},__class__:clay_BackgroundQueue};var clay_Clay=function(e,n){this.windowInBackground=!1,this.ready=!1,this.freeze=!1,this.nextTick=0,this.immediateShutdown=!1,this.timestamp=-1,this.hasShutdown=!1,this.shuttingDown=!1,clay_Clay.app=this,clay_Runner.init(),this.extractAppId(),this.config=this.defaultConfig(),e(this.config),this.events=n,this.io=new clay_web_WebIO(this),clay_Immediate.flush(),this.assets=new clay_web_WebAssets(this),clay_Immediate.flush(),this.audio=new clay_web_WebAudio(this),clay_Immediate.flush(),this.input=new clay_Input(this),clay_Immediate.flush(),this.runtime=new clay_web_WebRuntime(this),clay_Immediate.flush(),this.backgroundQueue=new clay_BackgroundQueue,this.init()};t["clay.Clay"]=clay_Clay,clay_Clay.__name__="clay.Clay",clay_Clay.prototype={config:null,events:null,io:null,assets:null,audio:null,input:null,runtime:null,shuttingDown:null,hasShutdown:null,timestamp:null,appId:null,screenWidth:null,screenHeight:null,screenDensity:null,backgroundQueue:null,immediateShutdown:null,nextTick:null,freeze:null,set_freeze:function(e){return this.freeze=e,e?(this.events.freeze(),this.audio.suspend()):(this.events.unfreeze(),this.audio.resume()),e},ready:null,init:function(){clay_Log.debug("Clay / init",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/Clay.hx",lineNumber:160,className:"clay.Clay",methodName:"init"}),this.io.init(),clay_Immediate.flush(),this.audio.init(),clay_Immediate.flush(),this.input.init(),clay_Immediate.flush(),this.runtime.init(),clay_Immediate.flush(),clay_Log.debug("Clay / ready",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/Clay.hx",lineNumber:174,className:"clay.Clay",methodName:"init"}),this.runtime.ready(),clay_Immediate.flush(),this.audio.ready(),clay_Immediate.flush(),this.timestamp=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,this.ready=!0,this.nextTick=this.timestamp,this.updateScreen(),this.events.ready(),!this.runtime.run()||this.hasShutdown||this.shuttingDown||this.shutdown()},shutdown:function(){if(this.shuttingDown)clay_Log.debug("Clay / shutdown() called again, already shutting down - ignoring",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/Clay.hx",lineNumber:199,className:"clay.Clay",methodName:"shutdown"});else{if(this.hasShutdown)throw haxe_Exception.thrown("Clay / calling shutdown() more than once is disallowed");this.shuttingDown=!0,this.io.shutdown(),this.audio.shutdown(),this.input.shutdown(),this.runtime.shutdown(this.immediateShutdown),clay_Log.debug("Clay / shutdown",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/Clay.hx",lineNumber:215,className:"clay.Clay",methodName:"shutdown"}),this.hasShutdown=!0}},emitQuit:function(){this.shutdown()},shouldUpdate:function(e){if(this.config.updateRate>0){if(e<this.nextTick)return!1;for(;this.nextTick<=e;)this.nextTick+=this.config.updateRate}else this.nextTick=e;return!0},emitTick:function(e){if(!this.freeze&&(clay_Runner.tick(),clay_Immediate.flush(),this.updateScreen(),!this.shuttingDown&&this.ready)){var n=e-this.timestamp;this.timestamp=e,this.audio.tick(n),this.events.tick(n)}},emitWindowEvent:function(e,n,t,i,l){this.events.windowEvent(e,n,t,i,l)},emitAppEvent:function(e){this.events.appEvent(e)},windowInBackground:null,extractAppId:function(){var e='"flappy"';StringTools.startsWith(e,'"')?this.appId=JSON.parse(e):this.appId=e},defaultConfig:function(){var e=clay_web_WebRuntime.defaultConfig();return new clay_Config(this.defaultWindowConfig(),this.defaultRenderConfig(),e,null)},defaultWindowConfig:function(){return new clay_WindowConfig(!1,!1,!0,!1,536805376,536805376,960,640,"clay app",!1,.06666666666666667)},defaultRenderConfig:function(){return new clay_RenderConfig(0,0,0,8,8,8,8,new clay_graphics_Color(0,0,0,1),new clay_RenderConfigWebGL(1,null,null,null,null,null,null,null,null))},defaultRuntimeConfig:function(){return new clay_web_WebConfig(null,null,null,null,null,null,null)},copyWindowConfig:function(e){return new clay_WindowConfig(e.fullscreen,e.trueFullscreen,e.resizable,e.borderless,e.x,e.y,e.width,e.height,""+e.title,e.noInput,e.backgroundSleep)},copyRenderConfig:function(e){return new clay_RenderConfig(e.depth,e.stencil,e.antialiasing,e.redBits,e.greenBits,e.blueBits,e.alphaBits,new clay_graphics_Color(e.defaultClear.r,e.defaultClear.g,e.defaultClear.b,e.defaultClear.a),new clay_RenderConfigWebGL(e.webgl.version,null,null,null,null,null,null,null,null))},updateScreen:function(){this.screenDensity=clay_Clay.app.runtime.windowDevicePixelRatio();var e=clay_Clay.app.runtime;this.screenWidth=Math.round(Math.round(e.windowW*e.windowDevicePixelRatio())/this.screenDensity);e=clay_Clay.app.runtime;this.screenHeight=Math.round(Math.round(e.windowH*e.windowDevicePixelRatio())/this.screenDensity)},__class__:clay_Clay,__properties__:{set_freeze:"set_freeze"}};var clay_RenderConfig=function(e,n,t,i,l,s,r,a,c){this.webgl=null,this.defaultClear=new clay_graphics_Color(0,0,0,1),this.alphaBits=8,this.blueBits=8,this.greenBits=8,this.redBits=8,this.antialiasing=0,this.stencil=0,this.depth=0,null!=e&&(this.depth=e),null!=n&&(this.stencil=n),null!=t&&(this.antialiasing=t),null!=i&&(this.redBits=i),null!=l&&(this.greenBits=l),null!=s&&(this.blueBits=s),null!=r&&(this.alphaBits=r),null!=a&&(this.defaultClear=a),null!=c&&(this.webgl=c)};t["clay.RenderConfig"]=clay_RenderConfig,clay_RenderConfig.__name__="clay.RenderConfig",clay_RenderConfig.prototype={depth:null,stencil:null,antialiasing:null,redBits:null,greenBits:null,blueBits:null,alphaBits:null,defaultClear:null,webgl:null,__class__:clay_RenderConfig};var clay_RenderConfigWebGL=function(e,n,t,i,l,s,r,a,c){this.failIfMajorPerformanceCaveat=!1,this.preferLowPowerToHighPerformance=!1,this.preserveDrawingBuffer=!1,this.premultipliedAlpha=!1,this.antialias=!0,this.stencil=!1,this.depth=!0,this.alpha=!1,this.version=1,null!=e&&(this.version=e),null!=n&&(this.alpha=n),null!=t&&(this.depth=t),null!=i&&(this.stencil=i),null!=l&&(this.antialias=l),null!=s&&(this.premultipliedAlpha=s),null!=r&&(this.preserveDrawingBuffer=r),null!=a&&(this.preferLowPowerToHighPerformance=a),null!=c&&(this.failIfMajorPerformanceCaveat=c)};t["clay.RenderConfigWebGL"]=clay_RenderConfigWebGL,clay_RenderConfigWebGL.__name__="clay.RenderConfigWebGL",clay_RenderConfigWebGL.prototype={version:null,alpha:null,depth:null,stencil:null,antialias:null,premultipliedAlpha:null,preserveDrawingBuffer:null,preferLowPowerToHighPerformance:null,failIfMajorPerformanceCaveat:null,__class__:clay_RenderConfigWebGL};var clay_WindowConfig=function(e,n,t,i,l,s,r,a,c,h,u){this.backgroundSleep=.06666666666666667,this.noInput=!1,this.title=null,this.height=640,this.width=960,this.y=0,this.x=0,this.borderless=!1,this.resizable=!0,this.trueFullscreen=!1,this.fullscreen=!1,null!=e&&(this.fullscreen=e),null!=n&&(this.trueFullscreen=n),null!=t&&(this.resizable=t),null!=i&&(this.borderless=i),null!=l&&(this.x=l),null!=s&&(this.y=s),null!=r&&(this.width=r),null!=a&&(this.height=a),null!=c&&(this.title=c),null!=h&&(this.noInput=h),null!=u&&(this.backgroundSleep=u)};t["clay.WindowConfig"]=clay_WindowConfig,clay_WindowConfig.__name__="clay.WindowConfig",clay_WindowConfig.prototype={fullscreen:null,trueFullscreen:null,resizable:null,borderless:null,x:null,y:null,width:null,height:null,title:null,noInput:null,backgroundSleep:null,__class__:clay_WindowConfig};var clay_Config=function(e,n,t,i){this.updateRate=0,this.runtime=null,this.render=null,this.window=null,null!=e&&(this.window=e),null!=n&&(this.render=n),null!=t&&(this.runtime=t),null!=i&&(this.updateRate=i)};t["clay.Config"]=clay_Config,clay_Config.__name__="clay.Config",clay_Config.prototype={window:null,render:null,runtime:null,updateRate:null,__class__:clay_Config};var clay_Extensions=function(){};t["clay.Extensions"]=clay_Extensions,clay_Extensions.__name__="clay.Extensions",clay_Extensions.unsafeGet=function(e,n){return e[n]},clay_Extensions.unsafeSet=function(e,n,t){e[n]=t};var clay_Image=function(e,n,t,i,l,s,r){this.pixels=null,this.sourceBitsPerPixel=4,this.bitsPerPixel=4,this.heightActual=0,this.widthActual=0,this.height=0,this.width=0,null!=e&&(this.width=e),null!=n&&(this.height=n),null!=t&&(this.widthActual=t),null!=i&&(this.heightActual=i),null!=l&&(this.bitsPerPixel=l),null!=s&&(this.sourceBitsPerPixel=s),null!=r&&(this.pixels=r)};t["clay.Image"]=clay_Image,clay_Image.__name__="clay.Image",clay_Image.prototype={width:null,height:null,widthActual:null,heightActual:null,bitsPerPixel:null,sourceBitsPerPixel:null,pixels:null,premultiplyAlpha:function(){4==this.bitsPerPixel?clay_PremultiplyAlpha.premultiplyAlpha(this.pixels):clay_Log.warning("Can only premultiply alpha on images with 4 bits per pixels (RGBA)",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/Image.hx",lineNumber:29,className:"clay.Image",methodName:"premultiplyAlpha"})},reversePremultiplyAlpha:function(){4==this.bitsPerPixel?clay_PremultiplyAlpha.reversePremultiplyAlpha(this.pixels):clay_Log.warning("Can only reverse premultiply alpha on images with 4 bits per pixels (RGBA)",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/Image.hx",lineNumber:40,className:"clay.Image",methodName:"reversePremultiplyAlpha"})},__class__:clay_Image};var clay_Immediate=function(){};t["clay.Immediate"]=clay_Immediate,clay_Immediate.__name__="clay.Immediate",clay_Immediate.push=function(e){if(null==e)throw haxe_Exception.thrown("Immediate callback should not be null!");clay_Immediate.immediateCallbacksLen<clay_Immediate.immediateCallbacksCapacity?(clay_Immediate.immediateCallbacks[clay_Immediate.immediateCallbacksLen]=e,clay_Immediate.immediateCallbacksLen++):(clay_Immediate.immediateCallbacks[clay_Immediate.immediateCallbacksLen++]=e,clay_Immediate.immediateCallbacksCapacity++)},clay_Immediate.flush=function(){for(var e=!1;clay_Immediate.immediateCallbacksLen>0;){e=!0;var n=ceramic_ArrayPool.pool(clay_Immediate.immediateCallbacksLen),t=n.get(),i=clay_Immediate.immediateCallbacksLen;clay_Immediate.immediateCallbacksLen=0;for(var l=0,s=i;l<s;){var r=l++;t.vector[r]=clay_Immediate.immediateCallbacks[r],clay_Immediate.immediateCallbacks[r]=null}for(var a=0,c=i;a<c;){var h=a++;(0,t.vector[h])()}n.release(t)}return e};var clay_Input=function(e){this.app=e,this.modState=new clay_ModState,this.modState.none=!0};t["clay.Input"]=clay_Input,clay_Input.__name__="clay.Input",clay_Input.prototype={app:null,modState:null,init:function(){},shutdown:function(){},emitKeyDown:function(e,n,t,i,l,s){this.app.events.keyDown(e,n,t,i,l,s)},emitKeyUp:function(e,n,t,i,l,s){this.app.events.keyUp(e,n,t,i,l,s)},emitText:function(e,n,t,i,l,s){this.app.events.text(e,n,t,i,l,s)},emitMouseMove:function(e,n,t,i,l,s){this.app.events.mouseMove(e,n,t,i,l,s)},emitMouseDown:function(e,n,t,i,l){this.app.events.mouseDown(e,n,t,i,l)},emitMouseUp:function(e,n,t,i,l){this.app.events.mouseUp(e,n,t,i,l)},emitMouseWheel:function(e,n,t,i){this.app.events.mouseWheel(e,n,t,i)},emitTouchDown:function(e,n,t,i,l,s){this.app.events.touchDown(e,n,t,i,l,s)},emitTouchUp:function(e,n,t,i,l,s){this.app.events.touchUp(e,n,t,i,l,s)},emitTouchMove:function(e,n,t,i,l,s){this.app.events.touchMove(e,n,t,i,l,s)},emitGamepadAxis:function(e,n,t,i){this.app.events.gamepadAxis(e,n,t,i)},emitGamepadDown:function(e,n,t,i){this.app.events.gamepadDown(e,n,t,i)},emitGamepadUp:function(e,n,t,i){this.app.events.gamepadUp(e,n,t,i)},emitGamepadGyro:function(e,n,t,i,l){this.app.events.gamepadGyro(e,n,t,i,l)},emitGamepadDevice:function(e,n,t,i){this.app.events.gamepadDevice(e,n,t,i)},__class__:clay_Input};var w={$name:function(e){if(0!=(e&U.MASK))return U.$name(e&~U.MASK);switch(e){case 8:return U.$name(42);case 9:return U.$name(43);case 13:return U.$name(40);case 27:return U.$name(41);case 32:return U.$name(44);case 97:return U.$name(4);case 98:return U.$name(5);case 99:return U.$name(6);case 100:return U.$name(7);case 101:return U.$name(8);case 102:return U.$name(9);case 103:return U.$name(10);case 104:return U.$name(11);case 105:return U.$name(12);case 106:return U.$name(13);case 107:return U.$name(14);case 108:return U.$name(15);case 109:return U.$name(16);case 110:return U.$name(17);case 111:return U.$name(18);case 112:return U.$name(19);case 113:return U.$name(20);case 114:return U.$name(21);case 115:return U.$name(22);case 116:return U.$name(23);case 117:return U.$name(24);case 118:return U.$name(25);case 119:return U.$name(26);case 120:return U.$name(27);case 121:return U.$name(28);case 122:return U.$name(29);case 127:return U.$name(76);default:return String.fromCodePoint(e)}},toScanCode:function(e){if(0!=(e&U.MASK))return e&~U.MASK;switch(e){case 8:return 42;case 9:return 43;case 13:return 40;case 27:return 41;case 32:return 44;case 47:return 56;case 48:return 39;case 49:return 30;case 50:return 31;case 51:return 32;case 52:return 33;case 53:return 34;case 54:return 35;case 55:return 36;case 56:return 37;case 57:return 38;case 59:return 51;case 61:return 46;case 91:return 47;case 92:return 49;case 93:return 48;case 96:return 53;case 97:return 4;case 98:return 5;case 99:return 6;case 100:return 7;case 101:return 8;case 102:return 9;case 103:return 10;case 104:return 11;case 105:return 12;case 106:return 13;case 107:return 14;case 108:return 15;case 109:return 16;case 110:return 17;case 111:return 18;case 112:return 19;case 113:return 20;case 114:return 21;case 115:return 22;case 116:return 23;case 117:return 24;case 118:return 25;case 119:return 26;case 120:return 27;case 121:return 28;case 122:return 29}return 0},toString:function(e){return"KeyCode("+e+" "+w.$name(e)+")"}},clay_Log=function(){};t["clay.Log"]=clay_Log,clay_Log.__name__="clay.Log",clay_Log.debug=function(e,n){},clay_Log.info=function(e,n){haxe_Log.trace("[info] "+e,n)},clay_Log.warning=function(e,n){haxe_Log.trace("[warning] "+e,n)},clay_Log.error=function(e,n){haxe_Log.trace("[error] "+e,n)},clay_Log.success=function(e,n){haxe_Log.trace("[success] "+e,n)};var clay_Macros=function(){};t["clay.Macros"]=clay_Macros,clay_Macros.__name__="clay.Macros";var clay_PremultiplyAlpha=function(){};t["clay.PremultiplyAlpha"]=clay_PremultiplyAlpha,clay_PremultiplyAlpha.__name__="clay.PremultiplyAlpha",clay_PremultiplyAlpha.premultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],s=e[t+2],r=e[t+3]/255;e[t]=i*r|0,e[t+1]=l*r|0,e[t+2]=s*r|0,t+=4}},clay_PremultiplyAlpha.reversePremultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],s=e[t+2],r=e[t+3]/255;r>0&&(e[t]=i/r|0,e[t+1]=l/r|0,e[t+2]=s/r|0),t+=4}};var clay_Runner=function(){};t["clay.Runner"]=clay_Runner,clay_Runner.__name__="clay.Runner",clay_Runner.currentIsMainThread=function(){return!0},clay_Runner.init=function(){},clay_Runner.tick=function(){},clay_Runner.isEmulatingBackgroundWithMain=function(){return!0},clay_Runner.runInMain=function(e){clay_Immediate.push(e)},clay_Runner.runInBackground=function(e){clay_Immediate.push(e)};var U={$name:function(e){var n=null;return e>=0&&e<U.scanCodeNames.length&&(n=U.scanCodeNames[e]),null!=n?n:""},toString:function(e){return"ScanCode("+e+" "+U.$name(e)+")"}},C={toString:function(e){switch(e){case 0:return"UNKNOWN";case 1:return"DEVICE_ADDED";case 2:return"DEVICE_REMOVED";case 3:return"DEVICE_REMAPPED";default:return""+e}}},clay_ModState=function(){this.meta=!1,this.alt=!1,this.shift=!1,this.ctrl=!1,this.mode=!1,this.caps=!1,this.num=!1,this.rmeta=!1,this.lmeta=!1,this.ralt=!1,this.lalt=!1,this.rctrl=!1,this.lctrl=!1,this.rshift=!1,this.lshift=!1,this.none=!1};t["clay.ModState"]=clay_ModState,clay_ModState.__name__="clay.ModState",clay_ModState.prototype={none:null,lshift:null,rshift:null,lctrl:null,rctrl:null,lalt:null,ralt:null,lmeta:null,rmeta:null,num:null,caps:null,mode:null,ctrl:null,shift:null,alt:null,meta:null,toString:function(){var e='{ "ModState":true ';return this.none?e+', "none":true }':(this.lshift&&(e+=', "lshift":true'),this.rshift&&(e+=', "rshift":true'),this.lctrl&&(e+=', "lctrl":true'),this.rctrl&&(e+=', "rctrl":true'),this.lalt&&(e+=', "lalt":true'),this.ralt&&(e+=', "ralt":true'),this.lmeta&&(e+=', "lmeta":true'),this.rmeta&&(e+=', "rmeta":true'),this.num&&(e+=', "num":true'),this.caps&&(e+=', "caps":true'),this.mode&&(e+=', "mode":true'),this.ctrl&&(e+=', "ctrl":true'),this.shift&&(e+=', "shift":true'),this.alt&&(e+=', "alt":true'),this.meta&&(e+=', "meta":true'),e+="}")},__class__:clay_ModState};var x={toString:function(e){switch(e){case 0:return"UNKNOWN";case 1:return"EDIT";case 2:return"INPUT";default:return""+e}}},D={toString:function(e){switch(e){case 0:return"UNKNOWN";case 1:return"SHOWN";case 2:return"HIDDEN";case 3:return"EXPOSED";case 4:return"MOVED";case 5:return"RESIZED";case 6:return"SIZE_CHANGED";case 7:return"MINIMIZED";case 8:return"MAXIMIZED";case 9:return"RESTORED";case 10:return"ENTER";case 11:return"LEAVE";case 12:return"FOCUS_GAINED";case 13:return"FOCUS_LOST";case 14:return"CLOSE";case 15:return"ENTER_FULLSCREEN";case 16:return"EXIT_FULLSCREEN";default:return""+e}}},T={toString:function(e){switch(e){case 0:return"UNKNOWN";case 11:return"TERMINATING";case 12:return"LOW_MEMORY";case 13:return"WILL_ENTER_BACKGROUND";case 14:return"DID_ENTER_BACKGROUND";case 15:return"WILL_ENTER_FOREGROUND";case 16:return"DID_ENTER_FOREGROUND";default:return""+e}}},clay_Utils=function(){};t["clay.Utils"]=clay_Utils,clay_Utils.__name__="clay.Utils",clay_Utils.uniqueId=function(){switch(clay_Utils._nextUniqueIntCursor){case 0:clay_Utils._nextUniqueInt0=(clay_Utils._nextUniqueInt0+1)%2147483647;break;case 1:clay_Utils._nextUniqueInt1=(clay_Utils._nextUniqueInt1+1)%2147483647;break;case 2:clay_Utils._nextUniqueInt2=(clay_Utils._nextUniqueInt2+1)%2147483647;break;case 3:clay_Utils._nextUniqueInt3=(clay_Utils._nextUniqueInt3+1)%2147483647}clay_Utils._nextUniqueIntCursor=(clay_Utils._nextUniqueIntCursor+1)%4,null==(u=clay_Utils._nextUniqueInt0)&&(u=2147483646*Math.random()|0);var e,n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);var t=u%62|0;if((o=u/62|0)>0){var i=clay_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),s=String.fromCodePoint(b);else s=Std.string(t).charAt(0);l=i+s}else{if(t>9)(b=t-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(t).charAt(0);l=Std.string(i)}if(n>9)(b=n-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(n).charAt(0);e=l+i}else{if(n>9)(b=n-10+65)>90&&(b+=6),l=String.fromCodePoint(b);else l=Std.string(n).charAt(0);e=Std.string(l)}null==(u=null)&&(u=2147483646*Math.random()|0);var l;n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var s=clay_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(t).charAt(0);i=s+r}else{if(t>9)(b=t-10+65)>90&&(b+=6),s=String.fromCodePoint(b);else s=Std.string(t).charAt(0);i=Std.string(s)}if(n>9)(b=n-10+65)>90&&(b+=6),s=String.fromCodePoint(b);else s=Std.string(n).charAt(0);l=i+s}else{if(n>9)(b=n-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(n).charAt(0);l=Std.string(i)}null==(u=clay_Utils._nextUniqueInt1)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var r=clay_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(t).charAt(0);s=r+a}else{if(t>9)(b=t-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(t).charAt(0);s=Std.string(r)}if(n>9)(b=n-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(n).charAt(0);i=s+r}else{if(n>9)(b=n-10+65)>90&&(b+=6),s=String.fromCodePoint(b);else s=Std.string(n).charAt(0);i=Std.string(s)}null==(u=null)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var a=clay_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(t).charAt(0);r=a+c}else{if(t>9)(b=t-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(t).charAt(0);r=Std.string(a)}if(n>9)(b=n-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(n).charAt(0);s=r+a}else{if(n>9)(b=n-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(n).charAt(0);s=Std.string(r)}null==(u=clay_Utils._nextUniqueInt2)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var c=clay_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(t).charAt(0);a=c+h}else{if(t>9)(b=t-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(t).charAt(0);a=Std.string(c)}if(n>9)(b=n-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(n).charAt(0);r=a+c}else{if(n>9)(b=n-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(n).charAt(0);r=Std.string(a)}null==(u=null)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var h=clay_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(t).charAt(0);c=h+d}else{if(t>9)(b=t-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(t).charAt(0);c=Std.string(h)}if(n>9)(b=n-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(n).charAt(0);a=c+h}else{if(n>9)(b=n-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(n).charAt(0);a=Std.string(c)}null==(u=clay_Utils._nextUniqueInt3)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){var u;null==(u=o)&&(u=2147483646*Math.random()|0);var o;t=u%62|0;if((o=u/62|0)>0){var _,d=clay_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),_=String.fromCodePoint(b);else _=Std.string(t).charAt(0);h=d+_}else{if(t>9)(b=t-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(t).charAt(0);h=Std.string(d)}if(n>9)(b=n-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(n).charAt(0);c=h+d}else{var b;if(n>9)(b=n-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(n).charAt(0);c=Std.string(h)}return h=e+"-"+l+"-"+i+"-"+s+"-"+r+"-"+a+"-"+c},clay_Utils.base62Id=function(e){null==e&&(e=2147483646*Math.random()|0);var n=e%62|0,t=e/62|0;if(t>0){var i,l,s=clay_Utils.base62Id(t);if(n>9)(l=n-10+65)>90&&(l+=6),i=String.fromCodePoint(l);else i=(null==n?"null":""+n).charAt(0);return s+i}return n>9?((l=n-10+65)>90&&(l+=6),s=String.fromCodePoint(l)):s=(null==n?"null":""+n).charAt(0),Std.string(s)};var clay_audio_AudioDataOptions=function(e,n,t,i,l,s,r,a,c){this.isStream=null,this.samples=null,this.format=null,this.bitsPerSample=null,this.channels=null,this.duration=null,this.length=null,this.rate=null,this.id=null,null!=e&&(this.id=e),null!=n&&(this.rate=n),null!=t&&(this.length=t),null!=i&&(this.duration=i),null!=l&&(this.channels=l),null!=s&&(this.bitsPerSample=s),null!=r&&(this.format=r),null!=a&&(this.samples=a),null!=c&&(this.isStream=c)};t["clay.audio.AudioDataOptions"]=clay_audio_AudioDataOptions,clay_audio_AudioDataOptions.__name__="clay.audio.AudioDataOptions",clay_audio_AudioDataOptions.prototype={id:null,rate:null,length:null,duration:null,channels:null,bitsPerSample:null,format:null,samples:null,isStream:null,__class__:clay_audio_AudioDataOptions};var clay_audio_AudioData=function(e,n){this.destroyed=!1,this.isStream=!1,this.format=0,this.bitsPerSample=16,this.channels=1,this.duration=0,this.length=0,this.rate=44100,this.id="AudioData",this.app=e,null!=n.id&&(this.id=n.id),null!=n.rate&&(this.rate=n.rate),null!=n.length&&(this.length=n.length),null!=n.format&&(this.format=n.format),null!=n.channels&&(this.channels=n.channels),null!=n.bitsPerSample&&(this.bitsPerSample=n.bitsPerSample),null!=n.isStream&&(this.isStream=n.isStream),null!=n.samples&&(this.samples=n.samples),null!=n.duration&&(this.duration=n.duration),n=null};t["clay.audio.AudioData"]=clay_audio_AudioData,clay_audio_AudioData.__name__="clay.audio.AudioData",clay_audio_AudioData.prototype={app:null,id:null,samples:null,rate:null,length:null,duration:null,channels:null,bitsPerSample:null,format:null,isStream:null,destroyed:null,destroy:function(){this.destroyed||(clay_Log.debug("Audio / destroy AudioData `"+this.id+"`",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/audio/AudioData.hx",lineNumber:102,className:"clay.audio.AudioData",methodName:"destroy"}),this.destroyed=!0,this.id=null,this.samples=null)},seek:function(e){return!1},portion:function(e,n,t,i){return i},toString:function(){var e,n='{ "AudioData":true, "id":'+this.id+', "rate":'+this.rate+', "length":'+this.length+', "channels":'+this.channels+', "format":"';if(null==this.format)e="null";else{var t=this.format;if(null==t)e=""+t;else switch(t){case 0:e="UNKNOWN";break;case 1:e="CUSTOM";break;case 2:e="OGG";break;case 3:e="WAV";break;case 4:e="PCM";break;case 5:e="MP3";break;case 6:e="FLAC";break;default:e=""+t}}return n+e+'", "isStream":'+Std.string(this.isStream)+" }"},__class__:clay_audio_AudioData};var A={toString:function(e){switch(e){case 0:return"END";case 1:return"DESTROYED";case 2:return"DESTROYED_SOURCE";default:return""+e}}},S={toString:function(e){if(null==e)return""+e;switch(e){case 0:return"UNKNOWN";case 1:return"CUSTOM";case 2:return"OGG";case 3:return"WAV";case 4:return"PCM";case 5:return"MP3";case 6:return"FLAC";default:return""+e}},fromPath:function(e){switch(ceramic_Path.extension(e).toLowerCase()){case"flac":return 6;case"mp3":return 5;case"ogg":return 2;case"pcm":return 4;case"wav":return 3;default:return 0}}},clay_audio_AudioInstance=function(e,n){this.destroyed=!1,this.source=e,this.handle=n};t["clay.audio.AudioInstance"]=clay_audio_AudioInstance,clay_audio_AudioInstance.__name__="clay.audio.AudioInstance",clay_audio_AudioInstance.prototype={source:null,handle:null,destroyed:null,hasEnded:function(){if(this.destroyed)throw haxe_Exception.thrown("Audio / Instance hasEnded queried after being destroyed");return 2==this.source.app.audio.stateOf(this.handle)},destroy:function(){if(this.destroyed)throw haxe_Exception.thrown("Audio / Instance being destroyed more than once");this.source.app.audio.handleInstanceDestroyed(this.handle),this.source.instanceKilled(this),this.destroyed=!0,this.source=null,this.handle=-1},dataGet:function(e,n,t,i){if(this.destroyed)throw haxe_Exception.thrown("Audio / Instance dataGet queried after being destroyed");return this.source.data.portion(e,n,t,i)},dataSeek:function(e){if(this.destroyed)throw haxe_Exception.thrown("Audio / Instance dataSeek queried after being destroyed");return this.source.data.seek(e)},__class__:clay_audio_AudioInstance};var clay_audio_AudioSource=function(e,n){this.destroyed=!1,this.streamBufferCount=2,this.streamBufferLength=176400,this.app=e,this.data=n,this.sourceId=clay_Utils.uniqueId(),clay_Log.debug("AudioSource / `"+this.sourceId+"` / "+this.data.id,{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/audio/AudioSource.hx",lineNumber:34,className:"clay.audio.AudioSource",methodName:"new"}),this.instances=[],n.duration<=0&&(n.duration=this.bytesToSeconds(n.length))};t["clay.audio.AudioSource"]=clay_audio_AudioSource,clay_audio_AudioSource.__name__="clay.audio.AudioSource",clay_audio_AudioSource.prototype={app:null,data:null,streamBufferLength:null,streamBufferCount:null,destroyed:null,sourceId:null,instances:null,instance:function(e){var n=new clay_audio_AudioInstance(this,e);return-1==this.instances.indexOf(n)&&this.instances.push(n),n},bytesToSeconds:function(e){var n=16==this.data.bitsPerSample?2:1;return e/(this.data.rate*this.data.channels*n)},secondsToBytes:function(e){var n=16==this.data.bitsPerSample?2:1;return e*(this.data.rate*this.data.channels*n)|0},getDuration:function(){return this.data.duration},destroy:function(){if(this.destroyed)clay_Log.debug("AudioSource / destroying already destroyed source!",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/audio/AudioSource.hx",lineNumber:85,className:"clay.audio.AudioSource",methodName:"destroy"});else{this.destroyed=!0;var e=this.instances.length,n=0;for(clay_Log.debug("AudioSource / destroy / "+this.sourceId+" / "+this.data.id+", stream="+Std.string(this.data.isStream)+", instances="+e,{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/audio/AudioSource.hx",lineNumber:94,className:"clay.audio.AudioSource",methodName:"destroy"});n<e;){var t=this.instances.pop();t.destroy(),t=null,++n}this.app.audio.handleSourceDestroyed(this),this.data.destroy(),this.data=null,this.instances=null,this.app=null}},instanceKilled:function(e){HxOverrides.remove(this.instances,e)},__class__:clay_audio_AudioSource};var E={toString:function(e){switch(e){case-1:return"INVALID";case 0:return"PAUSED";case 1:return"PLAYING";case 2:return"STOPPED";default:return""+e}}},clay_base_BaseAssets=function(e){this.app=e};t["clay.base.BaseAssets"]=clay_base_BaseAssets,clay_base_BaseAssets.__name__="clay.base.BaseAssets",clay_base_BaseAssets.prototype={app:null,isSynchronous:function(){return!1},fullPath:function(e){return ceramic_Path.isAbsolute(e)?e:ceramic_Path.join([this.app.io.appPath(),e])},loadImage:function(e,n,t,i){return null==t&&(t=!1),null==n&&(n=4),null!=i&&clay_Immediate.push((function(){i(null)})),null},__class__:clay_base_BaseAssets};var clay_base_BaseAudio=function(e){this.app=e};t["clay.base.BaseAudio"]=clay_base_BaseAudio,clay_base_BaseAudio.__name__="clay.base.BaseAudio",clay_base_BaseAudio.prototype={app:null,isSynchronous:function(){return!1},init:function(){},ready:function(){},tick:function(e){},shutdown:function(){},loadData:function(e,n,t,i,l){return null==i&&(i=!1),null!=l&&clay_Immediate.push((function(){l(null)})),null},emitAudioEvent:function(e,n){this.app.events.audioEvent(e,n)},__class__:clay_base_BaseAudio};var clay_base_BaseIO=function(e){this.app=e};t["clay.base.BaseIO"]=clay_base_BaseIO,clay_base_BaseIO.__name__="clay.base.BaseIO",clay_base_BaseIO.prototype={app:null,init:function(){},shutdown:function(){},isSynchronous:function(){return!1},appPath:function(){return null},appPathPrefs:function(){return null},loadData:function(e,n,t,i){return null==t&&(t=!1),null==n&&(n=!1),null!=i&&clay_Immediate.push((function(){i(null)})),null},__class__:clay_base_BaseIO};var clay_base_BaseRuntime=function(e){this.name=null,this.app=e};t["clay.base.BaseRuntime"]=clay_base_BaseRuntime,clay_base_BaseRuntime.__name__="clay.base.BaseRuntime",clay_base_BaseRuntime.prototype={app:null,name:null,init:function(){},shutdown:function(e){null==e&&(e=!1)},ready:function(){},run:function(){return!0},windowDevicePixelRatio:function(){return 1},windowWidth:function(){return 0},windowHeight:function(){return 0},__class__:clay_base_BaseRuntime};var M={_new:function(e){return new Float32Array(e)},fromArray:function(e){return new Float32Array(e)},fromView:function(e){return new Float32Array(e)},fromBuffer:function(e,n,t){return new Float32Array(e,n,t/4|0)},fromBytes:function(e,n,t){return null==n&&(n=0),null==n?new Float32Array(e.b.bufferValue):null==t?new Float32Array(e.b.bufferValue,n):new Float32Array(e.b.bufferValue,n,t)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return"Float32Array [byteLength:"+e.byteLength+", length:"+e.length+"]"}},F={_new:function(e){return new Int32Array(e)},fromArray:function(e){return new Int32Array(e)},fromView:function(e){return new Int32Array(e)},fromBuffer:function(e,n,t){return new Int32Array(e,n,t/4|0)},fromBytes:function(e,n,t){return null==n&&(n=0),null==n?new Int32Array(e.b.bufferValue):null==t?new Int32Array(e.b.bufferValue,n):new Int32Array(e.b.bufferValue,n,t)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return"Int32Array [byteLength:"+e.byteLength+", length:"+e.length+"]"}},P={_new:function(e){return new Uint16Array(e)},fromArray:function(e){return new Uint16Array(e)},fromView:function(e){return new Uint16Array(e)},fromBuffer:function(e,n,t){return new Uint16Array(e,n,t/2|0)},fromBytes:function(e,n,t){return null==n&&(n=0),null==n?new Uint16Array(e.b.bufferValue):null==t?new Uint16Array(e.b.bufferValue,n):new Uint16Array(e.b.bufferValue,n,t)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return"Uint16Array [byteLength:"+e.byteLength+", length:"+e.length+"]"}},R={_new:function(e){return new Uint8Array(e)},fromArray:function(e){return new Uint8Array(e)},fromView:function(e){return new Uint8Array(e)},fromBuffer:function(e,n,t){return new Uint8Array(e,n,t)},fromBytes:function(e,n,t){return null==n?new Uint8Array(e.b.bufferValue):null==t?new Uint8Array(e.b.bufferValue,n):new Uint8Array(e.b.bufferValue,n,t)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return"Uint8Array [byteLength:"+e.byteLength+", length:"+e.length+"]"}},clay_graphics_Color=function(e,n,t,i){this.a=1,this.b=0,this.g=0,this.r=0,null!=e&&(this.r=e),null!=n&&(this.g=n),null!=t&&(this.b=t),null!=i&&(this.a=i)};t["clay.graphics.Color"]=clay_graphics_Color,clay_graphics_Color.__name__="clay.graphics.Color",clay_graphics_Color.prototype={r:null,g:null,b:null,a:null,__class__:clay_graphics_Color};var clay_graphics_Texture=function(){this.wrapT=33071,this.wrapS=33071,this.filterMag=9729,this.filterMin=9729,this.pixels=null,this.heightActual=-1,this.widthActual=-1,this.height=-1,this.width=-1,this.dataType=5121,this.type=3553,this.format=6408,this.compressed=!1,this.textureId=null,clay_Resource.call(this),this.index=clay_graphics_Texture._nextIndex++};t["clay.graphics.Texture"]=clay_graphics_Texture,clay_graphics_Texture.__name__="clay.graphics.Texture",clay_graphics_Texture.fromImage=function(e,n){null==n&&(n=!1);var t=new clay_graphics_Texture;if(t.premultiplyAlpha=n,4!=e.bitsPerPixel)throw haxe_Exception.thrown("Image must have 4 bits per pixels (RGBA format)");return t.width=e.width,t.height=e.height,t.widthActual=e.widthActual,t.heightActual=e.heightActual,t.pixels=e.pixels,t},clay_graphics_Texture.__super__=clay_Resource,clay_graphics_Texture.prototype=$extend(clay_Resource.prototype,{index:null,textureId:null,premultiplyAlpha:null,compressed:null,format:null,type:null,dataType:null,width:null,height:null,widthActual:null,heightActual:null,pixels:null,filterMin:null,set_filterMin:function(e){return null!=this.textureId&&(this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10241,e)),this.filterMin=e},filterMag:null,set_filterMag:function(e){return null!=this.textureId&&(this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10240,e)),this.filterMag=e},wrapS:null,set_wrapS:function(e){return null!=this.textureId&&(this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10242,e)),this.wrapS=e},wrapT:null,set_wrapT:function(e){return null!=this.textureId&&(this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10243,e)),this.wrapT=e},init:function(){if(this.textureId=clay_opengl_web_GL.gl.createTexture(),this.width>0&&this.widthActual<=0&&(this.widthActual=this.width),this.height>0&&this.heightActual<=0&&(this.heightActual=this.height),this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10241,this.filterMin),clay_opengl_web_GL.gl.texParameteri(3553,10240,this.filterMag),clay_opengl_web_GL.gl.texParameteri(3553,10243,this.wrapT),clay_opengl_web_GL.gl.texParameteri(3553,10242,this.wrapS),null!=this.pixels){if(this.width<=0||this.height<=0)throw haxe_Exception.thrown("Provided texture pixels with invalid size (width="+this.width+" height="+this.height+")");this.submit(this.pixels)}},destroy:function(){if(null!=this.textureId){var e=this.textureId;clay_opengl_web_GL.gl.deleteTexture(e);for(var n=0,t=clay_opengl_GLGraphics._boundTexture2D.length;n<t;){var i=n++;clay_opengl_GLGraphics._boundTexture2D[i]==e&&(clay_opengl_GLGraphics._boundTexture2D[i]=null)}this.textureId=null}},bind:function(e){if(null==e&&(e=0),-1!=e&&clay_opengl_GLGraphics._activeTextureSlot!=e){for(clay_opengl_GLGraphics._activeTextureSlot=e;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+e)}if(3553==this.type){var n=this.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=n&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=n,clay_opengl_web_GL.gl.bindTexture(3553,n))}},submit:function(e){var n=clay_opengl_web_GL.gl.getParameter(3379);n<=0&&(n=4096);var t=n;if(null==e&&(e=this.pixels),null==e)throw haxe_Exception.thrown("Cannot submit texture pixels: pixels is null");if(this.widthActual>t)throw haxe_Exception.thrown("Texture actual width bigger than maximum hardware size (width="+this.widthActual+" max="+t+")");if(this.heightActual>t)throw haxe_Exception.thrown("Texture actual height bigger than maximum hardware size (height="+this.heightActual+" max="+t+")");if(this.bind(),3553==this.type)if(this.compressed){var i=this.format,l=this.widthActual,s=this.heightActual;clay_opengl_web_GL.gl.pixelStorei(37441,this.premultiplyAlpha?1:0),clay_opengl_web_GL.gl.compressedTexImage2D(3553,0,i,l,s,0,e)}else{i=this.format,l=this.widthActual,s=this.heightActual;var r=this.dataType;clay_opengl_web_GL.gl.pixelStorei(37441,this.premultiplyAlpha?1:0),clay_opengl_web_GL.gl.texImage2D(3553,0,i,l,s,0,i,r,e)}},fetch:function(e,n,t,i,l){return null==l&&(l=-1),null==i&&(i=-1),null==t&&(t=0),null==n&&(n=0),i<=0&&(i=this.width),l<=0&&(l=this.height),this.bind(),3553==this.type&&clay_opengl_GLGraphics.fetchTexture2dPixels(e,n,t,i,l),e},__class__:clay_graphics_Texture,__properties__:{set_wrapT:"set_wrapT",set_wrapS:"set_wrapS",set_filterMag:"set_filterMag",set_filterMin:"set_filterMin"}});var clay_graphics_RenderTexture=function(){this.antialiasing=0,this.stencil=!1,this.depth=!1,clay_graphics_Texture.call(this)};t["clay.graphics.RenderTexture"]=clay_graphics_RenderTexture,clay_graphics_RenderTexture.__name__="clay.graphics.RenderTexture",clay_graphics_RenderTexture.__super__=clay_graphics_Texture,clay_graphics_RenderTexture.prototype=$extend(clay_graphics_Texture.prototype,{renderTarget:null,depth:null,stencil:null,antialiasing:null,init:function(){clay_graphics_Texture.prototype.init.call(this);var e=clay_opengl_web_GL.gl.getParameter(3379);e<=0&&(e=4096);var n=e;if(this.widthActual>n)throw haxe_Exception.thrown("RenderTexture actual width bigger than maximum hardware size (width="+this.widthActual+" max="+n+")");if(this.heightActual>n)throw haxe_Exception.thrown("RenderTexture actual height bigger than maximum hardware size (height="+this.heightActual+" max="+n+")");this.bind(),this.renderTarget=clay_opengl_GLGraphics.createRenderTarget(this.textureId,this.width,this.height,this.depth,this.stencil,this.antialiasing,0,this.format,this.dataType)},destroy:function(){clay_graphics_Texture.prototype.destroy.call(this),null!=this.renderTarget&&(clay_opengl_GLGraphics.deleteRenderTarget(this.renderTarget),this.renderTarget=null)},__class__:clay_graphics_RenderTexture});var clay_graphics_TextureAndSlot=function(e,n){this.texture=e,this.slot=n};t["clay.graphics.TextureAndSlot"]=clay_graphics_TextureAndSlot,clay_graphics_TextureAndSlot.__name__="clay.graphics.TextureAndSlot",clay_graphics_TextureAndSlot.prototype={texture:null,slot:null,__class__:clay_graphics_TextureAndSlot};var clay_graphics_Uniforms=function(e){this.dirtyTextures=[],this.dirtyColors=[],this.dirtyMatrix4s=[],this.dirtyVector4s=[],this.dirtyVector3s=[],this.dirtyVector2s=[],this.dirtyFloatArrays=[],this.dirtyFloats=[],this.dirtyIntArrays=[],this.dirtyInts=[],this.textures=new haxe_ds_StringMap,this.colors=new haxe_ds_StringMap,this.matrix4s=new haxe_ds_StringMap,this.vector4s=new haxe_ds_StringMap,this.vector3s=new haxe_ds_StringMap,this.vector2s=new haxe_ds_StringMap,this.floatArrays=new haxe_ds_StringMap,this.floats=new haxe_ds_StringMap,this.intArrays=new haxe_ds_StringMap,this.ints=new haxe_ds_StringMap,this.gpuShader=e};t["clay.graphics.Uniforms"]=clay_graphics_Uniforms,clay_graphics_Uniforms.__name__="clay.graphics.Uniforms",clay_graphics_Uniforms.prototype={ints:null,intArrays:null,floats:null,floatArrays:null,vector2s:null,vector3s:null,vector4s:null,matrix4s:null,colors:null,textures:null,dirtyInts:null,dirtyIntArrays:null,dirtyFloats:null,dirtyFloatArrays:null,dirtyVector2s:null,dirtyVector3s:null,dirtyVector4s:null,dirtyMatrix4s:null,dirtyColors:null,dirtyTextures:null,gpuShader:null,setInt:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);this.ints.h[e]=n,this.dirtyInts.push(e)},setIntArray:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);this.intArrays.h[e]=n,this.dirtyIntArrays.push(e)},setFloat:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);this.floats.h[e]=n,this.dirtyFloats.push(e)},setFloatArray:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);this.floatArrays.h[e]=n,this.dirtyFloatArrays.push(e)},setVector2:function(e,n,t){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var i=this.vector2s.h[e];if(null!=i)i.x=n,i.y=t;else{var l=this.vector2s,s=new clay_graphics_Vector2(n,t);l.h[e]=s}this.dirtyVector2s.push(e)},setVector3:function(e,n,t,i){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var l=this.vector3s.h[e];if(null!=l)l.x=n,l.y=t,l.z=i;else{var s=this.vector3s,r=new clay_graphics_Vector3(n,t,i);s.h[e]=r}this.dirtyVector3s.push(e)},setVector4:function(e,n,t,i,l){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var s=this.vector4s.h[e];if(null!=s)s.x=n,s.y=t,s.z=i,s.w=l;else{var r=this.vector4s,a=new clay_graphics_Vector4(n,t,i,l);r.h[e]=a}this.dirtyVector4s.push(e)},setMatrix4:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var t=this.matrix4s.h[e];null==t&&(t=new Float32Array(16),this.matrix4s.h[e]=t);t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this.dirtyMatrix4s.push(e)},setColor:function(e,n,t,i,l){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var s=this.colors.h[e];if(null!=s)s.r=n,s.g=t,s.b=i,s.a=l;else{var r=this.colors,a=new clay_graphics_Color(n,t,i,l);r.h[e]=a}this.dirtyColors.push(e)},setTexture:function(e,n,t){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var i=this.textures.h[e];if(null!=i)i.texture=t,i.slot=n;else{var l=this.textures,s=new clay_graphics_TextureAndSlot(t,n);l.h[e]=s}-1==this.dirtyTextures.indexOf(e)&&this.dirtyTextures.push(e)},apply:function(){var e=this.gpuShader;for(clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program));this.dirtyInts.length>0;){var n=this.dirtyInts.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=(e=this.gpuShader,this.ints.h[n]);clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1i(t,i)}for(;this.dirtyIntArrays.length>0;){n=this.dirtyIntArrays.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),e=this.gpuShader,i=this.intArrays.h[n];clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1iv(t,i)}for(;this.dirtyFloats.length>0;){n=this.dirtyFloats.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),e=this.gpuShader,i=this.floats.h[n];clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1f(t,i)}for(;this.dirtyFloatArrays.length>0;){n=this.dirtyFloatArrays.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),e=this.gpuShader,i=this.floatArrays.h[n];clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1fv(t,i)}for(;this.dirtyVector2s.length>0;){n=this.dirtyVector2s.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=this.vector2s.h[n],e=this.gpuShader;var l=i.x,s=i.y;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform2f(t,l,s)}for(;this.dirtyVector3s.length>0;){n=this.dirtyVector3s.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=this.vector3s.h[n],e=this.gpuShader,l=i.x,s=i.y;var r=i.z;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform3f(t,l,s,r)}for(;this.dirtyVector4s.length>0;){n=this.dirtyVector4s.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=this.vector4s.h[n],e=this.gpuShader,l=i.x,s=i.y,r=i.z;var a=i.w;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform4f(t,l,s,r,a)}for(;this.dirtyMatrix4s.length>0;){n=this.dirtyMatrix4s.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),e=this.gpuShader,i=this.matrix4s.h[n];clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniformMatrix4fv(t,!1,i)}for(;this.dirtyColors.length>0;){n=this.dirtyColors.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=this.colors.h[n],e=this.gpuShader;var c=i.r,h=i.g,u=i.b,o=i.a;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform4f(t,c,h,u,o)}for(var _=0,d=this.dirtyTextures.length;_<d;){var b=_++;n=this.dirtyTextures[b],t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n);3553==(i=this.textures.h[n]).texture.type&&clay_opengl_GLGraphics.setTexture2dUniform(this.gpuShader,t,i.slot,i.texture.textureId)}},clone:function(){return new clay_graphics_Uniforms(this.gpuShader)},__class__:clay_graphics_Uniforms};var clay_graphics_Vector2=function(e,n){this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n)};t["clay.graphics.Vector2"]=clay_graphics_Vector2,clay_graphics_Vector2.__name__="clay.graphics.Vector2",clay_graphics_Vector2.prototype={x:null,y:null,__class__:clay_graphics_Vector2};var clay_graphics_Vector3=function(e,n,t){this.z=0,this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n),null!=t&&(this.z=t)};t["clay.graphics.Vector3"]=clay_graphics_Vector3,clay_graphics_Vector3.__name__="clay.graphics.Vector3",clay_graphics_Vector3.prototype={x:null,y:null,z:null,__class__:clay_graphics_Vector3};var clay_graphics_Vector4=function(e,n,t,i){this.w=0,this.z=0,this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n),null!=t&&(this.z=t),null!=i&&(this.w=i)};t["clay.graphics.Vector4"]=clay_graphics_Vector4,clay_graphics_Vector4.__name__="clay.graphics.Vector4",clay_graphics_Vector4.prototype={x:null,y:null,z:null,w:null,__class__:clay_graphics_Vector4};var clay_opengl_GLGraphics=function(){};t["clay.opengl.GLGraphics"]=clay_opengl_GLGraphics,clay_opengl_GLGraphics.__name__="clay.opengl.GLGraphics",clay_opengl_GLGraphics.setup=function(){clay_opengl_GLGraphics._defaultFramebuffer=clay_opengl_web_GL.gl.getParameter(36006),clay_opengl_GLGraphics._defaultRenderbuffer=clay_opengl_web_GL.gl.getParameter(36007),clay_opengl_GLGraphics._didFetchDefaultBuffers=!0},clay_opengl_GLGraphics.clear=function(e,n,t,i,l){null==l&&(l=!0),clay_opengl_web_GL.gl.clearColor(e,n,t,i),l&&clay_Clay.app.config.render.depth>0?(clay_opengl_web_GL.gl.clear(16640),clay_opengl_web_GL.gl.clearDepth(1)):clay_opengl_web_GL.gl.clear(16384)},clay_opengl_GLGraphics.createTextureId=function(){return clay_opengl_web_GL.gl.createTexture()},clay_opengl_GLGraphics.setActiveTexture=function(e){if(clay_opengl_GLGraphics._activeTextureSlot!=e){for(clay_opengl_GLGraphics._activeTextureSlot=e;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+e)}},clay_opengl_GLGraphics.deleteTexture=function(e){clay_opengl_web_GL.gl.deleteTexture(e);for(var n=0,t=clay_opengl_GLGraphics._boundTexture2D.length;n<t;){var i=n++;clay_opengl_GLGraphics._boundTexture2D[i]==e&&(clay_opengl_GLGraphics._boundTexture2D[i]=null)}},clay_opengl_GLGraphics.setViewport=function(e,n,t,i){clay_opengl_web_GL.gl.viewport(e,n,t,i)},clay_opengl_GLGraphics.bindTexture2d=function(e){clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=e&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=e,clay_opengl_web_GL.gl.bindTexture(3553,e))},clay_opengl_GLGraphics.maxTextureSize=function(){var e=clay_opengl_web_GL.gl.getParameter(3379);return e<=0&&(e=4096),e},clay_opengl_GLGraphics.needsPreprocessedPremultipliedAlpha=function(){return!1},clay_opengl_GLGraphics.submitCompressedTexture2dPixels=function(e,n,t,i,l,s){clay_opengl_web_GL.gl.pixelStorei(37441,s?1:0),clay_opengl_web_GL.gl.compressedTexImage2D(3553,e,n,t,i,0,l)},clay_opengl_GLGraphics.submitTexture2dPixels=function(e,n,t,i,l,s,r){clay_opengl_web_GL.gl.pixelStorei(37441,r?1:0),clay_opengl_web_GL.gl.texImage2D(3553,e,n,t,i,0,n,l,s)},clay_opengl_GLGraphics.fetchTexture2dPixels=function(e,n,t,i,l){if(null==e)throw haxe_Exception.thrown("Texture fetch requires a valid buffer to store the pixels.");var s=clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot],r=i*l*4;if(e.length<r)throw haxe_Exception.thrown("Texture fetch requires at least "+r+" (w * h * 4) bytes for the pixels, you have "+e.length+"!");var a=clay_opengl_web_GL.gl.createFramebuffer();if(clay_opengl_web_GL.gl.bindFramebuffer(36160,a),clay_opengl_web_GL.gl.framebufferTexture2D(36160,36064,3553,s,0),36053!=clay_opengl_web_GL.gl.checkFramebufferStatus(36160))throw haxe_Exception.thrown("Incomplete framebuffer");clay_opengl_web_GL.gl.readPixels(n,t,i,l,6408,5121,e),clay_opengl_web_GL.gl.bindFramebuffer(36160,null),clay_opengl_web_GL.gl.deleteFramebuffer(a),a=null},clay_opengl_GLGraphics.createFramebuffer=function(){return clay_opengl_web_GL.gl.createFramebuffer()},clay_opengl_GLGraphics.bindFramebuffer=function(e){clay_opengl_GLGraphics._boundFramebuffer!=e&&(clay_opengl_GLGraphics._boundFramebuffer=e,null==e&&(e=clay_opengl_GLGraphics._defaultFramebuffer),clay_opengl_web_GL.gl.bindFramebuffer(36160,e))},clay_opengl_GLGraphics.createRenderbuffer=function(){return clay_opengl_web_GL.gl.createRenderbuffer()},clay_opengl_GLGraphics.bindRenderbuffer=function(e){clay_opengl_GLGraphics._boundRenderbuffer!=e&&(clay_opengl_GLGraphics._boundRenderbuffer=e,null==e&&(e=clay_opengl_GLGraphics._defaultRenderbuffer),clay_opengl_web_GL.gl.bindRenderbuffer(36161,e))},clay_opengl_GLGraphics.setTexture2dMinFilter=function(e){clay_opengl_web_GL.gl.texParameteri(3553,10241,e)},clay_opengl_GLGraphics.setTexture2dMagFilter=function(e){clay_opengl_web_GL.gl.texParameteri(3553,10240,e)},clay_opengl_GLGraphics.setTexture2dWrapS=function(e){clay_opengl_web_GL.gl.texParameteri(3553,10242,e)},clay_opengl_GLGraphics.setTexture2dWrapT=function(e){clay_opengl_web_GL.gl.texParameteri(3553,10243,e)},clay_opengl_GLGraphics.configureRenderTargetBuffersStorage=function(e,n,t,i,l,s,r){r>1?(clay_opengl_GLGraphics.bindRenderbuffer(e.renderbuffer),clay_opengl_web_GL.gl.renderbufferStorageMultisample(36161,r,32856,t,i),(l||s)&&(clay_opengl_GLGraphics.bindRenderbuffer(e.msDepthStencilRenderbuffer),s?clay_opengl_web_GL.gl.renderbufferStorageMultisample(36161,r,35056,t,i):clay_opengl_web_GL.gl.renderbufferStorageMultisample(36161,r,33189,t,i)),clay_opengl_GLGraphics.bindFramebuffer(e.framebuffer),clay_opengl_web_GL.gl.framebufferRenderbuffer(36160,36064,36161,e.renderbuffer),(l||s)&&(s?clay_opengl_web_GL.gl.framebufferRenderbuffer(36160,33306,36161,e.msDepthStencilRenderbuffer):clay_opengl_web_GL.gl.framebufferRenderbuffer(36160,36096,36161,e.msDepthStencilRenderbuffer)),clay_opengl_GLGraphics.bindRenderbuffer(e.msResolveColorRenderbuffer),clay_opengl_web_GL.gl.renderbufferStorage(36161,32856,t,i),clay_opengl_GLGraphics.bindFramebuffer(e.msResolveFramebuffer),clay_opengl_web_GL.gl.framebufferTexture2D(36160,36064,3553,n,0)):(clay_opengl_GLGraphics.bindRenderbuffer(e.renderbuffer),s?clay_opengl_web_GL.gl.renderbufferStorage(36161,34041,t,i):l?clay_opengl_web_GL.gl.renderbufferStorage(36161,33189,t,i):clay_opengl_web_GL.gl.renderbufferStorage(36161,6408,t,i),clay_opengl_GLGraphics.bindFramebuffer(e.framebuffer),clay_opengl_web_GL.gl.framebufferTexture2D(36160,36064,3553,n,0),(l||s)&&(s?clay_opengl_web_GL.gl.framebufferRenderbuffer(36160,33306,36161,e.renderbuffer):clay_opengl_web_GL.gl.framebufferRenderbuffer(36160,36096,36161,e.renderbuffer)));var a=clay_opengl_web_GL.gl.checkFramebufferStatus(36160);switch(a){case 36053:break;case 36054:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT");case 36055:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");case 36057:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS");case 36059:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DRAW_BUFFER");case 36060:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_READ_BUFFER");case 36061:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED");case 36182:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MULTISAMPLE");default:throw haxe_Exception.thrown("Incomplete framebuffer: "+a)}clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null)},clay_opengl_GLGraphics.blitRenderTargetBuffers=function(e,n,t){clay_opengl_web_GL.gl.bindFramebuffer(36008,e.framebuffer),clay_opengl_web_GL.gl.bindFramebuffer(36009,e.msResolveFramebuffer),clay_opengl_web_GL.gl.clearBufferfv(6144,0,clay_opengl_GLGraphics.clearBufferForBlitValues,0),clay_opengl_web_GL.gl.blitFramebuffer(0,0,n,t,0,0,n,t,16384,9728),clay_opengl_web_GL.gl.bindFramebuffer(36008,null),clay_opengl_web_GL.gl.bindFramebuffer(36009,null)},clay_opengl_GLGraphics.createRenderTarget=function(e,n,t,i,l,s,r,a,c){var h=new clay_opengl_GLGraphics_$RenderTarget;return clay_opengl_web_GL.gl.texImage2D(3553,r,a,n,t,0,a,c,null),h.framebuffer=clay_opengl_web_GL.gl.createFramebuffer(),h.renderbuffer=clay_opengl_web_GL.gl.createRenderbuffer(),s>1?(h.msResolveFramebuffer=clay_opengl_web_GL.gl.createFramebuffer(),h.msResolveColorRenderbuffer=clay_opengl_web_GL.gl.createRenderbuffer(),h.msDepthStencilRenderbuffer=i||l?clay_opengl_web_GL.gl.createRenderbuffer():null):(h.msResolveFramebuffer=null,h.msResolveColorRenderbuffer=null,h.msDepthStencilRenderbuffer=null),clay_opengl_GLGraphics.configureRenderTargetBuffersStorage(h,e,n,t,i,l,s),h},clay_opengl_GLGraphics.deleteRenderTarget=function(e){null!=e.framebuffer&&(clay_opengl_GLGraphics._boundFramebuffer==e.framebuffer&&(clay_opengl_GLGraphics._boundFramebuffer=null),clay_opengl_web_GL.gl.deleteFramebuffer(e.framebuffer),e.framebuffer=null),null!=e.renderbuffer&&(clay_opengl_GLGraphics._boundRenderbuffer==e.renderbuffer&&(clay_opengl_GLGraphics._boundRenderbuffer=null),clay_opengl_web_GL.gl.deleteRenderbuffer(e.renderbuffer),e.renderbuffer=null),null!=e.msDepthStencilRenderbuffer&&(clay_opengl_GLGraphics._boundRenderbuffer==e.msDepthStencilRenderbuffer&&(clay_opengl_GLGraphics._boundRenderbuffer=null),clay_opengl_web_GL.gl.deleteRenderbuffer(e.msDepthStencilRenderbuffer),e.msDepthStencilRenderbuffer=null),null!=e.msResolveColorRenderbuffer&&(clay_opengl_GLGraphics._boundRenderbuffer==e.msResolveColorRenderbuffer&&(clay_opengl_GLGraphics._boundRenderbuffer=null),clay_opengl_web_GL.gl.deleteRenderbuffer(e.msResolveColorRenderbuffer),e.msResolveColorRenderbuffer=null),null!=e.msResolveFramebuffer&&(clay_opengl_GLGraphics._boundFramebuffer==e.msResolveFramebuffer&&(clay_opengl_GLGraphics._boundFramebuffer=null),clay_opengl_web_GL.gl.deleteFramebuffer(e.msResolveFramebuffer),e.msResolveFramebuffer=null)},clay_opengl_GLGraphics.setRenderTarget=function(e){null!=e?(clay_opengl_GLGraphics.bindFramebuffer(e.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(e.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null))},clay_opengl_GLGraphics.enableBlending=function(){clay_opengl_web_GL.gl.enable(3042)},clay_opengl_GLGraphics.disableBlending=function(){clay_opengl_web_GL.gl.disable(3042)},clay_opengl_GLGraphics.createShader=function(e,n,t,i){if(null==e)throw haxe_Exception.thrown("Cannot create shader: vertSource is null!");if(null==n)throw haxe_Exception.thrown("Cannot create shader: fragSource is null!");var l=new clay_opengl_GLGraphics_$GpuShader;return l.vertShader=clay_opengl_GLGraphics.compileGLShader(35633,e),null==l.vertShader?(clay_opengl_GLGraphics.deleteShader(l),null):(l.fragShader=clay_opengl_GLGraphics.compileGLShader(35632,n),null==l.fragShader?(clay_opengl_GLGraphics.deleteShader(l),null):clay_opengl_GLGraphics.linkShader(l,t)?(null!=i&&clay_opengl_GLGraphics.configureShaderTextureSlots(l,i),l):(clay_opengl_GLGraphics.deleteShader(l),null))},clay_opengl_GLGraphics.linkShader=function(e,n){var t=clay_opengl_web_GL.gl.createProgram();if(clay_opengl_web_GL.gl.attachShader(t,e.vertShader),clay_opengl_web_GL.gl.attachShader(t,e.fragShader),null!=n)for(var i=0,l=n.length;i<l;){var s=i++;clay_opengl_web_GL.gl.bindAttribLocation(t,s,n[s])}if(clay_opengl_web_GL.gl.linkProgram(t),0==clay_opengl_web_GL.gl.getProgramParameter(t,35714)){clay_Log.error("\tFailed to link shader program:",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/opengl/GLGraphics.hx",lineNumber:684,className:"clay.opengl.GLGraphics",methodName:"linkShader"});for(var r=clay_opengl_web_GL.gl.getProgramInfoLog(t).split("\n"),a=(i=[],l=0,r);l<a.length;){var c=a[l];++l,""!=StringTools.trim(c)&&i.push(c)}r=i;var h=new Array(r.length);for(i=0,l=r.length;i<l;){h[s=i++]="\t\t"+StringTools.trim(r[s])}return r=h,clay_Log.error(r.join("\n"),{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/opengl/GLGraphics.hx",lineNumber:685,className:"clay.opengl.GLGraphics",methodName:"linkShader"}),clay_opengl_web_GL.gl.deleteProgram(t),!1}return e.program=t,!0},clay_opengl_GLGraphics.configureShaderTextureSlots=function(e,n){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program));for(var t=0,i=n.length;t<i;){var l=t++,s=n[l],r=clay_opengl_web_GL.gl.getUniformLocation(e.program,s);null!=r&&(clay_opengl_web_GL.gl.uniform1i(r,l),e.textures[l]=s)}},clay_opengl_GLGraphics.useShader=function(e){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program))},clay_opengl_GLGraphics.deleteShader=function(e){clay_opengl_GLGraphics._boundProgram==e.program&&(clay_opengl_GLGraphics._boundProgram=null),null!=e.vertShader&&(clay_opengl_web_GL.gl.deleteShader(e.vertShader),e.vertShader=null),null!=e.fragShader&&(clay_opengl_web_GL.gl.deleteShader(e.fragShader),e.fragShader=null),null!=e.program&&(clay_opengl_web_GL.gl.deleteProgram(e.program),e.program=null)},clay_opengl_GLGraphics.compileGLShader=function(e,n){var t=clay_opengl_web_GL.gl.createShader(e);clay_opengl_web_GL.gl.shaderSource(t,n),clay_opengl_web_GL.gl.compileShader(t);var i=clay_opengl_web_GL.gl.getShaderInfoLog(t),l="";if(null!=i&&i.length>0){l+="\n\t// start -- ("+(35632==e?"frag":"vert")+") compile log --\n";for(var s=[],r=0,a=o=i.split("\n");r<a.length;){var c=a[r];++r,""!=StringTools.trim(c)&&s.push(c)}o=s;var h=new Array(o.length);for(s=0,r=o.length;s<r;){h[_=s++]="\t\t"+StringTools.trim(o[_])}l+=(o=h).join("\n"),l+="\n\t// end --\n"}if(0==clay_opengl_web_GL.gl.getShaderParameter(t,35713)){var u;if(clay_Log.error("GL / Failed to compile shader:",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/opengl/GLGraphics.hx",lineNumber:772,className:"clay.opengl.GLGraphics",methodName:"compileGLShader"}),0==l.length){var o;for(s=[],r=0,a=o=clay_opengl_web_GL.gl.getShaderInfoLog(t).split("\n");r<a.length;){c=a[r];++r,""!=StringTools.trim(c)&&s.push(c)}o=s;for(h=new Array(o.length),s=0,r=o.length;s<r;){var _;h[_=s++]="\t\t"+StringTools.trim(o[_])}u=(o=h).join("\n")}else u=l;clay_Log.error(u,{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/opengl/GLGraphics.hx",lineNumber:773,className:"clay.opengl.GLGraphics",methodName:"compileGLShader"}),clay_opengl_web_GL.gl.deleteShader(t),t=null}return t},clay_opengl_GLGraphics.getUniformLocation=function(e,n){return clay_opengl_web_GL.gl.getUniformLocation(e.program,n)},clay_opengl_GLGraphics.setIntUniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1i(n,t)},clay_opengl_GLGraphics.setIntArrayUniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1iv(n,t)},clay_opengl_GLGraphics.setFloatUniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1f(n,t)},clay_opengl_GLGraphics.setFloatArrayUniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1fv(n,t)},clay_opengl_GLGraphics.setVector2Uniform=function(e,n,t,i){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform2f(n,t,i)},clay_opengl_GLGraphics.setVector3Uniform=function(e,n,t,i,l){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform3f(n,t,i,l)},clay_opengl_GLGraphics.setVector4Uniform=function(e,n,t,i,l,s){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform4f(n,t,i,l,s)},clay_opengl_GLGraphics.setColorUniform=function(e,n,t,i,l,s){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform4f(n,t,i,l,s)},clay_opengl_GLGraphics.setMatrix4Uniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniformMatrix4fv(n,!1,t)},clay_opengl_GLGraphics.setTexture2dUniform=function(e,n,t,i){if(clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1i(n,t),clay_opengl_GLGraphics._activeTextureSlot!=t){for(clay_opengl_GLGraphics._activeTextureSlot=t;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+t)}clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=i&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=i,clay_opengl_web_GL.gl.bindTexture(3553,i))},clay_opengl_GLGraphics.setBlendFuncSeparate=function(e,n,t,i){clay_opengl_web_GL.gl.blendFuncSeparate(e,n,t,i)},clay_opengl_GLGraphics.ensureNoError=function(){var e=clay_opengl_web_GL.gl.getError();if(0!=e)throw haxe_Exception.thrown("Failed with GL error: "+e)};var clay_opengl_GLGraphics_$RenderTarget=function(){};t["clay.opengl.GLGraphics_RenderTarget"]=clay_opengl_GLGraphics_$RenderTarget,clay_opengl_GLGraphics_$RenderTarget.__name__="clay.opengl.GLGraphics_RenderTarget",clay_opengl_GLGraphics_$RenderTarget.prototype={framebuffer:null,renderbuffer:null,msResolveFramebuffer:null,msResolveColorRenderbuffer:null,msDepthStencilRenderbuffer:null,__class__:clay_opengl_GLGraphics_$RenderTarget};var clay_opengl_GLGraphics_$GpuShader=function(){this.textures=[]};t["clay.opengl.GLGraphics_GpuShader"]=clay_opengl_GLGraphics_$GpuShader,clay_opengl_GLGraphics_$GpuShader.__name__="clay.opengl.GLGraphics_GpuShader",clay_opengl_GLGraphics_$GpuShader.prototype={vertShader:null,fragShader:null,program:null,textures:null,__class__:clay_opengl_GLGraphics_$GpuShader};var clay_opengl_web_GL=function(){};t["clay.opengl.web.GL"]=clay_opengl_web_GL,clay_opengl_web_GL.__name__="clay.opengl.web.GL",clay_opengl_web_GL.__properties__={get_version:"get_version"},clay_opengl_web_GL.versionString=function(){return"/ "+clay_opengl_web_GL.gl.getParameter(7938)+" / "+clay_opengl_web_GL.gl.getParameter(35724)+" / "+clay_opengl_web_GL.gl.getParameter(7937)+" / "+clay_opengl_web_GL.gl.getParameter(7936)+" /"},clay_opengl_web_GL.activeTexture=function(e){clay_opengl_web_GL.gl.activeTexture(e)},clay_opengl_web_GL.attachShader=function(e,n){clay_opengl_web_GL.gl.attachShader(e,n)},clay_opengl_web_GL.bindAttribLocation=function(e,n,t){clay_opengl_web_GL.gl.bindAttribLocation(e,n,t)},clay_opengl_web_GL.bindBuffer=function(e,n){clay_opengl_web_GL.gl.bindBuffer(e,n)},clay_opengl_web_GL.bindFramebuffer=function(e,n){clay_opengl_web_GL.gl.bindFramebuffer(e,n)},clay_opengl_web_GL.bindRenderbuffer=function(e,n){clay_opengl_web_GL.gl.bindRenderbuffer(e,n)},clay_opengl_web_GL.bindTexture=function(e,n){clay_opengl_web_GL.gl.bindTexture(e,n)},clay_opengl_web_GL.blendColor=function(e,n,t,i){clay_opengl_web_GL.gl.blendColor(e,n,t,i)},clay_opengl_web_GL.blendEquation=function(e){clay_opengl_web_GL.gl.blendEquation(e)},clay_opengl_web_GL.blendEquationSeparate=function(e,n){clay_opengl_web_GL.gl.blendEquationSeparate(e,n)},clay_opengl_web_GL.blendFunc=function(e,n){clay_opengl_web_GL.gl.blendFunc(e,n)},clay_opengl_web_GL.blendFuncSeparate=function(e,n,t,i){clay_opengl_web_GL.gl.blendFuncSeparate(e,n,t,i)},clay_opengl_web_GL.bufferData=function(e,n,t){clay_opengl_web_GL.gl.bufferData(e,n,t)},clay_opengl_web_GL.bufferSubData=function(e,n,t){clay_opengl_web_GL.gl.bufferSubData(e,n,t)},clay_opengl_web_GL.checkFramebufferStatus=function(e){return clay_opengl_web_GL.gl.checkFramebufferStatus(e)},clay_opengl_web_GL.clear=function(e){clay_opengl_web_GL.gl.clear(e)},clay_opengl_web_GL.clearColor=function(e,n,t,i){clay_opengl_web_GL.gl.clearColor(e,n,t,i)},clay_opengl_web_GL.clearDepth=function(e){clay_opengl_web_GL.gl.clearDepth(e)},clay_opengl_web_GL.clearStencil=function(e){clay_opengl_web_GL.gl.clearStencil(e)},clay_opengl_web_GL.colorMask=function(e,n,t,i){clay_opengl_web_GL.gl.colorMask(e,n,t,i)},clay_opengl_web_GL.compileShader=function(e){clay_opengl_web_GL.gl.compileShader(e)},clay_opengl_web_GL.compressedTexImage2D=function(e,n,t,i,l,s,r){clay_opengl_web_GL.gl.compressedTexImage2D(e,n,t,i,l,s,r)},clay_opengl_web_GL.compressedTexSubImage2D=function(e,n,t,i,l,s,r,a){clay_opengl_web_GL.gl.compressedTexSubImage2D(e,n,t,i,l,s,r,a)},clay_opengl_web_GL.copyTexImage2D=function(e,n,t,i,l,s,r,a){clay_opengl_web_GL.gl.copyTexImage2D(e,n,t,i,l,s,r,a)},clay_opengl_web_GL.copyTexSubImage2D=function(e,n,t,i,l,s,r,a){clay_opengl_web_GL.gl.copyTexSubImage2D(e,n,t,i,l,s,r,a)},clay_opengl_web_GL.createBuffer=function(){return clay_opengl_web_GL.gl.createBuffer()},clay_opengl_web_GL.createFramebuffer=function(){return clay_opengl_web_GL.gl.createFramebuffer()},clay_opengl_web_GL.createProgram=function(){return clay_opengl_web_GL.gl.createProgram()},clay_opengl_web_GL.createRenderbuffer=function(){return clay_opengl_web_GL.gl.createRenderbuffer()},clay_opengl_web_GL.createShader=function(e){return clay_opengl_web_GL.gl.createShader(e)},clay_opengl_web_GL.createTexture=function(){return clay_opengl_web_GL.gl.createTexture()},clay_opengl_web_GL.cullFace=function(e){clay_opengl_web_GL.gl.cullFace(e)},clay_opengl_web_GL.deleteBuffer=function(e){clay_opengl_web_GL.gl.deleteBuffer(e)},clay_opengl_web_GL.deleteFramebuffer=function(e){clay_opengl_web_GL.gl.deleteFramebuffer(e)},clay_opengl_web_GL.deleteProgram=function(e){clay_opengl_web_GL.gl.deleteProgram(e)},clay_opengl_web_GL.deleteRenderbuffer=function(e){clay_opengl_web_GL.gl.deleteRenderbuffer(e)},clay_opengl_web_GL.deleteShader=function(e){clay_opengl_web_GL.gl.deleteShader(e)},clay_opengl_web_GL.deleteTexture=function(e){clay_opengl_web_GL.gl.deleteTexture(e)},clay_opengl_web_GL.depthFunc=function(e){clay_opengl_web_GL.gl.depthFunc(e)},clay_opengl_web_GL.depthMask=function(e){clay_opengl_web_GL.gl.depthMask(e)},clay_opengl_web_GL.depthRange=function(e,n){clay_opengl_web_GL.gl.depthRange(e,n)},clay_opengl_web_GL.detachShader=function(e,n){clay_opengl_web_GL.gl.detachShader(e,n)},clay_opengl_web_GL.disable=function(e){clay_opengl_web_GL.gl.disable(e)},clay_opengl_web_GL.disableVertexAttribArray=function(e){clay_opengl_web_GL.gl.disableVertexAttribArray(e)},clay_opengl_web_GL.drawArrays=function(e,n,t){clay_opengl_web_GL.gl.drawArrays(e,n,t)},clay_opengl_web_GL.drawElements=function(e,n,t,i){clay_opengl_web_GL.gl.drawElements(e,n,t,i)},clay_opengl_web_GL.enable=function(e){clay_opengl_web_GL.gl.enable(e)},clay_opengl_web_GL.enableVertexAttribArray=function(e){clay_opengl_web_GL.gl.enableVertexAttribArray(e)},clay_opengl_web_GL.finish=function(){clay_opengl_web_GL.gl.finish()},clay_opengl_web_GL.flush=function(){clay_opengl_web_GL.gl.flush()},clay_opengl_web_GL.framebufferRenderbuffer=function(e,n,t,i){clay_opengl_web_GL.gl.framebufferRenderbuffer(e,n,t,i)},clay_opengl_web_GL.framebufferTexture2D=function(e,n,t,i,l){clay_opengl_web_GL.gl.framebufferTexture2D(e,n,t,i,l)},clay_opengl_web_GL.frontFace=function(e){clay_opengl_web_GL.gl.frontFace(e)},clay_opengl_web_GL.generateMipmap=function(e){clay_opengl_web_GL.gl.generateMipmap(e)},clay_opengl_web_GL.getActiveAttrib=function(e,n){return clay_opengl_web_GL.gl.getActiveAttrib(e,n)},clay_opengl_web_GL.getActiveUniform=function(e,n){return clay_opengl_web_GL.gl.getActiveUniform(e,n)},clay_opengl_web_GL.getAttachedShaders=function(e){return clay_opengl_web_GL.gl.getAttachedShaders(e)},clay_opengl_web_GL.getAttribLocation=function(e,n){return clay_opengl_web_GL.gl.getAttribLocation(e,n)},clay_opengl_web_GL.getBufferParameter=function(e,n){return clay_opengl_web_GL.gl.getBufferParameter(e,n)},clay_opengl_web_GL.getContextAttributes=function(){return clay_opengl_web_GL.gl.getContextAttributes()},clay_opengl_web_GL.getError=function(){return clay_opengl_web_GL.gl.getError()},clay_opengl_web_GL.getExtension=function(e){return clay_opengl_web_GL.gl.getExtension(e)},clay_opengl_web_GL.getFramebufferAttachmentParameter=function(e,n,t){return clay_opengl_web_GL.gl.getFramebufferAttachmentParameter(e,n,t)},clay_opengl_web_GL.getParameter=function(e){return clay_opengl_web_GL.gl.getParameter(e)},clay_opengl_web_GL.getProgramInfoLog=function(e){return clay_opengl_web_GL.gl.getProgramInfoLog(e)},clay_opengl_web_GL.getProgramParameter=function(e,n){return clay_opengl_web_GL.gl.getProgramParameter(e,n)},clay_opengl_web_GL.getRenderbufferParameter=function(e,n){return clay_opengl_web_GL.gl.getRenderbufferParameter(e,n)},clay_opengl_web_GL.getShaderInfoLog=function(e){return clay_opengl_web_GL.gl.getShaderInfoLog(e)},clay_opengl_web_GL.getShaderParameter=function(e,n){return clay_opengl_web_GL.gl.getShaderParameter(e,n)},clay_opengl_web_GL.getShaderPrecisionFormat=function(e,n){return clay_opengl_web_GL.gl.getShaderPrecisionFormat(e,n)},clay_opengl_web_GL.getShaderSource=function(e){return clay_opengl_web_GL.gl.getShaderSource(e)},clay_opengl_web_GL.getSupportedExtensions=function(){return clay_opengl_web_GL.gl.getSupportedExtensions()},clay_opengl_web_GL.getTexParameter=function(e,n){return clay_opengl_web_GL.gl.getTexParameter(e,n)},clay_opengl_web_GL.getUniform=function(e,n){return clay_opengl_web_GL.gl.getUniform(e,n)},clay_opengl_web_GL.getUniformLocation=function(e,n){return clay_opengl_web_GL.gl.getUniformLocation(e,n)},clay_opengl_web_GL.getVertexAttrib=function(e,n){return clay_opengl_web_GL.gl.getVertexAttrib(e,n)},clay_opengl_web_GL.getVertexAttribOffset=function(e,n){return clay_opengl_web_GL.gl.getVertexAttribOffset(e,n)},clay_opengl_web_GL.hint=function(e,n){clay_opengl_web_GL.gl.hint(e,n)},clay_opengl_web_GL.isBuffer=function(e){return clay_opengl_web_GL.gl.isBuffer(e)},clay_opengl_web_GL.isEnabled=function(e){return clay_opengl_web_GL.gl.isEnabled(e)},clay_opengl_web_GL.isFramebuffer=function(e){return clay_opengl_web_GL.gl.isFramebuffer(e)},clay_opengl_web_GL.isProgram=function(e){return clay_opengl_web_GL.gl.isProgram(e)},clay_opengl_web_GL.isRenderbuffer=function(e){return clay_opengl_web_GL.gl.isRenderbuffer(e)},clay_opengl_web_GL.isShader=function(e){return clay_opengl_web_GL.gl.isShader(e)},clay_opengl_web_GL.isTexture=function(e){return clay_opengl_web_GL.gl.isTexture(e)},clay_opengl_web_GL.lineWidth=function(e){clay_opengl_web_GL.gl.lineWidth(e)},clay_opengl_web_GL.linkProgram=function(e){clay_opengl_web_GL.gl.linkProgram(e)},clay_opengl_web_GL.pixelStorei=function(e,n){clay_opengl_web_GL.gl.pixelStorei(e,n)},clay_opengl_web_GL.polygonOffset=function(e,n){clay_opengl_web_GL.gl.polygonOffset(e,n)},clay_opengl_web_GL.readPixels=function(e,n,t,i,l,s,r){clay_opengl_web_GL.gl.readPixels(e,n,t,i,l,s,r)},clay_opengl_web_GL.renderbufferStorage=function(e,n,t,i){clay_opengl_web_GL.gl.renderbufferStorage(e,n,t,i)},clay_opengl_web_GL.renderbufferStorageMultisample=function(e,n,t,i,l){clay_opengl_web_GL.gl.renderbufferStorageMultisample(e,n,t,i,l)},clay_opengl_web_GL.clearBufferfv=function(e,n,t,i){null==i&&(i=0),clay_opengl_web_GL.gl.clearBufferfv(e,n,t,i)},clay_opengl_web_GL.blitFramebuffer=function(e,n,t,i,l,s,r,a,c,h){clay_opengl_web_GL.gl.blitFramebuffer(e,n,t,i,l,s,r,a,c,h)},clay_opengl_web_GL.sampleCoverage=function(e,n){clay_opengl_web_GL.gl.sampleCoverage(e,n)},clay_opengl_web_GL.scissor=function(e,n,t,i){clay_opengl_web_GL.gl.scissor(e,n,t,i)},clay_opengl_web_GL.shaderSource=function(e,n){clay_opengl_web_GL.gl.shaderSource(e,n)},clay_opengl_web_GL.stencilFunc=function(e,n,t){clay_opengl_web_GL.gl.stencilFunc(e,n,t)},clay_opengl_web_GL.stencilFuncSeparate=function(e,n,t,i){clay_opengl_web_GL.gl.stencilFuncSeparate(e,n,t,i)},clay_opengl_web_GL.stencilMask=function(e){clay_opengl_web_GL.gl.stencilMask(e)},clay_opengl_web_GL.stencilMaskSeparate=function(e,n){clay_opengl_web_GL.gl.stencilMaskSeparate(e,n)},clay_opengl_web_GL.stencilOp=function(e,n,t){clay_opengl_web_GL.gl.stencilOp(e,n,t)},clay_opengl_web_GL.stencilOpSeparate=function(e,n,t,i){clay_opengl_web_GL.gl.stencilOpSeparate(e,n,t,i)},clay_opengl_web_GL.texImage2D=function(e,n,t,i,l,s,r,a,c){clay_opengl_web_GL.gl.texImage2D(e,n,t,i,l,s,r,a,c)},clay_opengl_web_GL.texParameterf=function(e,n,t){clay_opengl_web_GL.gl.texParameterf(e,n,t)},clay_opengl_web_GL.texParameteri=function(e,n,t){clay_opengl_web_GL.gl.texParameteri(e,n,t)},clay_opengl_web_GL.texSubImage2D=function(e,n,t,i,l,s,r,a,c){clay_opengl_web_GL.gl.texSubImage2D(e,n,t,i,l,s,r,a,c)},clay_opengl_web_GL.uniform1f=function(e,n){clay_opengl_web_GL.gl.uniform1f(e,n)},clay_opengl_web_GL.uniform1fv=function(e,n){clay_opengl_web_GL.gl.uniform1fv(e,n)},clay_opengl_web_GL.uniform1i=function(e,n){clay_opengl_web_GL.gl.uniform1i(e,n)},clay_opengl_web_GL.uniform1iv=function(e,n){clay_opengl_web_GL.gl.uniform1iv(e,n)},clay_opengl_web_GL.uniform2f=function(e,n,t){clay_opengl_web_GL.gl.uniform2f(e,n,t)},clay_opengl_web_GL.uniform2fv=function(e,n){clay_opengl_web_GL.gl.uniform2fv(e,n)},clay_opengl_web_GL.uniform2i=function(e,n,t){clay_opengl_web_GL.gl.uniform2i(e,n,t)},clay_opengl_web_GL.uniform2iv=function(e,n){clay_opengl_web_GL.gl.uniform2iv(e,n)},clay_opengl_web_GL.uniform3f=function(e,n,t,i){clay_opengl_web_GL.gl.uniform3f(e,n,t,i)},clay_opengl_web_GL.uniform3fv=function(e,n){clay_opengl_web_GL.gl.uniform3fv(e,n)},clay_opengl_web_GL.uniform3i=function(e,n,t,i){clay_opengl_web_GL.gl.uniform3i(e,n,t,i)},clay_opengl_web_GL.uniform3iv=function(e,n){clay_opengl_web_GL.gl.uniform3iv(e,n)},clay_opengl_web_GL.uniform4f=function(e,n,t,i,l){clay_opengl_web_GL.gl.uniform4f(e,n,t,i,l)},clay_opengl_web_GL.uniform4fv=function(e,n){clay_opengl_web_GL.gl.uniform4fv(e,n)},clay_opengl_web_GL.uniform4i=function(e,n,t,i,l){clay_opengl_web_GL.gl.uniform4i(e,n,t,i,l)},clay_opengl_web_GL.uniform4iv=function(e,n){clay_opengl_web_GL.gl.uniform4iv(e,n)},clay_opengl_web_GL.uniformMatrix2fv=function(e,n,t){clay_opengl_web_GL.gl.uniformMatrix2fv(e,n,t)},clay_opengl_web_GL.uniformMatrix3fv=function(e,n,t){clay_opengl_web_GL.gl.uniformMatrix3fv(e,n,t)},clay_opengl_web_GL.uniformMatrix4fv=function(e,n,t){clay_opengl_web_GL.gl.uniformMatrix4fv(e,n,t)},clay_opengl_web_GL.useProgram=function(e){clay_opengl_web_GL.gl.useProgram(e)},clay_opengl_web_GL.validateProgram=function(e){clay_opengl_web_GL.gl.validateProgram(e)},clay_opengl_web_GL.vertexAttrib1f=function(e,n){clay_opengl_web_GL.gl.vertexAttrib1f(e,n)},clay_opengl_web_GL.vertexAttrib1fv=function(e,n){clay_opengl_web_GL.gl.vertexAttrib1fv(e,n)},clay_opengl_web_GL.vertexAttrib2f=function(e,n,t){clay_opengl_web_GL.gl.vertexAttrib2f(e,n,t)},clay_opengl_web_GL.vertexAttrib2fv=function(e,n){clay_opengl_web_GL.gl.vertexAttrib2fv(e,n)},clay_opengl_web_GL.vertexAttrib3f=function(e,n,t,i){clay_opengl_web_GL.gl.vertexAttrib3f(e,n,t,i)},clay_opengl_web_GL.vertexAttrib3fv=function(e,n){clay_opengl_web_GL.gl.vertexAttrib3fv(e,n)},clay_opengl_web_GL.vertexAttrib4f=function(e,n,t,i,l){clay_opengl_web_GL.gl.vertexAttrib4f(e,n,t,i,l)},clay_opengl_web_GL.vertexAttrib4fv=function(e,n){clay_opengl_web_GL.gl.vertexAttrib4fv(e,n)},clay_opengl_web_GL.vertexAttribPointer=function(e,n,t,i,l,s){clay_opengl_web_GL.gl.vertexAttribPointer(e,n,t,i,l,s)},clay_opengl_web_GL.viewport=function(e,n,t,i){clay_opengl_web_GL.gl.viewport(e,n,t,i)},clay_opengl_web_GL.get_version=function(){return 7938};var clay_web_WebAssets=function(e){clay_base_BaseAssets.call(this,e)};t["clay.web.WebAssets"]=clay_web_WebAssets,clay_web_WebAssets.__name__="clay.web.WebAssets",clay_web_WebAssets.__super__=clay_base_BaseAssets,clay_web_WebAssets.prototype=$extend(clay_base_BaseAssets.prototype,{isSynchronous:function(){return!1},loadImage:function(e,n,t,i){null==t&&(t=!1),null==n&&(n=4);var l=this;if(null==e)throw haxe_Exception.thrown("Image path is null!");var s=ceramic_Path.extension(e);return this.app.io.loadData(e,!0,null,(function(e){null!=e?l.imageFromBytesUsingImageElement(e,s,4,null,(function(e){null!=i&&clay_Immediate.push((function(){i(e)}))})):null!=i&&clay_Immediate.push((function(){i(null)}))})),null},decodeImageFromElement:function(e,n){null==n&&(n=!0);var t=n?this.nearestPowerOfTwo(e.width):e.width,i=n?this.nearestPowerOfTwo(e.height):e.height,l=this.paddedBytesFromElement(e.width,e.height,t,i,e),s=new clay_Image(e.width,e.height,t,i,4,4,l);return l=null,s},imageFromBytes:function(e,n,t,i,l){return null==i&&(i=!0),null==t&&(t=4),this.imageFromBytesUsingImageElement(e,n,t,i,l)},imageFromBytesUsingImageElement:function(e,n,t,i,l){null==i&&(i=!0),null==t&&(t=4);var s=this;if(null==e)throw haxe_Exception.thrown("Image bytes are null!");for(var r="",a=0,c=e.length;a<c;){var h=255&e[a++];r+=String.fromCodePoint(h)}var u="data:image/"+n+";base64,"+window.btoa(r),o=new Image;return o.onload=function(e){var n=s.decodeImageFromElement(o,i);null!=l&&clay_Immediate.push((function(){l(n)}))},o.onerror=function(e){clay_Log.error("failed to load image from bytes, on error: "+e,{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebAssets.hx",lineNumber:216,className:"clay.web.WebAssets",methodName:"imageFromBytesUsingImageElement"})},o.src=u,null},pixelsToPngData:function(e,n,t,i){var l=window.document.createElement("canvas");l.width=e,l.height=n;var s=l.getContext("2d",null);s.clearRect(0,0,l.width,l.height);var r=new Uint8ClampedArray(t.buffer),a=s.createImageData(e,n);a.data.set(r);try{s.putImageData(a,0,0),l.toBlob((function(e){e.arrayBuffer().then((function(e){var n=new Uint8Array(e,0,e.byteLength);i(n),l=null,s=null,a=null}))}),"image/png")}catch(e){var c=haxe_Exception.caught(e).unwrap();throw haxe_Exception.thrown(c)}},paddedBytesFromPixels:function(e,n,t,i,l){var s=window.document.createElement("canvas");s.width=t,s.height=i;var r=s.getContext("2d",null);r.clearRect(0,0,s.width,s.height);var a=null,c=new Uint8ClampedArray(l.buffer),h=r.createImageData(e,n);h.data.set(c);try{r.putImageData(h,0,0),a=r.getImageData(0,0,s.width,s.height)}catch(e){var u=haxe_Exception.caught(e).unwrap();throw haxe_Exception.thrown(u)}return s=null,r=null,h=null,new Uint8Array(a.data)},paddedBytesFromElement:function(e,n,t,i,l){var s=window.document.createElement("canvas");s.width=t,s.height=i;var r=s.getContext("2d",null);r.clearRect(0,0,s.width,s.height),r.drawImage(l,0,0,e,n);var a=null;try{a=r.getImageData(0,0,s.width,s.height)}catch(e){var c=haxe_Exception.caught(e).unwrap();throw"- textures served over http:// work for cross origin byte requests",clay_Log.info("- textures served from file:/// throw security errors\n- textures served over http:// work for cross origin byte requests",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebAssets.hx",lineNumber:333,className:"clay.web.WebAssets",methodName:"paddedBytesFromElement"}),haxe_Exception.thrown(c)}return s=null,r=null,new Uint8Array(a.data)},nearestPowerOfTwo:function(e){return clay_web_WebAssets.POT?(--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e):e},__class__:clay_web_WebAssets});var clay_web_WebAudio=function(e){this.active=!1,this.ignoreEndedSoundsTick1=[],this.ignoreEndedSoundsTick0=[],this.handleSeq=0,this.suspended=!1,clay_base_BaseAudio.call(this,e),this.instances=new haxe_ds_IntMap};t["clay.web.WebAudio"]=clay_web_WebAudio,clay_web_WebAudio.__name__="clay.web.WebAudio",clay_web_WebAudio.__super__=clay_base_BaseAudio,clay_web_WebAudio.prototype=$extend(clay_base_BaseAudio.prototype,{suspended:null,handleSeq:null,instances:null,buffers:null,ignoreEndedSoundsTick0:null,ignoreEndedSoundsTick1:null,context:null,active:null,init:function(){this.initWebAudio()},tick:function(e){for(var n=this.instances,t=n,i=n.keys();i.hasNext();){var l=i.next(),s={value:t.get(l),key:l},r=s.key;if((h=s.value).loop&&1==h.state){var a=1==h.state?h.timeResume+(this.app.timestamp-h.timeResumeAppTime)*h.pitch:0,c=h.source.getDuration();if(c>0&&a>=c)for(this.app.events.audioEvent(0,r);a>=c;)a-=c,h.timeResumeAppTime+=c/h.pitch}}for(;this.ignoreEndedSoundsTick1.length>0;){(h=this.ignoreEndedSoundsTick1.shift()).ignoreNextEnded>0&&h.ignoreNextEnded--}for(;this.ignoreEndedSoundsTick0.length>0;){var h=this.ignoreEndedSoundsTick0.shift();this.ignoreEndedSoundsTick1.push(h)}},initWebAudio:function(){try{this.context=new AudioContext}catch(e){try{this.context=new window.webkitAudioContext}catch(e){return void clay_Log.debug("Audio / webaudio / no AudioContext could be created! No audio loading or playback will be available.",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:119,className:"clay.web.WebAudio",methodName:"initWebAudio"})}}if(null==this.context)throw haxe_Exception.thrown("Audio / webaudio / no AudioContext could be created, is the Web Audio API supported?");var e="channelCount: "+this.context.destination.channelCount+', channelCountMode: "'+this.context.destination.channelCountMode+'", channelInterpretation: "'+this.context.destination.channelInterpretation+'", maxChannelCount: '+this.context.destination.maxChannelCount+", numberOfInputs: "+this.context.destination.numberOfInputs+", numberOfOutputs: "+this.context.destination.numberOfOutputs;clay_Log.debug("Audio / webaudio: "+Std.string(this.context)+" / sampleRate: "+this.context.sampleRate+" / destination: "+e,{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:135,className:"clay.web.WebAudio",methodName:"initWebAudio"}),this.active=!0},shutdown:function(){this.context.close()},soundOf:function(e){return this.instances.h[e]},playBuffer:function(e){var n=this.context.createBufferSource();return n.buffer=e.buffer,n},playBufferAgain:function(e,n,t){var i=this;n.bufferNode=this.playBuffer(n.source.data),n.bufferNode.playbackRate.value=n.pitch,n.bufferNode.connect(n.panNode),n.bufferNode.loop=n.loop,n.panNode.connect(n.gainNode),n.gainNode.connect(this.context.destination),n.bufferNode.start(0,t),n.bufferNode.onended=function(){i.soundEnded(n)}},playInstance:function(e,n,t,i,l,s,r){var a=this,c=this.context.createGain(),h=this.context.createPanner(),u=null;c.gain.value=s,h.panningModel="equalpower",h.setPosition(Math.cos(-1.5707),0,Math.sin(1.5707)),null!=l&&(u=l,l.loop=r),null!=i.mediaNode&&(u=i.mediaNode,i.mediaElem.loop=r),u.connect(h),h.connect(c),c.connect(this.context.destination);var o={handle:e,source:n,instance:t,bufferNode:l,mediaNode:i.mediaNode,mediaElem:i.mediaElem,gainNode:c,panNode:h,state:1,loop:r,pan:0,pitch:1,ignoreNextEnded:0,timeResumeAppTime:window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,timeResume:0,timePause:null};this.instances.h[e]=o,null!=l&&(l.start(0),l.onended=function(){a.soundEnded(o)}),null!=i.mediaNode&&(i.mediaElem.play(),i.mediaElem.onended=function(){a.soundEnded(o)})},play:function(e,n,t){var i=e.data,l=this.handleSeq,s=e.instance(l);return e.data.isStream?(i.mediaElem.play(),i.mediaElem.volume=1,this.playInstance(l,e,s,i,null,n,!1)):this.playInstance(l,e,s,i,this.playBuffer(i),n,!1),this.handleSeq++,t&&this.pause(l),l},loop:function(e,n,t){var i=e.data,l=this.handleSeq,s=e.instance(l);return e.data.isStream?(i.mediaElem.play(),i.mediaElem.volume=1,this.playInstance(l,e,s,i,null,n,!0)):this.playInstance(l,e,s,i,this.playBuffer(i),n,!0),this.handleSeq++,t&&this.pause(l),l},stopBuffer:function(e){e.bufferNode.stop(),e.bufferNode.disconnect(),e.gainNode.disconnect(),e.panNode.disconnect(),e.bufferNode=null},pause:function(e){var n=this.instances.h[e];if(null!=n&&1==n.state){clay_Log.debug("Audio / pause handle="+e+", "+n.source.data.id,{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:319,className:"clay.web.WebAudio",methodName:"pause"});var t=this.positionOf(e);n.timePause=t,n.state=0,null!=n.bufferNode?this.stopBuffer(n):null!=n.mediaNode&&n.mediaElem.pause()}},unPause:function(e){var n=this.instances.h[e];null!=n&&0==n.state&&(clay_Log.debug("Audio / unpause handle="+e+", "+n.source.data.id,{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:342,className:"clay.web.WebAudio",methodName:"unPause"}),n.timeResume=null!=n.timePause?n.timePause:0,n.timeResumeAppTime=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,null==n.mediaNode?this.playBufferAgain(e,n,n.timePause):n.mediaElem.play(),n.state=1)},soundEnded:function(e){e.ignoreNextEnded>0?e.ignoreNextEnded--:0!=e.state&&(1!=e.state||this.positionOf(e.handle)+.1>=e.source.getDuration())&&this.destroySound(e)},destroySound:function(e){null!=e.source&&this.instances.h.hasOwnProperty(e.handle)&&this.positionOf(e.handle)+.1>=e.source.getDuration()&&this.app.events.audioEvent(0,e.handle),null!=e.bufferNode&&(e.bufferNode.stop(),e.bufferNode.disconnect(),e.gainNode.disconnect(),e.panNode.disconnect(),e.bufferNode=null),null!=e.mediaNode&&(e.mediaElem.pause(),e.mediaElem.currentTime=0,e.mediaNode.disconnect(),e.mediaElem=null,e.mediaNode=null),null!=e.gainNode&&(e.gainNode.disconnect(),e.gainNode=null),null!=e.panNode&&(e.panNode.disconnect(),e.panNode=null),this.instances.h.hasOwnProperty(e.handle)&&(this.instances.remove(e.handle),this.app.events.audioEvent(1,e.handle)),e=null},stop:function(e){var n=this.instances.h[e];null!=n&&(2!=n.state&&clay_Log.debug("Audio / stop handle="+e+(null!=n.source&&null!=n.source.data?", "+n.source.data.id:""),{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:416,className:"clay.web.WebAudio",methodName:"stop"}),this.destroySound(n),n.state=2)},volume:function(e,n){var t=this.instances.h[e];null!=t&&(clay_Log.debug("Audio / volume="+n+" handle="+e+", "+t.source.data.id,{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:429,className:"clay.web.WebAudio",methodName:"volume"}),t.gainNode.gain.value=n)},pan:function(e,n){var t=this.instances.h[e];null!=t&&(clay_Log.debug("Audio / pan="+n+" handle="+e+", "+t.source.data.id,{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:441,className:"clay.web.WebAudio",methodName:"pan"}),t.pan=n,t.panNode.setPosition(Math.cos(1.5707*(n-1)),0,Math.sin(1.5707*(n+1))))},pitch:function(e,n){var t=this.instances.h[e];if(null!=t){if(clay_Log.debug("Audio / pitch="+n+" handle="+e+", "+t.source.data.id,{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:457,className:"clay.web.WebAudio",methodName:"pitch"}),null==t.mediaNode){var i=this.positionOf(e);t.pitch=n,1==t.state&&(t.timeResumeAppTime=t.timeResume+(window.performance.now()/1e3-clay_web_WebRuntime.timestampStart)-i/t.pitch)}if(null!=t.bufferNode)t.bufferNode.playbackRate.value=n;else t.mediaNode}},position:function(e,n){var t=this.instances.h[e];null!=t&&(clay_Log.debug("Audio / position="+n+" handle="+e+", "+t.source.data.id,{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:482,className:"clay.web.WebAudio",methodName:"position"}),0==t.state?t.timePause=n:(t.timeResume=n,t.timeResumeAppTime=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,null!=t.bufferNode?(t.ignoreNextEnded++,this.ignoreEndedSoundsTick0.push(t),this.stopBuffer(t),this.playBufferAgain(e,t,n)):t.mediaElem.currentTime=n))},volumeOf:function(e){var n=this.instances.h[e];return null==n?0:n.gainNode.gain.value},panOf:function(e){var n=this.instances.h[e];return null==n?0:n.pan},pitchOf:function(e){var n=this.instances.h[e];return null==n?1:n.pitch},positionOf:function(e){var n=this.instances.h[e];if(null==n)return 0;if(null!=n.mediaElem)return n.mediaElem.currentTime;switch(n.state){case-1:case 2:return 0;case 0:case 1:var t;switch(n.state){case 0:t=n.timePause;break;case 1:t=n.timeResume+(window.performance.now()/1e3-clay_web_WebRuntime.timestampStart-n.timeResumeAppTime)*n.pitch;break;default:t=0}var i=n.source.getDuration();return i>0&&(n.loop?t%=i:t>i&&(t=i)),t}},stateOf:function(e){var n=this.instances.h[e];return null==n?-1:n.state},loopOf:function(e){var n=this.instances.h[e];return null!=n&&n.loop},instanceOf:function(e){var n=this.instances.h[e];return null==n?null:n.instance},suspend:function(){this.active&&(this.suspended||(this.suspended=!0,this.active=!1,this.context.suspend()))},resume:function(){this.active||this.suspended&&(this.suspended=!1,this.active=!0,this.context.resume())},loadData:function(e,n,t,i,l){if(null==i&&(i=!1),null==e)throw haxe_Exception.thrown("path is null!");return this.active?n?(this.loadDataFromStream(e,t,l),null):(this.loadDataFromSound(e,t,l),null):(clay_Log.error("Audio / WebAudio context unavailable",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:628,className:"clay.web.WebAudio",methodName:"loadData"}),null!=l&&clay_Immediate.push((function(){l(null)})),null)},dataFromBytes:function(e,n,t,i){var l=this;if(this.active){if(null==e)throw haxe_Exception.thrown("id is null!");if(null==n)throw haxe_Exception.thrown("bytes is null!");this.context.decodeAudioData(n.buffer,(function(n){var s=new clay_web__$WebAudio_WebAudioData(l.app,n,null,null,new clay_audio_AudioDataOptions(e,0|n.sampleRate,n.length,n.duration,n.numberOfChannels,null,t,null,!1));null!=i&&clay_Immediate.push((function(){i(s)}))}),(function(){clay_Log.error("Audio / failed to decode audio for `"+e+"`",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:685,className:"clay.web.WebAudio",methodName:"dataFromBytes"}),null!=i&&clay_Immediate.push((function(){i(null)}))}))}else null!=i&&clay_Immediate.push((function(){i(null)}))},handleSourceDestroyed:function(e){},handleInstanceDestroyed:function(e){this.stop(e)},loadDataFromSound:function(e,n,t){var i=this;this.app.io.loadData(e,!0,null,(function(l){null!=l?i.dataFromBytes(e,l,n,t):null!=t&&clay_Immediate.push((function(){t(null)}))}))},loadDataFromStream:function(e,n,t){var i=this,l=new Audio(e);l.autoplay=!1,l.controls=!1,l.preload="auto",l.onerror=function(n){var i;switch(l.error.code){case 1:i="MEDIA_ERR_ABORTED";break;case 2:i="MEDIA_ERR_NETWORK";break;case 3:i="MEDIA_ERR_DECODE";break;case 4:i="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:i="MEDIA_ERR_ENCRYPTED";break;default:i="unknown error"}clay_Log.error("Audio / failed to load `"+e+"` as stream : `"+i+"`",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:748,className:"clay.web.WebAudio",methodName:"loadDataFromStream"}),null!=t&&clay_Immediate.push((function(){t(null)}))},l.onloadedmetadata=function(s){var r=i.context.createMediaElementSource(l),a=0|i.context.sampleRate,c=r.channelCount,h=a*c*2,u=l.duration*h|0,o=new clay_web__$WebAudio_WebAudioData(i.app,null,r,l,new clay_audio_AudioDataOptions(e,a,u,l.duration,c,null,n,null,!0));null!=t&&clay_Immediate.push((function(){t(o)}))}},__class__:clay_web_WebAudio});var clay_web__$WebAudio_WebAudioData=function(e,n,t,i,l){this.buffer=n,this.mediaNode=t,this.mediaElem=i,clay_audio_AudioData.call(this,e,l)};t["clay.web._WebAudio.WebAudioData"]=clay_web__$WebAudio_WebAudioData,clay_web__$WebAudio_WebAudioData.__name__="clay.web._WebAudio.WebAudioData",clay_web__$WebAudio_WebAudioData.__super__=clay_audio_AudioData,clay_web__$WebAudio_WebAudioData.prototype=$extend(clay_audio_AudioData.prototype,{buffer:null,mediaNode:null,mediaElem:null,destroy:function(){this.buffer=null,this.mediaNode=null,this.mediaElem=null,clay_audio_AudioData.prototype.destroy.call(this)},__class__:clay_web__$WebAudio_WebAudioData});var clay_web_WebConfig=function(e,n,t,i,l,s,r){this.mouseUseBrowserWindowEvents=!0,this.preventDefaultKeys=[1073741904,1073741903,1073741906,1073741905,8,9,127,32],this.preventDefaultTouches=!0,this.preventDefaultMouseWheel=!0,this.preventDefaultContextMenu=!0,this.windowParent=window.document.body,this.windowId="app",null!=e&&(this.windowId=e),null!=n&&(this.windowParent=n),null!=t&&(this.preventDefaultContextMenu=t),null!=i&&(this.preventDefaultMouseWheel=i),null!=l&&(this.preventDefaultTouches=l),null!=s&&(this.preventDefaultKeys=s),null!=r&&(this.mouseUseBrowserWindowEvents=r)};t["clay.web.WebConfig"]=clay_web_WebConfig,clay_web_WebConfig.__name__="clay.web.WebConfig",clay_web_WebConfig.prototype={windowId:null,windowParent:null,preventDefaultContextMenu:null,preventDefaultMouseWheel:null,preventDefaultTouches:null,preventDefaultKeys:null,mouseUseBrowserWindowEvents:null,__class__:clay_web_WebConfig};var clay_web_WebIO=function(e){clay_base_BaseIO.call(this,e)};t["clay.web.WebIO"]=clay_web_WebIO,clay_web_WebIO.__name__="clay.web.WebIO",clay_web_WebIO.__super__=clay_base_BaseIO,clay_web_WebIO.prototype=$extend(clay_base_BaseIO.prototype,{isSynchronous:function(){return!1},loadData:function(e,n,t,i){if(null==t&&(t=!1),null==n&&(n=!1),null==e)throw haxe_Exception.thrown("Path is null!");var l=new XMLHttpRequest;return l.open("GET",e,true),n?l.overrideMimeType("text/plain; charset=x-user-defined"):l.overrideMimeType("text/plain; charset=UTF-8"),l.responseType="arraybuffer",l.onload=function(e){if(200==l.status){var n=new Uint8Array(l.response);null!=i&&clay_Immediate.push((function(){i(n)}))}else clay_Log.error("Request status was "+l.status+" / "+l.statusText,{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebIO.hx",lineNumber:102,className:"clay.web.WebIO",methodName:"loadData"}),null!=i&&clay_Immediate.push((function(){i(e)}))},l.send(),null},__class__:clay_web_WebIO});var clay_web_WebRuntime=function(e){this.keyDownStates=new ceramic_IntMap,this.pendingKeyUps=[],this.touches=new ceramic_IntMap,this.windowDpr=1,this.windowY=0,this.windowX=0,this.skipKeyboardEvents=!1,this.skipMouseEvents=!1,this.webglVersion=1,this.gamepadsSupported=!1,clay_base_BaseRuntime.call(this,e)};t["clay.web.WebRuntime"]=clay_web_WebRuntime,clay_web_WebRuntime.__name__="clay.web.WebRuntime",clay_web_WebRuntime.timestamp=function(){return window.performance.now()/1e3-clay_web_WebRuntime.timestampStart},clay_web_WebRuntime.defaultConfig=function(){return new clay_web_WebConfig("app",window.document.body,!0,!0,!0,[1073741904,1073741903,1073741906,1073741905,8,9,127,32],!0)},clay_web_WebRuntime.__super__=clay_base_BaseRuntime,clay_web_WebRuntime.prototype=$extend(clay_base_BaseRuntime.prototype,{gamepadsSupported:null,window:null,webglVersion:null,skipMouseEvents:null,skipKeyboardEvents:null,windowX:null,windowY:null,windowW:null,windowH:null,windowDpr:null,touches:null,gamepadButtonCache:null,gamepadAxisCache:null,pendingKeyUps:null,keyDownStates:null,init:function(){clay_web_WebRuntime.timestampStart=window.performance.now()/1e3,this.name="web",this.initGamepads()},ready:function(){this.createWindow(),clay_Log.debug("Web / ready",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:83,className:"clay.web.WebRuntime",methodName:"ready"})},run:function(){return clay_Log.debug("Web / run",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:89,className:"clay.web.WebRuntime",methodName:"run"}),this.loop(0),!1},loop:function(e){if(null==e&&(e=.016),this.app.hasShutdown)return!1;this.app.ready&&(this.gamepadsSupported&&this.pollGamepads(),this.updateWindowBounds());var n=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;return this.app.shouldUpdate(n)&&this.app.emitTick(n),this.clearPendingKeyUps(),this.app.shuttingDown||window.requestAnimationFrame($bind(this,this.loop)),!0},createWindow:function(){var e=this.app.config.window;this.window=window.document.createElement("canvas"),this.windowDpr=this.windowDevicePixelRatio(),this.window.width=Math.floor(e.width*this.windowDpr),this.window.height=Math.floor(e.height*this.windowDpr),this.windowW=e.width,this.windowH=e.height,this.window.style.width=e.width+"px",this.window.style.height=e.height+"px",this.window.style.background="#000000",clay_Log.debug("Web / Created window at "+this.windowX+","+this.windowY+" - "+this.window.width+"x"+this.window.height+" pixels ("+e.width+"x"+e.height+"@"+this.windowDpr+"x)",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:150,className:"clay.web.WebRuntime",methodName:"createWindow"}),this.window.id=this.app.config.runtime.windowId,this.app.config.runtime.windowParent.appendChild(this.window),null!=e.title&&(window.document.title=e.title),this.createRenderContext(this.window)?(this.postRenderContext(this.window),this.setupEvents()):this.createRenderContextFailed()},createRenderContext:function(e){var n=this.app.config.render,t=this.applyGLAttributes(n),i=null;return 1!=n.webgl.version&&(null==(i=e.getContext("webgl"+n.webgl.version,t))&&(i=e.getContext("experimental-webgl"+n.webgl.version,t)),null!=i&&(this.webglVersion=n.webgl.version)),null==i&&(i=js_html__$CanvasElement_CanvasUtil.getContextWebGL(e,t),this.webglVersion=1),clay_opengl_web_GL.gl=i,clay_Log.debug("GL / context: "+Std.string(null!=i),{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:196,className:"clay.web.WebRuntime",methodName:"createRenderContext"}),null!=i},createRenderContextFailed:function(){var e=window.document.createElement("div"),n=window.document.createElement("div");throw e.style.marginLeft="auto",e.style.marginRight="auto",e.style.color="#d3d3d3",e.style.marginTop="5em",e.style.fontSize="1.4em",e.style.fontFamily="Helvetica, sans-serif",e.innerHTML='WebGL is required to run this!<br/><br/>visit <a style="color:#06b4fb; text-decoration:none;" href="http://get.webgl.org/">get.webgl.com</a> for info<br/>and contact the developer of this app',n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.display="block",n.style.minWidth="100%",n.style.minHeight="100%",n.style.textAlign="center",n.style.position="absolute",n.style.background="rgba(1,1,1,0.90)",n.appendChild(e),window.document.body.appendChild(n),haxe_Exception.thrown("Web / Failed to create render context")},applyGLAttributes:function(e){var n={alpha:e.webgl.alpha,antialias:e.webgl.antialias,depth:e.webgl.depth,stencil:e.webgl.stencil,failIfMajorPerformanceCaveat:e.webgl.failIfMajorPerformanceCaveat,premultipliedAlpha:e.webgl.premultipliedAlpha,preserveDrawingBuffer:e.webgl.preserveDrawingBuffer};return e.antialiasing>0&&(n.antialias=!0),e.depth>0&&(n.depth=!0),e.stencil>0&&(n.stencil=!0),n},postRenderContext:function(e){var n=this.app.config.render.defaultClear;clay_opengl_web_GL.gl.clearDepth(1),clay_opengl_web_GL.gl.clearStencil(0),clay_opengl_web_GL.gl.clearColor(n.r,n.g,n.b,n.a),clay_opengl_web_GL.gl.clear(17664)},setupEvents:function(){window.document.addEventListener("fullscreenchange",$bind(this,this.handleFullscreenChange)),window.document.addEventListener("fullscreenerror",$bind(this,this.handleFullscreenError)),this.window.addEventListener("mouseenter",$bind(this,this.handleMouseEnter)),this.window.addEventListener("mouseleave",$bind(this,this.handleMouseLeave)),window.document.addEventListener("visibilitychange",$bind(this,this.handleVisibilityChange)),window.document.addEventListener("keydown",$bind(this,this.handleKeyDown)),window.document.addEventListener("keyup",$bind(this,this.handleKeyUp)),window.document.addEventListener("keypress",$bind(this,this.handleKeyPress)),this.window.addEventListener("contextmenu",$bind(this,this.handleContextMenu));var e=this.app.config.runtime.mouseUseBrowserWindowEvents?window:this.window;e.addEventListener("mousedown",$bind(this,this.handleMouseDown)),e.addEventListener("mouseup",$bind(this,this.handleMouseUp)),e.addEventListener("mousemove",$bind(this,this.handleMouseMove)),this.window.addEventListener("wheel",$bind(this,this.handleWheel)),this.window.addEventListener("touchstart",$bind(this,this.handleTouchStart)),this.window.addEventListener("touchend",$bind(this,this.handleTouchEnd)),this.window.addEventListener("touchmove",$bind(this,this.handleTouchMove)),window.addEventListener("gamepadconnected",$bind(this,this.handleGamepadConnected)),window.addEventListener("gamepaddisconnected",$bind(this,this.handleGamepadDisconnected))},handleVisibilityChange:function(e){window.document.hidden?(this.app.emitWindowEvent(2,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0),this.app.emitWindowEvent(7,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0),this.app.emitWindowEvent(13,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0)):(this.app.emitWindowEvent(1,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0),this.app.emitWindowEvent(9,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0),this.app.emitWindowEvent(12,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0))},handleContextMenu:function(e){this.app.config.runtime.preventDefaultContextMenu&&e.preventDefault()},handleFullscreenChange:function(e){var n=window.document.fullscreenElement;null!=n?(clay_Log.debug("Web / Entering fullscreen (id="+n.id+")",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:360,className:"clay.web.WebRuntime",methodName:"handleFullscreenChange"}),this.app.config.window.fullscreen=!0,this.app.emitWindowEvent(15,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0)):(clay_Log.debug("Web / Leaving fullscreen",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:365,className:"clay.web.WebRuntime",methodName:"handleFullscreenChange"}),this.app.config.window.fullscreen=!1,this.app.emitWindowEvent(16,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0))},handleFullscreenError:function(e){clay_Log.warning("Web / Failed to change fullscreen setting: "+Std.string(e),{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:374,className:"clay.web.WebRuntime",methodName:"handleFullscreenError"})},handleMouseEnter:function(e){this.app.emitWindowEvent(10,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0)},handleMouseLeave:function(e){this.app.emitWindowEvent(11,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0)},handleMouseDown:function(e){if(!this.skipMouseEvents){var n=this.app.input,t=Math.floor(this.windowDpr*(e.pageX-this.windowX)),i=Math.floor(this.windowDpr*(e.pageY-this.windowY)),l=e.button,s=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;n.app.events.mouseDown(t,i,l,s,1)}},handleMouseUp:function(e){if(!this.skipMouseEvents){var n=this.app.input,t=Math.floor(this.windowDpr*(e.pageX-this.windowX)),i=Math.floor(this.windowDpr*(e.pageY-this.windowY)),l=e.button,s=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;n.app.events.mouseUp(t,i,l,s,1)}},handleMouseMove:function(e){if(!this.skipMouseEvents){var n=null==e.movementX?0:e.movementX,t=null==e.movementY?0:e.movementY;n=Math.floor(n*this.windowDpr),t=Math.floor(t*this.windowDpr);var i=this.app.input,l=Math.floor(this.windowDpr*(e.pageX-this.windowX)),s=Math.floor(this.windowDpr*(e.pageY-this.windowY)),r=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;i.app.events.mouseMove(l,s,n,t,r,1)}},handleWheel:function(e){if(this.app.config.runtime.preventDefaultMouseWheel&&e.preventDefault(),!this.skipMouseEvents){var n=this.app.input,t=Math.round(.1*e.deltaX),i=Math.round(.1*e.deltaY),l=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;n.app.events.mouseWheel(t,i,l,1)}},handleTouchStart:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var l=i[t];++t;var s=l.clientX-n.left,r=l.clientY-n.top;s/=n.width,r/=n.height;var a=this.touches.get(l.identifier);null==a?(a={x:s,y:r},this.touches.set(l.identifier,a)):(a.x=s,a.y=r);var c=this.app.input,h=l.identifier,u=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;c.app.events.touchDown(s,r,0,0,h,u)}},handleTouchEnd:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var l=i[t];++t;var s=l.clientX-n.left,r=l.clientY-n.top;s/=n.width,r/=n.height;var a=this.touches.get(l.identifier);null==a&&(a={x:s,y:r},this.touches.set(l.identifier,a));var c=this.app.input,h=s-a.x,u=r-a.y,o=l.identifier,_=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;c.app.events.touchUp(s,r,h,u,o,_),a.x=s,a.y=r}},handleTouchMove:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var l=i[t];++t;var s=l.clientX-n.left,r=l.clientY-n.top;s/=n.width,r/=n.height;var a=this.touches.get(l.identifier);null==a&&(a={x:s,y:r},this.touches.set(l.identifier,a));var c=this.app.input,h=s-a.x,u=r-a.y,o=l.identifier,_=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;c.app.events.touchMove(s,r,h,u,o,_),a.x=s,a.y=r}},clearPendingKeyUps:function(){for(;this.pendingKeyUps.length>0;){var e=this.pendingKeyUps.shift();if(1==this.keyDownStates.get(e.keyCode)){this.keyDownStates.set(e.keyCode,!1);var n=this.app.input,t=e.keyCode,i=e.scanCode,l=e.repeat,s=e.modState,r=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;n.app.events.keyUp(t,i,l,s,r,e.windowId)}}},handleKeyDown:function(e){if(!this.skipKeyboardEvents){var n=this.convertKeyCode(e.keyCode),t=this.convertScanCode(e.code,n),i=this.modStateFromEvent(e);if(!i.none)switch(n){case 1073742048:case 1073742049:case 1073742050:case 1073742051:case 1073742052:case 1073742053:case 1073742054:case 1073742055:break;default:(i.lctrl||i.rctrl||i.lalt||i.ralt||i.lmeta||i.rmeta)&&this.pendingKeyUps.push({keyCode:n,scanCode:t,repeat:e.repeat,modState:i,windowId:1})}-1!=this.app.config.runtime.preventDefaultKeys.indexOf(n)&&e.preventDefault(),this.keyDownStates.set(n,!0);var l=this.app.input,s=e.repeat,r=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;l.app.events.keyDown(n,t,s,i,r,1)}},handleKeyUp:function(e){if(!this.skipKeyboardEvents){var n=this.convertKeyCode(e.keyCode),t=this.convertScanCode(e.code,n),i=this.modStateFromEvent(e);if(-1!=this.app.config.runtime.preventDefaultKeys.indexOf(n)&&e.preventDefault(),1==this.keyDownStates.get(n)){this.keyDownStates.set(n,!1);var l=this.app.input,s=e.repeat,r=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;l.app.events.keyUp(n,t,s,i,r,1)}}},handleKeyPress:function(e){if(!this.skipKeyboardEvents&&0!=e.which&&8!=e.keyCode&&13!=e.keyCode){var n=e.charCode,t=String.fromCodePoint(n),i=this.app.input,l=t.length,s=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;i.app.events.text(t,0,l,2,s,1)}},handleGamepadConnected:function(e){clay_Log.debug("Gamepad connected at index "+e.gamepad.index+": "+e.gamepad.id+". "+e.gamepad.buttons.length+" buttons, "+e.gamepad.axes.length+" axes",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:689,className:"clay.web.WebRuntime",methodName:"handleGamepadConnected"});var n=e.gamepad;if(null==this.gamepadButtonCache[n.index]){this.gamepadButtonCache[n.index]=[];for(var t=0,i=n.buttons.length;t<i;){t++;this.gamepadButtonCache[n.index].push(0)}this.gamepadAxisCache[n.index]=[];for(t=0,i=n.axes.length;t<i;){t++;this.gamepadAxisCache[n.index].push(0)}}var l=this.app.input,s=(n=e.gamepad.index,e.gamepad.id),r=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;l.app.events.gamepadDevice(n,s,1,r)},handleGamepadDisconnected:function(e){clay_Log.debug("Gamepad disconnected at index "+e.gamepad.index+": "+e.gamepad.id,{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:704,className:"clay.web.WebRuntime",methodName:"handleGamepadDisconnected"});var n=e.gamepad;this.gamepadButtonCache[n.index]=null,this.gamepadAxisCache[n.index]=null;var t=this.app.input,i=(n=e.gamepad.index,e.gamepad.id),l=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;t.app.events.gamepadDevice(n,i,2,l)},convertKeyCode:function(e){return e>=65&&e<=90?e+32:clay_web__$WebRuntime_DOMKeys.domKeyToKeyCode(e)},convertScanCode:function(e,n){if(null==e)return w.toScanCode(n);switch(e){case"AltLeft":return 226;case"AltRight":return 230;case"ArrowDown":return 81;case"ArrowLeft":return 80;case"ArrowRight":return 79;case"ArrowUp":return 82;case"AudioVolumeMute":return 262;case"Backquote":return 53;case"Backslash":return 49;case"Backspace":return 42;case"BracketLeft":return 47;case"BracketRight":return 48;case"BrowserBack":return 270;case"BrowserFavorites":return 274;case"BrowserForward":return 271;case"BrowserHome":return 269;case"BrowserRefresh":return 273;case"BrowserSearch":return 268;case"BrowserStop":return 272;case"Cancel":return 155;case"CapsLock":return 57;case"Comma":return 54;case"ContextMenu":return 118;case"ControlLeft":return 224;case"ControlRight":return 228;case"Delete":return 76;case"Digit0":return 39;case"Digit1":return 30;case"Digit2":return 31;case"Digit3":return 32;case"Digit4":return 33;case"Digit5":return 34;case"Digit6":return 35;case"Digit7":return 36;case"Digit8":return 37;case"Digit9":return 38;case"End":return 77;case"Enter":return 40;case"Equal":return 46;case"Escape":return 41;case"F1":return 58;case"F10":return 67;case"F11":return 68;case"F12":return 69;case"F2":return 59;case"F3":return 60;case"F4":return 61;case"F5":return 62;case"F6":return 63;case"F7":return 64;case"F8":return 65;case"F9":return 66;case"Home":return 74;case"Help":case"Insert":return 73;case"IntlBackslash":return 100;case"KanaMode":case"Lang1":return 144;case"KeyA":return 4;case"KeyB":return 5;case"KeyC":return 6;case"KeyD":return 7;case"KeyE":return 8;case"KeyF":return 9;case"KeyG":return 10;case"KeyH":return 11;case"KeyI":return 12;case"KeyJ":return 13;case"KeyK":return 14;case"KeyL":return 15;case"KeyM":return 16;case"KeyN":return 17;case"KeyO":return 18;case"KeyP":return 19;case"KeyQ":return 20;case"KeyR":return 21;case"KeyS":return 22;case"KeyT":return 23;case"KeyU":return 24;case"KeyV":return 25;case"KeyW":return 26;case"KeyX":return 27;case"KeyY":return 28;case"KeyZ":return 29;case"Lang2":return 145;case"Lang3":return 146;case"Lang4":return 147;case"Lang5":return 148;case"Lang6":return 149;case"Lang7":return 150;case"Lang8":return 151;case"Lang9":return 152;case"LaunchApp1":return 283;case"LaunchApp2":return 284;case"LaunchMail":return 265;case"MediaPlayPause":return 261;case"MediaSelect":return 263;case"MediaStop":return 260;case"MediaTrackNext":return 258;case"MediaTrackPrevious":return 259;case"Minus":return 45;case"NumLock":return 83;case"Numpad0":return 98;case"Numpad1":return 89;case"Numpad2":return 90;case"Numpad3":return 91;case"Numpad4":return 92;case"Numpad5":return 93;case"Numpad6":return 94;case"Numpad7":return 95;case"Numpad8":return 96;case"Numpad9":return 97;case"NumpadAdd":return 87;case"NumpadComma":return 133;case"NumpadDecimal":return 220;case"NumpadDivide":return 84;case"NumpadEnter":return 88;case"NumpadEqual":return 103;case"NumpadMultiply":return 85;case"NumpadSubtract":return 86;case"MetaLeft":case"OSLeft":return 227;case"MetaRight":case"OSRight":return 231;case"PageDown":return 78;case"PageUp":return 75;case"Pause":return 72;case"Period":return 55;case"Power":return 102;case"PrintScreen":return 70;case"Quote":return 52;case"ScrollLock":return 71;case"Semicolon":return 51;case"ShiftLeft":return 225;case"ShiftRight":return 229;case"Slash":return 56;case"Space":return 44;case"Tab":return 43;case"AudioVolumeDown":case"VolumeDown":return 129;case"AudioVolumeUp":case"VolumeUp":return 128;default:return w.toScanCode(n)}},modStateFromEvent:function(e){var n=!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey);return this.app.input.modState.none=n,this.app.input.modState.lshift=e.shiftKey,this.app.input.modState.rshift=e.shiftKey,this.app.input.modState.lctrl=e.ctrlKey,this.app.input.modState.rctrl=e.ctrlKey,this.app.input.modState.lalt=e.altKey,this.app.input.modState.ralt=e.altKey,this.app.input.modState.lmeta=e.metaKey,this.app.input.modState.rmeta=e.metaKey,this.app.input.modState.num=!1,this.app.input.modState.caps=!1,this.app.input.modState.mode=!1,this.app.input.modState.ctrl=e.ctrlKey,this.app.input.modState.shift=e.shiftKey,this.app.input.modState.alt=e.altKey,this.app.input.modState.meta=e.metaKey,this.app.input.modState},getWindowX:function(e){return Math.round(e.left+window.pageXOffset-window.document.body.clientTop)},getWindowY:function(e){return Math.round(e.top+window.pageYOffset-window.document.body.clientLeft)},translateMouseX:function(e){return Math.floor(this.windowDpr*(e.pageX-this.windowX))},translateMouseY:function(e){return Math.floor(this.windowDpr*(e.pageY-this.windowY))},updateWindowBounds:function(){var e=this.windowDpr;this.windowDpr=this.windowDevicePixelRatio();var n=this.window.getBoundingClientRect(),t=Math.round(n.left+window.pageXOffset-window.document.body.clientTop),i=Math.round(n.top+window.pageYOffset-window.document.body.clientLeft),l=Math.round(n.width),s=Math.round(n.height);t==this.windowX&&i==this.windowY||(this.windowX=t,this.windowY=i,this.app.emitWindowEvent(4,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,this.windowX,this.windowY)),l==this.windowW&&s==this.windowH&&e==this.windowDpr||(this.windowW=l,this.windowH=s,this.window.width=Math.floor(this.windowW*this.windowDpr),this.window.height=Math.floor(this.windowH*this.windowDpr),this.app.emitWindowEvent(6,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,this.window.width,this.window.height))},initGamepads:function(){var e=this.getGamepadList();if(null!=e){this.gamepadsSupported=!0,this.gamepadButtonCache=[],this.gamepadAxisCache=[];for(var n=0;n<e.length;){var t=e[n];if(++n,null!=t&&null==this.gamepadButtonCache[t.index]){this.gamepadButtonCache[t.index]=[];for(var i=0,l=t.buttons.length;i<l;){i++;this.gamepadButtonCache[t.index].push(0)}this.gamepadAxisCache[t.index]=[];for(var s=0,r=t.axes.length;s<r;){s++;this.gamepadAxisCache[t.index].push(0)}}}}else clay_Log.warning("Gamepads are not supported in this browser :(",{fileName:"/home/sharpcdf/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:972,className:"clay.web.WebRuntime",methodName:"initGamepads"})},getGamepadList:function(){return null!=e.navigator.getGamepads?e.navigator.getGamepads():null!=e.navigator.webkitGetGamepads?e.navigator.webkitGetGamepads():null},initGamepadCacheIfNeeded:function(e){if(null==this.gamepadButtonCache[e.index]){this.gamepadButtonCache[e.index]=[];for(var n=0,t=e.buttons.length;n<t;){n++;this.gamepadButtonCache[e.index].push(0)}this.gamepadAxisCache[e.index]=[];for(n=0,t=e.axes.length;n<t;){n++;this.gamepadAxisCache[e.index].push(0)}}},deleteGamepadCache:function(e){this.gamepadButtonCache[e.index]=null,this.gamepadAxisCache[e.index]=null},pollGamepads:function(){var e=this.getGamepadList();if(null!=e)for(var n=e.length,t=0;t<n;){var i=e[t];if(null!=i){if(null==this.gamepadButtonCache[i.index]){this.gamepadButtonCache[i.index]=[];for(var l=0,s=i.buttons.length;l<s;){l++;this.gamepadButtonCache[i.index].push(0)}this.gamepadAxisCache[i.index]=[];for(var r=0,a=i.axes.length;r<a;){r++;this.gamepadAxisCache[i.index].push(0)}}for(var c=this.gamepadAxisCache[i.index],h=0,u=i.axes.length;h<u;){var o=h++,_=i.axes[o];if(_!=c[o]){c[o]=_;var d=this.app.input,b=i.index,f=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;d.app.events.gamepadAxis(b,o,_,f)}}for(var O=this.gamepadButtonCache[i.index],p=0,g=i.buttons.length;p<g;){var m=p++,v=i.buttons[m];if(v.value!=O[m])if(O[m]=v.value,v.pressed){var y=this.app.input,w=i.index,U=v.value,C=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;y.app.events.gamepadDown(w,m,U,C)}else{var x=this.app.input,D=i.index,T=v.value,A=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;x.app.events.gamepadUp(D,m,T,A)}}++t}else++t}},windowDevicePixelRatio:function(){return null==window.devicePixelRatio?1:window.devicePixelRatio},windowWidth:function(){return Math.round(this.windowW*this.windowDevicePixelRatio())},windowHeight:function(){return Math.round(this.windowH*this.windowDevicePixelRatio())},setWindowFullscreen:function(e){return e?this.window.requestFullscreen():window.document.exitFullscreen(),!0},setWindowTitle:function(e){this.app.config.window.title=e,window.document.title=e},clamp:function(e){return Math.max(0,Math.min(e,1))},startGamepadRumble:function(e,n,t,i){var l=this.getGamepadList()[e];if(null!=l){var s=l.vibrationActuator;null!=s&&s.playEffect("dual-rumble",{duration:1e3*i,weakMagnitude:Math.max(0,Math.min(n,1)),strongMagnitude:Math.max(0,Math.min(t,1))})}},stopGamepadRumble:function(e){var n=this.getGamepadList()[e];if(null!=n){var t=n.vibrationActuator;null!=t&&t.playEffect("dual-rumble",{duration:1,weakMagnitude:0,strongMagnitude:0})}},getGamepadName:function(e){var n=this.getGamepadList();if(null!=n)for(var t=0;t<n.length;){var i=n[t];if(++t,null!=i&&i.index==e)return i.id}return null},__class__:clay_web_WebRuntime});var clay_web__$WebRuntime_DOMKeys=function(){};t["clay.web._WebRuntime.DOMKeys"]=clay_web__$WebRuntime_DOMKeys,clay_web__$WebRuntime_DOMKeys.__name__="clay.web._WebRuntime.DOMKeys",clay_web__$WebRuntime_DOMKeys.domKeyToKeyCode=function(e){switch(e){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 44:return 1073741894;case 45:return 1073741897;case 46:return 127;case 91:return 1073742051;case 93:return 1073742055;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 109:return 1073741910;case 110:return 1073742044;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 127:return 1073741931;case 128:return 1073741932;case 129:return 1073741933;case 130:return 1073741934;case 131:return 1073741935;case 132:return 1073741936;case 133:return 1073741937;case 134:return 1073741938;case 135:return 1073741939;case 144:return 1073741907;case 160:return 94;case 161:return 33;case 162:return 34;case 163:return 35;case 164:return 36;case 165:return 37;case 166:return 38;case 167:return 95;case 168:return 40;case 169:return 41;case 170:return 42;case 171:return 43;case 172:return 92;case 173:return 45;case 174:return 91;case 175:return 93;case 176:return 96;case 181:return 1073742086;case 182:return 1073741953;case 183:return 1073741952;case 188:return 44;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39;case 224:return 1073742051}return e};var I=i["haxe.StackItem"]={__ename__:"haxe.StackItem",__constructs__:null,CFunction:{_hx_name:"CFunction",_hx_index:0,__enum__:"haxe.StackItem",toString:$estr},Module:(n=function(e){return{_hx_index:1,m:e,__enum__:"haxe.StackItem",toString:$estr}},n._hx_name="Module",n.__params__=["m"],n),FilePos:(n=function(e,n,t,i){return{_hx_index:2,s:e,file:n,line:t,column:i,__enum__:"haxe.StackItem",toString:$estr}},n._hx_name="FilePos",n.__params__=["s","file","line","column"],n),Method:(n=function(e,n){return{_hx_index:3,classname:e,method:n,__enum__:"haxe.StackItem",toString:$estr}},n._hx_name="Method",n.__params__=["classname","method"],n),LocalFunction:(n=function(e){return{_hx_index:4,v:e,__enum__:"haxe.StackItem",toString:$estr}},n._hx_name="LocalFunction",n.__params__=["v"],n)};I.__constructs__=[I.CFunction,I.Module,I.FilePos,I.Method,I.LocalFunction];var haxe_IMap=function(){};t["haxe.IMap"]=haxe_IMap,haxe_IMap.__name__="haxe.IMap",haxe_IMap.__isInterface__=!0,haxe_IMap.prototype={get:null,keys:null,iterator:null,keyValueIterator:null,__class__:haxe_IMap};var haxe_Exception=function(e,n,t){Error.call(this,e),this.message=e,this.__previousException=n,this.__nativeException=null!=t?t:this,this.__skipStack=0;var i=Error.prepareStackTrace;if(Error.prepareStackTrace=function(e){return e.stack},t instanceof Error)this.stack=t.stack;else{var l=null;if(Error.captureStackTrace)Error.captureStackTrace(this,haxe_Exception),l=this;else if(void 0===(l=new Error).stack){try{throw l}catch(e){}this.__skipStack++}this.stack=l.stack}Error.prepareStackTrace=i};t["haxe.Exception"]=haxe_Exception,haxe_Exception.__name__="haxe.Exception",haxe_Exception.caught=function(e){return e instanceof haxe_Exception?e:e instanceof Error?new haxe_Exception(e.message,null,e):new haxe_ValueException(e,null,e)},haxe_Exception.thrown=function(e){if(e instanceof haxe_Exception)return e.get_native();if(e instanceof Error)return e;var n=new haxe_ValueException(e);return n.__skipStack++,n},haxe_Exception.__super__=Error,haxe_Exception.prototype=$extend(Error.prototype,{__skipStack:null,__nativeException:null,__previousException:null,unwrap:function(){return this.__nativeException},__shiftStack:function(){this.__skipStack++},get_native:function(){return this.__nativeException},get_stack:function(){var e=this.__exceptionStack;if(null==e){var n=haxe_NativeStackTrace.toHaxe(haxe_NativeStackTrace.normalize(this.stack),this.__skipStack);return this.setProperty("__exceptionStack",n),n}return e},setProperty:function(e,n){try{Object.defineProperty(this,e,{value:n})}catch(t){this[e]=n}},__class__:haxe_Exception,__properties__:{get_native:"get_native",get_stack:"get_stack"}});var haxe_Log=function(){};t["haxe.Log"]=haxe_Log,haxe_Log.__name__="haxe.Log",haxe_Log.formatOutput=function(e,n){var t=Std.string(e);if(null==n)return t;var i=n.fileName+":"+n.lineNumber;if(null!=n.customParams)for(var l=0,s=n.customParams;l<s.length;){e=s[l];++l,t+=", "+Std.string(e)}return i+": "+t},haxe_Log.trace=function(e,n){var t=haxe_Log.formatOutput(e,n);"undefined"!=typeof console&&null!=console.log&&console.log(t)};var haxe_NativeStackTrace=function(){};t["haxe.NativeStackTrace"]=haxe_NativeStackTrace,haxe_NativeStackTrace.__name__="haxe.NativeStackTrace",haxe_NativeStackTrace.toHaxe=function(e,n){if(null==n&&(n=0),null==e)return[];if("string"==typeof e){var t=e.split("\n");"Error"==t[0]&&t.shift();for(var i=[],l=0,s=t.length;l<s;){var r=l++;if(!(n>r)){var a=t[r],c=a.match(/^    at ([A-Za-z0-9_. ]+) \(([^)]+):([0-9]+):([0-9]+)\)$/);if(null!=c){var h=c[1].split(".");"$hxClasses"==h[0]&&h.shift();var u=h.pop(),o=c[2],_=Std.parseInt(c[3]),d=Std.parseInt(c[4]);i.push(I.FilePos("Anonymous function"==u?I.LocalFunction():"Global code"==u?null:I.Method(h.join("."),u),o,_,d))}else i.push(I.Module(StringTools.trim(a)))}}return i}return n>0&&Array.isArray(e)?e.slice(n):e},haxe_NativeStackTrace.normalize=function(e,n){if(null==n&&(n=0),Array.isArray(e)&&n>0)return e.slice(n);if("string"==typeof e){switch(e.substring(0,6)){case"Error\n":case"Error:":++n}return haxe_NativeStackTrace.skipLines(e,n)}return e},haxe_NativeStackTrace.skipLines=function(e,n,t){return null==t&&(t=0),n>0?(t=e.indexOf("\n",t))<0?"":haxe_NativeStackTrace.skipLines(e,--n,t+1):e.substring(t)};var haxe_Serializer=function(){this.buf=new StringBuf,this.cache=[],this.useCache=haxe_Serializer.USE_CACHE,this.useEnumIndex=haxe_Serializer.USE_ENUM_INDEX,this.shash=new haxe_ds_StringMap,this.scount=0};t["haxe.Serializer"]=haxe_Serializer,haxe_Serializer.__name__="haxe.Serializer",haxe_Serializer.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(e){var n=this.shash.h[e];if(null!=n)return this.buf.b+="R",void(this.buf.b+=null==n?"null":""+n);this.shash.h[e]=this.scount++,this.buf.b+="y",e=encodeURIComponent(e),this.buf.b+=Std.string(e.length),this.buf.b+=":",this.buf.b+=null==e?"null":""+e},serializeRef:function(e){for(var n=typeof e,t=0,i=this.cache.length;t<i;){var l=t++,s=this.cache[l];if(typeof s==n&&s==e)return this.buf.b+="r",this.buf.b+=null==l?"null":""+l,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var n=0,t=Reflect.fields(e);n<t.length;){var i=t[n];++n,this.serializeString(i),this.serialize(Reflect.field(e,i))}this.buf.b+="g"},serialize:function(e){switch((T=Type.typeof(e))._hx_index){case 0:this.buf.b+="n";break;case 1:if(0==(n=e))return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==n?"null":""+n;break;case 2:var n=e;isNaN(n)?this.buf.b+="k":isFinite(n)?(this.buf.b+="d",this.buf.b+=null==n?"null":""+n):this.buf.b+=n<0?"m":"p";break;case 3:this.buf.b+=e?"t":"f";break;case 4:if(js_Boot.__instanceof(e,ee)){var t=e.__name__;this.buf.b+="A",this.serializeString(t)}else if(js_Boot.__instanceof(e,ne))this.buf.b+="B",this.serializeString(e.__ename__);else{if(this.useCache&&this.serializeRef(e))return;this.buf.b+="o",this.serializeFields(e)}break;case 5:throw haxe_Exception.thrown("Cannot serialize function");case 6:var l=T.c;if(l==String)return void this.serializeString(e);if(this.useCache&&this.serializeRef(e))return;switch(l){case Array:var s=0;this.buf.b+="a";for(var r=0,a=e.length;r<a;){null==e[d=r++]?++s:(s>0&&(1==s?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==s?"null":""+s),s=0),this.serialize(e[d]))}s>0&&(1==s?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==s?"null":""+s)),this.buf.b+="h";break;case Date:var c=e;this.buf.b+="v",this.buf.b+=Std.string(c.getTime());break;case haxe_ds_IntMap:this.buf.b+="q";for(var h=(n=e).keys();h.hasNext();){var u=h.next();this.buf.b+=":",this.buf.b+=null==u?"null":""+u,this.serialize(n.h[u])}this.buf.b+="h";break;case haxe_ds_List:this.buf.b+="l";for(var o=(n=e).h;null!=o;){var _=o.item;o=o.next;var d=_;this.serialize(d)}this.buf.b+="h";break;case haxe_ds_ObjectMap:this.buf.b+="M";for(h=(n=e).keys();h.hasNext();){u=h.next();var b=Reflect.field(u,"__id__");Reflect.deleteField(u,"__id__"),this.serialize(u),u.__id__=b,this.serialize(n.h[u.__id__])}this.buf.b+="h";break;case haxe_ds_StringMap:this.buf.b+="b";for(var f=(n=e).h,O=Object.keys(f),p=O.length,g=0;g<p;){h=O[g++];this.serializeString(h),this.serialize(n.h[h])}this.buf.b+="h";break;case haxe_io_Bytes:n=e;this.buf.b+="s",this.buf.b+=Std.string(Math.ceil(8*n.length/6)),this.buf.b+=":";d=0;var m=n.length-2,v=haxe_Serializer.BASE64_CODES;if(null==v){v=new Array(haxe_Serializer.BASE64.length);for(r=0,a=haxe_Serializer.BASE64.length;r<a;){var y=r++;v[y]=HxOverrides.cca(haxe_Serializer.BASE64,y)}haxe_Serializer.BASE64_CODES=v}for(;d<m;){var w=n.b[d++],U=n.b[d++],C=n.b[d++];this.buf.b+=String.fromCodePoint(v[w>>2]),this.buf.b+=String.fromCodePoint(v[63&(w<<4|U>>4)]),this.buf.b+=String.fromCodePoint(v[63&(U<<2|C>>6)]),this.buf.b+=String.fromCodePoint(v[63&C])}if(d==m){w=n.b[d++],U=n.b[d++];this.buf.b+=String.fromCodePoint(v[w>>2]),this.buf.b+=String.fromCodePoint(v[63&(w<<4|U>>4)]),this.buf.b+=String.fromCodePoint(v[U<<2&63])}else if(d==m+1){w=n.b[d++];this.buf.b+=String.fromCodePoint(v[w>>2]),this.buf.b+=String.fromCodePoint(v[w<<4&63])}break;default:this.useCache&&this.cache.pop(),null!=e.hxSerialize?(this.buf.b+="C",this.serializeString(l.__name__),this.useCache&&this.cache.push(e),e.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(l.__name__),this.useCache&&this.cache.push(e),this.serializeFields(e))}break;case 7:var x=T.e;if(this.useCache){if(this.serializeRef(e))return;this.cache.pop()}if(this.buf.b+=Std.string(this.useEnumIndex?"j":"w"),this.serializeString(x.__ename__),this.useEnumIndex)this.buf.b+=":",this.buf.b+=Std.string(e._hx_index);else{x=e;this.serializeString(i[x.__enum__].__constructs__[x._hx_index]._hx_name)}this.buf.b+=":";var D=Type.enumParameters(e);this.buf.b+=Std.string(D.length);for(var T=0;T<D.length;){var A=D[T];++T,this.serialize(A)}this.useCache&&this.cache.push(e);break;default:throw haxe_Exception.thrown("Cannot serialize "+Std.string(e))}},__class__:haxe_Serializer};var haxe__$Unserializer_DefaultResolver=function(){};t["haxe._Unserializer.DefaultResolver"]=haxe__$Unserializer_DefaultResolver,haxe__$Unserializer_DefaultResolver.__name__="haxe._Unserializer.DefaultResolver",haxe__$Unserializer_DefaultResolver.prototype={resolveClass:function(e){return t[e]},resolveEnum:function(e){return i[e]},__class__:haxe__$Unserializer_DefaultResolver};var haxe_Unserializer=function(e){this.buf=e,this.length=this.buf.length,this.pos=0,this.scache=[],this.cache=[];var n=haxe_Unserializer.DEFAULT_RESOLVER;null==n&&(n=new haxe__$Unserializer_DefaultResolver,haxe_Unserializer.DEFAULT_RESOLVER=n),this.resolver=n};t["haxe.Unserializer"]=haxe_Unserializer,haxe_Unserializer.__name__="haxe.Unserializer",haxe_Unserializer.initCodes=function(){for(var e=[],n=0,t=haxe_Unserializer.BASE64.length;n<t;){var i=n++;e[haxe_Unserializer.BASE64.charCodeAt(i)]=i}return e},haxe_Unserializer.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,readDigits:function(){for(var e=0,n=!1,t=this.pos;;){var i=this.buf.charCodeAt(this.pos);if(i!=i)break;if(45!=i){if(i<48||i>57)break;e=10*e+(i-48),this.pos++}else{if(this.pos!=t)break;n=!0,this.pos++}}return n&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var n=this.buf.charCodeAt(this.pos);if(n!=n)break;if(!(n>=43&&n<58||101==n||69==n))break;this.pos++}return parseFloat(HxOverrides.substr(this.buf,e,this.pos-e))},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw haxe_Exception.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var n=this.unserialize();if("string"!=typeof n)throw haxe_Exception.thrown("Invalid object key");var t=this.unserialize();e[n]=t}this.pos++},unserializeEnum:function(e,n){if(58!=this.buf.charCodeAt(this.pos++))throw haxe_Exception.thrown("Invalid enum format");var t=this.readDigits();if(0==t)return Type.createEnum(e,n);for(var i=[];t-- >0;)i.push(this.unserialize());return Type.createEnum(e,n,i)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var e=this.unserialize();if(null==(c=this.resolver.resolveClass(e)))throw haxe_Exception.thrown("Class not found "+e);return c;case 66:e=this.unserialize();if(null==(f=this.resolver.resolveEnum(e)))throw haxe_Exception.thrown("Enum not found "+e);return f;case 67:e=this.unserialize();if(null==(c=this.resolver.resolveClass(e)))throw haxe_Exception.thrown("Class not found "+e);var n=Object.create(c.prototype);if(this.cache.push(n),n.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw haxe_Exception.thrown("Invalid custom data");return n;case 77:var t=new haxe_ds_ObjectMap;this.cache.push(t);for(var i=this.buf;104!=this.buf.charCodeAt(this.pos);){var l=this.unserialize();t.set(l,this.unserialize())}return this.pos++,t;case 82:if((r=this.readDigits())<0||r>=this.scache.length)throw haxe_Exception.thrown("Invalid string reference");return this.scache[r];case 97:i=this.buf;var s=[];for(this.cache.push(s);;){if(104==(p=this.buf.charCodeAt(this.pos))){this.pos++;break}if(117==p){this.pos++;var r=this.readDigits();s[s.length+r-1]=null}else s.push(this.unserialize())}return s;case 98:t=new haxe_ds_StringMap;this.cache.push(t);for(i=this.buf;104!=this.buf.charCodeAt(this.pos);){l=this.unserialize();var a=this.unserialize();t.h[l]=a}return this.pos++,t;case 99:var c;e=this.unserialize();if(null==(c=this.resolver.resolveClass(e)))throw haxe_Exception.thrown("Class not found "+e);n=Object.create(c.prototype);return this.cache.push(n),this.unserializeObject(n),n;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:e=this.unserialize();if(null==(E=this.resolver.resolveEnum(e)))throw haxe_Exception.thrown("Enum not found "+e);this.pos++;for(var h=this.readDigits(),u=E.__constructs__,o=new Array(u.length),_=0,d=u.length;_<d;){o[g=_++]=u[g]._hx_name}var b=o[h];if(null==b)throw haxe_Exception.thrown("Unknown enum index "+e+"@"+h);var f=this.unserializeEnum(E,b);return this.cache.push(f),f;case 107:return NaN;case 108:var O=new haxe_ds_List;this.cache.push(O);for(i=this.buf;104!=this.buf.charCodeAt(this.pos);)O.add(this.unserialize());return this.pos++,O;case 109:return-1/0;case 110:return null;case 111:n={};return this.cache.push(n),this.unserializeObject(n),n;case 112:return 1/0;case 113:t=new haxe_ds_IntMap;this.cache.push(t);i=this.buf;for(var p=this.buf.charCodeAt(this.pos++);58==p;){var g=this.readDigits();a=this.unserialize();t.h[g]=a,p=this.buf.charCodeAt(this.pos++)}if(104!=p)throw haxe_Exception.thrown("Invalid IntMap format");return t;case 114:if((r=this.readDigits())<0||r>=this.cache.length)throw haxe_Exception.thrown("Invalid reference");return this.cache[r];case 115:var m=this.readDigits();i=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<m)throw haxe_Exception.thrown("Invalid bytes length");var v=haxe_Unserializer.CODES;null==v&&(v=haxe_Unserializer.initCodes(),haxe_Unserializer.CODES=v);for(var y=3&m,w=(g=this.pos)+(m-y),U=new haxe_io_Bytes(new ArrayBuffer(3*(m>>2)+(y>=2?y-1:0))),C=0;g<w;){var x=v[i.charCodeAt(g++)],D=v[i.charCodeAt(g++)];U.b[C++]=x<<2|D>>4;var T=v[i.charCodeAt(g++)];U.b[C++]=D<<4|T>>2;var A=v[i.charCodeAt(g++)];U.b[C++]=T<<6|A}if(y>=2){x=v[i.charCodeAt(g++)],D=v[i.charCodeAt(g++)];if(U.b[C++]=x<<2|D>>4,3==y){T=v[i.charCodeAt(g++)];U.b[C++]=D<<4|T>>2}}return this.pos+=m,this.cache.push(U),U;case 116:return!0;case 118:var S;return this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)?(S=HxOverrides.strDate(HxOverrides.substr(this.buf,this.pos,19)),this.pos+=19):S=new Date(this.readFloat()),this.cache.push(S),S;case 119:var E;e=this.unserialize();if(null==(E=this.resolver.resolveEnum(e)))throw haxe_Exception.thrown("Enum not found "+e);f=this.unserializeEnum(E,this.unserialize());return this.cache.push(f),f;case 120:throw haxe_Exception.thrown(this.unserialize());case 121:m=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<m)throw haxe_Exception.thrown("Invalid string length");l=HxOverrides.substr(this.buf,this.pos,m);return this.pos+=m,l=decodeURIComponent(l.split("+").join(" ")),this.scache.push(l),l;case 122:return 0}throw this.pos--,haxe_Exception.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:haxe_Unserializer};var haxe_ValueException=function(e,n,t){haxe_Exception.call(this,String(e),n,t),this.value=e,this.__skipStack++};t["haxe.ValueException"]=haxe_ValueException,haxe_ValueException.__name__="haxe.ValueException",haxe_ValueException.__super__=haxe_Exception,haxe_ValueException.prototype=$extend(haxe_Exception.prototype,{value:null,unwrap:function(){return this.value},__class__:haxe_ValueException});var haxe_crypto_Md5=function(){};t["haxe.crypto.Md5"]=haxe_crypto_Md5,haxe_crypto_Md5.__name__="haxe.crypto.Md5",haxe_crypto_Md5.encode=function(e){var n=new haxe_crypto_Md5,t=n.doEncode(haxe_crypto_Md5.str2blks(e));return n.hex(t)},haxe_crypto_Md5.str2blks=function(e){for(var n=haxe_io_Bytes.ofString(e),t=1+(n.length+8>>6),i=[],l=0,s=16*t;l<s;){i[r=l++]=0}for(var r=0,a=n.length,c=8*a;r<a;)i[r>>2]|=n.b[r]<<(c+r)%4*8,++r;i[r>>2]|=128<<(c+r)%4*8;var h=16*t-2;return i[h]=255&c,i[h]|=(c>>>8&255)<<8,i[h]|=(c>>>16&255)<<16,i[h]|=(c>>>24&255)<<24,i},haxe_crypto_Md5.prototype={bitOR:function(e,n){return(e>>>1|n>>>1)<<1|(1&e|1&n)},bitXOR:function(e,n){return(e>>>1^n>>>1)<<1|1&e^1&n},bitAND:function(e,n){return(e>>>1&n>>>1)<<1|1&e&n},addme:function(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t},hex:function(e){for(var n="",t="0123456789abcdef",i=0;i<e.length;){var l=e[i];++i,n+=t.charAt(l>>4&15)+t.charAt(15&l),n+=t.charAt(l>>12&15)+t.charAt(l>>8&15),n+=t.charAt(l>>20&15)+t.charAt(l>>16&15),n+=t.charAt(l>>28&15)+t.charAt(l>>24&15)}return n},rol:function(e,n){return e<<n|e>>>32-n},cmn:function(e,n,t,i,l,s){return this.addme(this.rol(this.addme(this.addme(n,e),this.addme(i,s)),l),t)},ff:function(e,n,t,i,l,s,r){return this.cmn(this.bitOR(this.bitAND(n,t),this.bitAND(~n,i)),e,n,l,s,r)},gg:function(e,n,t,i,l,s,r){return this.cmn(this.bitOR(this.bitAND(n,i),this.bitAND(t,~i)),e,n,l,s,r)},hh:function(e,n,t,i,l,s,r){return this.cmn(this.bitXOR(this.bitXOR(n,t),i),e,n,l,s,r)},ii:function(e,n,t,i,l,s,r){return this.cmn(this.bitXOR(t,this.bitOR(n,~i)),e,n,l,s,r)},doEncode:function(e){for(var n=1732584193,t=-271733879,i=-1732584194,l=271733878,s=0;s<e.length;){var r=n,a=t,c=i,h=l;0,n=this.ff(n,t,i,l,e[s],7,-680876936),l=this.ff(l,n,t,i,e[s+1],12,-389564586),i=this.ff(i,l,n,t,e[s+2],17,606105819),t=this.ff(t,i,l,n,e[s+3],22,-1044525330),n=this.ff(n,t,i,l,e[s+4],7,-176418897),l=this.ff(l,n,t,i,e[s+5],12,1200080426),i=this.ff(i,l,n,t,e[s+6],17,-1473231341),t=this.ff(t,i,l,n,e[s+7],22,-45705983),n=this.ff(n,t,i,l,e[s+8],7,1770035416),l=this.ff(l,n,t,i,e[s+9],12,-1958414417),i=this.ff(i,l,n,t,e[s+10],17,-42063),t=this.ff(t,i,l,n,e[s+11],22,-1990404162),n=this.ff(n,t,i,l,e[s+12],7,1804603682),l=this.ff(l,n,t,i,e[s+13],12,-40341101),i=this.ff(i,l,n,t,e[s+14],17,-1502002290),t=this.ff(t,i,l,n,e[s+15],22,1236535329),n=this.gg(n,t,i,l,e[s+1],5,-165796510),l=this.gg(l,n,t,i,e[s+6],9,-1069501632),i=this.gg(i,l,n,t,e[s+11],14,643717713),t=this.gg(t,i,l,n,e[s],20,-373897302),n=this.gg(n,t,i,l,e[s+5],5,-701558691),l=this.gg(l,n,t,i,e[s+10],9,38016083),i=this.gg(i,l,n,t,e[s+15],14,-660478335),t=this.gg(t,i,l,n,e[s+4],20,-405537848),n=this.gg(n,t,i,l,e[s+9],5,568446438),l=this.gg(l,n,t,i,e[s+14],9,-1019803690),i=this.gg(i,l,n,t,e[s+3],14,-187363961),t=this.gg(t,i,l,n,e[s+8],20,1163531501),n=this.gg(n,t,i,l,e[s+13],5,-1444681467),l=this.gg(l,n,t,i,e[s+2],9,-51403784),i=this.gg(i,l,n,t,e[s+7],14,1735328473),t=this.gg(t,i,l,n,e[s+12],20,-1926607734),n=this.hh(n,t,i,l,e[s+5],4,-378558),l=this.hh(l,n,t,i,e[s+8],11,-2022574463),i=this.hh(i,l,n,t,e[s+11],16,1839030562),t=this.hh(t,i,l,n,e[s+14],23,-35309556),n=this.hh(n,t,i,l,e[s+1],4,-1530992060),l=this.hh(l,n,t,i,e[s+4],11,1272893353),i=this.hh(i,l,n,t,e[s+7],16,-155497632),t=this.hh(t,i,l,n,e[s+10],23,-1094730640),n=this.hh(n,t,i,l,e[s+13],4,681279174),l=this.hh(l,n,t,i,e[s],11,-358537222),i=this.hh(i,l,n,t,e[s+3],16,-722521979),t=this.hh(t,i,l,n,e[s+6],23,76029189),n=this.hh(n,t,i,l,e[s+9],4,-640364487),l=this.hh(l,n,t,i,e[s+12],11,-421815835),i=this.hh(i,l,n,t,e[s+15],16,530742520),t=this.hh(t,i,l,n,e[s+2],23,-995338651),n=this.ii(n,t,i,l,e[s],6,-198630844),l=this.ii(l,n,t,i,e[s+7],10,1126891415),i=this.ii(i,l,n,t,e[s+14],15,-1416354905),t=this.ii(t,i,l,n,e[s+5],21,-57434055),n=this.ii(n,t,i,l,e[s+12],6,1700485571),l=this.ii(l,n,t,i,e[s+3],10,-1894986606),i=this.ii(i,l,n,t,e[s+10],15,-1051523),t=this.ii(t,i,l,n,e[s+1],21,-2054922799),n=this.ii(n,t,i,l,e[s+8],6,1873313359),l=this.ii(l,n,t,i,e[s+15],10,-30611744),i=this.ii(i,l,n,t,e[s+6],15,-1560198380),t=this.ii(t,i,l,n,e[s+13],21,1309151649),n=this.ii(n,t,i,l,e[s+4],6,-145523070),l=this.ii(l,n,t,i,e[s+11],10,-1120210379),i=this.ii(i,l,n,t,e[s+2],15,718787259),t=this.ii(t,i,l,n,e[s+9],21,-343485551),n=this.addme(n,r),t=this.addme(t,a),i=this.addme(i,c),l=this.addme(l,h),s+=16}return[n,t,i,l]},__class__:haxe_crypto_Md5};var haxe_ds_ArraySort=function(){};t["haxe.ds.ArraySort"]=haxe_ds_ArraySort,haxe_ds_ArraySort.__name__="haxe.ds.ArraySort",haxe_ds_ArraySort.sort=function(e,n){haxe_ds_ArraySort.rec(e,n,0,e.length)},haxe_ds_ArraySort.rec=function(e,n,t,i){var l=t+i>>1;if(i-t<12){if(i<=t)return;for(var s=t+1,r=i;s<r;)for(var a=s++;a>t&&n(e[a],e[a-1])<0;)haxe_ds_ArraySort.swap(e,a-1,a),--a}else haxe_ds_ArraySort.rec(e,n,t,l),haxe_ds_ArraySort.rec(e,n,l,i),haxe_ds_ArraySort.doMerge(e,n,t,l,i,l-t,i-l)},haxe_ds_ArraySort.doMerge=function(e,n,t,i,l,s,r){var a,c,h,u;if(0!=s&&0!=r)if(s+r!=2){s>r?(a=t+(h=s>>1),u=(c=haxe_ds_ArraySort.lower(e,n,i,l,a))-i):(c=i+(u=r>>1),h=(a=haxe_ds_ArraySort.upper(e,n,t,i,c))-t),haxe_ds_ArraySort.rotate(e,n,a,i,c);var o=a+u;haxe_ds_ArraySort.doMerge(e,n,t,a,o,h,u),haxe_ds_ArraySort.doMerge(e,n,o,c,l,s-h,r-u)}else n(e[i],e[t])<0&&haxe_ds_ArraySort.swap(e,i,t)},haxe_ds_ArraySort.rotate=function(e,n,t,i,l){if(t!=i&&i!=l)for(var s=haxe_ds_ArraySort.gcd(l-t,i-t);0!=s--;){for(var r=e[t+s],a=i-t,c=t+s,h=t+s+a;h!=t+s;)e[c]=e[h],c=h,l-h>a?h+=a:h=t+(a-(l-h));e[c]=r}},haxe_ds_ArraySort.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},haxe_ds_ArraySort.upper=function(e,n,t,i,l){for(var s,r,a=i-t;a>0;)r=t+(s=a>>1),n(e[l],e[r])<0?a=s:(t=r+1,a=a-s-1);return t},haxe_ds_ArraySort.lower=function(e,n,t,i,l){for(var s,r,a=i-t;a>0;)n(e[r=t+(s=a>>1)],e[l])<0?(t=r+1,a=a-s-1):a=s;return t},haxe_ds_ArraySort.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i};var haxe_ds_IntMap=function(){this.h={}};t["haxe.ds.IntMap"]=haxe_ds_IntMap,haxe_ds_IntMap.__name__="haxe.ds.IntMap",haxe_ds_IntMap.__interfaces__=[haxe_IMap],haxe_ds_IntMap.prototype={h:null,get:function(e){return this.h[e]},remove:function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},keys:function(){var e=[];for(var n in this.h)this.h.hasOwnProperty(n)&&e.push(+n);return new haxe_iterators_ArrayIterator(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e]}}},keyValueIterator:function(){return new haxe_iterators_MapKeyValueIterator(this)},copy:function(){for(var e=new haxe_ds_IntMap,n=this.keys();n.hasNext();){var t=n.next();e.h[t]=this.h[t]}return e},__class__:haxe_ds_IntMap};var haxe_ds_List=function(){this.length=0};t["haxe.ds.List"]=haxe_ds_List,haxe_ds_List.__name__="haxe.ds.List",haxe_ds_List.prototype={h:null,q:null,length:null,add:function(e){var n=new haxe_ds__$List_ListNode(e,null);null==this.h?this.h=n:this.q.next=n,this.q=n,this.length++},__class__:haxe_ds_List};var haxe_ds__$List_ListNode=function(e,n){this.item=e,this.next=n};t["haxe.ds._List.ListNode"]=haxe_ds__$List_ListNode,haxe_ds__$List_ListNode.__name__="haxe.ds._List.ListNode",haxe_ds__$List_ListNode.prototype={item:null,next:null,__class__:haxe_ds__$List_ListNode};var haxe_ds_ObjectMap=function(){this.h={__keys__:{}}};t["haxe.ds.ObjectMap"]=haxe_ds_ObjectMap,haxe_ds_ObjectMap.__name__="haxe.ds.ObjectMap",haxe_ds_ObjectMap.__interfaces__=[haxe_IMap],haxe_ds_ObjectMap.prototype={h:null,set:function(n,t){var i=n.__id__;null==i&&(i=n.__id__=e.$haxeUID++),this.h[i]=t,this.h.__keys__[i]=n},get:function(e){return this.h[e.__id__]},keys:function(){var e=[];for(var n in this.h.__keys__)this.h.hasOwnProperty(n)&&e.push(this.h.__keys__[n]);return new haxe_iterators_ArrayIterator(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e.__id__]}}},keyValueIterator:function(){return new haxe_iterators_MapKeyValueIterator(this)},__class__:haxe_ds_ObjectMap};var haxe_ds_StringMap=function(){this.h=Object.create(null)};t["haxe.ds.StringMap"]=haxe_ds_StringMap,haxe_ds_StringMap.__name__="haxe.ds.StringMap",haxe_ds_StringMap.__interfaces__=[haxe_IMap],haxe_ds_StringMap.prototype={h:null,get:function(e){return this.h[e]},keys:function(){return new haxe_ds__$StringMap_StringMapKeyIterator(this.h)},iterator:function(){return new haxe_ds__$StringMap_StringMapValueIterator(this.h)},keyValueIterator:function(){return new haxe_ds__$StringMap_StringMapKeyValueIterator(this.h)},__class__:haxe_ds_StringMap};var haxe_ds__$StringMap_StringMapKeyIterator=function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0};t["haxe.ds._StringMap.StringMapKeyIterator"]=haxe_ds__$StringMap_StringMapKeyIterator,haxe_ds__$StringMap_StringMapKeyIterator.__name__="haxe.ds._StringMap.StringMapKeyIterator",haxe_ds__$StringMap_StringMapKeyIterator.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){return this.keys[this.current++]},__class__:haxe_ds__$StringMap_StringMapKeyIterator};var haxe_ds__$StringMap_StringMapValueIterator=function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0};t["haxe.ds._StringMap.StringMapValueIterator"]=haxe_ds__$StringMap_StringMapValueIterator,haxe_ds__$StringMap_StringMapValueIterator.__name__="haxe.ds._StringMap.StringMapValueIterator",haxe_ds__$StringMap_StringMapValueIterator.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){return this.h[this.keys[this.current++]]},__class__:haxe_ds__$StringMap_StringMapValueIterator};var haxe_ds__$StringMap_StringMapKeyValueIterator=function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0};t["haxe.ds._StringMap.StringMapKeyValueIterator"]=haxe_ds__$StringMap_StringMapKeyValueIterator,haxe_ds__$StringMap_StringMapKeyValueIterator.__name__="haxe.ds._StringMap.StringMapKeyValueIterator",haxe_ds__$StringMap_StringMapKeyValueIterator.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){var e=this.keys[this.current++];return{key:e,value:this.h[e]}},__class__:haxe_ds__$StringMap_StringMapKeyValueIterator};var k={blit:function(e,n,t,i,l){if(e==t){if(n<i)for(var s=n+l,r=i+l,a=0,c=l;a<c;){a++;--s,e[--r]=e[s]}else if(n>i)for(s=n,r=i,a=0,c=l;a<c;){a++;e[r]=e[s],++s,++r}}else for(a=0,c=l;a<c;){t[i+(s=a++)]=e[n+s]}}},haxe_io_Bytes=function(e){this.length=e.byteLength,this.b=new Uint8Array(e),this.b.bufferValue=e,e.hxBytes=this,e.bytes=this.b};t["haxe.io.Bytes"]=haxe_io_Bytes,haxe_io_Bytes.__name__="haxe.io.Bytes",haxe_io_Bytes.ofString=function(e,n){if(n==B.RawNative){for(var t=new Uint8Array(e.length<<1),i=0,l=e.length;i<l;){var s=i++,r=e.charCodeAt(s);t[s<<1]=255&r,t[s<<1|1]=r>>8}return new haxe_io_Bytes(t.buffer)}var a=[];for(s=0;s<e.length;){55296<=(r=e.charCodeAt(s++))&&r<=56319&&(r=r-55232<<10|1023&e.charCodeAt(s++)),r<=127?a.push(r):r<=2047?(a.push(192|r>>6),a.push(128|63&r)):r<=65535?(a.push(224|r>>12),a.push(128|r>>6&63),a.push(128|63&r)):(a.push(240|r>>18),a.push(128|r>>12&63),a.push(128|r>>6&63),a.push(128|63&r))}return new haxe_io_Bytes(new Uint8Array(a).buffer)},haxe_io_Bytes.prototype={length:null,b:null,getString:function(e,n,t){if(e<0||n<0||e+n>this.length)throw haxe_Exception.thrown(N.OutsideBounds);null==t&&(t=B.UTF8);var i="",l=this.b,s=e,r=e+n;switch(t._hx_index){case 0:for(;s<r;){if((u=l[s++])<128){if(0==u)break;i+=String.fromCodePoint(u)}else if(u<224){var a=(63&u)<<6|127&l[s++];i+=String.fromCodePoint(a)}else if(u<240){var c=(31&u)<<12|(127&l[s++])<<6|127&l[s++];i+=String.fromCodePoint(c)}else{var h=(15&u)<<18|(127&l[s++])<<12|(127&l[s++])<<6|127&l[s++];i+=String.fromCodePoint(h)}}break;case 1:for(;s<r;){var u=l[s++]|l[s++]<<8;i+=String.fromCodePoint(u)}}return i},toString:function(){return this.getString(0,this.length)},__class__:haxe_io_Bytes};var B=i["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:null,UTF8:{_hx_name:"UTF8",_hx_index:0,__enum__:"haxe.io.Encoding",toString:$estr},RawNative:{_hx_name:"RawNative",_hx_index:1,__enum__:"haxe.io.Encoding",toString:$estr}};B.__constructs__=[B.UTF8,B.RawNative];var N=i["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:null,Blocked:{_hx_name:"Blocked",_hx_index:0,__enum__:"haxe.io.Error",toString:$estr},Overflow:{_hx_name:"Overflow",_hx_index:1,__enum__:"haxe.io.Error",toString:$estr},OutsideBounds:{_hx_name:"OutsideBounds",_hx_index:2,__enum__:"haxe.io.Error",toString:$estr},Custom:(n=function(e){return{_hx_index:3,e:e,__enum__:"haxe.io.Error",toString:$estr}},n._hx_name="Custom",n.__params__=["e"],n)};N.__constructs__=[N.Blocked,N.Overflow,N.OutsideBounds,N.Custom];var haxe_iterators_ArrayIterator=function(e){this.current=0,this.array=e};t["haxe.iterators.ArrayIterator"]=haxe_iterators_ArrayIterator,haxe_iterators_ArrayIterator.__name__="haxe.iterators.ArrayIterator",haxe_iterators_ArrayIterator.prototype={array:null,current:null,hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:haxe_iterators_ArrayIterator};var haxe_iterators_MapKeyValueIterator=function(e){this.map=e,this.keys=e.keys()};t["haxe.iterators.MapKeyValueIterator"]=haxe_iterators_MapKeyValueIterator,haxe_iterators_MapKeyValueIterator.__name__="haxe.iterators.MapKeyValueIterator",haxe_iterators_MapKeyValueIterator.prototype={map:null,keys:null,hasNext:function(){return this.keys.hasNext()},next:function(){var e=this.keys.next();return{value:this.map.get(e),key:e}},__class__:haxe_iterators_MapKeyValueIterator};var L=i["haxe.rtti.CType"]={__ename__:"haxe.rtti.CType",__constructs__:null,CUnknown:{_hx_name:"CUnknown",_hx_index:0,__enum__:"haxe.rtti.CType",toString:$estr},CEnum:(n=function(e,n){return{_hx_index:1,name:e,params:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CEnum",n.__params__=["name","params"],n),CClass:(n=function(e,n){return{_hx_index:2,name:e,params:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CClass",n.__params__=["name","params"],n),CTypedef:(n=function(e,n){return{_hx_index:3,name:e,params:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CTypedef",n.__params__=["name","params"],n),CFunction:(n=function(e,n){return{_hx_index:4,args:e,ret:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CFunction",n.__params__=["args","ret"],n),CAnonymous:(n=function(e){return{_hx_index:5,fields:e,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CAnonymous",n.__params__=["fields"],n),CDynamic:(n=function(e){return{_hx_index:6,t:e,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CDynamic",n.__params__=["t"],n),CAbstract:(n=function(e,n){return{_hx_index:7,name:e,params:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CAbstract",n.__params__=["name","params"],n)};L.__constructs__=[L.CUnknown,L.CEnum,L.CClass,L.CTypedef,L.CFunction,L.CAnonymous,L.CDynamic,L.CAbstract];var G=i["haxe.rtti.Rights"]={__ename__:"haxe.rtti.Rights",__constructs__:null,RNormal:{_hx_name:"RNormal",_hx_index:0,__enum__:"haxe.rtti.Rights",toString:$estr},RNo:{_hx_name:"RNo",_hx_index:1,__enum__:"haxe.rtti.Rights",toString:$estr},RCall:(n=function(e){return{_hx_index:2,m:e,__enum__:"haxe.rtti.Rights",toString:$estr}},n._hx_name="RCall",n.__params__=["m"],n),RMethod:{_hx_name:"RMethod",_hx_index:3,__enum__:"haxe.rtti.Rights",toString:$estr},RDynamic:{_hx_name:"RDynamic",_hx_index:4,__enum__:"haxe.rtti.Rights",toString:$estr},RInline:{_hx_name:"RInline",_hx_index:5,__enum__:"haxe.rtti.Rights",toString:$estr}};G.__constructs__=[G.RNormal,G.RNo,G.RCall,G.RMethod,G.RDynamic,G.RInline];var W=i["haxe.rtti.TypeTree"]={__ename__:"haxe.rtti.TypeTree",__constructs__:null,TPackage:(n=function(e,n,t){return{_hx_index:0,name:e,full:n,subs:t,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TPackage",n.__params__=["name","full","subs"],n),TClassdecl:(n=function(e){return{_hx_index:1,c:e,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TClassdecl",n.__params__=["c"],n),TEnumdecl:(n=function(e){return{_hx_index:2,e:e,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TEnumdecl",n.__params__=["e"],n),TTypedecl:(n=function(e){return{_hx_index:3,t:e,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TTypedecl",n.__params__=["t"],n),TAbstractdecl:(n=function(e){return{_hx_index:4,a:e,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TAbstractdecl",n.__params__=["a"],n)};W.__constructs__=[W.TPackage,W.TClassdecl,W.TEnumdecl,W.TTypedecl,W.TAbstractdecl];var haxe_rtti_Meta=function(){};t["haxe.rtti.Meta"]=haxe_rtti_Meta,haxe_rtti_Meta.__name__="haxe.rtti.Meta",haxe_rtti_Meta.getMeta=function(e){return e.__meta__},haxe_rtti_Meta.getFields=function(e){var n=haxe_rtti_Meta.getMeta(e);return null==n||null==n.fields?{}:n.fields};var haxe_rtti_Rtti=function(){};t["haxe.rtti.Rtti"]=haxe_rtti_Rtti,haxe_rtti_Rtti.__name__="haxe.rtti.Rtti",haxe_rtti_Rtti.getRtti=function(e){var n=Reflect.field(e,"__rtti");if(null==n)throw haxe_Exception.thrown("Class "+e.__name__+" has no RTTI information, consider adding @:rtti");var t=Xml.parse(n).firstElement(),i=(new haxe_rtti_XmlParser).processElement(t);if(1==i._hx_index)return e=i.c;var l=i;throw haxe_Exception.thrown("Enum mismatch: expected TClassDecl but found "+Std.string(l))};var haxe_rtti_XmlParser=function(){this.root=[]};t["haxe.rtti.XmlParser"]=haxe_rtti_XmlParser,haxe_rtti_XmlParser.__name__="haxe.rtti.XmlParser",haxe_rtti_XmlParser.prototype={root:null,curplatform:null,mkPath:function(e){return e},mkTypeParams:function(e){var n=e.split(":");return""==n[0]?[]:n},mkRights:function(e){switch(e){case"dynamic":return G.RDynamic;case"inline":return G.RInline;case"method":return G.RMethod;case"null":return G.RNo;default:return G.RCall(e)}},xerror:function(e){var n;if(e.nodeType==Xml.Document)n="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));n=e.nodeName}throw haxe_Exception.thrown("Invalid "+n)},processElement:function(e){if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==e.nodeType?"null":r.toString(e.nodeType)));var n,t=e;if(t.nodeType==Xml.Document)n="Document";else{if(t.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":r.toString(t.nodeType)));n=t.nodeName}switch(n){case"abstract":return W.TAbstractdecl(this.xabstract(t));case"class":return W.TClassdecl(this.xclass(t));case"enum":return W.TEnumdecl(this.xenum(t));case"typedef":return W.TTypedecl(this.xtypedef(t));default:return this.xerror(t)}},xmeta:function(e){for(var n=[],t=0,i=H.resolve(e,"m");t<i.length;){var l=i[t];++t;for(var s=[],r=0,a=H.resolve(l,"e");r<a.length;){var c=a[r];++r,s.push(X.get_innerHTML(c))}n.push({name:z.resolve(l,"n"),params:s})}return n},xoverloads:function(e){for(var n=[],t=e.elements();t.hasNext();){var i=t.next();n.push(this.xclassfield(i))}return n},xpath:function(e){for(var n=this.mkPath(z.resolve(e,"path")),t=[],i=e.elements();i.hasNext();){var l=i.next();t.push(this.xtype(l))}return{path:n,params:t}},xclass:function(e){for(var n=null,t=null,i=null,l=[],s=[],a=[],c=[],h=e.exists("interface"),u=e.elements();u.hasNext();){var o,_=u.next();if(_.nodeType==Xml.Document)o="Document";else{if(_.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==_.nodeType?"null":r.toString(_.nodeType)));o=_.nodeName}switch(o){case"extends":h?l.push(this.xpath(_)):n=this.xpath(_);break;case"haxe_doc":t=X.get_innerData(_);break;case"haxe_dynamic":var d=_.firstElement();if(d.nodeType!=Xml.Document&&d.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==d.nodeType?"null":r.toString(d.nodeType)));var b=d;i=this.xtype(b);break;case"implements":l.push(this.xpath(_));break;case"meta":c=this.xmeta(_);break;default:_.exists("static")?a.push(this.xclassfield(_)):s.push(this.xclassfield(_))}}return{file:V.resolve(e,"file")?z.resolve(e,"file"):null,path:this.mkPath(z.resolve(e,"path")),module:V.resolve(e,"module")?this.mkPath(z.resolve(e,"module")):null,doc:t,isPrivate:e.exists("private"),isExtern:e.exists("extern"),isFinal:e.exists("final"),isInterface:h,params:this.mkTypeParams(z.resolve(e,"params")),superClass:n,interfaces:l,fields:s,statics:a,tdynamic:i,platforms:this.defplat(),meta:c}},xclassfield:function(e,n){null==n&&(n=!1);for(var t,i=e.elements(),l=this.xtype(i.next()),s=null,a=[],c=null,h=i;h.hasNext();){var u,o=h.next();if(o.nodeType==Xml.Document)u="Document";else{if(o.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==o.nodeType?"null":r.toString(o.nodeType)));u=o.nodeName}switch(u){case"haxe_doc":s=X.get_innerData(o);break;case"meta":a=this.xmeta(o);break;case"overloads":c=this.xoverloads(o);break;default:this.xerror(o)}}if(e.nodeType==Xml.Document)t="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));t=e.nodeName}return{name:t,type:l,isPublic:e.exists("public")||n,isFinal:e.exists("final"),isOverride:e.exists("override"),line:V.resolve(e,"line")?Std.parseInt(z.resolve(e,"line")):null,doc:s,get:V.resolve(e,"get")?this.mkRights(z.resolve(e,"get")):G.RNormal,set:V.resolve(e,"set")?this.mkRights(z.resolve(e,"set")):G.RNormal,params:V.resolve(e,"params")?this.mkTypeParams(z.resolve(e,"params")):[],platforms:this.defplat(),meta:a,overloads:c,expr:V.resolve(e,"expr")?z.resolve(e,"expr"):null}},xenum:function(e){for(var n=[],t=null,i=[],l=e.elements();l.hasNext();){var s,a=l.next();if(a.nodeType==Xml.Document)s="Document";else{if(a.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":r.toString(a.nodeType)));s=a.nodeName}if("haxe_doc"==s)t=X.get_innerData(a);else{var c;if(a.nodeType==Xml.Document)c="Document";else{if(a.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":r.toString(a.nodeType)));c=a.nodeName}"meta"==c?i=this.xmeta(a):n.push(this.xenumfield(a))}}return{file:V.resolve(e,"file")?z.resolve(e,"file"):null,path:this.mkPath(z.resolve(e,"path")),module:V.resolve(e,"module")?this.mkPath(z.resolve(e,"module")):null,doc:t,isPrivate:e.exists("private"),isExtern:e.exists("extern"),params:this.mkTypeParams(z.resolve(e,"params")),constructors:n,platforms:this.defplat(),meta:i}},xenumfield:function(e){var n,t,i=null,l=e.elementsNamed("haxe_doc"),s=l.hasNext()?l.next():null,a=Y.resolve(e,"meta")?this.xmeta(K.resolve(e,"meta")):[];if(V.resolve(e,"a")){var c=z.resolve(e,"a").split(":"),h=e.elements();i=[];for(var u=0;u<c.length;){var o=c[u];++u;var _=!1;"?"==o.charAt(0)&&(_=!0,o=HxOverrides.substr(o,1,null)),i.push({name:o,opt:_,t:this.xtype(h.next())})}}if(e.nodeType==Xml.Document)n="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));n=e.nodeName}if(null==s)t=null;else{if(s.nodeType!=Xml.Document&&s.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==s.nodeType?"null":r.toString(s.nodeType)));var d=s;t=X.get_innerData(d)}return{name:n,args:i,doc:t,meta:a,platforms:this.defplat()}},xabstract:function(e){for(var n=null,t=null,i=null,l=[],s=[],a=[],c=e.elements();c.hasNext();){var h,u=c.next();if(u.nodeType==Xml.Document)h="Document";else{if(u.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==u.nodeType?"null":r.toString(u.nodeType)));h=u.nodeName}switch(h){case"from":for(var o=u.elements();o.hasNext();){var _=o.next(),d=_.firstElement();if(d.nodeType!=Xml.Document&&d.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==d.nodeType?"null":r.toString(d.nodeType)));var b=d;a.push({t:this.xtype(b),field:V.resolve(_,"field")?z.resolve(_,"field"):null})}break;case"haxe_doc":n=X.get_innerData(u);break;case"impl":t=this.xclass(K.resolve(u,"class"));break;case"meta":l=this.xmeta(u);break;case"this":var f=u.firstElement();if(f.nodeType!=Xml.Document&&f.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==f.nodeType?"null":r.toString(f.nodeType)));var O=f;i=this.xtype(O);break;case"to":for(var p=u.elements();p.hasNext();){var g=p.next(),m=g.firstElement();if(m.nodeType!=Xml.Document&&m.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==m.nodeType?"null":r.toString(m.nodeType)));var v=m;s.push({t:this.xtype(v),field:V.resolve(g,"field")?z.resolve(g,"field"):null})}break;default:this.xerror(u)}}return{file:V.resolve(e,"file")?z.resolve(e,"file"):null,path:this.mkPath(z.resolve(e,"path")),module:V.resolve(e,"module")?this.mkPath(z.resolve(e,"module")):null,doc:n,isPrivate:e.exists("private"),params:this.mkTypeParams(z.resolve(e,"params")),platforms:this.defplat(),meta:l,athis:i,to:s,from:a,impl:t}},xtypedef:function(e){for(var n=null,t=null,i=[],l=e.elements();l.hasNext();){var s,a=l.next();if(a.nodeType==Xml.Document)s="Document";else{if(a.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":r.toString(a.nodeType)));s=a.nodeName}if("haxe_doc"==s)n=X.get_innerData(a);else{var c;if(a.nodeType==Xml.Document)c="Document";else{if(a.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":r.toString(a.nodeType)));c=a.nodeName}"meta"==c?i=this.xmeta(a):t=this.xtype(a)}}var h=new haxe_ds_StringMap;return null!=this.curplatform&&(h.h[this.curplatform]=t),{file:V.resolve(e,"file")?z.resolve(e,"file"):null,path:this.mkPath(z.resolve(e,"path")),module:V.resolve(e,"module")?this.mkPath(z.resolve(e,"module")):null,doc:n,isPrivate:e.exists("private"),params:this.mkTypeParams(z.resolve(e,"params")),type:t,types:h,platforms:this.defplat(),meta:i}},xtype:function(e){var n;if(e.nodeType==Xml.Document)n="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));n=e.nodeName}switch(n){case"a":for(var t=[],i=e.elements();i.hasNext();){var l=i.next(),s=this.xclassfield(l,!0);s.platforms=[],t.push(s)}return L.CAnonymous(t);case"c":return L.CClass(this.mkPath(z.resolve(e,"path")),this.xtypeparams(e));case"d":var a=null,c=e.firstElement();if(null!=c){if(c.nodeType!=Xml.Document&&c.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==c.nodeType?"null":r.toString(c.nodeType)));var h=c;a=this.xtype(h)}return L.CDynamic(a);case"e":return L.CEnum(this.mkPath(z.resolve(e,"path")),this.xtypeparams(e));case"f":for(var u=[],o=0,_=z.resolve(e,"a").split(":"),d=V.resolve(e,"v")?new haxe_iterators_ArrayIterator(z.resolve(e,"v").split(":")):null,b=e.elements();b.hasNext();){var f=b.next(),O=!1,p=o<_.length?_[o++]:null;null==p&&(p=""),"?"==p.charAt(0)&&(O=!0,p=HxOverrides.substr(p,1,null));var g=null==d||d.current>=d.array.length?null:d.array[d.current++];u.push({name:p,opt:O,t:this.xtype(f),value:""==g?null:g})}var m=u[u.length-1];return HxOverrides.remove(u,m),L.CFunction(u,m.t);case"t":return L.CTypedef(this.mkPath(z.resolve(e,"path")),this.xtypeparams(e));case"unknown":return L.CUnknown;case"x":return L.CAbstract(this.mkPath(z.resolve(e,"path")),this.xtypeparams(e));default:return this.xerror(e)}},xtypeparams:function(e){for(var n=[],t=e.elements();t.hasNext();){var i=t.next();n.push(this.xtype(i))}return n},defplat:function(){var e=[];return null!=this.curplatform&&e.push(this.curplatform),e},__class__:haxe_rtti_XmlParser};var K={resolve:function(e,n){var t=e.elementsNamed(n).next();if(null==t){var i;if(e.nodeType==Xml.Document)i="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));i=e.nodeName}throw haxe_Exception.thrown(i+" is missing element "+n)}if(t.nodeType!=Xml.Document&&t.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==t.nodeType?"null":r.toString(t.nodeType)));return e=t}},z={resolve:function(e,n){if(e.nodeType==Xml.Document)throw haxe_Exception.thrown("Cannot access document attribute "+n);var t=e.get(n);if(null==t){if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));throw haxe_Exception.thrown(e.nodeName+" is missing attribute "+n)}return t}},V={resolve:function(e,n){if(e.nodeType==Xml.Document)throw haxe_Exception.thrown("Cannot access document attribute "+n);return e.exists(n)}},Y={resolve:function(e,n){return e.elementsNamed(n).hasNext()}},H={resolve:function(e,n){for(var t=[],i=e.elementsNamed(n);i.hasNext();){var l=i.next();if(l.nodeType!=Xml.Document&&l.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==l.nodeType?"null":r.toString(l.nodeType)));e=l;t.push(e)}return t}},X={__properties__:{get_innerHTML:"get_innerHTML",get_innerData:"get_innerData"},get_innerData:function(e){if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));var n=0,t=e.children;if(n>=t.length){if(e.nodeType==Xml.Document)a="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));a=e.nodeName}throw haxe_Exception.thrown(a+" does not have data")}var i=t[n++];if(n<t.length){var l=t[n++];if(i.nodeType==Xml.PCData&&l.nodeType==Xml.CData){if(i.nodeType==Xml.Document||i.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":r.toString(i.nodeType)));a=""==StringTools.trim(i.nodeValue)}else a=!1;if(a){if(n>=t.length){if(l.nodeType==Xml.Document||l.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==l.nodeType?"null":r.toString(l.nodeType)));return l.nodeValue}var s=t[n++];if(s.nodeType==Xml.PCData){if(s.nodeType==Xml.Document||s.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==s.nodeType?"null":r.toString(s.nodeType)));a=""==StringTools.trim(s.nodeValue)}else a=!1;if(a&&n>=t.length){if(l.nodeType==Xml.Document||l.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==l.nodeType?"null":r.toString(l.nodeType)));return l.nodeValue}}if(e.nodeType==Xml.Document)a="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));a=e.nodeName}throw haxe_Exception.thrown(a+" does not only have data")}if(i.nodeType!=Xml.PCData&&i.nodeType!=Xml.CData){var a;if(e.nodeType==Xml.Document)a="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));a=e.nodeName}throw haxe_Exception.thrown(a+" does not have data")}if(i.nodeType==Xml.Document||i.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":r.toString(i.nodeType)));return i.nodeValue},get_innerHTML:function(e){var n="";if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));for(var t=0,i=e.children;t<i.length;){var l=i[t++];n+=Std.string(haxe_xml_Printer.print(l))}return n}},haxe_xml_XmlParserException=function(e,n,t){this.xml=n,this.message=e,this.position=t,this.lineNumber=1,this.positionAtLine=0;for(var i=0,l=t;i<l;){var s=i++,r=n.charCodeAt(s);10==r?(this.lineNumber++,this.positionAtLine=0):13!=r&&this.positionAtLine++}};t["haxe.xml.XmlParserException"]=haxe_xml_XmlParserException,haxe_xml_XmlParserException.__name__="haxe.xml.XmlParserException",haxe_xml_XmlParserException.prototype={message:null,lineNumber:null,positionAtLine:null,position:null,xml:null,toString:function(){return js_Boot.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:haxe_xml_XmlParserException};var haxe_xml_Parser=function(){};t["haxe.xml.Parser"]=haxe_xml_Parser,haxe_xml_Parser.__name__="haxe.xml.Parser",haxe_xml_Parser.parse=function(e,n){null==n&&(n=!1);var t=Xml.createDocument();return haxe_xml_Parser.doParse(e,n,0,t),t},haxe_xml_Parser.doParse=function(e,n,t,i){null==t&&(t=0);for(var l=null,s=1,a=1,c=null,h=0,u=0,o=0,_=new StringBuf,d=1,b=-1;t<e.length;){var f=e.charCodeAt(t);switch(s){case 0:switch(f){case 9:case 10:case 13:case 32:break;default:s=a;continue}break;case 1:if(60!=f){h=t,s=13;continue}s=0,a=2;break;case 2:switch(f){case 33:if(91==e.charCodeAt(t+1)){if(t+=2,"CDATA["!=HxOverrides.substr(e,t,6).toUpperCase())throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected <![CDATA[",e,t));s=17,h=(t+=5)+1}else if(68==e.charCodeAt(t+1)||100==e.charCodeAt(t+1)){if("OCTYPE"!=HxOverrides.substr(e,t+2,6).toUpperCase())throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected <!DOCTYPE",e,t));s=16,h=(t+=8)+1}else{if(45!=e.charCodeAt(t+1)||45!=e.charCodeAt(t+2))throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected \x3c!--",e,t));s=15,h=(t+=2)+1}break;case 47:if(null==i)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected node name",e,t));h=t+1,s=0,a=10;break;case 63:s=14,h=t;break;default:s=3,h=t;continue}break;case 3:if(!(f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||58==f||46==f||95==f||45==f)){if(t==h)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected node name",e,t));l=Xml.createElement(HxOverrides.substr(e,h,t-h)),i.addChild(l),++u,s=0,a=4;continue}break;case 4:switch(f){case 47:s=11;break;case 62:s=9;break;default:s=5,h=t;continue}break;case 5:if(!(f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||58==f||46==f||95==f||45==f)){if(h==t)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected attribute name",e,t));if(c=HxOverrides.substr(e,h,t-h),l.exists(c))throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Duplicate attribute ["+c+"]",e,t));s=0,a=6;continue}break;case 6:if(61!=f)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected =",e,t));s=0,a=7;break;case 7:switch(f){case 34:case 39:_=new StringBuf,s=8,h=t+1,b=f;break;default:throw haxe_Exception.thrown(new haxe_xml_XmlParserException('Expected "',e,t))}break;case 8:switch(f){case 38:var O=t-h;_.b+=null==O?HxOverrides.substr(e,h,null):HxOverrides.substr(e,h,O),s=18,d=8,h=t+1;break;case 60:case 62:if(n)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Invalid unescaped "+String.fromCodePoint(f)+" in attribute value",e,t));if(f==b){var p=t-h;_.b+=null==p?HxOverrides.substr(e,h,null):HxOverrides.substr(e,h,p);var g=_.b;_=new StringBuf,l.set(c,g),s=0,a=4}break;default:if(f==b){var m=t-h;_.b+=null==m?HxOverrides.substr(e,h,null):HxOverrides.substr(e,h,m);var v=_.b;_=new StringBuf,l.set(c,v),s=0,a=4}}break;case 9:h=t=haxe_xml_Parser.doParse(e,n,t,l),s=1;break;case 10:if(!(f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||58==f||46==f||95==f||45==f)){if(h==t)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected node name",e,t));var y=HxOverrides.substr(e,h,t-h);if(null==i||0!=i.nodeType)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Unexpected </"+y+">, tag is not open",e,t));if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));if(y!=i.nodeName){if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected </"+i.nodeName+">",e,t))}s=0,a=12;continue}break;case 11:if(62!=f)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected >",e,t));s=1;break;case 12:if(62==f)return 0==u&&i.addChild(Xml.createPCData("")),t;throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected >",e,t));case 13:if(60==f){var w=t-h;_.b+=null==w?HxOverrides.substr(e,h,null):HxOverrides.substr(e,h,w);var U=Xml.createPCData(_.b);_=new StringBuf,i.addChild(U),++u,s=0,a=2}else if(38==f){var C=t-h;_.b+=null==C?HxOverrides.substr(e,h,null):HxOverrides.substr(e,h,C),s=18,d=13,h=t+1}break;case 14:if(63==f&&62==e.charCodeAt(t+1)){++t;var x=HxOverrides.substr(e,h+1,t-h-2);i.addChild(Xml.createProcessingInstruction(x)),++u,s=1}break;case 15:45==f&&45==e.charCodeAt(t+1)&&62==e.charCodeAt(t+2)&&(i.addChild(Xml.createComment(HxOverrides.substr(e,h,t-h))),++u,t+=2,s=1);break;case 16:91==f?++o:93==f?--o:62==f&&0==o&&(i.addChild(Xml.createDocType(HxOverrides.substr(e,h,t-h))),++u,s=1);break;case 17:if(93==f&&93==e.charCodeAt(t+1)&&62==e.charCodeAt(t+2)){var D=Xml.createCData(HxOverrides.substr(e,h,t-h));i.addChild(D),++u,t+=2,s=1}break;case 18:if(59==f){var T=HxOverrides.substr(e,h,t-h);if(35==T.charCodeAt(0)){var A=120==T.charCodeAt(1)?Std.parseInt("0"+HxOverrides.substr(T,1,T.length-1)):Std.parseInt(HxOverrides.substr(T,1,T.length-1));_.b+=String.fromCodePoint(A)}else if(Object.prototype.hasOwnProperty.call(haxe_xml_Parser.escapes.h,T))_.b+=Std.string(haxe_xml_Parser.escapes.h[T]);else{if(n)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Undefined entity: "+T,e,t));_.b+=Std.string("&"+T+";")}h=t+1,s=d}else if(!(f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||58==f||46==f||95==f||45==f)&&35!=f){if(n)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Invalid character in entity: "+String.fromCodePoint(f),e,t));_.b+=String.fromCodePoint(38);var S=t-h;_.b+=null==S?HxOverrides.substr(e,h,null):HxOverrides.substr(e,h,S),h=--t+1,s=d}}++t}if(1==s&&(h=t,s=13),13==s){if(0==i.nodeType){if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Unclosed node <"+i.nodeName+">",e,t))}if(t!=h||0==u){O=t-h;_.b+=null==O?HxOverrides.substr(e,h,null):HxOverrides.substr(e,h,O),i.addChild(Xml.createPCData(_.b)),++u}return t}if(!n&&18==s&&13==d){_.b+=String.fromCodePoint(38);O=t-h;return _.b+=null==O?HxOverrides.substr(e,h,null):HxOverrides.substr(e,h,O),i.addChild(Xml.createPCData(_.b)),++u,t}throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Unexpected end",e,t))};var haxe_xml_Printer=function(e){this.output=new StringBuf,this.pretty=e};t["haxe.xml.Printer"]=haxe_xml_Printer,haxe_xml_Printer.__name__="haxe.xml.Printer",haxe_xml_Printer.print=function(e,n){null==n&&(n=!1);var t=new haxe_xml_Printer(n);return t.writeNode(e,""),t.output.b},haxe_xml_Printer.prototype={output:null,pretty:null,writeNode:function(e,n){switch(e.nodeType){case 0:if(this.output.b+=Std.string(n+"<"),e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string(e.nodeName);for(var t=e.attributes();t.hasNext();){var i=t.next();this.output.b+=Std.string(" "+i+'="');var l=StringTools.htmlEscape(e.get(i),!0);this.output.b+=Std.string(l),this.output.b+='"'}if(this.hasChildren(e)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));for(var s=0,a=e.children;s<a.length;){var c=a[s++];this.writeNode(c,this.pretty?n+"\t":n)}if(this.output.b+=Std.string(n+"</"),e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string(e.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));var h=e.nodeValue;if(0!=h.length){l=n+StringTools.htmlEscape(h);this.output.b+=Std.string(l),this.pretty&&(this.output.b+="\n")}break;case 2:if(this.output.b+=Std.string(n+"<![CDATA["),e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string(e.nodeValue),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));var u=e.nodeValue,o=new RegExp("[\n\r\t]+","g".split("u").join(""));u="\x3c!--"+(u=u.replace(o,""))+"--\x3e",this.output.b+=null==n?"null":""+n;l=StringTools.trim(u);this.output.b+=Std.string(l),this.pretty&&(this.output.b+="\n");break;case 4:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string("<!DOCTYPE "+e.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string("<?"+e.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));for(s=0,a=e.children;s<a.length;){c=a[s++];this.writeNode(c,n)}}},hasChildren:function(e){if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));for(var n=0,t=e.children;n<t.length;){var i=t[n++];switch(i.nodeType){case 0:case 1:return!0;case 2:case 3:if(i.nodeType==Xml.Document||i.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":r.toString(i.nodeType)));if(0!=StringTools.ltrim(i.nodeValue).length)return!0}}return!1},__class__:haxe_xml_Printer};var hsluv_Geometry=function(){};t["hsluv.Geometry"]=hsluv_Geometry,hsluv_Geometry.__name__="hsluv.Geometry",hsluv_Geometry.intersectLineLine=function(e,n){var t=(e.intercept-n.intercept)/(n.slope-e.slope);return{x:t,y:e.slope*t+e.intercept}},hsluv_Geometry.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))},hsluv_Geometry.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)},hsluv_Geometry.perpendicularThroughPoint=function(e,n){var t=-1/e.slope;return{slope:t,intercept:n.y-t*n.x}},hsluv_Geometry.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)},hsluv_Geometry.normalizeAngle=function(e){var n=2*Math.PI;return(e%n+n)%n},hsluv_Geometry.lengthOfRayUntilIntersect=function(e,n){return n.intercept/(Math.sin(e)-n.slope*Math.cos(e))};var hsluv_Hsluv=function(){};t["hsluv.Hsluv"]=hsluv_Hsluv,hsluv_Hsluv.__name__="hsluv.Hsluv",hsluv_Hsluv.getBounds=function(e){for(var n=[],t=Math.pow(e+16,3)/1560896,i=t>hsluv_Hsluv.epsilon?t:e/hsluv_Hsluv.kappa,l=0;l<3;){var s=l++,r=hsluv_Hsluv.m[s][0],a=hsluv_Hsluv.m[s][1],c=hsluv_Hsluv.m[s][2],h=(284517*r-94839*c)*i,u=(838422*c+769860*a+731718*r)*e*i-0*e,o=(632260*c-126452*a)*i;n.push({slope:h/o,intercept:u/o});var _=(284517*r-94839*c)*i,d=(838422*c+769860*a+731718*r)*e*i-769860*e,b=(632260*c-126452*a)*i+126452;n.push({slope:_/b,intercept:d/b})}return n},hsluv_Hsluv.maxSafeChromaForL=function(e){for(var n=hsluv_Hsluv.getBounds(e),t=1/0,i=0;i<n.length;){var l=n[i];++i;var s=hsluv_Geometry.distanceLineFromOrigin(l);t=Math.min(t,s)}return t},hsluv_Hsluv.maxChromaForLH=function(e,n){for(var t=n/360*Math.PI*2,i=hsluv_Hsluv.getBounds(e),l=1/0,s=0;s<i.length;){var r=i[s];++s;var a=hsluv_Geometry.lengthOfRayUntilIntersect(t,r);a>=0&&(l=Math.min(l,a))}return l},hsluv_Hsluv.dotProduct=function(e,n){for(var t=0,i=0,l=e.length;i<l;){var s=i++;t+=e[s]*n[s]}return t},hsluv_Hsluv.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055},hsluv_Hsluv.toLinear=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92},hsluv_Hsluv.xyzToRgb=function(e,n){var t=hsluv_Hsluv.fromLinear(hsluv_Hsluv.dotProduct(hsluv_Hsluv.m[0],e)),i=hsluv_Hsluv.fromLinear(hsluv_Hsluv.dotProduct(hsluv_Hsluv.m[1],e)),l=hsluv_Hsluv.fromLinear(hsluv_Hsluv.dotProduct(hsluv_Hsluv.m[2],e));return null==n&&(n=[0,0,0]),n[0]=t,n[1]=i,n[2]=l,n},hsluv_Hsluv.rgbToXyz=function(e,n){var t=e[0],i=e[1],l=e[2];null==n&&(n=[0,0,0]),n[0]=hsluv_Hsluv.toLinear(t),n[1]=hsluv_Hsluv.toLinear(i),n[2]=hsluv_Hsluv.toLinear(l);var s=hsluv_Hsluv.dotProduct(hsluv_Hsluv.minv[0],n),r=hsluv_Hsluv.dotProduct(hsluv_Hsluv.minv[1],n),a=hsluv_Hsluv.dotProduct(hsluv_Hsluv.minv[2],n);return n[0]=s,n[1]=r,n[2]=a,n},hsluv_Hsluv.yToL=function(e){return e<=hsluv_Hsluv.epsilon?e/hsluv_Hsluv.refY*hsluv_Hsluv.kappa:116*Math.pow(e/hsluv_Hsluv.refY,.3333333333333333)-16},hsluv_Hsluv.lToY=function(e){return e<=8?hsluv_Hsluv.refY*e/hsluv_Hsluv.kappa:hsluv_Hsluv.refY*Math.pow((e+16)/116,3)},hsluv_Hsluv.xyzToLuv=function(e,n){var t=e[0],i=e[1];null==n&&(n=[0,0,0]);var l=t+15*i+3*e[2],s=4*t,r=9*i;0!=l?(s/=l,r/=l):(s=NaN,r=NaN);var a=hsluv_Hsluv.yToL(i);if(0==a)return n[0]=0,n[1]=0,n[2]=0,n;var c=13*a*(s-hsluv_Hsluv.refU),h=13*a*(r-hsluv_Hsluv.refV);return n[0]=a,n[1]=c,n[2]=h,n},hsluv_Hsluv.luvToXyz=function(e,n){null==n&&(n=[0,0,0]);var t=e[0],i=e[1],l=e[2];if(0==t)return n[0]=0,n[1]=1,n[2]=2,n;var s=i/(13*t)+hsluv_Hsluv.refU,r=l/(13*t)+hsluv_Hsluv.refV,a=hsluv_Hsluv.lToY(t),c=0-9*a*s/((s-4)*r-s*r),h=(9*a-15*r*a-r*c)/(3*r);return n[0]=c,n[1]=a,n[2]=h,n},hsluv_Hsluv.luvToLch=function(e,n){var t=e[0],i=e[1],l=e[2];null==n&&(n=[0,0,0]);var s,r=Math.sqrt(i*i+l*l);r<1e-8?s=0:(s=180*Math.atan2(l,i)/Math.PI)<0&&(s=360+s);return n[0]=t,n[1]=r,n[2]=s,n},hsluv_Hsluv.lchToLuv=function(e,n){var t=e[0],i=e[1];null==n&&(n=[0,0,0]);var l=e[2]/360*2*Math.PI,s=Math.cos(l)*i,r=Math.sin(l)*i;return n[0]=t,n[1]=s,n[2]=r,n},hsluv_Hsluv.hsluvToLch=function(e,n){var t=e[0],i=e[1],l=e[2];if(null==n&&(n=[0,0,0]),l>99.9999999)return n[0]=100,n[1]=0,n[2]=t,n;if(l<1e-8)return n[0]=0,n[1]=0,n[2]=t,n;var s=hsluv_Hsluv.maxChromaForLH(l,t)/100*i;return n[0]=l,n[1]=s,n[2]=t,n},hsluv_Hsluv.lchToHsluv=function(e,n){var t=e[0],i=e[1],l=e[2];if(null==n&&(n=[0,0,0]),t>99.9999999)return n[0]=l,n[1]=0,n[2]=100,n;if(t<1e-8)return n[0]=l,n[1]=0,n[2]=0,n;var s=i/hsluv_Hsluv.maxChromaForLH(t,l)*100;return n[0]=l,n[1]=s,n[2]=t,n},hsluv_Hsluv.hpluvToLch=function(e){var n=e[0],t=e[1],i=e[2];return i>99.9999999?[100,0,n]:i<1e-8?[0,0,n]:[i,hsluv_Hsluv.maxSafeChromaForL(i)/100*t,n]},hsluv_Hsluv.lchToHpluv=function(e){var n=e[0],t=e[1],i=e[2];return n>99.9999999?[i,0,100]:n<1e-8?[i,0,0]:[i,t/hsluv_Hsluv.maxSafeChromaForL(n)*100,n]},hsluv_Hsluv.rgbToHex=function(e){var n="#",t=e[0],i=((l=Math.round(255*t))-(s=l%16))/16|0;n+=hsluv_Hsluv.hexChars.charAt(i)+hsluv_Hsluv.hexChars.charAt(s);t=e[1],i=((l=Math.round(255*t))-(s=l%16))/16|0;n+=hsluv_Hsluv.hexChars.charAt(i)+hsluv_Hsluv.hexChars.charAt(s);var l,s;t=e[2],i=((l=Math.round(255*t))-(s=l%16))/16|0;return n+=hsluv_Hsluv.hexChars.charAt(i)+hsluv_Hsluv.hexChars.charAt(s)},hsluv_Hsluv.hexToRgb=function(e){e=e.toLowerCase();var n=[],t=16*hsluv_Hsluv.hexChars.indexOf(e.charAt(1))+hsluv_Hsluv.hexChars.indexOf(e.charAt(2));n.push(t/255);t=16*hsluv_Hsluv.hexChars.indexOf(e.charAt(3))+hsluv_Hsluv.hexChars.indexOf(e.charAt(4));n.push(t/255);t=16*hsluv_Hsluv.hexChars.indexOf(e.charAt(5))+hsluv_Hsluv.hexChars.indexOf(e.charAt(6));return n.push(t/255),n},hsluv_Hsluv.lchToRgb=function(e,n){return null==n&&(n=[0,0,0]),hsluv_Hsluv.lchToLuv(e,n),hsluv_Hsluv.luvToXyz(n,n),hsluv_Hsluv.xyzToRgb(n,n),n},hsluv_Hsluv.rgbToLch=function(e,n){return null==n&&(n=[0,0,0]),hsluv_Hsluv.rgbToXyz(e,n),hsluv_Hsluv.xyzToLuv(n,n),hsluv_Hsluv.luvToLch(n,n),n},hsluv_Hsluv.hsluvToRgb=function(e,n){return null==n&&(n=[0,0,0]),hsluv_Hsluv.hsluvToLch(e,n),hsluv_Hsluv.lchToRgb(n,n),n},hsluv_Hsluv.rgbToHsluv=function(e,n){return null==n&&(n=[0,0,0]),hsluv_Hsluv.rgbToLch(e,n),hsluv_Hsluv.lchToHsluv(n,n),n},hsluv_Hsluv.hpluvToRgb=function(e){return hsluv_Hsluv.lchToRgb(hsluv_Hsluv.hpluvToLch(e))},hsluv_Hsluv.rgbToHpluv=function(e){return hsluv_Hsluv.lchToHpluv(hsluv_Hsluv.rgbToLch(e))},hsluv_Hsluv.hsluvToHex=function(e){return hsluv_Hsluv.rgbToHex(hsluv_Hsluv.hsluvToRgb(e))},hsluv_Hsluv.hpluvToHex=function(e){return hsluv_Hsluv.rgbToHex(hsluv_Hsluv.hpluvToRgb(e))},hsluv_Hsluv.hexToHsluv=function(e){return hsluv_Hsluv.rgbToHsluv(hsluv_Hsluv.hexToRgb(e))},hsluv_Hsluv.hexToHpluv=function(e){return hsluv_Hsluv.rgbToHpluv(hsluv_Hsluv.hexToRgb(e))};var js_Boot=function(){};t["js.Boot"]=js_Boot,js_Boot.__name__="js.Boot",js_Boot.getClass=function(e){if(null==e)return null;if(e instanceof Array)return Array;var n=e.__class__;if(null!=n)return n;var t=js_Boot.__nativeClassName(e);return null!=t?js_Boot.__resolveNativeClass(t):null},js_Boot.__string_rec=function(e,n){if(null==e)return"null";if(n.length>=5)return"<...>";var t=typeof e;switch("function"==t&&(e.__name__||e.__ename__)&&(t="object"),t){case"function":return"<function>";case"object":if(e.__enum__){var l=i[e.__enum__].__constructs__[e._hx_index],s=l._hx_name;return l.__params__?(n+="\t",s+"("+function(t){for(var i=[],s=0,r=l.__params__;s<r.length;){var a=r[s];s+=1,i.push(js_Boot.__string_rec(e[a],n))}return i}().join(",")+")"):s}if(e instanceof Array){var r="[";n+="\t";for(var a=0,c=e.length;a<c;){var h=a++;r+=(h>0?",":"")+js_Boot.__string_rec(e[h],n)}return r+="]"}var u;try{u=e.toString}catch(a){return"???"}if(null!=u&&u!=Object.toString&&"function"==typeof u){var o=e.toString();if("[object Object]"!=o)return o}r="{\n";n+="\t";var _=null!=e.hasOwnProperty,d=null;for(d in e)_&&!e.hasOwnProperty(d)||"prototype"!=d&&"__class__"!=d&&"__super__"!=d&&"__interfaces__"!=d&&"__properties__"!=d&&(2!=r.length&&(r+=", \n"),r+=n+d+" : "+js_Boot.__string_rec(e[d],n));return r+="\n"+(n=n.substring(1))+"}";case"string":return e;default:return String(e)}},js_Boot.__interfLoop=function(e,n){if(null==e)return!1;if(e==n)return!0;var t=e.__interfaces__;if(null!=t)for(var i=0,l=t.length;i<l;){var s=t[i++];if(s==n||js_Boot.__interfLoop(s,n))return!0}return js_Boot.__interfLoop(e.__super__,n)},js_Boot.__instanceof=function(e,n){if(null==n)return!1;switch(n){case Array:return e instanceof Array;case J:return"boolean"==typeof e;case q:return null!=e;case Z:return"number"==typeof e;case Q:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof n){if(js_Boot.__downcastCheck(e,n))return!0}else if("object"==typeof n&&js_Boot.__isNativeObj(n)&&e instanceof n)return!0;return n==ee&&null!=e.__name__||(n==ne&&null!=e.__ename__||null!=e.__enum__&&i[e.__enum__]==n)}},js_Boot.__downcastCheck=function(e,n){return e instanceof n||!!n.__isInterface__&&js_Boot.__interfLoop(js_Boot.getClass(e),n)},js_Boot.__implements=function(e,n){return js_Boot.__interfLoop(js_Boot.getClass(e),n)},js_Boot.__nativeClassName=function(e){var n=js_Boot.__toStr.call(e).slice(8,-1);return"Object"==n||"Function"==n||"Math"==n||"JSON"==n?null:n},js_Boot.__isNativeObj=function(e){return null!=js_Boot.__nativeClassName(e)},js_Boot.__resolveNativeClass=function(n){return e[n]};var js_html__$CanvasElement_CanvasUtil=function(){};t["js.html._CanvasElement.CanvasUtil"]=js_html__$CanvasElement_CanvasUtil,js_html__$CanvasElement_CanvasUtil.__name__="js.html._CanvasElement.CanvasUtil",js_html__$CanvasElement_CanvasUtil.getContextWebGL=function(e,n){var t="webgl";if(null!=(i=e.getContext(t,n)))return i;var i;t="experimental-webgl";return null!=(i=e.getContext(t,n))?i:null};var tracker_Assert=function(){};t["tracker.Assert"]=tracker_Assert,tracker_Assert.__name__="tracker.Assert";var tracker_Autorun=function(e,n){this.invalidated=!1,this.boundAutorunArrays=null,this.afterRun=null,this.onRun=null,ceramic_Entity.call(this),this.onRun=e,this.afterRun=n,null!=e&&this.run()};t["tracker.Autorun"]=tracker_Autorun,tracker_Autorun.__name__="tracker.Autorun",tracker_Autorun.unobserve=function(){tracker_Autorun.prevCurrent.push(tracker_Autorun.current),tracker_Autorun.current=null},tracker_Autorun.reobserve=function(){tracker_Autorun.current=tracker_Autorun.prevCurrent.pop()},tracker_Autorun.unobserved=function(e){tracker_Autorun.prevCurrent.push(tracker_Autorun.current),tracker_Autorun.current=null,e(),tracker_Autorun.current=tracker_Autorun.prevCurrent.pop()},tracker_Autorun.getAutorunArray=function(){if(tracker_Autorun._autorunArraysLen>0){tracker_Autorun._autorunArraysLen--;var e=tracker_Autorun._autorunArrays[tracker_Autorun._autorunArraysLen];return tracker_Autorun._autorunArrays[tracker_Autorun._autorunArraysLen]=null,e}return[]},tracker_Autorun.recycleAutorunArray=function(e){e.splice(0,e.length),tracker_Autorun._autorunArrays[tracker_Autorun._autorunArraysLen]=e,tracker_Autorun._autorunArraysLen++},tracker_Autorun.getArrayOfAutorunArrays=function(){if(tracker_Autorun._arrayOfAutorunArraysLen>0){tracker_Autorun._arrayOfAutorunArraysLen--;var e=tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen];return tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen]=null,e}return[]},tracker_Autorun.recycleArrayOfAutorunArrays=function(e){e.splice(0,e.length),tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen]=e,tracker_Autorun._arrayOfAutorunArraysLen++},tracker_Autorun.__super__=ceramic_Entity,tracker_Autorun.prototype=$extend(ceramic_Entity.prototype,{__cbOnReset:null,__cbOnceReset:null,__cbOnOwnerUnbindReset:null,__cbOnceOwnerUnbindReset:null,emitReset:function(){this.unbindFromAllAutorunArrays();var e=0;if(null!=this.__cbOnReset&&(e+=this.__cbOnReset.length),null!=this.__cbOnceReset&&(e+=this.__cbOnceReset.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReset)for(var l=0,s=this.__cbOnReset.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnReset[r],++i):--e}if(null!=this.__cbOnceReset){var a=null,c=null;for(l=0,s=this.__cbOnceReset.length;l<s;){r=l++;if(!0){t.vector[i]=this.__cbOnceReset[r],this.__cbOnceReset[r]=null;var h=this.__cbOnceOwnerUnbindReset[r];this.__cbOnceOwnerUnbindReset[r]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],c=[],[]),a.push(this.__cbOnceOwnerUnbindReset[r]),c.push(this.__cbOnceReset[r])}this.__cbOnceOwnerUnbindReset=a,this.__cbOnceReset=c}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}},onReset:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event reset because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReset(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReset&&(this.__cbOnOwnerUnbindReset=[]),this.__cbOnOwnerUnbindReset.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReset&&(this.__cbOnOwnerUnbindReset=[]),this.__cbOnOwnerUnbindReset.push(null);null==this.__cbOnReset&&(this.__cbOnReset=[]),this.__cbOnReset.push(n)},onceReset:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event reset because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReset(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReset&&(this.__cbOnceOwnerUnbindReset=[]),this.__cbOnceOwnerUnbindReset.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReset&&(this.__cbOnceOwnerUnbindReset=[]),this.__cbOnceOwnerUnbindReset.push(null);null==this.__cbOnceReset&&(this.__cbOnceReset=[]),this.__cbOnceReset.push(n)},offReset:function(e){if(null!=e){var n;null!=this.__cbOnReset&&-1!=(n=this.__cbOnReset.indexOf(e))&&(this.__cbOnReset.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReset[n])&&s(),this.__cbOnOwnerUnbindReset.splice(n,1)),null!=this.__cbOnceReset&&-1!=(n=this.__cbOnceReset.indexOf(e))&&(this.__cbOnceReset.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReset[n])&&s(),this.__cbOnceOwnerUnbindReset.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReset){for(var t=0,i=this.__cbOnOwnerUnbindReset.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReset[l])&&s()}this.__cbOnOwnerUnbindReset=null}if(null!=this.__cbOnceOwnerUnbindReset){for(t=0,i=this.__cbOnceOwnerUnbindReset.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindReset[l])&&s()}this.__cbOnceOwnerUnbindReset=null}this.__cbOnReset=null,this.__cbOnceReset=null}},listensReset:function(){return null!=this.__cbOnReset&&this.__cbOnReset.length>0||null!=this.__cbOnceReset&&this.__cbOnceReset.length>0},onRun:null,afterRun:null,boundAutorunArrays:null,invalidated:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.emitReset(),this.onRun=null,this.afterRun=null,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this))},willEmitReset:function(){this.unbindFromAllAutorunArrays()},run:function(){if(!(this._lifecycleState<0)){this.invalidated=!1,this.emitReset();var e=tracker_Autorun.current;tracker_Autorun.current=this;var n=tracker_Autorun.prevCurrent.length;for(this.onRun(),null!=this.afterRun&&(tracker_Autorun.prevCurrent.push(tracker_Autorun.current),tracker_Autorun.current=null,this.afterRun(),tracker_Autorun.current=tracker_Autorun.prevCurrent.pop());n<tracker_Autorun.prevCurrent.length;)tracker_Autorun.prevCurrent.pop();tracker_Autorun.current=e}},invalidate:function(){if(!this.invalidated){this.invalidated=!0,this.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(this,this.run))}},bindToAutorunArray:function(e){if(!this.invalidated){var n=!1;if(null==this.boundAutorunArrays){var t;if(tracker_Autorun._arrayOfAutorunArraysLen>0){tracker_Autorun._arrayOfAutorunArraysLen--;var i=tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen];tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen]=null,t=i}else t=[];this.boundAutorunArrays=t}else for(var l=0,s=this.boundAutorunArrays.length;l<s;){var r=l++;if(this.boundAutorunArrays[r]==e){n=!0;break}}if(!n){var a=-1,c=e.length;for(r=c-1;r>=0;){if(null==(u=e[r])){a=r;break}--r}if(-1==a)e.push(this);else{var h=c-1;if(a<h)for(l=a+1,s=c;l<s;){var u=e[r=l++];e[r-1]=u}e[h]=this}this.boundAutorunArrays.push(e)}}},unbindFromAllAutorunArrays:function(){if(null!=this.boundAutorunArrays){for(var e=0,n=this.boundAutorunArrays.length;e<n;)for(var t=e++,i=this.boundAutorunArrays[t],l=0,s=i.length;l<s;){var r=l++,a=i[r];if(null!=a&&a==this){i[r]=null;break}}var c=this.boundAutorunArrays;c.splice(0,c.length),tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen]=c,tracker_Autorun._arrayOfAutorunArraysLen++,this.boundAutorunArrays=null}},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offReset()},__class__:tracker_Autorun});var tracker_Extensions=function(){};t["tracker.Extensions"]=tracker_Extensions,tracker_Extensions.__name__="tracker.Extensions",tracker_Extensions.unsafeGet=function(e,n){return e[n]},tracker_Extensions.unsafeSet=function(e,n,t){e[n]=t},tracker_Extensions.setArrayLength=function(e,n){e.length!=n&&(e.length>n?e.splice(n,e.length-n):e[n-1]=null)},tracker_Extensions.setProperty=function(e,n,t){Reflect.setProperty(e,n,t)},tracker_Extensions.getProperty=function(e,n){return Reflect.getProperty(e,n)};var tracker_Serialize=function(){};t["tracker.Serialize"]=tracker_Serialize,tracker_Serialize.__name__="tracker.Serialize",tracker_Serialize.serialize=function(e){tracker_Serialize._serializedMap=new haxe_ds_StringMap;var n=tracker_Serialize.serializeValue(e),t=new haxe_Serializer;t.serialize(n),t.serialize(tracker_Serialize._serializedMap);var i=t.toString();return tracker_Serialize._serializedMap=null,i},tracker_Serialize.deserialize=function(e,n){var t=tracker_Serialize._serializedMap,i=tracker_Serialize._deserializedMap,l=new haxe_Unserializer(n),s=l.unserialize();tracker_Serialize._serializedMap=l.unserialize(),tracker_Serialize._deserializedMap=new haxe_ds_StringMap;var r=tracker_Serialize.deserializeValue(s,e);return tracker_Serialize._serializedMap=t,tracker_Serialize._deserializedMap=i,r},tracker_Serialize.serializeValue=function(e){if(null==e)return null;if(null==tracker_Serialize._serializedMap)return null;if(e instanceof ceramic_Entity){var n=e;if(n._lifecycleState<0){tracker_Tracker.backend;var t=js_Boot.getClass(n),i="Entity destroyed: "+Std.string(n)+" "+t.__name__;return ceramic_App.app.logger.error(i,{fileName:"/home/sharpcdf/ceramic/git/tracker/src/tracker/Serialize.hx",lineNumber:87,className:"tracker.Serialize",methodName:"serializeValue"}),null}}if(js_Boot.__implements(e,tracker_Serializable)){var l=js_Boot.getClass(e),s=l.__name__,r=e._serializeId;if(!Object.prototype.hasOwnProperty.call(tracker_Serialize._cachedEnumInfoBySerializableType.h,s)&&(tracker_Serialize._cachedEnumInfoBySerializableType.h[s]=!0,Object.prototype.hasOwnProperty.call(l,"_serializeEnumInfo"))){var a=Reflect.field(l,"_serializeEnumInfo");if(null!=a)for(var c=A=a.h,h=(S=Object.keys(A)).length,u=0;u<h;){var o=x=S[u++],_=c[x];tracker_Serialize._enumInfo.h[o]=_}}if(null!=tracker_Serialize._deserializedMap&&(tracker_Serialize._deserializedMap.h[r]=e),null!=tracker_Serialize._onCheckSerializable&&tracker_Serialize._onCheckSerializable(e),Object.prototype.hasOwnProperty.call(tracker_Serialize._serializedMap.h,r))return{id:r};var d={id:r,type:l.__name__,props:{}};tracker_Serialize._serializedMap.h[r]=d,e.willSerialize();for(var b="unobserved".length,f=l;null!=f;){for(var O=haxe_rtti_Meta.getFields(f),p=0,g=Reflect.fields(O);p<g.length;){var m=g[p];++p;var v=Reflect.field(O,m);if(Object.prototype.hasOwnProperty.call(v,"serialize")){var y=m;StringTools.startsWith(y,"unobserved")&&(y=y.charAt(b).toLowerCase()+HxOverrides.substr(y,b+1,null));var w=Reflect.getProperty(e,m);_=tracker_Serialize.serializeValue(w);d.props[y]=_}}if(null!=(f=f.__super__)&&"tracker.Model"==f.__name__)break}return null!=tracker_Serialize._onAddSerializable&&tracker_Serialize._onAddSerializable(e),{id:r}}if(e instanceof Array){d=[];var U=e;for(p=0;p<U.length;){var C=U[p];++p,d.push(tracker_Serialize.serializeValue(C))}return d}if("string"==typeof e||"number"==typeof e&&(0|e)===e||"number"==typeof e||"boolean"==typeof e)return e;if(null!=(p=Type.typeof(e))&&6==p._hx_index&&null!=(t=p.c))switch(t){case haxe_ds_IntMap:d={im:D=[]};for(var x=(T=e).keys();x.hasNext();){o=x.next();D.push(o),D.push(tracker_Serialize.serializeValue(T.h[o]))}return d;case haxe_ds_StringMap:var D,T,A,S;for(d={sm:D=[]},c=A=(T=e).h,h=(S=Object.keys(A)).length,u=0;u<h;){x=S[u++];D.push(x),D.push(tracker_Serialize.serializeValue(T.h[x]))}return d}if(null!=tracker_Serialize.customHxSerialize)return{hx:tracker_Serialize.customHxSerialize(e)};var E=new haxe_Serializer;return E.useCache=!0,E.serialize(e),{hx:E.toString()}},tracker_Serialize.deserializeValue=function(e,n){if(null==e)return null;if(null==tracker_Serialize._serializedMap)return null;if(null==tracker_Serialize._deserializedMap)return null;var i=null!=n;if(e instanceof Array){for(var l=[],s=e,r=0;r<s.length;){var a=s[r];++r,l.push(tracker_Serialize.deserializeValue(a))}return l}if("string"==typeof e||"number"==typeof e&&(0|e)===e||"number"==typeof e||"boolean"==typeof e)return e;if(null!=e.id){if(Object.prototype.hasOwnProperty.call(tracker_Serialize._deserializedMap.h,e.id))return tracker_Serialize._deserializedMap.h[e.id];if(Object.prototype.hasOwnProperty.call(tracker_Serialize._serializedMap.h,e.id)){var c=tracker_Serialize._serializedMap.h[e.id],h=c.type,u=t[h];if(null==u){tracker_Tracker.backend;return ceramic_App.app.logger.warning("Failed to resolve class for serialized type: "+c.type,{fileName:"/home/sharpcdf/ceramic/git/tracker/src/tracker/Serialize.hx",lineNumber:313,className:"tracker.Serialize",methodName:"deserializeValue"}),null}if(null!=n&&js_Boot.getClass(n)!=u)throw haxe_Exception.thrown("Type mismatch when deserializing object expected "+Std.string(u)+", got "+Std.string(js_Boot.getClass(n)));var o=null,_=!1;null!=tracker_Serialize._deserializedCacheMap&&Object.prototype.hasOwnProperty.call(tracker_Serialize._deserializedCacheMap.h,e.id)?(o=tracker_Serialize._deserializedCacheMap.h[e.id],_=!0):o=null!=n&&js_Boot.getClass(n)==u?n:Object.create(u.prototype),o._serializeId=e.id,tracker_Serialize._deserializedMap.h[e.id]=o;for(var d=haxe_rtti_Meta.getFields(u),b="unobserved".length,f=Object.create(null),O=(r=0,Type.getInstanceFields(u));r<O.length;){var p=O[r];++r,f[p]=!0}for(var g=u.__super__,m=null;null!=g&&(null==m&&(m=[]),m.push(haxe_rtti_Meta.getFields(g)),"tracker.Model"!=g.__name__);){for(r=0,O=Type.getInstanceFields(g);r<O.length;){p=O[r];++r,f[p]=!0}g=g.__super__}for(var v=f,y=Object.keys(v),w=y.length,U=0;U<w;){var C=y[U++],x=Reflect.field(d,C);if(null==x&&null!=m)for(r=0,O=m.length;r<O;){var D=r++;if(null!=(x=Reflect.field(m[D],C)))break}var T=null!=x&&Object.prototype.hasOwnProperty.call(x,"serialize"),A=C;if(StringTools.startsWith(A,"unobserved")&&(A=A.charAt(b).toLowerCase()+HxOverrides.substr(A,b+1,null)),T&&Object.prototype.hasOwnProperty.call(c.props,A)){var S=tracker_Serialize.deserializeValue(Reflect.field(c.props,A));Reflect.setProperty(o,_||i?A:C,S)}else if(!i&&!_&&Object.prototype.hasOwnProperty.call(f,"_default_"+A)){var E=Reflect.field(o,"_default_"+A).apply(o,[]);Reflect.setProperty(o,C,E)}}var M=tracker_Serialize._serializedMap,F=tracker_Serialize._deserializedMap,P=tracker_Serialize._deserializedCacheMap;return tracker_Serialize._serializedMap=null,tracker_Serialize._deserializedMap=null,tracker_Serialize._deserializedCacheMap=null,o.didDeserialize(),tracker_Serialize._serializedMap=M,tracker_Serialize._deserializedMap=F,tracker_Serialize._deserializedCacheMap=P,o}return null}if(null!=e.sm){var R=e.sm;for(D=0,l=new haxe_ds_StringMap;D<R.length;){var I=tracker_Serialize.deserializeValue(R[D+1]);l.h[R[D]]=I,D+=2}return l}if(null!=e.im){for(R=e.im,D=0,l=new haxe_ds_IntMap;D<R.length;){I=tracker_Serialize.deserializeValue(R[D+1]);l.h[R[D]]=I,D+=2}return l}if(null==e.hx)return null;if(null!=tracker_Serialize.customHxDeserialize)return tracker_Serialize.customHxDeserialize(e.hx);var k=new haxe_Unserializer(e.hx);try{return k.unserialize()}catch(r){tracker_Tracker.backend;return ceramic_App.app.logger.warning("Failed to deserialize: "+Std.string(e.hx),{fileName:"/home/sharpcdf/ceramic/git/tracker/src/tracker/Serialize.hx",lineNumber:516,className:"tracker.Serialize",methodName:"deserializeValue"}),null}};var tracker_SerializeChangeset=function(e,n){null==n&&(n=!1),this.append=!1,this.data=e,this.append=n};t["tracker.SerializeChangeset"]=tracker_SerializeChangeset,tracker_SerializeChangeset.__name__="tracker.SerializeChangeset",tracker_SerializeChangeset.prototype={data:null,append:null,toString:function(){return""+Std.string({append:this.append,data:this.data})},__class__:tracker_SerializeChangeset};var tracker_SerializeModel=function(){this.initializerName=null,this.dirty=!0,this.canCompact=!1,this.dirtyModels=new haxe_ds_StringMap,this.willCleanDestroyedTrackedModels=!1,this.trackedModels=new haxe_ds_StringMap,this.serializedMap=new haxe_ds_StringMap,this.destroyModelOnUntrack=!0,this.compactInterval=60,this.checkInterval=1,ceramic_Entity.call(this)};t["tracker.SerializeModel"]=tracker_SerializeModel,tracker_SerializeModel.__name__="tracker.SerializeModel",tracker_SerializeModel.__interfaces__=[ceramic_Component],tracker_SerializeModel.loadFromData=function(e,n,t){if(null==t&&(t=!1),null==n)return!1;tracker_Serialize._serializedMap=new haxe_ds_StringMap,tracker_Serialize._deserializedMap=new haxe_ds_StringMap,tracker_Serialize._deserializedCacheMap=null,tracker_Serialize.serializeValue(e);var i=tracker_Serialize._deserializedMap;tracker_Serialize._serializedMap=null,tracker_Serialize._deserializedMap=null,tracker_Serialize._deserializedCacheMap=null;var l=tracker_Utils.decodeChangesetData(n);tracker_Serialize._serializedMap=l.serializedMap,tracker_Serialize._deserializedMap=new haxe_ds_StringMap,tracker_Serialize._deserializedCacheMap=t?i:null,tracker_Serialize.deserializeValue(l.serialized,e);tracker_Serialize._deserializedMap;tracker_Serialize._deserializedMap=null,tracker_Serialize._serializedMap=null,tracker_Serialize._deserializedCacheMap=null,tracker_Serialize._serializedMap=new haxe_ds_StringMap,tracker_Serialize._deserializedMap=new haxe_ds_StringMap,tracker_Serialize._deserializedCacheMap=null,tracker_Serialize.serializeValue(e);var s=tracker_Serialize._deserializedMap;tracker_Serialize._serializedMap=null,tracker_Serialize._deserializedMap=null,tracker_Serialize._deserializedCacheMap=null;for(var r=i.h,a=r,c=Object.keys(r),h=c.length,u=0;u<h;){var o=c[u++],_=o,d=a[o];if(s.h[_]!=d&&d instanceof tracker_Model){var b=d;b!=e&&b.serializeShouldDestroy()&&b.destroy()}}return!0},tracker_SerializeModel.__super__=ceramic_Entity,tracker_SerializeModel.prototype=$extend(ceramic_Entity.prototype,{__cbOnChangeset:null,__cbOnceChangeset:null,__cbOnOwnerUnbindChangeset:null,__cbOnceOwnerUnbindChangeset:null,emitChangeset:function(e){var n=0;if(null!=this.__cbOnChangeset&&(n+=this.__cbOnChangeset.length),null!=this.__cbOnceChangeset&&(n+=this.__cbOnceChangeset.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChangeset)for(var s=0,r=this.__cbOnChangeset.length;s<r;){var a=s++;!0?(i.vector[l]=this.__cbOnChangeset[a],++l):--n}if(null!=this.__cbOnceChangeset){var c=null,h=null;for(s=0,r=this.__cbOnceChangeset.length;s<r;){a=s++;if(!0){i.vector[l]=this.__cbOnceChangeset[a],this.__cbOnceChangeset[a]=null;var u=this.__cbOnceOwnerUnbindChangeset[a];this.__cbOnceOwnerUnbindChangeset[a]=null,null!=u&&u(),++l}else--n,null==c&&(c=[],h=[],[]),c.push(this.__cbOnceOwnerUnbindChangeset[a]),h.push(this.__cbOnceChangeset[a])}this.__cbOnceOwnerUnbindChangeset=c,this.__cbOnceChangeset=h}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}},onChangeset:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event changeset because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChangeset(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChangeset&&(this.__cbOnOwnerUnbindChangeset=[]),this.__cbOnOwnerUnbindChangeset.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChangeset&&(this.__cbOnOwnerUnbindChangeset=[]),this.__cbOnOwnerUnbindChangeset.push(null);null==this.__cbOnChangeset&&(this.__cbOnChangeset=[]),this.__cbOnChangeset.push(n)},onceChangeset:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event changeset because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChangeset(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChangeset&&(this.__cbOnceOwnerUnbindChangeset=[]),this.__cbOnceOwnerUnbindChangeset.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChangeset&&(this.__cbOnceOwnerUnbindChangeset=[]),this.__cbOnceOwnerUnbindChangeset.push(null);null==this.__cbOnceChangeset&&(this.__cbOnceChangeset=[]),this.__cbOnceChangeset.push(n)},offChangeset:function(e){if(null!=e){var n;null!=this.__cbOnChangeset&&-1!=(n=this.__cbOnChangeset.indexOf(e))&&(this.__cbOnChangeset.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChangeset[n])&&s(),this.__cbOnOwnerUnbindChangeset.splice(n,1)),null!=this.__cbOnceChangeset&&-1!=(n=this.__cbOnceChangeset.indexOf(e))&&(this.__cbOnceChangeset.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChangeset[n])&&s(),this.__cbOnceOwnerUnbindChangeset.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChangeset){for(var t=0,i=this.__cbOnOwnerUnbindChangeset.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChangeset[l])&&s()}this.__cbOnOwnerUnbindChangeset=null}if(null!=this.__cbOnceOwnerUnbindChangeset){for(t=0,i=this.__cbOnceOwnerUnbindChangeset.length;t<i;){var s;l=t++;null!=(s=this.__cbOnceOwnerUnbindChangeset[l])&&s()}this.__cbOnceOwnerUnbindChangeset=null}this.__cbOnChangeset=null,this.__cbOnceChangeset=null}},listensChangeset:function(){return null!=this.__cbOnChangeset&&this.__cbOnChangeset.length>0||null!=this.__cbOnceChangeset&&this.__cbOnceChangeset.length>0},checkInterval:null,compactInterval:null,destroyModelOnUntrack:null,serializedMap:null,model:null,get_model:function(){return this.entity},entity:null,bindAsComponent:function(){tracker_Tracker.backend;var e=this.checkInterval;ceramic_Timer.schedule(this,e,$bind(this,this.synchronize),e);tracker_Tracker.backend,e=this.compactInterval;ceramic_Timer.schedule(this,e,$bind(this,this.compactIfNeeded),e);var n=this.entity;n._lifecycleState>=0&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,n._serializeId)&&(this.trackedModels.h[n._serializeId]=n,n.onModelDirty(this,$bind(this,this.explicitModelDirty)),n.onObservedDirty(this,$bind(this,this.modelDirty)),n.onceDestroy(this,$bind(this,this.trackedModelDestroyed))),this.compact()},compact:function(e){var n=this,t=this.serializedMap;tracker_Serialize._serializedMap=new haxe_ds_StringMap,tracker_Serialize._onAddSerializable=function(e){if(e instanceof tracker_Model){var t=e;t.observedDirty=!1,t._lifecycleState>=0&&!Object.prototype.hasOwnProperty.call(n.trackedModels.h,t._serializeId)&&(n.trackedModels.h[t._serializeId]=t,t.onModelDirty(n,$bind(n,n.explicitModelDirty)),t.onObservedDirty(n,$bind(n,n.modelDirty)),t.onceDestroy(n,$bind(n,n.trackedModelDestroyed)))}};var i=tracker_Serialize.serializeValue(this.entity);this.serializedMap=tracker_Serialize._serializedMap,tracker_Serialize._onAddSerializable=null,tracker_Serialize._serializedMap=null,this.cleanTrackingFromPrevSerializedMap(t);var l=new haxe_Serializer;l.serialize(i),l.serialize(this.serializedMap);var s=l.toString();this.emitChangeset(new tracker_SerializeChangeset(s,!1)),null!=e&&e(s)},trackedModels:null,willCleanDestroyedTrackedModels:null,dirtyModels:null,canCompact:null,dirty:null,track:function(e){e._lifecycleState>=0&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&(this.trackedModels.h[e._serializeId]=e,e.onModelDirty(this,$bind(this,this.explicitModelDirty)),e.onObservedDirty(this,$bind(this,this.modelDirty)),e.onceDestroy(this,$bind(this,this.trackedModelDestroyed)))},untrack:function(e){if(Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)){var n=e._serializeId,t=this.trackedModels;Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],e.offModelDirty($bind(this,this.explicitModelDirty)),e.offObservedDirty($bind(this,this.modelDirty)),e.offDestroy($bind(this,this.trackedModelDestroyed)),this.destroyModelOnUntrack&&e.destroy()}},trackedModelDestroyed:function(e){var n=this;if(!this.willCleanDestroyedTrackedModels){this.willCleanDestroyedTrackedModels=!0;tracker_Tracker.backend;ceramic_App.app._onceImmediate((function(){for(var e=[],t=n.trackedModels.h,i=Object.keys(t),l=i.length,s=0;s<l;){var r=i[s++];e.push(r)}for(var a=0;a<e.length;){r=e[a];++a;var c=n.trackedModels.h[r];if(c._lifecycleState<0&&Object.prototype.hasOwnProperty.call(n.trackedModels.h,c._serializeId)){var h=c._serializeId,u=n.trackedModels;Object.prototype.hasOwnProperty.call(u.h,h)&&delete u.h[h],c.offModelDirty($bind(n,n.explicitModelDirty)),c.offObservedDirty($bind(n,n.modelDirty)),c.offDestroy($bind(n,n.trackedModelDestroyed)),n.destroyModelOnUntrack&&c.destroy()}}n.willCleanDestroyedTrackedModels=!1}))}},cleanTrackingFromPrevSerializedMap:function(e){for(var n=[],t=e.h,i=Object.keys(t),l=i.length,s=0;s<l;){var r=i[s++];Object.prototype.hasOwnProperty.call(this.serializedMap.h,r)||n.push(r)}for(var a=0;a<n.length;){r=n[a];++a;var c=this.trackedModels.h[r];if(null!=c&&Object.prototype.hasOwnProperty.call(this.trackedModels.h,c._serializeId)){var h=c._serializeId,u=this.trackedModels;Object.prototype.hasOwnProperty.call(u.h,h)&&delete u.h[h],c.offModelDirty($bind(this,this.explicitModelDirty)),c.offObservedDirty($bind(this,this.modelDirty)),c.offDestroy($bind(this,this.trackedModelDestroyed)),this.destroyModelOnUntrack&&c.destroy()}}},modelDirty:function(e,n){n?(this.dirtyModels.h[e._serializeId]=e,this.dirty=!0):e.observedDirty=!1},explicitModelDirty:function(e){this.dirtyModels.h[e._serializeId]=e,this.dirty=!0},synchronize:function(){if(this.dirty){this.dirty=!1;for(var e=[],t=this.dirtyModels.h,i=Object.keys(t),l=i.length,s=0;s<l;){var r=i[s++],a=this.dirtyModels.h[r];if(a._lifecycleState>=0&&Object.prototype.hasOwnProperty.call(this.trackedModels.h,a._serializeId)){0!=a.dirty&&(a.dirty=!1);var c=[this],h=a._serializeId,u=this.serializedMap;Object.prototype.hasOwnProperty.call(u.h,h)&&delete u.h[h],tracker_Serialize._serializedMap=this.serializedMap,tracker_Serialize._onCheckSerializable=function(e){return function(n){var t=n._serializeId,i=e[0].trackedModels.h[t];if(null!=i&&i!=n){var l=e[0].serializedMap;Object.prototype.hasOwnProperty.call(l.h,t)&&delete l.h[t]}}}(c),tracker_Serialize._onAddSerializable=function(e,t){return function(i){if(i instanceof tracker_Model){var l=i;l.observedDirty=!1,t[0].push(e[0].serializedMap.h[l._serializeId]),l._lifecycleState>=0&&!Object.prototype.hasOwnProperty.call(e[0].trackedModels.h,l._serializeId)&&(e[0].trackedModels.h[l._serializeId]=l,l.onModelDirty(e[0],$bind(n=e[0],n.explicitModelDirty)),l.onObservedDirty(e[0],$bind(n=e[0],n.modelDirty)),l.onceDestroy(e[0],$bind(n=e[0],n.trackedModelDestroyed)))}}}(c,[e]),tracker_Serialize.serializeValue(a),tracker_Serialize._onCheckSerializable=null,tracker_Serialize._onAddSerializable=null,tracker_Serialize._serializedMap=null}}if(this.dirtyModels=new haxe_ds_StringMap,e.length>0){var o=new haxe_Serializer;o.serialize(e);var _=o.toString();this.canCompact=!0,this.emitChangeset(new tracker_SerializeChangeset(_,!0))}}},compactIfNeeded:function(){this.canCompact&&(this.canCompact=!1,this.compact())},serializeModel:function(e,n){var t=this,i=e._serializeId,l=this.serializedMap;Object.prototype.hasOwnProperty.call(l.h,i)&&delete l.h[i],tracker_Serialize._serializedMap=this.serializedMap,tracker_Serialize._onCheckSerializable=function(e){var n=e._serializeId,i=t.trackedModels.h[n];if(null!=i&&i!=e){var l=t.serializedMap;Object.prototype.hasOwnProperty.call(l.h,n)&&delete l.h[n]}},tracker_Serialize._onAddSerializable=function(e){if(e instanceof tracker_Model){var i=e;i.observedDirty=!1,n.push(t.serializedMap.h[i._serializeId]),i._lifecycleState>=0&&!Object.prototype.hasOwnProperty.call(t.trackedModels.h,i._serializeId)&&(t.trackedModels.h[i._serializeId]=i,i.onModelDirty(t,$bind(t,t.explicitModelDirty)),i.onObservedDirty(t,$bind(t,t.modelDirty)),i.onceDestroy(t,$bind(t,t.trackedModelDestroyed)))}},tracker_Serialize.serializeValue(e),tracker_Serialize._onCheckSerializable=null,tracker_Serialize._onAddSerializable=null,tracker_Serialize._serializedMap=null},setEntity:function(e){this.entity=e instanceof tracker_Model?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offChangeset()},__class__:tracker_SerializeModel,__properties__:$extend(ceramic_Entity.prototype.__properties__,{get_model:"get_model"})});var tracker_Tracker=function(){};t["tracker.Tracker"]=tracker_Tracker,tracker_Tracker.__name__="tracker.Tracker";var tracker_Utils=function(){};function $bind(n,t){return null==t?null:(null==t.__id__&&(t.__id__=e.$haxeUID++),null==n.hx__closures__?n.hx__closures__={}:i=n.hx__closures__[t.__id__],null==i&&(i=t.bind(n),n.hx__closures__[t.__id__]=i),i);var i}t["tracker.Utils"]=tracker_Utils,tracker_Utils.__name__="tracker.Utils",tracker_Utils.uniformFrequencyList=function(e,n,t){for(var i=[],l=[],s=0,r=e.length;s<r;){l[o=s++]=0}for(s=0,r=n.length;s<r;){l[o=s++]+=n[o]}for(s=0,r=t;s<r;){s++;for(var a=0,c=0,h=0,u=e.length;h<u;){var o,_=l[o=h++];_>c&&(a=o,c=_)}i.push(e[a]),l[a]-=1;for(var d=0,b=n.length;d<b;){var f=d++;l[f]+=n[f]}}return i},tracker_Utils.uniqueId=function(){switch(tracker_Utils._nextUniqueIntCursor){case 0:tracker_Utils._nextUniqueInt0=(tracker_Utils._nextUniqueInt0+1)%2147483647;break;case 1:tracker_Utils._nextUniqueInt1=(tracker_Utils._nextUniqueInt1+1)%2147483647;break;case 2:tracker_Utils._nextUniqueInt2=(tracker_Utils._nextUniqueInt2+1)%2147483647;break;case 3:tracker_Utils._nextUniqueInt3=(tracker_Utils._nextUniqueInt3+1)%2147483647}tracker_Utils._nextUniqueIntCursor=(tracker_Utils._nextUniqueIntCursor+1)%4,null==(u=tracker_Utils._nextUniqueInt0)&&(u=2147483646*Math.random()|0);var e,n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);var t=u%62|0;if((o=u/62|0)>0){var i=tracker_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),s=String.fromCodePoint(b);else s=Std.string(t).charAt(0);l=i+s}else{if(t>9)(b=t-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(t).charAt(0);l=Std.string(i)}if(n>9)(b=n-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(n).charAt(0);e=l+i}else{if(n>9)(b=n-10+65)>90&&(b+=6),l=String.fromCodePoint(b);else l=Std.string(n).charAt(0);e=Std.string(l)}null==(u=null)&&(u=2147483646*Math.random()|0);var l;n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var s=tracker_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(t).charAt(0);i=s+r}else{if(t>9)(b=t-10+65)>90&&(b+=6),s=String.fromCodePoint(b);else s=Std.string(t).charAt(0);i=Std.string(s)}if(n>9)(b=n-10+65)>90&&(b+=6),s=String.fromCodePoint(b);else s=Std.string(n).charAt(0);l=i+s}else{if(n>9)(b=n-10+65)>90&&(b+=6),i=String.fromCodePoint(b);else i=Std.string(n).charAt(0);l=Std.string(i)}null==(u=tracker_Utils._nextUniqueInt1)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var r=tracker_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(t).charAt(0);s=r+a}else{if(t>9)(b=t-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(t).charAt(0);s=Std.string(r)}if(n>9)(b=n-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(n).charAt(0);i=s+r}else{if(n>9)(b=n-10+65)>90&&(b+=6),s=String.fromCodePoint(b);else s=Std.string(n).charAt(0);i=Std.string(s)}null==(u=null)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var a=tracker_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(t).charAt(0);r=a+c}else{if(t>9)(b=t-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(t).charAt(0);r=Std.string(a)}if(n>9)(b=n-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(n).charAt(0);s=r+a}else{if(n>9)(b=n-10+65)>90&&(b+=6),r=String.fromCodePoint(b);else r=Std.string(n).charAt(0);s=Std.string(r)}null==(u=tracker_Utils._nextUniqueInt2)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var c=tracker_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(t).charAt(0);a=c+h}else{if(t>9)(b=t-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(t).charAt(0);a=Std.string(c)}if(n>9)(b=n-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(n).charAt(0);r=a+c}else{if(n>9)(b=n-10+65)>90&&(b+=6),a=String.fromCodePoint(b);else a=Std.string(n).charAt(0);r=Std.string(a)}null==(u=null)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){null==(u=o)&&(u=2147483646*Math.random()|0);t=u%62|0;if((o=u/62|0)>0){var h=tracker_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(t).charAt(0);c=h+d}else{if(t>9)(b=t-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(t).charAt(0);c=Std.string(h)}if(n>9)(b=n-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(n).charAt(0);a=c+h}else{if(n>9)(b=n-10+65)>90&&(b+=6),c=String.fromCodePoint(b);else c=Std.string(n).charAt(0);a=Std.string(c)}null==(u=tracker_Utils._nextUniqueInt3)&&(u=2147483646*Math.random()|0);n=u%62|0;if((o=u/62|0)>0){var u;null==(u=o)&&(u=2147483646*Math.random()|0);var o;t=u%62|0;if((o=u/62|0)>0){var _,d=tracker_Utils.base62Id(o);if(t>9)(b=t-10+65)>90&&(b+=6),_=String.fromCodePoint(b);else _=Std.string(t).charAt(0);h=d+_}else{if(t>9)(b=t-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(t).charAt(0);h=Std.string(d)}if(n>9)(b=n-10+65)>90&&(b+=6),d=String.fromCodePoint(b);else d=Std.string(n).charAt(0);c=h+d}else{var b;if(n>9)(b=n-10+65)>90&&(b+=6),h=String.fromCodePoint(b);else h=Std.string(n).charAt(0);c=Std.string(h)}return h=e+"-"+l+"-"+i+"-"+s+"-"+r+"-"+a+"-"+c},tracker_Utils.base62Id=function(e){null==e&&(e=2147483646*Math.random()|0);var n=e%62|0,t=e/62|0;if(t>0){var i,l,s=tracker_Utils.base62Id(t);if(n>9)(l=n-10+65)>90&&(l+=6),i=String.fromCodePoint(l);else i=(null==n?"null":""+n).charAt(0);return s+i}return n>9?((l=n-10+65)>90&&(l+=6),s=String.fromCodePoint(l)):s=(null==n?"null":""+n).charAt(0),Std.string(s)},tracker_Utils.encodeChangesetData=function(e){return e.length+":"+e},tracker_Utils.decodeChangesetData=function(e){for(var n=new haxe_ds_StringMap,t=null,i=[];;){var l=e.indexOf(":");if(-1==l)break;var s=Std.parseInt(HxOverrides.substr(e,0,l)),r=HxOverrides.substr(e,l+1,s);i.push(r),e=HxOverrides.substr(e,l+1+s,null)}for(var a=i.length-1;a>=0;){var c=i[a];if(0==a){var h=new haxe_Unserializer(c);t=h.unserialize();for(var u=h.unserialize().h,o=u,_=Object.keys(u),d=_.length,b=0;b<d;){var f=o[_[b++]],O=f.id;Object.prototype.hasOwnProperty.call(n.h,O)||(n.h[O]=f)}}else for(var p=new haxe_Unserializer(c).unserialize(),g=0;g<p.length;){var m=p[g];++g;var v=m.id;Object.prototype.hasOwnProperty.call(n.h,v)||(n.h[v]=m)}--a}return{serialized:t,serializedMap:n}},e.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(HxOverrides.now=performance.now.bind(performance)),t.Math=Math,null==String.fromCodePoint&&(String.fromCodePoint=function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55232+(e>>10))+String.fromCharCode(56320+(1023&e))}),String.prototype.__class__=t.String=String,String.__name__="String",t.Array=Array,Array.__name__="Array",Date.prototype.__class__=t.Date=Date,Date.__name__="Date";var $,j,Q={},q={},Z=Number,J=Boolean,ee={},ne={};assets_AllAssets.bind(),haxe_ds_ObjectMap.count=0,js_Boot.__toStr={}.toString,ceramic_Entity.__meta__={obj:{editable:null},fields:{components:{editable:null}}},ceramic_Entity._fieldInfo={components:{editable:[],type:"ceramic.ReadOnlyMap<String,ceramic.Component>",index:1},scriptContent:{editable:[{label:"Script"}],type:"ceramic.ScriptContent",index:2}},ceramic_Transform._decomposed1=new ceramic_DecomposedTransform,ceramic_Transform._decomposed2=new ceramic_DecomposedTransform,ceramic_Transform._tmp=new ceramic_Transform,ceramic_Point.pool=new ceramic_Pool,ceramic_Visual.__meta__={obj:{editable:null},fields:{visible:{editable:[{group:"active"}]},touchable:{editable:[{group:"active"}]},depth:{editable:[{group:"depth"}]},depthRange:{editable:[{group:"depth",label:"Range"}]},x:{editable:[{group:"position"}]},y:{editable:[{group:"position"}]},scaleX:{editable:[{group:"scale"}]},scaleY:{editable:[{group:"scale"}]},skewX:{editable:[{group:"skew"}]},skewY:{editable:[{group:"skew"}]},anchorX:{editable:[{group:"anchor"}]},anchorY:{editable:[{group:"anchor"}]},width:{editable:[{min:0,group:"size"}]},height:{editable:[{min:0,group:"size"}]},roundTranslation:{editable:null},rotation:{editable:[{slider:[0,360],degrees:!0}]},alpha:{editable:[{slider:[0,1]}]},translateX:{editable:[{group:"translate"}]},translateY:{editable:[{group:"translate"}]},shader:{editable:null}}},ceramic_Visual.DEPTH_FACTOR=1e3,ceramic_Visual.DEPTH_MARGIN=.01,ceramic_Visual.FLAG_NOT_ACTIVE=1,ceramic_Visual.FLAG_VISIBLE_WHEN_ACTIVE=2,ceramic_Visual.FLAG_TOUCHABLE_WHEN_ACTIVE=4,ceramic_Visual.FLAG_IS_HIT_VISUAL=8,ceramic_Visual.FLAG_ARCADE_BODY_ENABLE=64,ceramic_Visual._degToRad=.017453292519943295,ceramic_Visual._matrix=new ceramic_Transform,ceramic_Visual._point=new ceramic_Point,ceramic_Visual._minDepth=0,ceramic_Visual._maxDepth=0,ceramic_Visual._fieldInfo={skewY:{editable:[{group:"skew"}],type:"Float",index:193},skewX:{editable:[{group:"skew"}],type:"Float",index:191},alpha:{editable:[{slider:[0,1]}],type:"Float",index:211},roundTranslation:{editable:[],type:"Int",index:207},visible:{editable:[{group:"active"}],type:"Bool",index:175},depthRange:{editable:[{group:"depth",label:"Range"}],type:"Float",index:181},depth:{editable:[{group:"depth"}],type:"Float",index:179},scaleX:{editable:[{group:"scale"}],type:"Float",index:187},anchorX:{editable:[{group:"anchor"}],type:"Float",index:195},x:{editable:[{group:"position"}],type:"Float",index:183},y:{editable:[{group:"position"}],type:"Float",index:185},touchable:{editable:[{group:"active"}],type:"Bool",index:177},rotation:{editable:[{slider:[0,360],degrees:!0}],type:"Float",index:209},height:{editable:[{min:0,group:"size"}],type:"Float",index:203},translateY:{editable:[{group:"translate"}],type:"Float",index:216},anchorY:{editable:[{group:"anchor"}],type:"Float",index:197},translateX:{editable:[{group:"translate"}],type:"Float",index:213},scaleY:{editable:[{group:"scale"}],type:"Float",index:189},width:{editable:[{min:0,group:"size"}],type:"Float",index:199},shader:{editable:[],type:"ceramic.Shader",index:221}},ceramic_Quad.__meta__={obj:{editable:[{implicitSizeUnlessNull:"texture"}]},fields:{color:{editable:null},transparent:{editable:null},texture:{editable:null}}},ceramic_Quad.FLAG_TRANSPARENT=16,ceramic_Quad.FLAG_ROTATE_FRAME=32,ceramic_Quad._matrix=ceramic_Visual._matrix,ceramic_Quad._degToRad=.017453292519943295,ceramic_Quad._fieldInfo={transparent:{editable:[],type:"Bool",index:5},color:{editable:[],type:"ceramic.Color",index:4},texture:{editable:[],type:"ceramic.Texture",index:10}},ceramic_Layer.__meta__={obj:{editable:[{implicitSizeUnlessNull:"texture"}]}},ceramic_Layer._fieldInfo={},ceramic_Scene.__meta__={fields:{unobservedStatus:{observe:null}}},EReg.escapeRe=new RegExp("[.*+?^${}()|[\\]\\\\]","g"),Main.lastResizeTime=-1,Main.lastNewWidth=-1,Main.lastNewHeight=-1,Main.readyToDisplay=!1,Main.resizing=0,Main.containerWidth=0,Main.containerHeight=0,Main.containerPixelRatio=0,Main._displayReady=!1,MainScene.score=0,Xml.Element=0,Xml.PCData=1,Xml.CData=2,Xml.Comment=3,Xml.DocType=4,Xml.ProcessingInstruction=5,Xml.Document=6,arcade_World.HALF_PI=1.5707963267948966,ceramic_Assets.instances=[],ceramic_Assets.all=[],ceramic_Assets.allDirs=[],ceramic_Assets.allByName=new haxe_ds_StringMap,ceramic_Assets.allDirsByName=new haxe_ds_StringMap,ceramic_Assets.customAssetKinds=new haxe_ds_StringMap,ceramic_Assets._instances=[],assets_AllAssets.all=["cursor.png","pipe_tail.png","ka1.fnt","playersheet.png","flapus_background.png","pipe_head.png","ka1.png","backgroundColorForest.png","blur.frag","glow.frag","bloom.frag","msdf.frag","outline.frag","tintBlack.frag","blur.vert","textured.frag","bloom.vert","fxaa.vert","msdf.vert","fxaa.frag","textured.vert","pixelArt.vert","glow.vert","tintBlack.vert","outline.vert","pixelArt.frag","RobotoMedium.png","RobotoMedium.fnt","white.png"],assets_AllAssets.allDirs=[],assets_AllAssets.allByName=(($=new haxe_ds_StringMap).h.white=["white.png"],$.h.tintBlack=["tintBlack.frag","tintBlack.vert"],$.h.textured=["textured.frag","textured.vert"],$.h.playersheet=["playersheet.png"],$.h.pixelArt=["pixelArt.vert","pixelArt.frag"],$.h.pipe_tail=["pipe_tail.png"],$.h.pipe_head=["pipe_head.png"],$.h.outline=["outline.frag","outline.vert"],$.h.msdf=["msdf.frag","msdf.vert"],$.h.ka1=["ka1.fnt","ka1.png"],$.h.glow=["glow.frag","glow.vert"],$.h.fxaa=["fxaa.vert","fxaa.frag"],$.h.flapus_background=["flapus_background.png"],$.h.cursor=["cursor.png"],$.h.blur=["blur.frag","blur.vert"],$.h.bloom=["bloom.frag","bloom.vert"],$.h.backgroundColorForest=["backgroundColorForest.png"],$.h.RobotoMedium=["RobotoMedium.png","RobotoMedium.fnt"],$),assets_AllAssets.allDirsByName=new haxe_ds_StringMap,assets_Fonts.ROBOTO_MEDIUM="font:RobotoMedium",assets_Fonts.KA_1="font:ka1",assets_Images.WHITE="image:white",assets_Images.ROBOTO_MEDIUM="image:RobotoMedium",assets_Images.PLAYERSHEET="image:playersheet",assets_Images.PIPE_TAIL="image:pipe_tail",assets_Images.PIPE_HEAD="image:pipe_head",assets_Images.KA_1="image:ka1",assets_Images.FLAPUS_BACKGROUND="image:flapus_background",assets_Images.CURSOR="image:cursor",assets_Images.BACKGROUND_COLOR_FOREST="image:backgroundColorForest",backend_ClayEvents.GAMEPAD_STORAGE_SIZE=32,backend_Draw.MAX_VERTS_SIZE=65536,backend_Draw.MAX_INDICES=16384,backend_Draw.MAX_BUFFERS=64,backend_Draw.ATTRIBUTE_POS=0,backend_Draw.ATTRIBUTE_UV=1,backend_Draw.ATTRIBUTE_COLOR=2,backend_Draw._posListArray=[],backend_Draw._indiceListArray=[],backend_Draw._uvListArray=[],backend_Draw._colorListArray=[],backend_Draw._activeTextureSlot=0,backend_Draw._batchMultiTexture=!1,backend_Draw._posSize=0,backend_Draw._customGLBuffers=[],backend_Draw._didUpdateCurrentRenderTarget=!1,backend_Draw._projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),backend_Draw._modelViewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),backend_Draw._modelViewTransform=new ceramic_Transform,backend_Draw._renderTargetTransform=new ceramic_Transform,backend_Draw._viewportDensity=1,backend_Draw._viewportWidth=0,backend_Draw._viewportHeight=0,backend_Draw._blackTransparentColor=function(e){var n=0;null==n&&(n=255);var t=-16777216;return t&=16777215,t|=(n>255?255:n<0?0:n)<<24}(),backend_Draw._whiteTransparentColor=function(e){var n=0;null==n&&(n=255);var t=-1;return t&=16777215,t|=(n>255?255:n<0?0:n)<<24}(),backend_Draw._maxVerts=0,backend_Draw._vertexSize=0,backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._posIndex=0,backend_Draw._floatAttributesSize=0,backend_Draw._numUVs=0,backend_Draw._uvIndex=0,backend_Draw._numColors=0,backend_Draw._colorIndex=0,backend_Draw._drawingInStencilBuffer=!1,backend_Info.RE_OPERA=new EReg("OPR/([0-6].)","g"),backend_Info.RE_SAFARI_VERSION=new EReg("Version/(.*?) ",""),backend_Shaders.SHADER_ATTRIBUTES=["vertexPosition","vertexTCoord","vertexColor"],backend_Shaders.SHADER_ATTRIBUTES_MULTITEXTURE=["vertexPosition","vertexTCoord","vertexColor","vertexTextureId"],backend_Shaders._maxIfStatementsByFragmentShader=-1,backend_Textures._maxTexturesByBatch=-1,c.NONE=-1,c.TRANSPARENT=0,c.WHITE=-1,c.GRAY=-8355712,c.BLACK=-16777216,c.GREEN=-16744448,c.LIME=-16711936,c.YELLOW=-256,c.ORANGE=-23296,c.RED=-65536,c.PURPLE=-8388480,c.BLUE=-16776961,c.BROWN=-7650029,c.PINK=-16181,c.MAGENTA=-65281,c.CYAN=-16711681,c.CORNFLOWERBLUE=-10185235,c.MEDIUMVIOLETRED=-3730043,c.DEEPPINK=-60269,c.PALEVIOLETRED=-2396013,c.HOTPINK=-38476,c.LIGHTPINK=-18751,c.DARKRED=-7667712,c.FIREBRICK=-5103070,c.CRIMSON=-2354116,c.INDIANRED=-3318692,c.LIGHTCORAL=-1015680,c.SALMON=-360334,c.DARKSALMON=-1468806,c.LIGHTSALMON=-24454,c.ORANGERED=-47872,c.TOMATO=-40121,c.DARKORANGE=-29696,c.CORAL=-32944,c.DARKKHAKI=-4343957,c.GOLD=-10496,c.KHAKI=-989556,c.PEACHPUFF=-9543,c.PALEGOLDENROD=-1120086,c.MOCCASIN=-6987,c.PAPAYAWHIP=-4139,c.LEMONCHIFFON=-1331,c.LIGHTYELLOW=-32,c.SIENNA=-6270419,c.CHOCOLATE=-2987746,c.PERU=-3308225,c.TAN=-2968436,c.DARKOLIVEGREEN=-11179217,c.OLIVE=-8355840,c.TEAL=-16744320,c.TURQUOISE=-12525360,c.NAVY=-16777088,c.INDIGO=-11861886,c.ORCHID=-2461482,c.LAVENDER=-1644806,c.AZURE=-983041,c.IVORY=-16,c.DIMGREY=-9868951,c.SLATEGREY=-9404272,c.SNOW=-1286,c._hsluvTuple=[0,0,0],c._hsluvResult=[0,0,0],ceramic_ArrayPool.ALLOC_STEP=10,ceramic_ArrayPool.dynPool10=new ceramic_ArrayPool(10),ceramic_ArrayPool.dynPool100=new ceramic_ArrayPool(100),ceramic_ArrayPool.dynPool1000=new ceramic_ArrayPool(1e3),ceramic_ArrayPool.dynPool10000=new ceramic_ArrayPool(1e4),ceramic_ArrayPool.dynPool100000=new ceramic_ArrayPool(1e5),ceramic_ArrayPool.didNotifyLargePool=!1,ceramic_Asset.__meta__={fields:{unobservedStatus:{observe:null}}},ceramic_AtlasAsset.__meta__={fields:{unobservedAtlas:{observe:null}}},ceramic_BezierEasing.SPLINE_TABLE_SIZE=11,ceramic_BezierEasing.SAMPLE_STEP_SIZE=1/(ceramic_BezierEasing.SPLINE_TABLE_SIZE-1),ceramic_BezierEasing.NEWTON_ITERATIONS=4,ceramic_BezierEasing.NEWTON_MIN_SLOPE=.001,ceramic_BezierEasing.SUBDIVISION_PRECISION=1e-7,ceramic_BezierEasing.SUBDIVISION_MAX_ITERATIONS=10,ceramic_BezierEasing.TWO_THIRD=.6666666666666666,ceramic_BezierEasing.CACHE_SIZE=1e4,ceramic_BezierEasing.numCachedInstances=0,ceramic_BinaryAsset.__meta__={fields:{unobservedBytes:{observe:null}}},ceramic_CollectionImpl._nextInternalId=0,ceramic_CollectionEntry.__meta__={fields:{id:{editable:null},name:{editable:null}}},ceramic_CollectionEntry._nextId=1,ceramic_CollectionEntry._nextIndex=1,ceramic_CollectionEntry._fieldInfo={name:{editable:[],type:"String"},id:{editable:[],type:"String"},index:{type:"Int"}},u.NONE=-1,u.WHITE=16777215,u.GRAY=8421504,u.BLACK=0,u.GREEN=32768,u.LIME=65280,u.YELLOW=16776960,u.ORANGE=16753920,u.RED=16711680,u.PURPLE=8388736,u.BLUE=255,u.BROWN=9127187,u.PINK=16761035,u.MAGENTA=16711935,u.CYAN=65535,u.CORNFLOWERBLUE=6591981,u.MEDIUMVIOLETRED=13047173,u.DEEPPINK=16716947,u.PALEVIOLETRED=14381203,u.HOTPINK=16738740,u.LIGHTPINK=16758465,u.DARKRED=9109504,u.FIREBRICK=11674146,u.CRIMSON=14423100,u.INDIANRED=13458524,u.LIGHTCORAL=15761536,u.SALMON=16416882,u.DARKSALMON=15308410,u.LIGHTSALMON=16752762,u.ORANGERED=16729344,u.TOMATO=16737095,u.DARKORANGE=16747520,u.CORAL=16744272,u.DARKKHAKI=12433259,u.GOLD=16766720,u.KHAKI=15787660,u.PEACHPUFF=16767673,u.PALEGOLDENROD=15657130,u.MOCCASIN=16770229,u.PAPAYAWHIP=16773077,u.LEMONCHIFFON=16775885,u.LIGHTYELLOW=16777184,u.SIENNA=10506797,u.CHOCOLATE=13789470,u.PERU=13468991,u.TAN=13808780,u.DARKOLIVEGREEN=5597999,u.OLIVE=8421376,u.TEAL=32896,u.TURQUOISE=4251856,u.NAVY=128,u.INDIGO=4915330,u.ORCHID=14315734,u.LAVENDER=15132410,u.AZURE=15794175,u.IVORY=16777200,u.DIMGREY=6908265,u.SLATEGREY=7372944,u.SNOW=16775930,u.colorLookup=function(e){var n=new haxe_ds_StringMap;return n.h.NONE=-1,n.h.WHITE=16777215,n.h.GRAY=8421504,n.h.BLACK=0,n.h.GREEN=32768,n.h.LIME=65280,n.h.YELLOW=16776960,n.h.ORANGE=16753920,n.h.RED=16711680,n.h.PURPLE=8388736,n.h.BLUE=255,n.h.BROWN=9127187,n.h.PINK=16761035,n.h.MAGENTA=16711935,n.h.CYAN=65535,n.h.CORNFLOWERBLUE=6591981,n.h.MEDIUMVIOLETRED=13047173,n.h.DEEPPINK=16716947,n.h.PALEVIOLETRED=14381203,n.h.HOTPINK=16738740,n.h.LIGHTPINK=16758465,n.h.DARKRED=9109504,n.h.FIREBRICK=11674146,n.h.CRIMSON=14423100,n.h.INDIANRED=13458524,n.h.LIGHTCORAL=15761536,n.h.SALMON=16416882,n.h.DARKSALMON=15308410,n.h.LIGHTSALMON=16752762,n.h.ORANGERED=16729344,n.h.TOMATO=16737095,n.h.DARKORANGE=16747520,n.h.CORAL=16744272,n.h.DARKKHAKI=12433259,n.h.GOLD=16766720,n.h.KHAKI=15787660,n.h.PEACHPUFF=16767673,n.h.PALEGOLDENROD=15657130,n.h.MOCCASIN=16770229,n.h.PAPAYAWHIP=16773077,n.h.LEMONCHIFFON=16775885,n.h.LIGHTYELLOW=16777184,n.h.SIENNA=10506797,n.h.CHOCOLATE=13789470,n.h.PERU=13468991,n.h.TAN=13808780,n.h.DARKOLIVEGREEN=5597999,n.h.OLIVE=8421376,n.h.TEAL=32896,n.h.TURQUOISE=4251856,n.h.NAVY=128,n.h.INDIGO=4915330,n.h.ORCHID=14315734,n.h.LAVENDER=15132410,n.h.AZURE=15794175,n.h.IVORY=16777200,n.h.DIMGREY=6908265,n.h.SLATEGREY=7372944,n.h.SNOW=16775930,n}(),u._hsluvTuple=[0,0,0],u._hsluvResult=[0,0,0],ceramic_DatabaseAsset.__meta__={fields:{unobservedDatabase:{observe:null}}},ceramic_EasingUtils._emptyArray=[],ceramic_FieldInfo.fieldInfoMap=new haxe_ds_StringMap,ceramic_FieldMeta.metaMap=new haxe_ds_StringMap,ceramic_FieldMeta.metaMapRecursive=new haxe_ds_StringMap,ceramic_Filter.__meta__={fields:{unobservedRenderTexture:{observe:null}}},ceramic_Filter._matrix=ceramic_Visual._matrix,ceramic_FontAsset.__meta__={fields:{unobservedFont:{observe:null}}},ceramic_Fragment.__meta__={obj:{editable:[{implicitSizeUnlessTrue:"resizable"}]},fields:{fragmentData:{editable:null},resizable:{editable:null},autoUpdateTimeline:{editable:null},floatA:{editable:[{group:"floatsAB"}]},floatB:{editable:[{group:"floatsAB"}]},floatC:{editable:[{group:"floatsCD"}]},floatD:{editable:[{group:"floatsCD"}]}}},ceramic_Fragment.basicTypes=function(e){var n=new haxe_ds_StringMap;return n.h.Bool=!0,n.h.Int=!0,n.h.Float=!0,n.h.String=!0,n.h["ceramic.Color"]=!0,n.h["ceramic.ScriptContent"]=!0,n}(),ceramic_Fragment.cachedFragmentData=new haxe_ds_StringMap,ceramic_Fragment._trackResult=new ceramic_Value,ceramic_Fragment._keyframeResult=new ceramic_Value,ceramic_Fragment._usedKeyframes=[],ceramic_Fragment._fieldInfo={autoUpdateTimeline:{editable:[],type:"Bool",index:53},floatD:{editable:[{group:"floatsCD"}],type:"Float",index:61},floatA:{editable:[{group:"floatsAB"}],type:"Float",index:55},resizable:{editable:[],type:"Bool",index:52},floatC:{editable:[{group:"floatsCD"}],type:"Float",index:59},floatB:{editable:[{group:"floatsAB"}],type:"Float",index:57},fragmentData:{editable:[],type:"ceramic.FragmentData",index:51}},ceramic_FragmentsAsset.__meta__={fields:{unobservedFragments:{observe:null}}},d.LEFT_X=0,d.LEFT_Y=1,d.RIGHT_X=2,d.RIGHT_Y=3,d.LEFT_TRIGGER=4,d.RIGHT_TRIGGER=5,b.A=0,b.B=1,b.X=2,b.Y=3,b.L1=4,b.R1=5,b.L2=6,b.R2=7,b.SELECT=8,b.START=9,b.L3=10,b.R3=11,b.DPAD_UP=12,b.DPAD_DOWN=13,b.DPAD_LEFT=14,b.DPAD_RIGHT=15,ceramic_HashedString._lastDecodeIncomplete=!1,ceramic_ImageAsset.__meta__={fields:{unobservedTexture:{observe:null}}},ceramic_Input.GAMEPAD_STORAGE_SIZE=32,ceramic_IntMap.NO_VALUE=0,ceramic_IntMap.NULL_VALUE=1,ceramic_IntMap.RESERVED_GAP=2,O.UNKNOWN=0,O.ENTER=13,O.ESCAPE=27,O.BACKSPACE=8,O.TAB=9,O.SPACE=32,O.EXCLAIM=33,O.QUOTEDBL=34,O.HASH=35,O.PERCENT=37,O.DOLLAR=36,O.AMPERSAND=38,O.QUOTE=39,O.LEFTPAREN=40,O.RIGHTPAREN=41,O.ASTERISK=42,O.PLUS=43,O.COMMA=44,O.MINUS=45,O.PERIOD=46,O.SLASH=47,O.KEY_0=48,O.KEY_1=49,O.KEY_2=50,O.KEY_3=51,O.KEY_4=52,O.KEY_5=53,O.KEY_6=54,O.KEY_7=55,O.KEY_8=56,O.KEY_9=57,O.COLON=58,O.SEMICOLON=59,O.LESS=60,O.EQUALS=61,O.GREATER=62,O.QUESTION=63,O.AT=64,O.LEFTBRACKET=91,O.BACKSLASH=92,O.RIGHTBRACKET=93,O.CARET=94,O.UNDERSCORE=95,O.BACKQUOTE=96,O.KEY_A=97,O.KEY_B=98,O.KEY_C=99,O.KEY_D=100,O.KEY_E=101,O.KEY_F=102,O.KEY_G=103,O.KEY_H=104,O.KEY_I=105,O.KEY_J=106,O.KEY_K=107,O.KEY_L=108,O.KEY_M=109,O.KEY_N=110,O.KEY_O=111,O.KEY_P=112,O.KEY_Q=113,O.KEY_R=114,O.KEY_S=115,O.KEY_T=116,O.KEY_U=117,O.KEY_V=118,O.KEY_W=119,O.KEY_X=120,O.KEY_Y=121,O.KEY_Z=122,O.CAPSLOCK=1073741881,O.F1=1073741882,O.F2=1073741883,O.F3=1073741884,O.F4=1073741885,O.F5=1073741886,O.F6=1073741887,O.F7=1073741888,O.F8=1073741889,O.F9=1073741890,O.F10=1073741891,O.F11=1073741892,O.F12=1073741893,O.PRINTSCREEN=1073741894,O.SCROLLLOCK=1073741895,O.PAUSE=1073741896,O.INSERT=1073741897,O.HOME=1073741898,O.PAGEUP=1073741899,O.DELETE=127,O.END=1073741901,O.PAGEDOWN=1073741902,O.RIGHT=1073741903,O.LEFT=1073741904,O.DOWN=1073741905,O.UP=1073741906,O.NUMLOCKCLEAR=1073741907,O.KP_DIVIDE=1073741908,O.KP_MULTIPLY=1073741909,O.KP_MINUS=1073741910,O.KP_PLUS=1073741911,O.KP_ENTER=1073741912,O.KP_1=1073741913,O.KP_2=1073741914,O.KP_3=1073741915,O.KP_4=1073741916,O.KP_5=1073741917,O.KP_6=1073741918,O.KP_7=1073741919,O.KP_8=1073741920,O.KP_9=1073741921,O.KP_0=1073741922,O.KP_PERIOD=1073741923,O.APPLICATION=1073741925,O.POWER=1073741926,O.KP_EQUALS=1073741927,O.F13=1073741928,O.F14=1073741929,O.F15=1073741930,O.F16=1073741931,O.F17=1073741932,O.F18=1073741933,O.F19=1073741934,O.F20=1073741935,O.F21=1073741936,O.F22=1073741937,O.F23=1073741938,O.F24=1073741939,O.EXECUTE=1073741940,O.HELP=1073741941,O.MENU=1073741942,O.SELECT=1073741943,O.STOP=1073741944,O.AGAIN=1073741945,O.UNDO=1073741946,O.CUT=1073741947,O.COPY=1073741948,O.PASTE=1073741949,O.FIND=1073741950,O.MUTE=1073741951,O.VOLUMEUP=1073741952,O.VOLUMEDOWN=1073741953,O.KP_COMMA=1073741957,O.KP_EQUALSAS400=1073741958,O.ALTERASE=1073741977,O.SYSREQ=1073741978,O.CANCEL=1073741979,O.CLEAR=1073741980,O.PRIOR=1073741981,O.RETURN2=1073741982,O.SEPARATOR=1073741983,O.OUT=1073741984,O.OPER=1073741985,O.CLEARAGAIN=1073741986,O.CRSEL=1073741987,O.EXSEL=1073741988,O.KP_00=1073742e3,O.KP_000=1073742001,O.THOUSANDSSEPARATOR=1073742002,O.DECIMALSEPARATOR=1073742003,O.CURRENCYUNIT=1073742004,O.CURRENCYSUBUNIT=1073742005,O.KP_LEFTPAREN=1073742006,O.KP_RIGHTPAREN=1073742007,O.KP_LEFTBRACE=1073742008,O.KP_RIGHTBRACE=1073742009,O.KP_TAB=1073742010,O.KP_BACKSPACE=1073742011,O.KP_A=1073742012,O.KP_B=1073742013,O.KP_C=1073742014,O.KP_D=1073742015,O.KP_E=1073742016,O.KP_F=1073742017,O.KP_XOR=1073742018,O.KP_POWER=1073742019,O.KP_PERCENT=1073742020,O.KP_LESS=1073742021,O.KP_GREATER=1073742022,O.KP_AMPERSAND=1073742023,O.KP_DBLAMPERSAND=1073742024,O.KP_VERTICALBAR=1073742025,O.KP_DBLVERTICALBAR=1073742026,O.KP_COLON=1073742027,O.KP_HASH=1073742028,O.KP_SPACE=1073742029,O.KP_AT=1073742030,O.KP_EXCLAM=1073742031,O.KP_MEMSTORE=1073742032,O.KP_MEMRECALL=1073742033,O.KP_MEMCLEAR=1073742034,O.KP_MEMADD=1073742035,O.KP_MEMSUBTRACT=1073742036,O.KP_MEMMULTIPLY=1073742037,O.KP_MEMDIVIDE=1073742038,O.KP_PLUSMINUS=1073742039,O.KP_CLEAR=1073742040,O.KP_CLEARENTRY=1073742041,O.KP_BINARY=1073742042,O.KP_OCTAL=1073742043,O.KP_DECIMAL=1073742044,O.KP_HEXADECIMAL=1073742045,O.LCTRL=1073742048,O.LSHIFT=1073742049,O.LALT=1073742050,O.LMETA=1073742051,O.RCTRL=1073742052,O.RSHIFT=1073742053,O.RALT=1073742054,O.RMETA=1073742055,O.MODE=1073742081,O.AUDIONEXT=1073742082,O.AUDIOPREV=1073742083,O.AUDIOSTOP=1073742084,O.AUDIOPLAY=1073742085,O.AUDIOMUTE=1073742086,O.MEDIASELECT=1073742087,O.WWW=1073742088,O.MAIL=1073742089,O.CALCULATOR=1073742090,O.COMPUTER=1073742091,O.AC_SEARCH=1073742092,O.AC_HOME=1073742093,O.AC_BACK=1073742094,O.AC_FORWARD=1073742095,O.AC_STOP=1073742096,O.AC_REFRESH=1073742097,O.AC_BOOKMARKS=1073742098,O.BRIGHTNESSDOWN=1073742099,O.BRIGHTNESSUP=1073742100,O.DISPLAYSWITCH=1073742101,O.KBDILLUMTOGGLE=1073742102,O.KBDILLUMDOWN=1073742103,O.KBDILLUMUP=1073742104,O.EJECT=1073742105,O.SLEEP=1073742106,ceramic_Logger._hasElectronRunner=!1,ceramic_Logger.didInitOnce=!1,ceramic_Mesh.__meta__={obj:{editable:[{highlight:{points:"vertices"},helpers:[{name:"Grid",method:"grid",params:[{name:"Columns",type:"Int",value:1,slider:[1,64]},{name:"Rows",type:"Int",value:1,slider:[1,64]}]},{name:"Grid From Texture",method:"gridFromTexture",params:[{name:"Columns",type:"Int",value:1,slider:[1,64]},{name:"Rows",type:"Int",value:1,slider:[1,64]}]}]}]},fields:{complexHit:{editable:null},color:{editable:null},vertices:{editable:null},indices:{editable:null},texture:{editable:null},uvs:{editable:null}}},ceramic_Mesh._matrix=ceramic_Visual._matrix,ceramic_Mesh._fieldInfo={vertices:{editable:[],type:"Array<Float>",index:9},complexHit:{editable:[],type:"Bool",index:3},uvs:{editable:[],type:"Array<Float>",index:14},color:{editable:[],type:"ceramic.Color",index:6},indices:{editable:[],type:"Array<Int>",index:10},texture:{editable:[],type:"ceramic.Texture",index:12}},ceramic_Texture._nextIndex=1,p.MASK=1073741824,p.UNKNOWN=0,p.KEY_A=4,p.KEY_B=5,p.KEY_C=6,p.KEY_D=7,p.KEY_E=8,p.KEY_F=9,p.KEY_G=10,p.KEY_H=11,p.KEY_I=12,p.KEY_J=13,p.KEY_K=14,p.KEY_L=15,p.KEY_M=16,p.KEY_N=17,p.KEY_O=18,p.KEY_P=19,p.KEY_Q=20,p.KEY_R=21,p.KEY_S=22,p.KEY_T=23,p.KEY_U=24,p.KEY_V=25,p.KEY_W=26,p.KEY_X=27,p.KEY_Y=28,p.KEY_Z=29,p.KEY_1=30,p.KEY_2=31,p.KEY_3=32,p.KEY_4=33,p.KEY_5=34,p.KEY_6=35,p.KEY_7=36,p.KEY_8=37,p.KEY_9=38,p.KEY_0=39,p.ENTER=40,p.ESCAPE=41,p.BACKSPACE=42,p.TAB=43,p.SPACE=44,p.MINUS=45,p.EQUALS=46,p.LEFTBRACKET=47,p.RIGHTBRACKET=48,p.BACKSLASH=49,p.NONUSHASH=50,p.SEMICOLON=51,p.APOSTROPHE=52,p.GRAVE=53,p.COMMA=54,p.PERIOD=55,p.SLASH=56,p.CAPSLOCK=57,p.F1=58,p.F2=59,p.F3=60,p.F4=61,p.F5=62,p.F6=63,p.F7=64,p.F8=65,p.F9=66,p.F10=67,p.F11=68,p.F12=69,p.PRINTSCREEN=70,p.SCROLLLOCK=71,p.PAUSE=72,p.INSERT=73,p.HOME=74,p.PAGEUP=75,p.DELETE=76,p.END=77,p.PAGEDOWN=78,p.RIGHT=79,p.LEFT=80,p.DOWN=81,p.UP=82,p.NUMLOCKCLEAR=83,p.KP_DIVIDE=84,p.KP_MULTIPLY=85,p.KP_MINUS=86,p.KP_PLUS=87,p.KP_ENTER=88,p.KP_1=89,p.KP_2=90,p.KP_3=91,p.KP_4=92,p.KP_5=93,p.KP_6=94,p.KP_7=95,p.KP_8=96,p.KP_9=97,p.KP_0=98,p.KP_PERIOD=99,p.NONUSBACKSLASH=100,p.APPLICATION=101,p.POWER=102,p.KP_EQUALS=103,p.F13=104,p.F14=105,p.F15=106,p.F16=107,p.F17=108,p.F18=109,p.F19=110,p.F20=111,p.F21=112,p.F22=113,p.F23=114,p.F24=115,p.EXECUTE=116,p.HELP=117,p.MENU=118,p.SELECT=119,p.STOP=120,p.AGAIN=121,p.UNDO=122,p.CUT=123,p.COPY=124,p.PASTE=125,p.FIND=126,p.MUTE=127,p.VOLUMEUP=128,p.VOLUMEDOWN=129,p.KP_COMMA=133,p.KP_EQUALSAS400=134,p.INTERNATIONAL1=135,p.INTERNATIONAL2=136,p.INTERNATIONAL3=137,p.INTERNATIONAL4=138,p.INTERNATIONAL5=139,p.INTERNATIONAL6=140,p.INTERNATIONAL7=141,p.INTERNATIONAL8=142,p.INTERNATIONAL9=143,p.LANG1=144,p.LANG2=145,p.LANG3=146,p.LANG4=147,p.LANG5=148,p.LANG6=149,p.LANG7=150,p.LANG8=151,p.LANG9=152,p.ALTERASE=153,p.SYSREQ=154,p.CANCEL=155,p.CLEAR=156,p.PRIOR=157,p.RETURN2=158,p.SEPARATOR=159,p.OUT=160,p.OPER=161,p.CLEARAGAIN=162,p.CRSEL=163,p.EXSEL=164,p.KP_00=176,p.KP_000=177,p.THOUSANDSSEPARATOR=178,p.DECIMALSEPARATOR=179,p.CURRENCYUNIT=180,p.CURRENCYSUBUNIT=181,p.KP_LEFTPAREN=182,p.KP_RIGHTPAREN=183,p.KP_LEFTBRACE=184,p.KP_RIGHTBRACE=185,p.KP_TAB=186,p.KP_BACKSPACE=187,p.KP_A=188,p.KP_B=189,p.KP_C=190,p.KP_D=191,p.KP_E=192,p.KP_F=193,p.KP_XOR=194,p.KP_POWER=195,p.KP_PERCENT=196,p.KP_LESS=197,p.KP_GREATER=198,p.KP_AMPERSAND=199,p.KP_DBLAMPERSAND=200,p.KP_VERTICALBAR=201,p.KP_DBLVERTICALBAR=202,p.KP_COLON=203,p.KP_HASH=204,p.KP_SPACE=205,p.KP_AT=206,p.KP_EXCLAM=207,p.KP_MEMSTORE=208,p.KP_MEMRECALL=209,p.KP_MEMCLEAR=210,p.KP_MEMADD=211,p.KP_MEMSUBTRACT=212,p.KP_MEMMULTIPLY=213,p.KP_MEMDIVIDE=214,p.KP_PLUSMINUS=215,p.KP_CLEAR=216,p.KP_CLEARENTRY=217,p.KP_BINARY=218,p.KP_OCTAL=219,p.KP_DECIMAL=220,p.KP_HEXADECIMAL=221,p.LCTRL=224,p.LSHIFT=225,p.LALT=226,p.LMETA=227,p.RCTRL=228,p.RSHIFT=229,p.RALT=230,p.RMETA=231,p.MODE=257,p.AUDIONEXT=258,p.AUDIOPREV=259,p.AUDIOSTOP=260,p.AUDIOPLAY=261,p.AUDIOMUTE=262,p.MEDIASELECT=263,p.WWW=264,p.MAIL=265,p.CALCULATOR=266,p.COMPUTER=267,p.AC_SEARCH=268,p.AC_HOME=269,p.AC_BACK=270,p.AC_FORWARD=271,p.AC_STOP=272,p.AC_REFRESH=273,p.AC_BOOKMARKS=274,p.BRIGHTNESSDOWN=275,p.BRIGHTNESSUP=276,p.DISPLAYSWITCH=277,p.KBDILLUMTOGGLE=278,p.KBDILLUMDOWN=279,p.KBDILLUMUP=280,p.EJECT=281,p.SLEEP=282,p.APP1=283,p.APP2=284,p.scanCodeNames=[null,null,null,null,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0","Enter","Escape","Backspace","Tab","Space","-","=","[","]","\\","#",";","'","`",",",".","/","CapsLock","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","PrintScreen","ScrollLock","Pause","Insert","Home","PageUp","Delete","End","PageDown","Right","Left","Down","Up","Numlock","Keypad /","Keypad *","Keypad -","Keypad +","Keypad Enter","Keypad 1","Keypad 2","Keypad 3","Keypad 4","Keypad 5","Keypad 6","Keypad 7","Keypad 8","Keypad 9","Keypad 0","Keypad .",null,"Application","Power","Keypad =","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","Execute","Help","Menu","Select","Stop","Again","Undo","Cut","Copy","Paste","Find","Mute","VolumeUp","VolumeDown",null,null,null,"Keypad ,","Keypad = (AS400)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"AltErase","SysReq","Cancel","Clear","Prior","Enter","Separator","Out","Oper","Clear / Again","CrSel","ExSel",null,null,null,null,null,null,null,null,null,null,null,"Keypad 00","Keypad 000","ThousandsSeparator","DecimalSeparator","CurrencyUnit","CurrencySubUnit","Keypad (","Keypad )","Keypad {","Keypad }","Keypad Tab","Keypad Backspace","Keypad A","Keypad B","Keypad C","Keypad D","Keypad E","Keypad F","Keypad XOR","Keypad ^","Keypad %","Keypad <","Keypad >","Keypad &","Keypad &&","Keypad |","Keypad ||","Keypad :","Keypad #","Keypad Space","Keypad @","Keypad !","Keypad MemStore","Keypad MemRecall","Keypad MemClear","Keypad MemAdd","Keypad MemSubtract","Keypad MemMultiply","Keypad MemDivide","Keypad +/-","Keypad Clear","Keypad ClearEntry","Keypad Binary","Keypad Octal","Keypad Decimal","Keypad Hexadecimal",null,null,"Left Ctrl","Left Shift","Left Alt","Left Meta","Right Ctrl","Right Shift","Right Alt","Right Meta",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"ModeSwitch","AudioNext","AudioPrev","AudioStop","AudioPlay","AudioMute","MediaSelect","WWW","Mail","Calculator","Computer","AC Search","AC Home","AC Back","AC Forward","AC Stop","AC Refresh","AC Bookmarks","BrightnessDown","BrightnessUp","DisplaySwitch","KBDIllumToggle","KBDIllumDown","KBDIllumUp","Eject","Sleep"],g.NONE=0,g.PRELOAD=1,g.LOAD=2,g.CREATE=3,g.FADE_IN=4,g.READY=5,g.FADE_OUT=6,g.DISABLED=7;ceramic_SceneSystem.lazyShared=!0,ceramic_Screen.__meta__={fields:{unobservedFocusedVisual:{observe:null},unobservedTexturesDensity:{observe:null}}},ceramic_Settings.__meta__={fields:{unobservedTargetWidth:{observe:null},unobservedTargetHeight:{observe:null},unobservedWindowWidth:{observe:null},unobservedWindowHeight:{observe:null},unobservedTargetDensity:{observe:null},unobservedBackground:{observe:null},unobservedScaling:{observe:null},unobservedTitle:{observe:null},unobservedFullscreen:{observe:null},unobservedTargetFps:{observe:null},unobservedMaxDelta:{observe:null},unobservedOverrideDelta:{observe:null}}},ceramic_SoundAsset.__meta__={fields:{unobservedSound:{observe:null}}},tracker_Model.TO_DYNAMIC_MAX_STACK=8,tracker_Model._toDynamicStack=0,ceramic_SpriteSheet.__meta__={fields:{unobservedAnimations:{serialize:null},unobservedAtlas:{observe:null},unobservedGridWidth:{serialize:null},unobservedGridHeight:{serialize:null},unobservedSource:{serialize:null}}},ceramic_SpriteSheetAnimation.__meta__={fields:{unobservedName:{serialize:null},unobservedFrames:{serialize:null}}},ceramic_SpriteSheetFrame.__meta__={fields:{unobservedDuration:{serialize:null},unobservedRegion:{serialize:null}}},ceramic_SpriteSystem.lazyShared=!0,ceramic_StateMachineBase.__meta__={fields:{rawEntity:{entity:null}}},ceramic_StateMachineImpl.__meta__={fields:{unobservedState:{observe:null}}},ceramic_StateMachineSystem.lazyShared=!0,ceramic_Text.__meta__={obj:{editable:[{implicitSize:!0}]},fields:{color:{editable:null},content:{editable:[{multiline:!0}]},pointSize:{editable:[{slider:[6,600]}]},lineHeight:{editable:[{slider:[0,10]}]},letterSpacing:{editable:[{slider:[-100,100]}]},font:{editable:null},align:{editable:null},fitWidth:{editable:null},maxLineDiff:{editable:null}}},ceramic_Text._fieldInfo={fitWidth:{editable:[],type:"Float",index:38},letterSpacing:{editable:[{slider:[-100,100]}],type:"Float",index:20},color:{editable:[],type:"ceramic.Color",index:12},content:{editable:[{multiline:!0}],type:"String",index:14},align:{editable:[],type:"ceramic.TextAlign",index:36},font:{editable:[],type:"ceramic.BitmapFont",index:22},maxLineDiff:{editable:[],type:"Float",index:40},pointSize:{editable:[{slider:[6,600]}],type:"Float",index:16},lineHeight:{editable:[{slider:[0,10]}],type:"Float",index:18}},ceramic_TextAsset.__meta__={fields:{unobservedText:{observe:null}}},ceramic_Timer.callbacks=[],ceramic_Timer.next=999999999,ceramic_Timer.now=0,ceramic_Timer.startTimestamp=(new Date).getTime()/1e3,ceramic_Tween._tweens=[],ceramic_Tween._iteratedTweens=[],ceramic__$Tween_TweenEasingFunction.k=0,ceramic_Utils.RE_ASCII_CHAR=new EReg("^[a-zA-Z0-9]$",""),ceramic_Utils._nextUniqueIntCursor=0,ceramic_Utils._nextUniqueInt0=2147483646*Math.random()|0,ceramic_Utils._nextUniqueInt1=1e-4*(new Date).getTime()|0,ceramic_Utils._nextUniqueInt2=2147483646*Math.random()|0,ceramic_Utils._nextUniqueInt3=2147483646*Math.random()|0,ceramic_WatchDirectory.didTryRequireChokidar=!1,clay_Immediate.immediateCallbacks=[],clay_Immediate.immediateCallbacksCapacity=0,clay_Immediate.immediateCallbacksLen=0,w.UNKNOWN=0,w.ENTER=13,w.ESCAPE=27,w.BACKSPACE=8,w.TAB=9,w.SPACE=32,w.EXCLAIM=33,w.QUOTEDBL=34,w.HASH=35,w.PERCENT=37,w.DOLLAR=36,w.AMPERSAND=38,w.QUOTE=39,w.LEFTPAREN=40,w.RIGHTPAREN=41,w.ASTERISK=42,w.PLUS=43,w.COMMA=44,w.MINUS=45,w.PERIOD=46,w.SLASH=47,w.KEY_0=48,w.KEY_1=49,w.KEY_2=50,w.KEY_3=51,w.KEY_4=52,w.KEY_5=53,w.KEY_6=54,w.KEY_7=55,w.KEY_8=56,w.KEY_9=57,w.COLON=58,w.SEMICOLON=59,w.LESS=60,w.EQUALS=61,w.GREATER=62,w.QUESTION=63,w.AT=64,w.LEFTBRACKET=91,w.BACKSLASH=92,w.RIGHTBRACKET=93,w.CARET=94,w.UNDERSCORE=95,w.BACKQUOTE=96,w.KEY_A=97,w.KEY_B=98,w.KEY_C=99,w.KEY_D=100,w.KEY_E=101,w.KEY_F=102,w.KEY_G=103,w.KEY_H=104,w.KEY_I=105,w.KEY_J=106,w.KEY_K=107,w.KEY_L=108,w.KEY_M=109,w.KEY_N=110,w.KEY_O=111,w.KEY_P=112,w.KEY_Q=113,w.KEY_R=114,w.KEY_S=115,w.KEY_T=116,w.KEY_U=117,w.KEY_V=118,w.KEY_W=119,w.KEY_X=120,w.KEY_Y=121,w.KEY_Z=122,w.CAPSLOCK=1073741881,w.F1=1073741882,w.F2=1073741883,w.F3=1073741884,w.F4=1073741885,w.F5=1073741886,w.F6=1073741887,w.F7=1073741888,w.F8=1073741889,w.F9=1073741890,w.F10=1073741891,w.F11=1073741892,w.F12=1073741893,w.PRINTSCREEN=1073741894,w.SCROLLLOCK=1073741895,w.PAUSE=1073741896,w.INSERT=1073741897,w.HOME=1073741898,w.PAGEUP=1073741899,w.DELETE=127,w.END=1073741901,w.PAGEDOWN=1073741902,w.RIGHT=1073741903,w.LEFT=1073741904,w.DOWN=1073741905,w.UP=1073741906,w.NUMLOCKCLEAR=1073741907,w.KP_DIVIDE=1073741908,w.KP_MULTIPLY=1073741909,w.KP_MINUS=1073741910,w.KP_PLUS=1073741911,w.KP_ENTER=1073741912,w.KP_1=1073741913,w.KP_2=1073741914,w.KP_3=1073741915,w.KP_4=1073741916,w.KP_5=1073741917,w.KP_6=1073741918,w.KP_7=1073741919,w.KP_8=1073741920,w.KP_9=1073741921,w.KP_0=1073741922,w.KP_PERIOD=1073741923,w.APPLICATION=1073741925,w.POWER=1073741926,w.KP_EQUALS=1073741927,w.F13=1073741928,w.F14=1073741929,w.F15=1073741930,w.F16=1073741931,w.F17=1073741932,w.F18=1073741933,w.F19=1073741934,w.F20=1073741935,w.F21=1073741936,w.F22=1073741937,w.F23=1073741938,w.F24=1073741939,w.EXECUTE=1073741940,w.HELP=1073741941,w.MENU=1073741942,w.SELECT=1073741943,w.STOP=1073741944,w.AGAIN=1073741945,w.UNDO=1073741946,w.CUT=1073741947,w.COPY=1073741948,w.PASTE=1073741949,w.FIND=1073741950,w.MUTE=1073741951,w.VOLUMEUP=1073741952,w.VOLUMEDOWN=1073741953,w.KP_COMMA=1073741957,w.KP_EQUALSAS400=1073741958,w.ALTERASE=1073741977,w.SYSREQ=1073741978,w.CANCEL=1073741979,w.CLEAR=1073741980,w.PRIOR=1073741981,w.RETURN2=1073741982,w.SEPARATOR=1073741983,w.OUT=1073741984,w.OPER=1073741985,w.CLEARAGAIN=1073741986,w.CRSEL=1073741987,w.EXSEL=1073741988,w.KP_00=1073742e3,w.KP_000=1073742001,w.THOUSANDSSEPARATOR=1073742002,w.DECIMALSEPARATOR=1073742003,w.CURRENCYUNIT=1073742004,w.CURRENCYSUBUNIT=1073742005,w.KP_LEFTPAREN=1073742006,w.KP_RIGHTPAREN=1073742007,w.KP_LEFTBRACE=1073742008,w.KP_RIGHTBRACE=1073742009,w.KP_TAB=1073742010,w.KP_BACKSPACE=1073742011,w.KP_A=1073742012,w.KP_B=1073742013,w.KP_C=1073742014,w.KP_D=1073742015,w.KP_E=1073742016,w.KP_F=1073742017,w.KP_XOR=1073742018,w.KP_POWER=1073742019,w.KP_PERCENT=1073742020,w.KP_LESS=1073742021,w.KP_GREATER=1073742022,w.KP_AMPERSAND=1073742023,w.KP_DBLAMPERSAND=1073742024,w.KP_VERTICALBAR=1073742025,w.KP_DBLVERTICALBAR=1073742026,w.KP_COLON=1073742027,w.KP_HASH=1073742028,w.KP_SPACE=1073742029,w.KP_AT=1073742030,w.KP_EXCLAM=1073742031,w.KP_MEMSTORE=1073742032,w.KP_MEMRECALL=1073742033,w.KP_MEMCLEAR=1073742034,w.KP_MEMADD=1073742035,w.KP_MEMSUBTRACT=1073742036,w.KP_MEMMULTIPLY=1073742037,w.KP_MEMDIVIDE=1073742038,w.KP_PLUSMINUS=1073742039,w.KP_CLEAR=1073742040,w.KP_CLEARENTRY=1073742041,w.KP_BINARY=1073742042,w.KP_OCTAL=1073742043,w.KP_DECIMAL=1073742044,w.KP_HEXADECIMAL=1073742045,w.LCTRL=1073742048,w.LSHIFT=1073742049,w.LALT=1073742050,w.LMETA=1073742051,w.RCTRL=1073742052,w.RSHIFT=1073742053,w.RALT=1073742054,w.RMETA=1073742055,w.MODE=1073742081,w.AUDIONEXT=1073742082,w.AUDIOPREV=1073742083,w.AUDIOSTOP=1073742084,w.AUDIOPLAY=1073742085,w.AUDIOMUTE=1073742086,w.MEDIASELECT=1073742087,w.WWW=1073742088,w.MAIL=1073742089,w.CALCULATOR=1073742090,w.COMPUTER=1073742091,w.AC_SEARCH=1073742092,w.AC_HOME=1073742093,w.AC_BACK=1073742094,w.AC_FORWARD=1073742095,w.AC_STOP=1073742096,w.AC_REFRESH=1073742097,w.AC_BOOKMARKS=1073742098,w.BRIGHTNESSDOWN=1073742099,w.BRIGHTNESSUP=1073742100,w.DISPLAYSWITCH=1073742101,w.KBDILLUMTOGGLE=1073742102,w.KBDILLUMDOWN=1073742103,w.KBDILLUMUP=1073742104,w.EJECT=1073742105,w.SLEEP=1073742106,U.MASK=1073741824,U.UNKNOWN=0,U.KEY_A=4,U.KEY_B=5,U.KEY_C=6,U.KEY_D=7,U.KEY_E=8,U.KEY_F=9,U.KEY_G=10,U.KEY_H=11,U.KEY_I=12,U.KEY_J=13,U.KEY_K=14,U.KEY_L=15,U.KEY_M=16,U.KEY_N=17,U.KEY_O=18,U.KEY_P=19,U.KEY_Q=20,U.KEY_R=21,U.KEY_S=22,U.KEY_T=23,U.KEY_U=24,U.KEY_V=25,U.KEY_W=26,U.KEY_X=27,U.KEY_Y=28,U.KEY_Z=29,U.KEY_1=30,U.KEY_2=31,U.KEY_3=32,U.KEY_4=33,U.KEY_5=34,U.KEY_6=35,U.KEY_7=36,U.KEY_8=37,U.KEY_9=38,U.KEY_0=39,U.ENTER=40,U.ESCAPE=41,U.BACKSPACE=42,U.TAB=43,U.SPACE=44,U.MINUS=45,U.EQUALS=46,U.LEFTBRACKET=47,U.RIGHTBRACKET=48,U.BACKSLASH=49,U.NONUSHASH=50,U.SEMICOLON=51,U.APOSTROPHE=52,U.GRAVE=53,U.COMMA=54,U.PERIOD=55,U.SLASH=56,U.CAPSLOCK=57,U.F1=58,U.F2=59,U.F3=60,U.F4=61,U.F5=62,U.F6=63,U.F7=64,U.F8=65,U.F9=66,U.F10=67,U.F11=68,U.F12=69,U.PRINTSCREEN=70,U.SCROLLLOCK=71,U.PAUSE=72,U.INSERT=73,U.HOME=74,U.PAGEUP=75,U.DELETE=76,U.END=77,U.PAGEDOWN=78,U.RIGHT=79,U.LEFT=80,U.DOWN=81,U.UP=82,U.NUMLOCKCLEAR=83,U.KP_DIVIDE=84,U.KP_MULTIPLY=85,U.KP_MINUS=86,U.KP_PLUS=87,U.KP_ENTER=88,U.KP_1=89,U.KP_2=90,U.KP_3=91,U.KP_4=92,U.KP_5=93,U.KP_6=94,U.KP_7=95,U.KP_8=96,U.KP_9=97,U.KP_0=98,U.KP_PERIOD=99,U.NONUSBACKSLASH=100,U.APPLICATION=101,U.POWER=102,U.KP_EQUALS=103,U.F13=104,U.F14=105,U.F15=106,U.F16=107,U.F17=108,U.F18=109,U.F19=110,U.F20=111,U.F21=112,U.F22=113,U.F23=114,U.F24=115,U.EXECUTE=116,U.HELP=117,U.MENU=118,U.SELECT=119,U.STOP=120,U.AGAIN=121,U.UNDO=122,U.CUT=123,U.COPY=124,U.PASTE=125,U.FIND=126,U.MUTE=127,U.VOLUMEUP=128,U.VOLUMEDOWN=129,U.KP_COMMA=133,U.KP_EQUALSAS400=134,U.INTERNATIONAL1=135,U.INTERNATIONAL2=136,U.INTERNATIONAL3=137,U.INTERNATIONAL4=138,U.INTERNATIONAL5=139,U.INTERNATIONAL6=140,U.INTERNATIONAL7=141,U.INTERNATIONAL8=142,U.INTERNATIONAL9=143,U.LANG1=144,U.LANG2=145,U.LANG3=146,U.LANG4=147,U.LANG5=148,U.LANG6=149,U.LANG7=150,U.LANG8=151,U.LANG9=152,U.ALTERASE=153,U.SYSREQ=154,U.CANCEL=155,U.CLEAR=156,U.PRIOR=157,U.RETURN2=158,U.SEPARATOR=159,U.OUT=160,U.OPER=161,U.CLEARAGAIN=162,U.CRSEL=163,U.EXSEL=164,U.KP_00=176,U.KP_000=177,U.THOUSANDSSEPARATOR=178,U.DECIMALSEPARATOR=179,U.CURRENCYUNIT=180,U.CURRENCYSUBUNIT=181,U.KP_LEFTPAREN=182,U.KP_RIGHTPAREN=183,U.KP_LEFTBRACE=184,U.KP_RIGHTBRACE=185,U.KP_TAB=186,U.KP_BACKSPACE=187,U.KP_A=188,U.KP_B=189,U.KP_C=190,U.KP_D=191,U.KP_E=192,U.KP_F=193,U.KP_XOR=194,U.KP_POWER=195,U.KP_PERCENT=196,U.KP_LESS=197,U.KP_GREATER=198,U.KP_AMPERSAND=199,U.KP_DBLAMPERSAND=200,U.KP_VERTICALBAR=201,U.KP_DBLVERTICALBAR=202,U.KP_COLON=203,U.KP_HASH=204,U.KP_SPACE=205,U.KP_AT=206,U.KP_EXCLAM=207,U.KP_MEMSTORE=208,U.KP_MEMRECALL=209,U.KP_MEMCLEAR=210,U.KP_MEMADD=211,U.KP_MEMSUBTRACT=212,U.KP_MEMMULTIPLY=213,U.KP_MEMDIVIDE=214,U.KP_PLUSMINUS=215,U.KP_CLEAR=216,U.KP_CLEARENTRY=217,U.KP_BINARY=218,U.KP_OCTAL=219,U.KP_DECIMAL=220,U.KP_HEXADECIMAL=221,U.LCTRL=224,U.LSHIFT=225,U.LALT=226,U.LMETA=227,U.RCTRL=228,U.RSHIFT=229,U.RALT=230,U.RMETA=231,U.MODE=257,U.AUDIONEXT=258,U.AUDIOPREV=259,U.AUDIOSTOP=260,U.AUDIOPLAY=261,U.AUDIOMUTE=262,U.MEDIASELECT=263,U.WWW=264,U.MAIL=265,U.CALCULATOR=266,U.COMPUTER=267,U.AC_SEARCH=268,U.AC_HOME=269,U.AC_BACK=270,U.AC_FORWARD=271,U.AC_STOP=272,U.AC_REFRESH=273,U.AC_BOOKMARKS=274,U.BRIGHTNESSDOWN=275,U.BRIGHTNESSUP=276,U.DISPLAYSWITCH=277,U.KBDILLUMTOGGLE=278,U.KBDILLUMDOWN=279,U.KBDILLUMUP=280,U.EJECT=281,U.SLEEP=282,U.APP1=283,U.APP2=284,U.scanCodeNames=[null,null,null,null,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0","Enter","Escape","Backspace","Tab","Space","-","=","[","]","\\","#",";","'","`",",",".","/","CapsLock","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","PrintScreen","ScrollLock","Pause","Insert","Home","PageUp","Delete","End","PageDown","Right","Left","Down","Up","Numlock","Keypad /","Keypad *","Keypad -","Keypad +","Keypad Enter","Keypad 1","Keypad 2","Keypad 3","Keypad 4","Keypad 5","Keypad 6","Keypad 7","Keypad 8","Keypad 9","Keypad 0","Keypad .",null,"Application","Power","Keypad =","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","Execute","Help","Menu","Select","Stop","Again","Undo","Cut","Copy","Paste","Find","Mute","VolumeUp","VolumeDown",null,null,null,"Keypad ,","Keypad = (AS400)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"AltErase","SysReq","Cancel","Clear","Prior","Enter","Separator","Out","Oper","Clear / Again","CrSel","ExSel",null,null,null,null,null,null,null,null,null,null,null,"Keypad 00","Keypad 000","ThousandsSeparator","DecimalSeparator","CurrencyUnit","CurrencySubUnit","Keypad (","Keypad )","Keypad {","Keypad }","Keypad Tab","Keypad Backspace","Keypad A","Keypad B","Keypad C","Keypad D","Keypad E","Keypad F","Keypad XOR","Keypad ^","Keypad %","Keypad <","Keypad >","Keypad &","Keypad &&","Keypad |","Keypad ||","Keypad :","Keypad #","Keypad Space","Keypad @","Keypad !","Keypad MemStore","Keypad MemRecall","Keypad MemClear","Keypad MemAdd","Keypad MemSubtract","Keypad MemMultiply","Keypad MemDivide","Keypad +/-","Keypad Clear","Keypad ClearEntry","Keypad Binary","Keypad Octal","Keypad Decimal","Keypad Hexadecimal",null,null,"Left Ctrl","Left Shift","Left Alt","Left Meta","Right Ctrl","Right Shift","Right Alt","Right Meta",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"ModeSwitch","AudioNext","AudioPrev","AudioStop","AudioPlay","AudioMute","MediaSelect","WWW","Mail","Calculator","Computer","AC Search","AC Home","AC Back","AC Forward","AC Stop","AC Refresh","AC Bookmarks","BrightnessDown","BrightnessUp","DisplaySwitch","KBDIllumToggle","KBDIllumDown","KBDIllumUp","Eject","Sleep"],C.UNKNOWN=0,C.DEVICE_ADDED=1,C.DEVICE_REMOVED=2,C.DEVICE_REMAPPED=3,x.UNKNOWN=0,x.EDIT=1,x.INPUT=2,D.UNKNOWN=0,D.SHOWN=1,D.HIDDEN=2,D.EXPOSED=3,D.MOVED=4,D.RESIZED=5,D.SIZE_CHANGED=6,D.MINIMIZED=7,D.MAXIMIZED=8,D.RESTORED=9,D.ENTER=10,D.LEAVE=11,D.FOCUS_GAINED=12,D.FOCUS_LOST=13,D.CLOSE=14,D.ENTER_FULLSCREEN=15,D.EXIT_FULLSCREEN=16,T.UNKNOWN=0,T.TERMINATING=11,T.LOW_MEMORY=12,T.WILL_ENTER_BACKGROUND=13,T.DID_ENTER_BACKGROUND=14,T.WILL_ENTER_FOREGROUND=15,T.DID_ENTER_FOREGROUND=16,clay_Utils._nextUniqueIntCursor=0,clay_Utils._nextUniqueInt0=2147483646*Math.random()|0,clay_Utils._nextUniqueInt1=1e-4*(new Date).getTime()|0,clay_Utils._nextUniqueInt2=2147483646*Math.random()|0,clay_Utils._nextUniqueInt3=2147483646*Math.random()|0,A.END=0,A.DESTROYED=1,A.DESTROYED_SOURCE=2,S.UNKNOWN=0,S.CUSTOM=1,S.OGG=2,S.WAV=3,S.PCM=4,S.MP3=5,S.FLAC=6,E.INVALID=-1,E.PAUSED=0,E.PLAYING=1,E.STOPPED=2,M.BYTES_PER_ELEMENT=4,F.BYTES_PER_ELEMENT=4,P.BYTES_PER_ELEMENT=2,R.BYTES_PER_ELEMENT=1,clay_graphics_Texture._nextIndex=1,clay_opengl_GLGraphics.DEPTH24_STENCIL8=35056,clay_opengl_GLGraphics.DEPTH_COMPONENT24=33190,clay_opengl_GLGraphics.TEXTURE_2D_MULTISAMPLE=37120,clay_opengl_GLGraphics.READ_FRAMEBUFFER=36008,clay_opengl_GLGraphics.DRAW_FRAMEBUFFER=36009,clay_opengl_GLGraphics.RGBA8=32856,clay_opengl_GLGraphics.COLOR=6144,clay_opengl_GLGraphics._boundTexture2D=[],clay_opengl_GLGraphics._activeTextureSlot=-1,clay_opengl_GLGraphics._didFetchDefaultBuffers=!1,clay_opengl_GLGraphics.clearBufferForBlitValues=new Float32Array([0,0,0,1]),clay_opengl_web_GL.DEPTH_BUFFER_BIT=256,clay_opengl_web_GL.STENCIL_BUFFER_BIT=1024,clay_opengl_web_GL.COLOR_BUFFER_BIT=16384,clay_opengl_web_GL.POINTS=0,clay_opengl_web_GL.LINES=1,clay_opengl_web_GL.LINE_LOOP=2,clay_opengl_web_GL.LINE_STRIP=3,clay_opengl_web_GL.TRIANGLES=4,clay_opengl_web_GL.TRIANGLE_STRIP=5,clay_opengl_web_GL.TRIANGLE_FAN=6,clay_opengl_web_GL.ZERO=0,clay_opengl_web_GL.ONE=1,clay_opengl_web_GL.SRC_COLOR=768,clay_opengl_web_GL.ONE_MINUS_SRC_COLOR=769,clay_opengl_web_GL.SRC_ALPHA=770,clay_opengl_web_GL.ONE_MINUS_SRC_ALPHA=771,clay_opengl_web_GL.DST_ALPHA=772,clay_opengl_web_GL.ONE_MINUS_DST_ALPHA=773,clay_opengl_web_GL.DST_COLOR=774,clay_opengl_web_GL.ONE_MINUS_DST_COLOR=775,clay_opengl_web_GL.SRC_ALPHA_SATURATE=776,clay_opengl_web_GL.FUNC_ADD=32774,clay_opengl_web_GL.BLEND_EQUATION=32777,clay_opengl_web_GL.BLEND_EQUATION_RGB=32777,clay_opengl_web_GL.BLEND_EQUATION_ALPHA=34877,clay_opengl_web_GL.FUNC_SUBTRACT=32778,clay_opengl_web_GL.FUNC_REVERSE_SUBTRACT=32779,clay_opengl_web_GL.BLEND_DST_RGB=32968,clay_opengl_web_GL.BLEND_SRC_RGB=32969,clay_opengl_web_GL.BLEND_DST_ALPHA=32970,clay_opengl_web_GL.BLEND_SRC_ALPHA=32971,clay_opengl_web_GL.CONSTANT_COLOR=32769,clay_opengl_web_GL.ONE_MINUS_CONSTANT_COLOR=32770,clay_opengl_web_GL.CONSTANT_ALPHA=32771,clay_opengl_web_GL.ONE_MINUS_CONSTANT_ALPHA=32772,clay_opengl_web_GL.BLEND_COLOR=32773,clay_opengl_web_GL.ARRAY_BUFFER=34962,clay_opengl_web_GL.ELEMENT_ARRAY_BUFFER=34963,clay_opengl_web_GL.ARRAY_BUFFER_BINDING=34964,clay_opengl_web_GL.ELEMENT_ARRAY_BUFFER_BINDING=34965,clay_opengl_web_GL.STREAM_DRAW=35040,clay_opengl_web_GL.STATIC_DRAW=35044,clay_opengl_web_GL.DYNAMIC_DRAW=35048,clay_opengl_web_GL.BUFFER_SIZE=34660,clay_opengl_web_GL.BUFFER_USAGE=34661,clay_opengl_web_GL.CURRENT_VERTEX_ATTRIB=34342,clay_opengl_web_GL.FRONT=1028,clay_opengl_web_GL.BACK=1029,clay_opengl_web_GL.FRONT_AND_BACK=1032,clay_opengl_web_GL.CULL_FACE=2884,clay_opengl_web_GL.BLEND=3042,clay_opengl_web_GL.DITHER=3024,clay_opengl_web_GL.STENCIL_TEST=2960,clay_opengl_web_GL.DEPTH_TEST=2929,clay_opengl_web_GL.SCISSOR_TEST=3089,clay_opengl_web_GL.POLYGON_OFFSET_FILL=32823,clay_opengl_web_GL.SAMPLE_ALPHA_TO_COVERAGE=32926,clay_opengl_web_GL.SAMPLE_COVERAGE=32928,clay_opengl_web_GL.NO_ERROR=0,clay_opengl_web_GL.INVALID_ENUM=1280,clay_opengl_web_GL.INVALID_VALUE=1281,clay_opengl_web_GL.INVALID_OPERATION=1282,clay_opengl_web_GL.OUT_OF_MEMORY=1285,clay_opengl_web_GL.CW=2304,clay_opengl_web_GL.CCW=2305,clay_opengl_web_GL.LINE_WIDTH=2849,clay_opengl_web_GL.ALIASED_POINT_SIZE_RANGE=33901,clay_opengl_web_GL.ALIASED_LINE_WIDTH_RANGE=33902,clay_opengl_web_GL.CULL_FACE_MODE=2885,clay_opengl_web_GL.FRONT_FACE=2886,clay_opengl_web_GL.DEPTH_RANGE=2928,clay_opengl_web_GL.DEPTH_WRITEMASK=2930,clay_opengl_web_GL.DEPTH_CLEAR_VALUE=2931,clay_opengl_web_GL.DEPTH_FUNC=2932,clay_opengl_web_GL.STENCIL_CLEAR_VALUE=2961,clay_opengl_web_GL.STENCIL_FUNC=2962,clay_opengl_web_GL.STENCIL_FAIL=2964,clay_opengl_web_GL.STENCIL_PASS_DEPTH_FAIL=2965,clay_opengl_web_GL.STENCIL_PASS_DEPTH_PASS=2966,clay_opengl_web_GL.STENCIL_REF=2967,clay_opengl_web_GL.STENCIL_VALUE_MASK=2963,clay_opengl_web_GL.STENCIL_WRITEMASK=2968,clay_opengl_web_GL.STENCIL_BACK_FUNC=34816,clay_opengl_web_GL.STENCIL_BACK_FAIL=34817,clay_opengl_web_GL.STENCIL_BACK_PASS_DEPTH_FAIL=34818,clay_opengl_web_GL.STENCIL_BACK_PASS_DEPTH_PASS=34819,clay_opengl_web_GL.STENCIL_BACK_REF=36003,clay_opengl_web_GL.STENCIL_BACK_VALUE_MASK=36004,clay_opengl_web_GL.STENCIL_BACK_WRITEMASK=36005,clay_opengl_web_GL.VIEWPORT=2978,clay_opengl_web_GL.SCISSOR_BOX=3088,clay_opengl_web_GL.COLOR_CLEAR_VALUE=3106,clay_opengl_web_GL.COLOR_WRITEMASK=3107,clay_opengl_web_GL.UNPACK_ALIGNMENT=3317,clay_opengl_web_GL.PACK_ALIGNMENT=3333,clay_opengl_web_GL.MAX_TEXTURE_SIZE=3379,clay_opengl_web_GL.MAX_VIEWPORT_DIMS=3386,clay_opengl_web_GL.SUBPIXEL_BITS=3408,clay_opengl_web_GL.RED_BITS=3410,clay_opengl_web_GL.GREEN_BITS=3411,clay_opengl_web_GL.BLUE_BITS=3412,clay_opengl_web_GL.ALPHA_BITS=3413,clay_opengl_web_GL.DEPTH_BITS=3414,clay_opengl_web_GL.STENCIL_BITS=3415,clay_opengl_web_GL.POLYGON_OFFSET_UNITS=10752,clay_opengl_web_GL.POLYGON_OFFSET_FACTOR=32824,clay_opengl_web_GL.TEXTURE_BINDING_2D=32873,clay_opengl_web_GL.SAMPLE_BUFFERS=32936,clay_opengl_web_GL.SAMPLES=32937,clay_opengl_web_GL.SAMPLE_COVERAGE_VALUE=32938,clay_opengl_web_GL.SAMPLE_COVERAGE_INVERT=32939,clay_opengl_web_GL.COMPRESSED_TEXTURE_FORMATS=34467,clay_opengl_web_GL.DONT_CARE=4352,clay_opengl_web_GL.FASTEST=4353,clay_opengl_web_GL.NICEST=4354,clay_opengl_web_GL.GENERATE_MIPMAP_HINT=33170,clay_opengl_web_GL.BYTE=5120,clay_opengl_web_GL.UNSIGNED_BYTE=5121,clay_opengl_web_GL.SHORT=5122,clay_opengl_web_GL.UNSIGNED_SHORT=5123,clay_opengl_web_GL.INT=5124,clay_opengl_web_GL.UNSIGNED_INT=5125,clay_opengl_web_GL.FLOAT=5126,clay_opengl_web_GL.DEPTH_COMPONENT=6402,clay_opengl_web_GL.ALPHA=6406,clay_opengl_web_GL.RGB=6407,clay_opengl_web_GL.RGBA=6408,clay_opengl_web_GL.LUMINANCE=6409,clay_opengl_web_GL.LUMINANCE_ALPHA=6410,clay_opengl_web_GL.UNSIGNED_SHORT_4_4_4_4=32819,clay_opengl_web_GL.UNSIGNED_SHORT_5_5_5_1=32820,clay_opengl_web_GL.UNSIGNED_SHORT_5_6_5=33635,clay_opengl_web_GL.FRAGMENT_SHADER=35632,clay_opengl_web_GL.VERTEX_SHADER=35633,clay_opengl_web_GL.MAX_VERTEX_ATTRIBS=34921,clay_opengl_web_GL.MAX_VERTEX_UNIFORM_VECTORS=36347,clay_opengl_web_GL.MAX_VARYING_VECTORS=36348,clay_opengl_web_GL.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,clay_opengl_web_GL.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,clay_opengl_web_GL.MAX_TEXTURE_IMAGE_UNITS=34930,clay_opengl_web_GL.MAX_FRAGMENT_UNIFORM_VECTORS=36349,clay_opengl_web_GL.SHADER_TYPE=35663,clay_opengl_web_GL.DELETE_STATUS=35712,clay_opengl_web_GL.LINK_STATUS=35714,clay_opengl_web_GL.VALIDATE_STATUS=35715,clay_opengl_web_GL.ATTACHED_SHADERS=35717,clay_opengl_web_GL.ACTIVE_UNIFORMS=35718,clay_opengl_web_GL.ACTIVE_ATTRIBUTES=35721,clay_opengl_web_GL.SHADING_LANGUAGE_VERSION=35724,clay_opengl_web_GL.CURRENT_PROGRAM=35725,clay_opengl_web_GL.NEVER=512,clay_opengl_web_GL.LESS=513,clay_opengl_web_GL.EQUAL=514,clay_opengl_web_GL.LEQUAL=515,clay_opengl_web_GL.GREATER=516,clay_opengl_web_GL.NOTEQUAL=517,clay_opengl_web_GL.GEQUAL=518,clay_opengl_web_GL.ALWAYS=519,clay_opengl_web_GL.KEEP=7680,clay_opengl_web_GL.REPLACE=7681,clay_opengl_web_GL.INCR=7682,clay_opengl_web_GL.DECR=7683,clay_opengl_web_GL.INVERT=5386,clay_opengl_web_GL.INCR_WRAP=34055,clay_opengl_web_GL.DECR_WRAP=34056,clay_opengl_web_GL.VENDOR=7936,clay_opengl_web_GL.RENDERER=7937,clay_opengl_web_GL.VERSION=7938,clay_opengl_web_GL.NEAREST=9728,clay_opengl_web_GL.LINEAR=9729,clay_opengl_web_GL.NEAREST_MIPMAP_NEAREST=9984,clay_opengl_web_GL.LINEAR_MIPMAP_NEAREST=9985,clay_opengl_web_GL.NEAREST_MIPMAP_LINEAR=9986,clay_opengl_web_GL.LINEAR_MIPMAP_LINEAR=9987,clay_opengl_web_GL.TEXTURE_MAG_FILTER=10240,clay_opengl_web_GL.TEXTURE_MIN_FILTER=10241,clay_opengl_web_GL.TEXTURE_WRAP_S=10242,clay_opengl_web_GL.TEXTURE_WRAP_T=10243,clay_opengl_web_GL.TEXTURE_2D=3553,clay_opengl_web_GL.TEXTURE=5890,clay_opengl_web_GL.TEXTURE_CUBE_MAP=34067,clay_opengl_web_GL.TEXTURE_BINDING_CUBE_MAP=34068,clay_opengl_web_GL.TEXTURE_CUBE_MAP_POSITIVE_X=34069,clay_opengl_web_GL.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,clay_opengl_web_GL.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,clay_opengl_web_GL.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,clay_opengl_web_GL.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,clay_opengl_web_GL.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,clay_opengl_web_GL.MAX_CUBE_MAP_TEXTURE_SIZE=34076,clay_opengl_web_GL.TEXTURE0=33984,clay_opengl_web_GL.TEXTURE1=33985,clay_opengl_web_GL.TEXTURE2=33986,clay_opengl_web_GL.TEXTURE3=33987,clay_opengl_web_GL.TEXTURE4=33988,clay_opengl_web_GL.TEXTURE5=33989,clay_opengl_web_GL.TEXTURE6=33990,clay_opengl_web_GL.TEXTURE7=33991,clay_opengl_web_GL.TEXTURE8=33992,clay_opengl_web_GL.TEXTURE9=33993,clay_opengl_web_GL.TEXTURE10=33994,clay_opengl_web_GL.TEXTURE11=33995,clay_opengl_web_GL.TEXTURE12=33996,clay_opengl_web_GL.TEXTURE13=33997,clay_opengl_web_GL.TEXTURE14=33998,clay_opengl_web_GL.TEXTURE15=33999,clay_opengl_web_GL.TEXTURE16=34e3,clay_opengl_web_GL.TEXTURE17=34001,clay_opengl_web_GL.TEXTURE18=34002,clay_opengl_web_GL.TEXTURE19=34003,clay_opengl_web_GL.TEXTURE20=34004,clay_opengl_web_GL.TEXTURE21=34005,clay_opengl_web_GL.TEXTURE22=34006,clay_opengl_web_GL.TEXTURE23=34007,clay_opengl_web_GL.TEXTURE24=34008,clay_opengl_web_GL.TEXTURE25=34009,clay_opengl_web_GL.TEXTURE26=34010,clay_opengl_web_GL.TEXTURE27=34011,clay_opengl_web_GL.TEXTURE28=34012,clay_opengl_web_GL.TEXTURE29=34013,clay_opengl_web_GL.TEXTURE30=34014,clay_opengl_web_GL.TEXTURE31=34015,clay_opengl_web_GL.ACTIVE_TEXTURE=34016;clay_opengl_web_GL.REPEAT=10497,clay_opengl_web_GL.CLAMP_TO_EDGE=33071,clay_opengl_web_GL.MIRRORED_REPEAT=33648,clay_opengl_web_GL.FLOAT_VEC2=35664,clay_opengl_web_GL.FLOAT_VEC3=35665,clay_opengl_web_GL.FLOAT_VEC4=35666,clay_opengl_web_GL.INT_VEC2=35667,clay_opengl_web_GL.INT_VEC3=35668,clay_opengl_web_GL.INT_VEC4=35669,clay_opengl_web_GL.BOOL=35670,clay_opengl_web_GL.BOOL_VEC2=35671,clay_opengl_web_GL.BOOL_VEC3=35672,clay_opengl_web_GL.BOOL_VEC4=35673,clay_opengl_web_GL.FLOAT_MAT2=35674,clay_opengl_web_GL.FLOAT_MAT3=35675,clay_opengl_web_GL.FLOAT_MAT4=35676,clay_opengl_web_GL.SAMPLER_2D=35678,clay_opengl_web_GL.SAMPLER_CUBE=35680,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_ENABLED=34338,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_SIZE=34339,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_STRIDE=34340,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_TYPE=34341,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_POINTER=34373,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,clay_opengl_web_GL.VERTEX_PROGRAM_POINT_SIZE=34370,clay_opengl_web_GL.POINT_SPRITE=34913,clay_opengl_web_GL.COMPILE_STATUS=35713,clay_opengl_web_GL.LOW_FLOAT=36336,clay_opengl_web_GL.MEDIUM_FLOAT=36337,clay_opengl_web_GL.HIGH_FLOAT=36338,clay_opengl_web_GL.LOW_INT=36339,clay_opengl_web_GL.MEDIUM_INT=36340,clay_opengl_web_GL.HIGH_INT=36341,clay_opengl_web_GL.FRAMEBUFFER=36160,clay_opengl_web_GL.RENDERBUFFER=36161,clay_opengl_web_GL.RGBA4=32854,clay_opengl_web_GL.RGB5_A1=32855,clay_opengl_web_GL.RGB565=36194,clay_opengl_web_GL.DEPTH_COMPONENT16=33189,clay_opengl_web_GL.STENCIL_INDEX=6401,clay_opengl_web_GL.STENCIL_INDEX8=36168,clay_opengl_web_GL.DEPTH_STENCIL=34041,clay_opengl_web_GL.RENDERBUFFER_WIDTH=36162,clay_opengl_web_GL.RENDERBUFFER_HEIGHT=36163,clay_opengl_web_GL.RENDERBUFFER_INTERNAL_FORMAT=36164,clay_opengl_web_GL.RENDERBUFFER_RED_SIZE=36176,clay_opengl_web_GL.RENDERBUFFER_GREEN_SIZE=36177,clay_opengl_web_GL.RENDERBUFFER_BLUE_SIZE=36178,clay_opengl_web_GL.RENDERBUFFER_ALPHA_SIZE=36179,clay_opengl_web_GL.RENDERBUFFER_DEPTH_SIZE=36180,clay_opengl_web_GL.RENDERBUFFER_STENCIL_SIZE=36181,clay_opengl_web_GL.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,clay_opengl_web_GL.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,clay_opengl_web_GL.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,clay_opengl_web_GL.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,clay_opengl_web_GL.COLOR_ATTACHMENT0=36064,clay_opengl_web_GL.DEPTH_ATTACHMENT=36096,clay_opengl_web_GL.STENCIL_ATTACHMENT=36128,clay_opengl_web_GL.DEPTH_STENCIL_ATTACHMENT=33306,clay_opengl_web_GL.NONE=0,clay_opengl_web_GL.FRAMEBUFFER_COMPLETE=36053,clay_opengl_web_GL.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,clay_opengl_web_GL.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,clay_opengl_web_GL.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,clay_opengl_web_GL.FRAMEBUFFER_UNSUPPORTED=36061,clay_opengl_web_GL.FRAMEBUFFER_BINDING=36006,clay_opengl_web_GL.RENDERBUFFER_BINDING=36007,clay_opengl_web_GL.MAX_RENDERBUFFER_SIZE=34024,clay_opengl_web_GL.INVALID_FRAMEBUFFER_OPERATION=1286,clay_opengl_web_GL.UNPACK_FLIP_Y_WEBGL=37440,clay_opengl_web_GL.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,clay_opengl_web_GL.CONTEXT_LOST_WEBGL=37442,clay_opengl_web_GL.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,clay_opengl_web_GL.BROWSER_DEFAULT_WEBGL=37444,clay_web_WebAssets.POT=!0,clay_web_WebAudio.HALF_PI=1.5707,clay_web_WebRuntime.timestampStart=0,clay_web_WebRuntime.webWindowId=1,clay_web__$WebRuntime_DOMKeys.dom_shift=16,clay_web__$WebRuntime_DOMKeys.dom_ctrl=17,clay_web__$WebRuntime_DOMKeys.dom_alt=18,clay_web__$WebRuntime_DOMKeys.dom_capslock=20,clay_web__$WebRuntime_DOMKeys.dom_pageup=33,clay_web__$WebRuntime_DOMKeys.dom_pagedown=34,clay_web__$WebRuntime_DOMKeys.dom_end=35,clay_web__$WebRuntime_DOMKeys.dom_home=36,clay_web__$WebRuntime_DOMKeys.dom_left=37,clay_web__$WebRuntime_DOMKeys.dom_up=38,clay_web__$WebRuntime_DOMKeys.dom_right=39,clay_web__$WebRuntime_DOMKeys.dom_down=40,clay_web__$WebRuntime_DOMKeys.dom_printscr=44,clay_web__$WebRuntime_DOMKeys.dom_insert=45,clay_web__$WebRuntime_DOMKeys.dom_delete=46,clay_web__$WebRuntime_DOMKeys.dom_lmeta=91,clay_web__$WebRuntime_DOMKeys.dom_rmeta=93,clay_web__$WebRuntime_DOMKeys.dom_kp_0=96,clay_web__$WebRuntime_DOMKeys.dom_kp_1=97,clay_web__$WebRuntime_DOMKeys.dom_kp_2=98,clay_web__$WebRuntime_DOMKeys.dom_kp_3=99,clay_web__$WebRuntime_DOMKeys.dom_kp_4=100,clay_web__$WebRuntime_DOMKeys.dom_kp_5=101,clay_web__$WebRuntime_DOMKeys.dom_kp_6=102,clay_web__$WebRuntime_DOMKeys.dom_kp_7=103,clay_web__$WebRuntime_DOMKeys.dom_kp_8=104,clay_web__$WebRuntime_DOMKeys.dom_kp_9=105,clay_web__$WebRuntime_DOMKeys.dom_kp_multiply=106,clay_web__$WebRuntime_DOMKeys.dom_kp_plus=107,clay_web__$WebRuntime_DOMKeys.dom_kp_minus=109,clay_web__$WebRuntime_DOMKeys.dom_kp_decimal=110,clay_web__$WebRuntime_DOMKeys.dom_kp_divide=111,clay_web__$WebRuntime_DOMKeys.dom_kp_numlock=144,clay_web__$WebRuntime_DOMKeys.dom_f1=112,clay_web__$WebRuntime_DOMKeys.dom_f2=113,clay_web__$WebRuntime_DOMKeys.dom_f3=114,clay_web__$WebRuntime_DOMKeys.dom_f4=115,clay_web__$WebRuntime_DOMKeys.dom_f5=116,clay_web__$WebRuntime_DOMKeys.dom_f6=117,clay_web__$WebRuntime_DOMKeys.dom_f7=118,clay_web__$WebRuntime_DOMKeys.dom_f8=119,clay_web__$WebRuntime_DOMKeys.dom_f9=120,clay_web__$WebRuntime_DOMKeys.dom_f10=121,clay_web__$WebRuntime_DOMKeys.dom_f11=122,clay_web__$WebRuntime_DOMKeys.dom_f12=123,clay_web__$WebRuntime_DOMKeys.dom_f13=124,clay_web__$WebRuntime_DOMKeys.dom_f14=125,clay_web__$WebRuntime_DOMKeys.dom_f15=126,clay_web__$WebRuntime_DOMKeys.dom_f16=127,clay_web__$WebRuntime_DOMKeys.dom_f17=128,clay_web__$WebRuntime_DOMKeys.dom_f18=129,clay_web__$WebRuntime_DOMKeys.dom_f19=130,clay_web__$WebRuntime_DOMKeys.dom_f20=131,clay_web__$WebRuntime_DOMKeys.dom_f21=132,clay_web__$WebRuntime_DOMKeys.dom_f22=133,clay_web__$WebRuntime_DOMKeys.dom_f23=134,clay_web__$WebRuntime_DOMKeys.dom_f24=135,clay_web__$WebRuntime_DOMKeys.dom_caret=160,clay_web__$WebRuntime_DOMKeys.dom_exclaim=161,clay_web__$WebRuntime_DOMKeys.dom_quotedbl=162,clay_web__$WebRuntime_DOMKeys.dom_hash=163,clay_web__$WebRuntime_DOMKeys.dom_dollar=164,clay_web__$WebRuntime_DOMKeys.dom_percent=165,clay_web__$WebRuntime_DOMKeys.dom_ampersand=166,clay_web__$WebRuntime_DOMKeys.dom_underscore=167,clay_web__$WebRuntime_DOMKeys.dom_leftparen=168,clay_web__$WebRuntime_DOMKeys.dom_rightparen=169,clay_web__$WebRuntime_DOMKeys.dom_asterisk=170,clay_web__$WebRuntime_DOMKeys.dom_plus=171,clay_web__$WebRuntime_DOMKeys.dom_pipe=172,clay_web__$WebRuntime_DOMKeys.dom_minus=173,clay_web__$WebRuntime_DOMKeys.dom_leftbrace=174,clay_web__$WebRuntime_DOMKeys.dom_rightbrace=175,clay_web__$WebRuntime_DOMKeys.dom_tilde=176,clay_web__$WebRuntime_DOMKeys.dom_audiomute=181,clay_web__$WebRuntime_DOMKeys.dom_volumedown=182,clay_web__$WebRuntime_DOMKeys.dom_volumeup=183,clay_web__$WebRuntime_DOMKeys.dom_comma=188,clay_web__$WebRuntime_DOMKeys.dom_period=190,clay_web__$WebRuntime_DOMKeys.dom_slash=191,clay_web__$WebRuntime_DOMKeys.dom_backquote=192,clay_web__$WebRuntime_DOMKeys.dom_leftbracket=219,clay_web__$WebRuntime_DOMKeys.dom_rightbracket=221,clay_web__$WebRuntime_DOMKeys.dom_backslash=220,clay_web__$WebRuntime_DOMKeys.dom_quote=222,clay_web__$WebRuntime_DOMKeys.dom_meta=224,haxe_Serializer.USE_CACHE=!1,haxe_Serializer.USE_ENUM_INDEX=!1,haxe_Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",haxe_Unserializer.DEFAULT_RESOLVER=new haxe__$Unserializer_DefaultResolver,haxe_Unserializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",haxe_xml_Parser.escapes=((j=new haxe_ds_StringMap).h.lt="<",j.h.gt=">",j.h.amp="&",j.h.quot='"',j.h.apos="'",j),hsluv_Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],hsluv_Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],hsluv_Hsluv.refY=1,hsluv_Hsluv.refU=.19783000664283,hsluv_Hsluv.refV=.46831999493879,hsluv_Hsluv.kappa=903.2962962,hsluv_Hsluv.epsilon=.0088564516,hsluv_Hsluv.hexChars="0123456789abcdef",tracker_Autorun.prevCurrent=[],tracker_Autorun._autorunArrays=[],tracker_Autorun._autorunArraysLen=0,tracker_Autorun._arrayOfAutorunArrays=[],tracker_Autorun._arrayOfAutorunArraysLen=0,tracker_Serialize._appendSerialize=!1,tracker_Serialize._cachedEnumInfoBySerializableType=new haxe_ds_StringMap,tracker_Serialize._enumInfo=new haxe_ds_StringMap,tracker_Utils._nextUniqueIntCursor=0,tracker_Utils._nextUniqueInt0=2147483646*Math.random()|0,tracker_Utils._nextUniqueInt1=1e-4*(new Date).getTime()|0,tracker_Utils._nextUniqueInt2=2147483646*Math.random()|0,tracker_Utils._nextUniqueInt3=2147483646*Math.random()|0,Main.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);